<ng-container *transloco="let t">
<header class="app-header">

  <div class="toggler" [class.visible]="navService.isBackwardable()">
    <button (click)="navService.back()">
      <nguix-icon pack="fluent" name="arrow_left_16_regular"></nguix-icon>
    </button>
  </div>

  <div class="brand">
    <em><img src="/assets/images/logo.svg" [alt]="t('NAME')"></em>
    <strong class="font-head">{{ t('NAME') }}</strong>
  </div>

  <nav class="nav">

    <div class="primary">
      <ul class="menu">
        <li *ngFor="let menuItem of menuItems" [class]="menuItem.name">
          <a
            [usefulRouterLink]="menuItem.routerLink"
            usefulRouterLinkActive="active"
            [usefulRouterLinkActiveOptions]="{exact: true}"
            [usefulRouterBackwardable]="false"
          >{{ t(menuItem.text || '') }}</a>
        </li>
      </ul>
    </div>

  </nav>

  <div class="search">
    <a [usefulRouterLink]="['search']" [usefulRouterBackwardable]="true">
      <i class="icon icon-search"></i>
    </a>
  </div>

  <div class="user">
    <a
      class="avatar"
      [usefulRouterLink]="userService.currentUser ? ['member', userService.username || ''] : ['login']"
      [usefulRouterBackwardable]="!userService.currentUser"
    >
      <img [src]="userService.data?.photoURL || 'https://www.gravatar.com/avatar/none?d=mp'"/>
    </a>
  </div>

</header>
</ng-container>