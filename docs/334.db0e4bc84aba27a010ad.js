"use strict";(self.webpackChunkchurch=self.webpackChunkchurch||[]).push([[334],{1334:(Y,p,e)=>{e.r(p),e.d(p,{PostPageModule:()=>T});var d=e(8583),r=e(3971),l=e(5987),f=e(5917),g=e(8307),P=e(3190),m=e(8002),u=e(157),t=e(7716),C=e(425),v=e(2582);function x(n,s){if(1&n){const o=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"nguix-post",7),t.NdJ("contentReady",function(i){return t.CHM(o),t.oxw(3).contentAddon(i)}),t.qZA(),t.qZA()}if(2&n){const o=s.ngIf;t.xp6(1),t.Q6J("post",o)}}function M(n,s){1&n&&(t.TgZ(0,"div",8),t._uU(1,"Item not found!"),t.qZA())}function Z(n,s){if(1&n&&(t.ynx(0),t.YNc(1,x,2,1,"div",4),t.YNc(2,M,2,0,"ng-template",null,5,t.W1O),t.BQk()),2&n){const o=s.ngIf,c=t.MAs(3);t.xp6(1),t.Q6J("ngIf",o.post)("ngIfElse",c)}}function y(n,s){if(1&n&&(t.TgZ(0,"div",2),t.YNc(1,Z,4,2,"ng-container",3),t.ALo(2,"async"),t.qZA()),2&n){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,o.data$))}}function A(n,s){1&n&&(t.TgZ(0,"div",9),t.TgZ(1,"div",6),t._UZ(2,"nguix-skeleton-post"),t.qZA(),t.qZA())}const I=[{path:"",component:(()=>{class n{constructor(o,c,i,h,_){this.route=o,this.store=c,this.modalService=i,this.navService=h,this.postDataService=_,this.page$=this.route.params.pipe((0,g.b)(a=>this.id=a.id)),this.data$=this.store.select(a=>a.schemata_post).pipe((0,P.w)(()=>{var a;return(null===(a=this.navService.routeData)||void 0===a?void 0:a.post)?(0,f.of)(this.navService.routeData.post):this.store.dispatch(new u.q9(this.id)).pipe((0,m.U)(O=>O.schemata_post.itemRecord[this.id]))}),(0,m.U)(a=>({post:a})),(0,g.b)(a=>{!a.post||this.postDataService.increment(this.id,{viewCount:1})}))}ngOnInit(){}contentAddon(o){o.querySelectorAll("img").forEach(i=>i.addEventListener("click",()=>this.modalService.image(i.src).show()))}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(l.gz),t.Y36(C.yh),t.Y36(v.Z7),t.Y36(v.tZ),t.Y36(u.Vz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-post-page"]],decls:4,vars:4,consts:[["class","host",4,"ngIf","ngIfElse"],["loadingHost",""],[1,"host"],[4,"ngIf"],["class","main",4,"ngIf","ngIfElse"],["itemNotFound",""],[1,"main"],["authorUrlSegment","member",3,"post","contentReady"],[1,"not-found"],[1,"loading-host"]],template:function(o,c){if(1&o&&(t.YNc(0,y,3,3,"div",0),t.ALo(1,"async"),t.YNc(2,A,3,0,"ng-template",null,1,t.W1O)),2&o){const i=t.MAs(3);t.Q6J("ngIf",t.lcZ(1,2,c.page$))("ngIfElse",i)}},directives:[d.O5,r.PostComponent,r.SkeletonPostComponent],pipes:[d.Ov],styles:[".host[_ngcontent-%COMP%]{padding:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{overflow:hidden;border-radius:var(--app-size-radius);background:var(--app-color-background-tint)}.loading-host[_ngcontent-%COMP%]{padding:1rem}.loading-host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{overflow:hidden;border-radius:var(--app-size-radius);background:var(--app-color-background-tint)}"]}),n})()}];let S=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Bz.forChild(I)],l.Bz]}),n})(),T=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[d.ez,r.NguixPostComponentModule,r.NguixSkeletonPostComponentModule,S]]}),n})()}}]);