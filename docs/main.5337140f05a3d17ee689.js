(self.webpackChunkchurch=self.webpackChunkchurch||[]).push([[179],{8255:Se=>{function Ze(X){return Promise.resolve().then(()=>{var n=new Error("Cannot find module '"+X+"'");throw n.code="MODULE_NOT_FOUND",n})}Ze.keys=()=>[],Ze.resolve=Ze,Ze.id=8255,Se.exports=Ze},8583:(Se,Ze,X)=>{"use strict";X.d(Ze,{mr:()=>ce,Ov:()=>Io,ez:()=>_r,K0:()=>He,uU:()=>hs,JJ:()=>Kt,Do:()=>Me,V_:()=>Be,Ye:()=>tt,S$:()=>Ae,sg:()=>nn,O5:()=>mt,PC:()=>ar,tP:()=>ur,b0:()=>ve,lw:()=>Ne,EM:()=>dr,JF:()=>io,NF:()=>Xt,PM:()=>Bn,w_:()=>Ue,bD:()=>Dr,q:()=>Oe,Mx:()=>Xe,HT:()=>Fe});var n=X(7716);let te=null;function Oe(){return te}function Fe(Te){te||(te=Te)}class Ue{}const He=new n.OlP("DocumentToken");let Ne=(()=>{class Te{historyGo(fe){throw new Error("Not implemented")}}return Te.\u0275fac=function(fe){return new(fe||Te)},Te.\u0275prov=(0,n.Yz7)({factory:nt,token:Te,providedIn:"platform"}),Te})();function nt(){return(0,n.LFG)(qe)}const Be=new n.OlP("Location Initialized");let qe=(()=>{class Te extends Ne{constructor(fe){super(),this._doc=fe,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Oe().getBaseHref(this._doc)}onPopState(fe){const ne=Oe().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("popstate",fe,!1),()=>ne.removeEventListener("popstate",fe)}onHashChange(fe){const ne=Oe().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("hashchange",fe,!1),()=>ne.removeEventListener("hashchange",fe)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(fe){this.location.pathname=fe}pushState(fe,ne,se){$e()?this._history.pushState(fe,ne,se):this.location.hash=se}replaceState(fe,ne,se){$e()?this._history.replaceState(fe,ne,se):this.location.hash=se}forward(){this._history.forward()}back(){this._history.back()}historyGo(fe=0){this._history.go(fe)}getState(){return this._history.state}}return Te.\u0275fac=function(fe){return new(fe||Te)(n.LFG(He))},Te.\u0275prov=(0,n.Yz7)({factory:Qe,token:Te,providedIn:"platform"}),Te})();function $e(){return!!window.history.pushState}function Qe(){return new qe((0,n.LFG)(He))}function Ot(Te,Ce){if(0==Te.length)return Ce;if(0==Ce.length)return Te;let fe=0;return Te.endsWith("/")&&fe++,Ce.startsWith("/")&&fe++,2==fe?Te+Ce.substring(1):1==fe?Te+Ce:Te+"/"+Ce}function Zt(Te){const Ce=Te.match(/#|\?|$/),fe=Ce&&Ce.index||Te.length;return Te.slice(0,fe-("/"===Te[fe-1]?1:0))+Te.slice(fe)}function _t(Te){return Te&&"?"!==Te[0]?"?"+Te:Te}let Ae=(()=>{class Te{historyGo(fe){throw new Error("Not implemented")}}return Te.\u0275fac=function(fe){return new(fe||Te)},Te.\u0275prov=(0,n.Yz7)({factory:Mt,token:Te,providedIn:"root"}),Te})();function Mt(Te){const Ce=(0,n.LFG)(He).location;return new ve((0,n.LFG)(Ne),Ce&&Ce.origin||"")}const ce=new n.OlP("appBaseHref");let ve=(()=>{class Te extends Ae{constructor(fe,ne){if(super(),this._platformLocation=fe,this._removeListenerFns=[],null==ne&&(ne=this._platformLocation.getBaseHrefFromDOM()),null==ne)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ne}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(fe){this._removeListenerFns.push(this._platformLocation.onPopState(fe),this._platformLocation.onHashChange(fe))}getBaseHref(){return this._baseHref}prepareExternalUrl(fe){return Ot(this._baseHref,fe)}path(fe=!1){const ne=this._platformLocation.pathname+_t(this._platformLocation.search),se=this._platformLocation.hash;return se&&fe?`${ne}${se}`:ne}pushState(fe,ne,se,ae){const Re=this.prepareExternalUrl(se+_t(ae));this._platformLocation.pushState(fe,ne,Re)}replaceState(fe,ne,se,ae){const Re=this.prepareExternalUrl(se+_t(ae));this._platformLocation.replaceState(fe,ne,Re)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(fe=0){var ne,se;null===(se=(ne=this._platformLocation).historyGo)||void 0===se||se.call(ne,fe)}}return Te.\u0275fac=function(fe){return new(fe||Te)(n.LFG(Ne),n.LFG(ce,8))},Te.\u0275prov=n.Yz7({token:Te,factory:Te.\u0275fac}),Te})(),Me=(()=>{class Te extends Ae{constructor(fe,ne){super(),this._platformLocation=fe,this._baseHref="",this._removeListenerFns=[],null!=ne&&(this._baseHref=ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(fe){this._removeListenerFns.push(this._platformLocation.onPopState(fe),this._platformLocation.onHashChange(fe))}getBaseHref(){return this._baseHref}path(fe=!1){let ne=this._platformLocation.hash;return null==ne&&(ne="#"),ne.length>0?ne.substring(1):ne}prepareExternalUrl(fe){const ne=Ot(this._baseHref,fe);return ne.length>0?"#"+ne:ne}pushState(fe,ne,se,ae){let Re=this.prepareExternalUrl(se+_t(ae));0==Re.length&&(Re=this._platformLocation.pathname),this._platformLocation.pushState(fe,ne,Re)}replaceState(fe,ne,se,ae){let Re=this.prepareExternalUrl(se+_t(ae));0==Re.length&&(Re=this._platformLocation.pathname),this._platformLocation.replaceState(fe,ne,Re)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(fe=0){var ne,se;null===(se=(ne=this._platformLocation).historyGo)||void 0===se||se.call(ne,fe)}}return Te.\u0275fac=function(fe){return new(fe||Te)(n.LFG(Ne),n.LFG(ce,8))},Te.\u0275prov=n.Yz7({token:Te,factory:Te.\u0275fac}),Te})(),tt=(()=>{class Te{constructor(fe,ne){this._subject=new n.vpe,this._urlChangeListeners=[],this._platformStrategy=fe;const se=this._platformStrategy.getBaseHref();this._platformLocation=ne,this._baseHref=Zt(cn(se)),this._platformStrategy.onPopState(ae=>{this._subject.emit({url:this.path(!0),pop:!0,state:ae.state,type:ae.type})})}path(fe=!1){return this.normalize(this._platformStrategy.path(fe))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(fe,ne=""){return this.path()==this.normalize(fe+_t(ne))}normalize(fe){return Te.stripTrailingSlash(function(Te,Ce){return Te&&Ce.startsWith(Te)?Ce.substring(Te.length):Ce}(this._baseHref,cn(fe)))}prepareExternalUrl(fe){return fe&&"/"!==fe[0]&&(fe="/"+fe),this._platformStrategy.prepareExternalUrl(fe)}go(fe,ne="",se=null){this._platformStrategy.pushState(se,"",fe,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(fe+_t(ne)),se)}replaceState(fe,ne="",se=null){this._platformStrategy.replaceState(se,"",fe,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(fe+_t(ne)),se)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(fe=0){var ne,se;null===(se=(ne=this._platformStrategy).historyGo)||void 0===se||se.call(ne,fe)}onUrlChange(fe){this._urlChangeListeners.push(fe),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ne=>{this._notifyUrlChangeListeners(ne.url,ne.state)}))}_notifyUrlChangeListeners(fe="",ne){this._urlChangeListeners.forEach(se=>se(fe,ne))}subscribe(fe,ne,se){return this._subject.subscribe({next:fe,error:ne,complete:se})}}return Te.\u0275fac=function(fe){return new(fe||Te)(n.LFG(Ae),n.LFG(Ne))},Te.normalizeQueryParams=_t,Te.joinWithSlash=Ot,Te.stripTrailingSlash=Zt,Te.\u0275prov=(0,n.Yz7)({factory:bt,token:Te,providedIn:"root"}),Te})();function bt(){return new tt((0,n.LFG)(Ae),(0,n.LFG)(Ne))}function cn(Te){return Te.replace(/\/index.html$/,"")}var Ht=(()=>((Ht=Ht||{})[Ht.Decimal=0]="Decimal",Ht[Ht.Percent=1]="Percent",Ht[Ht.Currency=2]="Currency",Ht[Ht.Scientific=3]="Scientific",Ht))(),Lt=(()=>((Lt=Lt||{})[Lt.Zero=0]="Zero",Lt[Lt.One=1]="One",Lt[Lt.Two=2]="Two",Lt[Lt.Few=3]="Few",Lt[Lt.Many=4]="Many",Lt[Lt.Other=5]="Other",Lt))(),on=(()=>((on=on||{})[on.Format=0]="Format",on[on.Standalone=1]="Standalone",on))(),sn=(()=>((sn=sn||{})[sn.Narrow=0]="Narrow",sn[sn.Abbreviated=1]="Abbreviated",sn[sn.Wide=2]="Wide",sn[sn.Short=3]="Short",sn))(),pn=(()=>((pn=pn||{})[pn.Short=0]="Short",pn[pn.Medium=1]="Medium",pn[pn.Long=2]="Long",pn[pn.Full=3]="Full",pn))(),wt=(()=>((wt=wt||{})[wt.Decimal=0]="Decimal",wt[wt.Group=1]="Group",wt[wt.List=2]="List",wt[wt.PercentSign=3]="PercentSign",wt[wt.PlusSign=4]="PlusSign",wt[wt.MinusSign=5]="MinusSign",wt[wt.Exponential=6]="Exponential",wt[wt.SuperscriptingExponent=7]="SuperscriptingExponent",wt[wt.PerMille=8]="PerMille",wt[wt.Infinity=9]="Infinity",wt[wt.NaN=10]="NaN",wt[wt.TimeSeparator=11]="TimeSeparator",wt[wt.CurrencyDecimal=12]="CurrencyDecimal",wt[wt.CurrencyGroup=13]="CurrencyGroup",wt))();function Fi(Te,Ce){return Yi((0,n.cg1)(Te)[n.wAp.DateFormat],Ce)}function bi(Te,Ce){return Yi((0,n.cg1)(Te)[n.wAp.TimeFormat],Ce)}function fi(Te,Ce){return Yi((0,n.cg1)(Te)[n.wAp.DateTimeFormat],Ce)}function ri(Te,Ce){const fe=(0,n.cg1)(Te),ne=fe[n.wAp.NumberSymbols][Ce];if(void 0===ne){if(Ce===wt.CurrencyDecimal)return fe[n.wAp.NumberSymbols][wt.Decimal];if(Ce===wt.CurrencyGroup)return fe[n.wAp.NumberSymbols][wt.Group]}return ne}const er=n.kL8;function fr(Te){if(!Te[n.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${Te[n.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Yi(Te,Ce){for(let fe=Ce;fe>-1;fe--)if(void 0!==Te[fe])return Te[fe];throw new Error("Locale data API: locale data undefined")}function yr(Te){const[Ce,fe]=Te.split(":");return{hours:+Ce,minutes:+fe}}const tn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,jn={},Ve=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var It=(()=>((It=It||{})[It.Short=0]="Short",It[It.ShortGMT=1]="ShortGMT",It[It.Long=2]="Long",It[It.Extended=3]="Extended",It))(),vt=(()=>((vt=vt||{})[vt.FullYear=0]="FullYear",vt[vt.Month=1]="Month",vt[vt.Date=2]="Date",vt[vt.Hours=3]="Hours",vt[vt.Minutes=4]="Minutes",vt[vt.Seconds=5]="Seconds",vt[vt.FractionalSeconds=6]="FractionalSeconds",vt[vt.Day=7]="Day",vt))(),mn=(()=>((mn=mn||{})[mn.DayPeriods=0]="DayPeriods",mn[mn.Days=1]="Days",mn[mn.Months=2]="Months",mn[mn.Eras=3]="Eras",mn))();function Rn(Te,Ce,fe,ne){let se=function(Te){if(yt(Te))return Te;if("number"==typeof Te&&!isNaN(Te))return new Date(Te);if("string"==typeof Te){if(Te=Te.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Te)){const[se,ae=1,Re=1]=Te.split("-").map(en=>+en);return _n(se,ae-1,Re)}const fe=parseFloat(Te);if(!isNaN(Te-fe))return new Date(fe);let ne;if(ne=Te.match(tn))return function(Te){const Ce=new Date(0);let fe=0,ne=0;const se=Te[8]?Ce.setUTCFullYear:Ce.setFullYear,ae=Te[8]?Ce.setUTCHours:Ce.setHours;Te[9]&&(fe=Number(Te[9]+Te[10]),ne=Number(Te[9]+Te[11])),se.call(Ce,Number(Te[1]),Number(Te[2])-1,Number(Te[3]));const Re=Number(Te[4]||0)-fe,en=Number(Te[5]||0)-ne,Gn=Number(Te[6]||0),zi=Math.floor(1e3*parseFloat("0."+(Te[7]||0)));return ae.call(Ce,Re,en,Gn,zi),Ce}(ne)}const Ce=new Date(Te);if(!yt(Ce))throw new Error(`Unable to convert "${Te}" into a date`);return Ce}(Te);Ce=Pn(fe,Ce)||Ce;let en,Re=[];for(;Ce;){if(en=Ve.exec(Ce),!en){Re.push(Ce);break}{Re=Re.concat(en.slice(1));const Pr=Re.pop();if(!Pr)break;Ce=Pr}}let Gn=se.getTimezoneOffset();ne&&(Gn=We(ne,Gn),se=function(Te,Ce,fe){const se=Te.getTimezoneOffset();return function(Te,Ce){return(Te=new Date(Te.getTime())).setMinutes(Te.getMinutes()+Ce),Te}(Te,-1*(We(Ce,se)-se))}(se,ne));let zi="";return Re.forEach(Pr=>{const Tr=function(Te){if(Ct[Te])return Ct[Te];let Ce;switch(Te){case"G":case"GG":case"GGG":Ce=ut(mn.Eras,sn.Abbreviated);break;case"GGGG":Ce=ut(mn.Eras,sn.Wide);break;case"GGGGG":Ce=ut(mn.Eras,sn.Narrow);break;case"y":Ce=ii(vt.FullYear,1,0,!1,!0);break;case"yy":Ce=ii(vt.FullYear,2,0,!0,!0);break;case"yyy":Ce=ii(vt.FullYear,3,0,!1,!0);break;case"yyyy":Ce=ii(vt.FullYear,4,0,!1,!0);break;case"Y":Ce=it(1);break;case"YY":Ce=it(2,!0);break;case"YYY":Ce=it(3);break;case"YYYY":Ce=it(4);break;case"M":case"L":Ce=ii(vt.Month,1,1);break;case"MM":case"LL":Ce=ii(vt.Month,2,1);break;case"MMM":Ce=ut(mn.Months,sn.Abbreviated);break;case"MMMM":Ce=ut(mn.Months,sn.Wide);break;case"MMMMM":Ce=ut(mn.Months,sn.Narrow);break;case"LLL":Ce=ut(mn.Months,sn.Abbreviated,on.Standalone);break;case"LLLL":Ce=ut(mn.Months,sn.Wide,on.Standalone);break;case"LLLLL":Ce=ut(mn.Months,sn.Narrow,on.Standalone);break;case"w":Ce=Ni(1);break;case"ww":Ce=Ni(2);break;case"W":Ce=Ni(1,!0);break;case"d":Ce=ii(vt.Date,1);break;case"dd":Ce=ii(vt.Date,2);break;case"c":case"cc":Ce=ii(vt.Day,1);break;case"ccc":Ce=ut(mn.Days,sn.Abbreviated,on.Standalone);break;case"cccc":Ce=ut(mn.Days,sn.Wide,on.Standalone);break;case"ccccc":Ce=ut(mn.Days,sn.Narrow,on.Standalone);break;case"cccccc":Ce=ut(mn.Days,sn.Short,on.Standalone);break;case"E":case"EE":case"EEE":Ce=ut(mn.Days,sn.Abbreviated);break;case"EEEE":Ce=ut(mn.Days,sn.Wide);break;case"EEEEE":Ce=ut(mn.Days,sn.Narrow);break;case"EEEEEE":Ce=ut(mn.Days,sn.Short);break;case"a":case"aa":case"aaa":Ce=ut(mn.DayPeriods,sn.Abbreviated);break;case"aaaa":Ce=ut(mn.DayPeriods,sn.Wide);break;case"aaaaa":Ce=ut(mn.DayPeriods,sn.Narrow);break;case"b":case"bb":case"bbb":Ce=ut(mn.DayPeriods,sn.Abbreviated,on.Standalone,!0);break;case"bbbb":Ce=ut(mn.DayPeriods,sn.Wide,on.Standalone,!0);break;case"bbbbb":Ce=ut(mn.DayPeriods,sn.Narrow,on.Standalone,!0);break;case"B":case"BB":case"BBB":Ce=ut(mn.DayPeriods,sn.Abbreviated,on.Format,!0);break;case"BBBB":Ce=ut(mn.DayPeriods,sn.Wide,on.Format,!0);break;case"BBBBB":Ce=ut(mn.DayPeriods,sn.Narrow,on.Format,!0);break;case"h":Ce=ii(vt.Hours,1,-12);break;case"hh":Ce=ii(vt.Hours,2,-12);break;case"H":Ce=ii(vt.Hours,1);break;case"HH":Ce=ii(vt.Hours,2);break;case"m":Ce=ii(vt.Minutes,1);break;case"mm":Ce=ii(vt.Minutes,2);break;case"s":Ce=ii(vt.Seconds,1);break;case"ss":Ce=ii(vt.Seconds,2);break;case"S":Ce=ii(vt.FractionalSeconds,1);break;case"SS":Ce=ii(vt.FractionalSeconds,2);break;case"SSS":Ce=ii(vt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Ce=zt(It.Short);break;case"ZZZZZ":Ce=zt(It.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Ce=zt(It.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Ce=zt(It.Long);break;default:return null}return Ct[Te]=Ce,Ce}(Pr);zi+=Tr?Tr(se,fe,Gn):"''"===Pr?"'":Pr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),zi}function _n(Te,Ce,fe){const ne=new Date(0);return ne.setFullYear(Te,Ce,fe),ne.setHours(0,0,0),ne}function Pn(Te,Ce){const fe=function(Te){return(0,n.cg1)(Te)[n.wAp.LocaleId]}(Te);if(jn[fe]=jn[fe]||{},jn[fe][Ce])return jn[fe][Ce];let ne="";switch(Ce){case"shortDate":ne=Fi(Te,pn.Short);break;case"mediumDate":ne=Fi(Te,pn.Medium);break;case"longDate":ne=Fi(Te,pn.Long);break;case"fullDate":ne=Fi(Te,pn.Full);break;case"shortTime":ne=bi(Te,pn.Short);break;case"mediumTime":ne=bi(Te,pn.Medium);break;case"longTime":ne=bi(Te,pn.Long);break;case"fullTime":ne=bi(Te,pn.Full);break;case"short":const se=Pn(Te,"shortTime"),ae=Pn(Te,"shortDate");ne=En(fi(Te,pn.Short),[se,ae]);break;case"medium":const Re=Pn(Te,"mediumTime"),en=Pn(Te,"mediumDate");ne=En(fi(Te,pn.Medium),[Re,en]);break;case"long":const Gn=Pn(Te,"longTime"),zi=Pn(Te,"longDate");ne=En(fi(Te,pn.Long),[Gn,zi]);break;case"full":const Pr=Pn(Te,"fullTime"),Tr=Pn(Te,"fullDate");ne=En(fi(Te,pn.Full),[Pr,Tr])}return ne&&(jn[fe][Ce]=ne),ne}function En(Te,Ce){return Ce&&(Te=Te.replace(/\{([^}]+)}/g,function(fe,ne){return null!=Ce&&ne in Ce?Ce[ne]:fe})),Te}function Jn(Te,Ce,fe="-",ne,se){let ae="";(Te<0||se&&Te<=0)&&(se?Te=1-Te:(Te=-Te,ae=fe));let Re=String(Te);for(;Re.length<Ce;)Re="0"+Re;return ne&&(Re=Re.substr(Re.length-Ce)),ae+Re}function ii(Te,Ce,fe=0,ne=!1,se=!1){return function(ae,Re){let en=function(Te,Ce){switch(Te){case vt.FullYear:return Ce.getFullYear();case vt.Month:return Ce.getMonth();case vt.Date:return Ce.getDate();case vt.Hours:return Ce.getHours();case vt.Minutes:return Ce.getMinutes();case vt.Seconds:return Ce.getSeconds();case vt.FractionalSeconds:return Ce.getMilliseconds();case vt.Day:return Ce.getDay();default:throw new Error(`Unknown DateType value "${Te}".`)}}(Te,ae);if((fe>0||en>-fe)&&(en+=fe),Te===vt.Hours)0===en&&-12===fe&&(en=12);else if(Te===vt.FractionalSeconds)return function(Te,Ce){return Jn(Te,3).substr(0,Ce)}(en,Ce);const Gn=ri(Re,wt.MinusSign);return Jn(en,Ce,Gn,ne,se)}}function ut(Te,Ce,fe=on.Format,ne=!1){return function(se,ae){return function(Te,Ce,fe,ne,se,ae){switch(fe){case mn.Months:return function(Te,Ce,fe){const ne=(0,n.cg1)(Te),ae=Yi([ne[n.wAp.MonthsFormat],ne[n.wAp.MonthsStandalone]],Ce);return Yi(ae,fe)}(Ce,se,ne)[Te.getMonth()];case mn.Days:return function(Te,Ce,fe){const ne=(0,n.cg1)(Te),ae=Yi([ne[n.wAp.DaysFormat],ne[n.wAp.DaysStandalone]],Ce);return Yi(ae,fe)}(Ce,se,ne)[Te.getDay()];case mn.DayPeriods:const Re=Te.getHours(),en=Te.getMinutes();if(ae){const zi=function(Te){const Ce=(0,n.cg1)(Te);return fr(Ce),(Ce[n.wAp.ExtraData][2]||[]).map(ne=>"string"==typeof ne?yr(ne):[yr(ne[0]),yr(ne[1])])}(Ce),Pr=function(Te,Ce,fe){const ne=(0,n.cg1)(Te);fr(ne);const ae=Yi([ne[n.wAp.ExtraData][0],ne[n.wAp.ExtraData][1]],Ce)||[];return Yi(ae,fe)||[]}(Ce,se,ne),Tr=zi.findIndex(Vr=>{if(Array.isArray(Vr)){const[ro,fo]=Vr,fs=Re>=ro.hours&&en>=ro.minutes,Ke=Re<fo.hours||Re===fo.hours&&en<fo.minutes;if(ro.hours<fo.hours){if(fs&&Ke)return!0}else if(fs||Ke)return!0}else if(Vr.hours===Re&&Vr.minutes===en)return!0;return!1});if(-1!==Tr)return Pr[Tr]}return function(Te,Ce,fe){const ne=(0,n.cg1)(Te),ae=Yi([ne[n.wAp.DayPeriodsFormat],ne[n.wAp.DayPeriodsStandalone]],Ce);return Yi(ae,fe)}(Ce,se,ne)[Re<12?0:1];case mn.Eras:return function(Te,Ce){return Yi((0,n.cg1)(Te)[n.wAp.Eras],Ce)}(Ce,ne)[Te.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${fe}`)}}(se,ae,Te,Ce,fe,ne)}}function zt(Te){return function(Ce,fe,ne){const se=-1*ne,ae=ri(fe,wt.MinusSign),Re=se>0?Math.floor(se/60):Math.ceil(se/60);switch(Te){case It.Short:return(se>=0?"+":"")+Jn(Re,2,ae)+Jn(Math.abs(se%60),2,ae);case It.ShortGMT:return"GMT"+(se>=0?"+":"")+Jn(Re,1,ae);case It.Long:return"GMT"+(se>=0?"+":"")+Jn(Re,2,ae)+":"+Jn(Math.abs(se%60),2,ae);case It.Extended:return 0===ne?"Z":(se>=0?"+":"")+Jn(Re,2,ae)+":"+Jn(Math.abs(se%60),2,ae);default:throw new Error(`Unknown zone width "${Te}"`)}}}function Fn(Te){return _n(Te.getFullYear(),Te.getMonth(),Te.getDate()+(4-Te.getDay()))}function Ni(Te,Ce=!1){return function(fe,ne){let se;if(Ce){const ae=new Date(fe.getFullYear(),fe.getMonth(),1).getDay()-1,Re=fe.getDate();se=1+Math.floor((Re+ae)/7)}else{const ae=Fn(fe),Re=function(Te){const Ce=_n(Te,0,1).getDay();return _n(Te,0,1+(Ce<=4?4:11)-Ce)}(ae.getFullYear()),en=ae.getTime()-Re.getTime();se=1+Math.round(en/6048e5)}return Jn(se,Te,ri(ne,wt.MinusSign))}}function it(Te,Ce=!1){return function(fe,ne){return Jn(Fn(fe).getFullYear(),Te,ri(ne,wt.MinusSign),Ce)}}const Ct={};function We(Te,Ce){Te=Te.replace(/:/g,"");const fe=Date.parse("Jan 01, 1970 00:00:00 "+Te)/6e4;return isNaN(fe)?Ce:fe}function yt(Te){return Te instanceof Date&&!isNaN(Te.valueOf())}const Bt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function lt(Te){const Ce=parseInt(Te);if(isNaN(Ce))throw new Error("Invalid integer literal when parsing "+Te);return Ce}class ${}let _e=(()=>{class Te extends ${constructor(fe){super(),this.locale=fe}getPluralCategory(fe,ne){switch(er(ne||this.locale)(fe)){case Lt.Zero:return"zero";case Lt.One:return"one";case Lt.Two:return"two";case Lt.Few:return"few";case Lt.Many:return"many";default:return"other"}}}return Te.\u0275fac=function(fe){return new(fe||Te)(n.LFG(n.soG))},Te.\u0275prov=n.Yz7({token:Te,factory:Te.\u0275fac}),Te})();function Xe(Te,Ce){Ce=encodeURIComponent(Ce);for(const fe of Te.split(";")){const ne=fe.indexOf("="),[se,ae]=-1==ne?[fe,""]:[fe.slice(0,ne),fe.slice(ne+1)];if(se.trim()===Ce)return decodeURIComponent(ae)}return null}class Wt{constructor(Ce,fe,ne,se){this.$implicit=Ce,this.ngForOf=fe,this.index=ne,this.count=se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nn=(()=>{class Te{constructor(fe,ne,se){this._viewContainer=fe,this._template=ne,this._differs=se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(fe){this._ngForOf=fe,this._ngForOfDirty=!0}set ngForTrackBy(fe){this._trackByFn=fe}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(fe){fe&&(this._template=fe)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const fe=this._ngForOf;if(!this._differ&&fe)try{this._differ=this._differs.find(fe).create(this.ngForTrackBy)}catch(ne){throw new Error(`Cannot find a differ supporting object '${fe}' of type '${function(Te){return Te.name||typeof Te}(fe)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const fe=this._differ.diff(this._ngForOf);fe&&this._applyChanges(fe)}}_applyChanges(fe){const ne=[];fe.forEachOperation((se,ae,Re)=>{if(null==se.previousIndex){const en=this._viewContainer.createEmbeddedView(this._template,new Wt(null,this._ngForOf,-1,-1),null===Re?void 0:Re),Gn=new Je(se,en);ne.push(Gn)}else if(null==Re)this._viewContainer.remove(null===ae?void 0:ae);else if(null!==ae){const en=this._viewContainer.get(ae);this._viewContainer.move(en,Re);const Gn=new Je(se,en);ne.push(Gn)}});for(let se=0;se<ne.length;se++)this._perViewChange(ne[se].view,ne[se].record);for(let se=0,ae=this._viewContainer.length;se<ae;se++){const Re=this._viewContainer.get(se);Re.context.index=se,Re.context.count=ae,Re.context.ngForOf=this._ngForOf}fe.forEachIdentityChange(se=>{this._viewContainer.get(se.currentIndex).context.$implicit=se.item})}_perViewChange(fe,ne){fe.context.$implicit=ne.item}static ngTemplateContextGuard(fe,ne){return!0}}return Te.\u0275fac=function(fe){return new(fe||Te)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(n.ZZ4))},Te.\u0275dir=n.lG2({type:Te,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Te})();class Je{constructor(Ce,fe){this.record=Ce,this.view=fe}}let mt=(()=>{class Te{constructor(fe,ne){this._viewContainer=fe,this._context=new Qt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ne}set ngIf(fe){this._context.$implicit=this._context.ngIf=fe,this._updateView()}set ngIfThen(fe){un("ngIfThen",fe),this._thenTemplateRef=fe,this._thenViewRef=null,this._updateView()}set ngIfElse(fe){un("ngIfElse",fe),this._elseTemplateRef=fe,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(fe,ne){return!0}}return Te.\u0275fac=function(fe){return new(fe||Te)(n.Y36(n.s_b),n.Y36(n.Rgc))},Te.\u0275dir=n.lG2({type:Te,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Te})();class Qt{constructor(){this.$implicit=null,this.ngIf=null}}function un(Te,Ce){if(Ce&&!Ce.createEmbeddedView)throw new Error(`${Te} must be a TemplateRef, but received '${(0,n.AaK)(Ce)}'.`)}let ar=(()=>{class Te{constructor(fe,ne,se){this._ngEl=fe,this._differs=ne,this._renderer=se,this._ngStyle=null,this._differ=null}set ngStyle(fe){this._ngStyle=fe,!this._differ&&fe&&(this._differ=this._differs.find(fe).create())}ngDoCheck(){if(this._differ){const fe=this._differ.diff(this._ngStyle);fe&&this._applyChanges(fe)}}_setStyle(fe,ne){const[se,ae]=fe.split(".");null!=(ne=null!=ne&&ae?`${ne}${ae}`:ne)?this._renderer.setStyle(this._ngEl.nativeElement,se,ne):this._renderer.removeStyle(this._ngEl.nativeElement,se)}_applyChanges(fe){fe.forEachRemovedItem(ne=>this._setStyle(ne.key,null)),fe.forEachAddedItem(ne=>this._setStyle(ne.key,ne.currentValue)),fe.forEachChangedItem(ne=>this._setStyle(ne.key,ne.currentValue))}}return Te.\u0275fac=function(fe){return new(fe||Te)(n.Y36(n.SBq),n.Y36(n.aQg),n.Y36(n.Qsj))},Te.\u0275dir=n.lG2({type:Te,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),Te})(),ur=(()=>{class Te{constructor(fe){this._viewContainerRef=fe,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(fe){if(fe.ngTemplateOutlet){const ne=this._viewContainerRef;this._viewRef&&ne.remove(ne.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ne.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&fe.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return Te.\u0275fac=function(fe){return new(fe||Te)(n.Y36(n.s_b))},Te.\u0275dir=n.lG2({type:Te,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[n.TTD]}),Te})();function mr(Te,Ce){return Error(`InvalidPipeArgument: '${Ce}' for pipe '${(0,n.AaK)(Te)}'`)}class Wr{createSubscription(Ce,fe){return Ce.subscribe({next:fe,error:ne=>{throw ne}})}dispose(Ce){Ce.unsubscribe()}onDestroy(Ce){Ce.unsubscribe()}}class Xr{createSubscription(Ce,fe){return Ce.then(fe,ne=>{throw ne})}dispose(Ce){}onDestroy(Ce){}}const co=new Xr,vo=new Wr;let Io=(()=>{class Te{constructor(fe){this._ref=fe,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(fe){return this._obj?fe!==this._obj?(this._dispose(),this.transform(fe)):this._latestValue:(fe&&this._subscribe(fe),this._latestValue)}_subscribe(fe){this._obj=fe,this._strategy=this._selectStrategy(fe),this._subscription=this._strategy.createSubscription(fe,ne=>this._updateLatestValue(fe,ne))}_selectStrategy(fe){if((0,n.QGY)(fe))return co;if((0,n.F4k)(fe))return vo;throw mr(Te,fe)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(fe,ne){fe===this._obj&&(this._latestValue=ne,this._ref.markForCheck())}}return Te.\u0275fac=function(fe){return new(fe||Te)(n.Y36(n.sBO,16))},Te.\u0275pipe=n.Yjl({name:"async",type:Te,pure:!1}),Te})(),hs=(()=>{class Te{constructor(fe){this.locale=fe}transform(fe,ne="mediumDate",se,ae){if(null==fe||""===fe||fe!=fe)return null;try{return Rn(fe,ne,ae||this.locale,se)}catch(Re){throw mr(Te,Re.message)}}}return Te.\u0275fac=function(fe){return new(fe||Te)(n.Y36(n.soG,16))},Te.\u0275pipe=n.Yjl({name:"date",type:Te,pure:!0}),Te})(),Kt=(()=>{class Te{constructor(fe){this._locale=fe}transform(fe,ne,se){if(!function(Te){return!(null==Te||""===Te||Te!=Te)}(fe))return null;se=se||this._locale;try{return function(Te,Ce,fe){return function(Te,Ce,fe,ne,se,ae,Re=!1){let en="",Gn=!1;if(isFinite(Te)){let zi=function(Te){let ne,se,ae,Re,en,Ce=Math.abs(Te)+"",fe=0;for((se=Ce.indexOf("."))>-1&&(Ce=Ce.replace(".","")),(ae=Ce.search(/e/i))>0?(se<0&&(se=ae),se+=+Ce.slice(ae+1),Ce=Ce.substring(0,ae)):se<0&&(se=Ce.length),ae=0;"0"===Ce.charAt(ae);ae++);if(ae===(en=Ce.length))ne=[0],se=1;else{for(en--;"0"===Ce.charAt(en);)en--;for(se-=ae,ne=[],Re=0;ae<=en;ae++,Re++)ne[Re]=Number(Ce.charAt(ae))}return se>22&&(ne=ne.splice(0,21),fe=se-1,se=1),{digits:ne,exponent:fe,integerLen:se}}(Te);Re&&(zi=function(Te){if(0===Te.digits[0])return Te;const Ce=Te.digits.length-Te.integerLen;return Te.exponent?Te.exponent+=2:(0===Ce?Te.digits.push(0,0):1===Ce&&Te.digits.push(0),Te.integerLen+=2),Te}(zi));let Pr=Ce.minInt,Tr=Ce.minFrac,Vr=Ce.maxFrac;if(ae){const xt=ae.match(Bt);if(null===xt)throw new Error(`${ae} is not a valid digit info`);const qt=xt[1],On=xt[3],di=xt[5];null!=qt&&(Pr=lt(qt)),null!=On&&(Tr=lt(On)),null!=di?Vr=lt(di):null!=On&&Tr>Vr&&(Vr=Tr)}!function(Te,Ce,fe){if(Ce>fe)throw new Error(`The minimum number of digits after fraction (${Ce}) is higher than the maximum (${fe}).`);let ne=Te.digits,se=ne.length-Te.integerLen;const ae=Math.min(Math.max(Ce,se),fe);let Re=ae+Te.integerLen,en=ne[Re];if(Re>0){ne.splice(Math.max(Te.integerLen,Re));for(let Tr=Re;Tr<ne.length;Tr++)ne[Tr]=0}else{se=Math.max(0,se),Te.integerLen=1,ne.length=Math.max(1,Re=ae+1),ne[0]=0;for(let Tr=1;Tr<Re;Tr++)ne[Tr]=0}if(en>=5)if(Re-1<0){for(let Tr=0;Tr>Re;Tr--)ne.unshift(0),Te.integerLen++;ne.unshift(1),Te.integerLen++}else ne[Re-1]++;for(;se<Math.max(0,ae);se++)ne.push(0);let Gn=0!==ae;const zi=Ce+Te.integerLen,Pr=ne.reduceRight(function(Tr,Vr,ro,fo){return fo[ro]=(Vr+=Tr)<10?Vr:Vr-10,Gn&&(0===fo[ro]&&ro>=zi?fo.pop():Gn=!1),Vr>=10?1:0},0);Pr&&(ne.unshift(Pr),Te.integerLen++)}(zi,Tr,Vr);let ro=zi.digits,fo=zi.integerLen;const fs=zi.exponent;let Ke=[];for(Gn=ro.every(xt=>!xt);fo<Pr;fo++)ro.unshift(0);for(;fo<0;fo++)ro.unshift(0);fo>0?Ke=ro.splice(fo,ro.length):(Ke=ro,ro=[0]);const ke=[];for(ro.length>=Ce.lgSize&&ke.unshift(ro.splice(-Ce.lgSize,ro.length).join(""));ro.length>Ce.gSize;)ke.unshift(ro.splice(-Ce.gSize,ro.length).join(""));ro.length&&ke.unshift(ro.join("")),en=ke.join(ri(fe,ne)),Ke.length&&(en+=ri(fe,se)+Ke.join("")),fs&&(en+=ri(fe,wt.Exponential)+"+"+fs)}else en=ri(fe,wt.Infinity);return en=Te<0&&!Gn?Ce.negPre+en+Ce.negSuf:Ce.posPre+en+Ce.posSuf,en}(Te,function(Te,Ce="-"){const fe={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ne=Te.split(";"),se=ne[0],ae=ne[1],Re=-1!==se.indexOf(".")?se.split("."):[se.substring(0,se.lastIndexOf("0")+1),se.substring(se.lastIndexOf("0")+1)],en=Re[0],Gn=Re[1]||"";fe.posPre=en.substr(0,en.indexOf("#"));for(let Pr=0;Pr<Gn.length;Pr++){const Tr=Gn.charAt(Pr);"0"===Tr?fe.minFrac=fe.maxFrac=Pr+1:"#"===Tr?fe.maxFrac=Pr+1:fe.posSuf+=Tr}const zi=en.split(",");if(fe.gSize=zi[1]?zi[1].length:0,fe.lgSize=zi[2]||zi[1]?(zi[2]||zi[1]).length:0,ae){const Pr=se.length-fe.posPre.length-fe.posSuf.length,Tr=ae.indexOf("#");fe.negPre=ae.substr(0,Tr).replace(/'/g,""),fe.negSuf=ae.substr(Tr+Pr).replace(/'/g,"")}else fe.negPre=Ce+fe.posPre,fe.negSuf=fe.posSuf;return fe}(function(Te,Ce){return(0,n.cg1)(Te)[n.wAp.NumberFormats][Ce]}(Ce,Ht.Decimal),ri(Ce,wt.MinusSign)),Ce,wt.Group,wt.Decimal,fe)}(function(Te){if("string"==typeof Te&&!isNaN(Number(Te)-parseFloat(Te)))return Number(Te);if("number"!=typeof Te)throw new Error(`${Te} is not a number`);return Te}(fe),se,ne)}catch(ae){throw mr(Te,ae.message)}}}return Te.\u0275fac=function(fe){return new(fe||Te)(n.Y36(n.soG,16))},Te.\u0275pipe=n.Yjl({name:"number",type:Te,pure:!0}),Te})();let _r=(()=>{class Te{}return Te.\u0275fac=function(fe){return new(fe||Te)},Te.\u0275mod=n.oAB({type:Te}),Te.\u0275inj=n.cJS({providers:[{provide:$,useClass:_e}]}),Te})();const Dr="browser";function Xt(Te){return Te===Dr}function Bn(Te){return"server"===Te}let dr=(()=>{class Te{}return Te.\u0275prov=(0,n.Yz7)({token:Te,providedIn:"root",factory:()=>new Rr((0,n.LFG)(He),window)}),Te})();class Rr{constructor(Ce,fe){this.document=Ce,this.window=fe,this.offset=()=>[0,0]}setOffset(Ce){this.offset=Array.isArray(Ce)?()=>Ce:Ce}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Ce){this.supportsScrolling()&&this.window.scrollTo(Ce[0],Ce[1])}scrollToAnchor(Ce){if(!this.supportsScrolling())return;const fe=function(Te,Ce){const fe=Te.getElementById(Ce)||Te.getElementsByName(Ce)[0];if(fe)return fe;if("function"==typeof Te.createTreeWalker&&Te.body&&(Te.body.createShadowRoot||Te.body.attachShadow)){const ne=Te.createTreeWalker(Te.body,NodeFilter.SHOW_ELEMENT);let se=ne.currentNode;for(;se;){const ae=se.shadowRoot;if(ae){const Re=ae.getElementById(Ce)||ae.querySelector(`[name="${Ce}"]`);if(Re)return Re}se=ne.nextNode()}}return null}(this.document,Ce);fe&&(this.scrollToElement(fe),this.attemptFocus(fe))}setHistoryScrollRestoration(Ce){if(this.supportScrollRestoration()){const fe=this.window.history;fe&&fe.scrollRestoration&&(fe.scrollRestoration=Ce)}}scrollToElement(Ce){const fe=Ce.getBoundingClientRect(),ne=fe.left+this.window.pageXOffset,se=fe.top+this.window.pageYOffset,ae=this.offset();this.window.scrollTo(ne-ae[0],se-ae[1])}attemptFocus(Ce){return Ce.focus(),this.document.activeElement===Ce}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Ce=cr(this.window.history)||cr(Object.getPrototypeOf(this.window.history));return!(!Ce||!Ce.writable&&!Ce.set)}catch(Ce){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Ce){return!1}}}function cr(Te){return Object.getOwnPropertyDescriptor(Te,"scrollRestoration")}class io{}},1841:(Se,Ze,X)=>{"use strict";X.d(Ze,{eN:()=>wt,JF:()=>Yi});var n=X(8583),te=X(7716),Oe=X(5917),we=X(8891),Fe=X(4612),Ue=X(5435),He=X(8002);class Ne{}class nt{}class Be{constructor(jt){this.normalizedNames=new Map,this.lazyUpdate=null,jt?this.lazyInit="string"==typeof jt?()=>{this.headers=new Map,jt.split("\n").forEach(tn=>{const jn=tn.indexOf(":");if(jn>0){const Ve=tn.slice(0,jn),It=Ve.toLowerCase(),vt=tn.slice(jn+1).trim();this.maybeSetNormalizedName(Ve,It),this.headers.has(It)?this.headers.get(It).push(vt):this.headers.set(It,[vt])}})}:()=>{this.headers=new Map,Object.keys(jt).forEach(tn=>{let jn=jt[tn];const Ve=tn.toLowerCase();"string"==typeof jn&&(jn=[jn]),jn.length>0&&(this.headers.set(Ve,jn),this.maybeSetNormalizedName(tn,Ve))})}:this.headers=new Map}has(jt){return this.init(),this.headers.has(jt.toLowerCase())}get(jt){this.init();const tn=this.headers.get(jt.toLowerCase());return tn&&tn.length>0?tn[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(jt){return this.init(),this.headers.get(jt.toLowerCase())||null}append(jt,tn){return this.clone({name:jt,value:tn,op:"a"})}set(jt,tn){return this.clone({name:jt,value:tn,op:"s"})}delete(jt,tn){return this.clone({name:jt,value:tn,op:"d"})}maybeSetNormalizedName(jt,tn){this.normalizedNames.has(tn)||this.normalizedNames.set(tn,jt)}init(){this.lazyInit&&(this.lazyInit instanceof Be?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(jt=>this.applyUpdate(jt)),this.lazyUpdate=null))}copyFrom(jt){jt.init(),Array.from(jt.headers.keys()).forEach(tn=>{this.headers.set(tn,jt.headers.get(tn)),this.normalizedNames.set(tn,jt.normalizedNames.get(tn))})}clone(jt){const tn=new Be;return tn.lazyInit=this.lazyInit&&this.lazyInit instanceof Be?this.lazyInit:this,tn.lazyUpdate=(this.lazyUpdate||[]).concat([jt]),tn}applyUpdate(jt){const tn=jt.name.toLowerCase();switch(jt.op){case"a":case"s":let jn=jt.value;if("string"==typeof jn&&(jn=[jn]),0===jn.length)return;this.maybeSetNormalizedName(jt.name,tn);const Ve=("a"===jt.op?this.headers.get(tn):void 0)||[];Ve.push(...jn),this.headers.set(tn,Ve);break;case"d":const It=jt.value;if(It){let vt=this.headers.get(tn);if(!vt)return;vt=vt.filter(mn=>-1===It.indexOf(mn)),0===vt.length?(this.headers.delete(tn),this.normalizedNames.delete(tn)):this.headers.set(tn,vt)}else this.headers.delete(tn),this.normalizedNames.delete(tn)}}forEach(jt){this.init(),Array.from(this.normalizedNames.keys()).forEach(tn=>jt(this.normalizedNames.get(tn),this.headers.get(tn)))}}class qe{encodeKey(jt){return Zt(jt)}encodeValue(jt){return Zt(jt)}decodeKey(jt){return decodeURIComponent(jt)}decodeValue(jt){return decodeURIComponent(jt)}}const Qe=/%(\d[a-f0-9])/gi,Ot={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Zt(bn){return encodeURIComponent(bn).replace(Qe,(jt,tn)=>{var jn;return null!==(jn=Ot[tn])&&void 0!==jn?jn:jt})}function _t(bn){return`${bn}`}class Ae{constructor(jt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=jt.encoder||new qe,jt.fromString){if(jt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(bn,jt){const tn=new Map;return bn.length>0&&bn.replace(/^\?/,"").split("&").forEach(Ve=>{const It=Ve.indexOf("="),[vt,mn]=-1==It?[jt.decodeKey(Ve),""]:[jt.decodeKey(Ve.slice(0,It)),jt.decodeValue(Ve.slice(It+1))],Rn=tn.get(vt)||[];Rn.push(mn),tn.set(vt,Rn)}),tn}(jt.fromString,this.encoder)}else jt.fromObject?(this.map=new Map,Object.keys(jt.fromObject).forEach(tn=>{const jn=jt.fromObject[tn];this.map.set(tn,Array.isArray(jn)?jn:[jn])})):this.map=null}has(jt){return this.init(),this.map.has(jt)}get(jt){this.init();const tn=this.map.get(jt);return tn?tn[0]:null}getAll(jt){return this.init(),this.map.get(jt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(jt,tn){return this.clone({param:jt,value:tn,op:"a"})}appendAll(jt){const tn=[];return Object.keys(jt).forEach(jn=>{const Ve=jt[jn];Array.isArray(Ve)?Ve.forEach(It=>{tn.push({param:jn,value:It,op:"a"})}):tn.push({param:jn,value:Ve,op:"a"})}),this.clone(tn)}set(jt,tn){return this.clone({param:jt,value:tn,op:"s"})}delete(jt,tn){return this.clone({param:jt,value:tn,op:"d"})}toString(){return this.init(),this.keys().map(jt=>{const tn=this.encoder.encodeKey(jt);return this.map.get(jt).map(jn=>tn+"="+this.encoder.encodeValue(jn)).join("&")}).filter(jt=>""!==jt).join("&")}clone(jt){const tn=new Ae({encoder:this.encoder});return tn.cloneFrom=this.cloneFrom||this,tn.updates=(this.updates||[]).concat(jt),tn}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(jt=>this.map.set(jt,this.cloneFrom.map.get(jt))),this.updates.forEach(jt=>{switch(jt.op){case"a":case"s":const tn=("a"===jt.op?this.map.get(jt.param):void 0)||[];tn.push(_t(jt.value)),this.map.set(jt.param,tn);break;case"d":if(void 0===jt.value){this.map.delete(jt.param);break}{let jn=this.map.get(jt.param)||[];const Ve=jn.indexOf(_t(jt.value));-1!==Ve&&jn.splice(Ve,1),jn.length>0?this.map.set(jt.param,jn):this.map.delete(jt.param)}}}),this.cloneFrom=this.updates=null)}}class ce{constructor(){this.map=new Map}set(jt,tn){return this.map.set(jt,tn),this}get(jt){return this.map.has(jt)||this.map.set(jt,jt.defaultValue()),this.map.get(jt)}delete(jt){return this.map.delete(jt),this}keys(){return this.map.keys()}}function Me(bn){return"undefined"!=typeof ArrayBuffer&&bn instanceof ArrayBuffer}function tt(bn){return"undefined"!=typeof Blob&&bn instanceof Blob}function bt(bn){return"undefined"!=typeof FormData&&bn instanceof FormData}class cn{constructor(jt,tn,jn,Ve){let It;if(this.url=tn,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=jt.toUpperCase(),function(bn){switch(bn){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ve?(this.body=void 0!==jn?jn:null,It=Ve):It=jn,It&&(this.reportProgress=!!It.reportProgress,this.withCredentials=!!It.withCredentials,It.responseType&&(this.responseType=It.responseType),It.headers&&(this.headers=It.headers),It.context&&(this.context=It.context),It.params&&(this.params=It.params)),this.headers||(this.headers=new Be),this.context||(this.context=new ce),this.params){const vt=this.params.toString();if(0===vt.length)this.urlWithParams=tn;else{const mn=tn.indexOf("?");this.urlWithParams=tn+(-1===mn?"?":mn<tn.length-1?"&":"")+vt}}else this.params=new Ae,this.urlWithParams=tn}serializeBody(){return null===this.body?null:Me(this.body)||tt(this.body)||bt(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Ae?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bt(this.body)?null:tt(this.body)?this.body.type||null:Me(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ae?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(jt={}){var tn;const jn=jt.method||this.method,Ve=jt.url||this.url,It=jt.responseType||this.responseType,vt=void 0!==jt.body?jt.body:this.body,mn=void 0!==jt.withCredentials?jt.withCredentials:this.withCredentials,Rn=void 0!==jt.reportProgress?jt.reportProgress:this.reportProgress;let _n=jt.headers||this.headers,Pn=jt.params||this.params;const En=null!==(tn=jt.context)&&void 0!==tn?tn:this.context;return void 0!==jt.setHeaders&&(_n=Object.keys(jt.setHeaders).reduce((Jn,Yn)=>Jn.set(Yn,jt.setHeaders[Yn]),_n)),jt.setParams&&(Pn=Object.keys(jt.setParams).reduce((Jn,Yn)=>Jn.set(Yn,jt.setParams[Yn]),Pn)),new cn(jn,Ve,vt,{params:Pn,headers:_n,context:En,reportProgress:Rn,responseType:It,withCredentials:mn})}}var gt=(()=>((gt=gt||{})[gt.Sent=0]="Sent",gt[gt.UploadProgress=1]="UploadProgress",gt[gt.ResponseHeader=2]="ResponseHeader",gt[gt.DownloadProgress=3]="DownloadProgress",gt[gt.Response=4]="Response",gt[gt.User=5]="User",gt))();class Ht{constructor(jt,tn=200,jn="OK"){this.headers=jt.headers||new Be,this.status=void 0!==jt.status?jt.status:tn,this.statusText=jt.statusText||jn,this.url=jt.url||null,this.ok=this.status>=200&&this.status<300}}class Lt extends Ht{constructor(jt={}){super(jt),this.type=gt.ResponseHeader}clone(jt={}){return new Lt({headers:jt.headers||this.headers,status:void 0!==jt.status?jt.status:this.status,statusText:jt.statusText||this.statusText,url:jt.url||this.url||void 0})}}class on extends Ht{constructor(jt={}){super(jt),this.type=gt.Response,this.body=void 0!==jt.body?jt.body:null}clone(jt={}){return new on({body:void 0!==jt.body?jt.body:this.body,headers:jt.headers||this.headers,status:void 0!==jt.status?jt.status:this.status,statusText:jt.statusText||this.statusText,url:jt.url||this.url||void 0})}}class sn extends Ht{constructor(jt){super(jt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${jt.url||"(unknown url)"}`:`Http failure response for ${jt.url||"(unknown url)"}: ${jt.status} ${jt.statusText}`,this.error=jt.error||null}}function pn(bn,jt){return{body:jt,headers:bn.headers,context:bn.context,observe:bn.observe,params:bn.params,reportProgress:bn.reportProgress,responseType:bn.responseType,withCredentials:bn.withCredentials}}let wt=(()=>{class bn{constructor(tn){this.handler=tn}request(tn,jn,Ve={}){let It;if(tn instanceof cn)It=tn;else{let Rn,_n;Rn=Ve.headers instanceof Be?Ve.headers:new Be(Ve.headers),Ve.params&&(_n=Ve.params instanceof Ae?Ve.params:new Ae({fromObject:Ve.params})),It=new cn(tn,jn,void 0!==Ve.body?Ve.body:null,{headers:Rn,context:Ve.context,params:_n,reportProgress:Ve.reportProgress,responseType:Ve.responseType||"json",withCredentials:Ve.withCredentials})}const vt=(0,Oe.of)(It).pipe((0,Fe.b)(Rn=>this.handler.handle(Rn)));if(tn instanceof cn||"events"===Ve.observe)return vt;const mn=vt.pipe((0,Ue.h)(Rn=>Rn instanceof on));switch(Ve.observe||"body"){case"body":switch(It.responseType){case"arraybuffer":return mn.pipe((0,He.U)(Rn=>{if(null!==Rn.body&&!(Rn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Rn.body}));case"blob":return mn.pipe((0,He.U)(Rn=>{if(null!==Rn.body&&!(Rn.body instanceof Blob))throw new Error("Response is not a Blob.");return Rn.body}));case"text":return mn.pipe((0,He.U)(Rn=>{if(null!==Rn.body&&"string"!=typeof Rn.body)throw new Error("Response is not a string.");return Rn.body}));case"json":default:return mn.pipe((0,He.U)(Rn=>Rn.body))}case"response":return mn;default:throw new Error(`Unreachable: unhandled observe type ${Ve.observe}}`)}}delete(tn,jn={}){return this.request("DELETE",tn,jn)}get(tn,jn={}){return this.request("GET",tn,jn)}head(tn,jn={}){return this.request("HEAD",tn,jn)}jsonp(tn,jn){return this.request("JSONP",tn,{params:(new Ae).append(jn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(tn,jn={}){return this.request("OPTIONS",tn,jn)}patch(tn,jn,Ve={}){return this.request("PATCH",tn,pn(Ve,jn))}post(tn,jn,Ve={}){return this.request("POST",tn,pn(Ve,jn))}put(tn,jn,Ve={}){return this.request("PUT",tn,pn(Ve,jn))}}return bn.\u0275fac=function(tn){return new(tn||bn)(te.LFG(Ne))},bn.\u0275prov=te.Yz7({token:bn,factory:bn.\u0275fac}),bn})();class Yt{constructor(jt,tn){this.next=jt,this.interceptor=tn}handle(jt){return this.interceptor.intercept(jt,this.next)}}const gn=new te.OlP("HTTP_INTERCEPTORS");let kn=(()=>{class bn{intercept(tn,jn){return jn.handle(tn)}}return bn.\u0275fac=function(tn){return new(tn||bn)},bn.\u0275prov=te.Yz7({token:bn,factory:bn.\u0275fac}),bn})();const fi=/^\)\]\}',?\n/;let zn=(()=>{class bn{constructor(tn){this.xhrFactory=tn}handle(tn){if("JSONP"===tn.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new we.y(jn=>{const Ve=this.xhrFactory.build();if(Ve.open(tn.method,tn.urlWithParams),tn.withCredentials&&(Ve.withCredentials=!0),tn.headers.forEach((Yn,ii)=>Ve.setRequestHeader(Yn,ii.join(","))),tn.headers.has("Accept")||Ve.setRequestHeader("Accept","application/json, text/plain, */*"),!tn.headers.has("Content-Type")){const Yn=tn.detectContentTypeHeader();null!==Yn&&Ve.setRequestHeader("Content-Type",Yn)}if(tn.responseType){const Yn=tn.responseType.toLowerCase();Ve.responseType="json"!==Yn?Yn:"text"}const It=tn.serializeBody();let vt=null;const mn=()=>{if(null!==vt)return vt;const Yn=1223===Ve.status?204:Ve.status,ii=Ve.statusText||"OK",Rt=new Be(Ve.getAllResponseHeaders()),ut=function(bn){return"responseURL"in bn&&bn.responseURL?bn.responseURL:/^X-Request-URL:/m.test(bn.getAllResponseHeaders())?bn.getResponseHeader("X-Request-URL"):null}(Ve)||tn.url;return vt=new Lt({headers:Rt,status:Yn,statusText:ii,url:ut}),vt},Rn=()=>{let{headers:Yn,status:ii,statusText:Rt,url:ut}=mn(),$t=null;204!==ii&&($t=void 0===Ve.response?Ve.responseText:Ve.response),0===ii&&(ii=$t?200:0);let zt=ii>=200&&ii<300;if("json"===tn.responseType&&"string"==typeof $t){const Gt=$t;$t=$t.replace(fi,"");try{$t=""!==$t?JSON.parse($t):null}catch(Tn){$t=Gt,zt&&(zt=!1,$t={error:Tn,text:$t})}}zt?(jn.next(new on({body:$t,headers:Yn,status:ii,statusText:Rt,url:ut||void 0})),jn.complete()):jn.error(new sn({error:$t,headers:Yn,status:ii,statusText:Rt,url:ut||void 0}))},_n=Yn=>{const{url:ii}=mn(),Rt=new sn({error:Yn,status:Ve.status||0,statusText:Ve.statusText||"Unknown Error",url:ii||void 0});jn.error(Rt)};let Pn=!1;const En=Yn=>{Pn||(jn.next(mn()),Pn=!0);let ii={type:gt.DownloadProgress,loaded:Yn.loaded};Yn.lengthComputable&&(ii.total=Yn.total),"text"===tn.responseType&&!!Ve.responseText&&(ii.partialText=Ve.responseText),jn.next(ii)},Jn=Yn=>{let ii={type:gt.UploadProgress,loaded:Yn.loaded};Yn.lengthComputable&&(ii.total=Yn.total),jn.next(ii)};return Ve.addEventListener("load",Rn),Ve.addEventListener("error",_n),Ve.addEventListener("timeout",_n),Ve.addEventListener("abort",_n),tn.reportProgress&&(Ve.addEventListener("progress",En),null!==It&&Ve.upload&&Ve.upload.addEventListener("progress",Jn)),Ve.send(It),jn.next({type:gt.Sent}),()=>{Ve.removeEventListener("error",_n),Ve.removeEventListener("abort",_n),Ve.removeEventListener("load",Rn),Ve.removeEventListener("timeout",_n),tn.reportProgress&&(Ve.removeEventListener("progress",En),null!==It&&Ve.upload&&Ve.upload.removeEventListener("progress",Jn)),Ve.readyState!==Ve.DONE&&Ve.abort()}})}}return bn.\u0275fac=function(tn){return new(tn||bn)(te.LFG(n.JF))},bn.\u0275prov=te.Yz7({token:bn,factory:bn.\u0275fac}),bn})();const Un=new te.OlP("XSRF_COOKIE_NAME"),_i=new te.OlP("XSRF_HEADER_NAME");class mi{}let ji=(()=>{class bn{constructor(tn,jn,Ve){this.doc=tn,this.platform=jn,this.cookieName=Ve,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const tn=this.doc.cookie||"";return tn!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,n.Mx)(tn,this.cookieName),this.lastCookieString=tn),this.lastToken}}return bn.\u0275fac=function(tn){return new(tn||bn)(te.LFG(n.K0),te.LFG(te.Lbi),te.LFG(Un))},bn.\u0275prov=te.Yz7({token:bn,factory:bn.\u0275fac}),bn})(),er=(()=>{class bn{constructor(tn,jn){this.tokenService=tn,this.headerName=jn}intercept(tn,jn){const Ve=tn.url.toLowerCase();if("GET"===tn.method||"HEAD"===tn.method||Ve.startsWith("http://")||Ve.startsWith("https://"))return jn.handle(tn);const It=this.tokenService.getToken();return null!==It&&!tn.headers.has(this.headerName)&&(tn=tn.clone({headers:tn.headers.set(this.headerName,It)})),jn.handle(tn)}}return bn.\u0275fac=function(tn){return new(tn||bn)(te.LFG(mi),te.LFG(_i))},bn.\u0275prov=te.Yz7({token:bn,factory:bn.\u0275fac}),bn})(),fr=(()=>{class bn{constructor(tn,jn){this.backend=tn,this.injector=jn,this.chain=null}handle(tn){if(null===this.chain){const jn=this.injector.get(gn,[]);this.chain=jn.reduceRight((Ve,It)=>new Yt(Ve,It),this.backend)}return this.chain.handle(tn)}}return bn.\u0275fac=function(tn){return new(tn||bn)(te.LFG(nt),te.LFG(te.zs3))},bn.\u0275prov=te.Yz7({token:bn,factory:bn.\u0275fac}),bn})(),Qn=(()=>{class bn{static disable(){return{ngModule:bn,providers:[{provide:er,useClass:kn}]}}static withOptions(tn={}){return{ngModule:bn,providers:[tn.cookieName?{provide:Un,useValue:tn.cookieName}:[],tn.headerName?{provide:_i,useValue:tn.headerName}:[]]}}}return bn.\u0275fac=function(tn){return new(tn||bn)},bn.\u0275mod=te.oAB({type:bn}),bn.\u0275inj=te.cJS({providers:[er,{provide:gn,useExisting:er,multi:!0},{provide:mi,useClass:ji},{provide:Un,useValue:"XSRF-TOKEN"},{provide:_i,useValue:"X-XSRF-TOKEN"}]}),bn})(),Yi=(()=>{class bn{}return bn.\u0275fac=function(tn){return new(tn||bn)},bn.\u0275mod=te.oAB({type:bn}),bn.\u0275inj=te.cJS({providers:[wt,{provide:Ne,useClass:fr},zn,{provide:nt,useExisting:zn}],imports:[[Qn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),bn})()},7716:(Se,Ze,X)=>{"use strict";X.d(Ze,{deG:()=>_u,tb:()=>CM,AFp:()=>_M,ip1:()=>OC,CZH:()=>_m,hGG:()=>eD,z2F:()=>uv,QSY:()=>OM,sBO:()=>H1,Sil:()=>lv,_Vd:()=>cg,aQ5:()=>rf,EJc:()=>PM,SBq:()=>ph,qLn:()=>j,vpe:()=>gh,gxx:()=>al,tBr:()=>Kl,XFs:()=>Qn,OlP:()=>To,zs3:()=>ss,IIB:()=>zE,ZZ4:()=>Py,aQg:()=>My,soG:()=>Ry,YKP:()=>oP,v3s:()=>NT,h0i:()=>lg,PXZ:()=>TT,R0b:()=>mu,FiY:()=>bc,r_U:()=>YE,Lbi:()=>yM,g9A:()=>vM,Qsj:()=>x1,FYo:()=>by,JOm:()=>Nc,Tiy:()=>J0,q3G:()=>os,tp0:()=>gl,EAV:()=>FT,Rgc:()=>J_,dDg:()=>TM,DyG:()=>Qs,q4F:()=>K0,GfV:()=>Kb,i9L:()=>zl,s_b:()=>Ey,ifc:()=>vt,eFA:()=>IM,Ez6:()=>fi,G48:()=>CT,Gpc:()=>qe,XfM:()=>IC,f3M:()=>Ld,X6Q:()=>AC,_c5:()=>zT,VLi:()=>yT,c2e:()=>bM,zSh:()=>zp,wAp:()=>zr,vHH:()=>Zt,EiD:()=>Nh,mCW:()=>Eu,qzn:()=>ls,JVY:()=>vf,pB0:()=>Zs,eBb:()=>Is,L6k:()=>yf,LAX:()=>jd,cg1:()=>Z0,Tjo:()=>HT,kL8:()=>Cb,yhl:()=>so,dqk:()=>En,sIi:()=>Hs,CqO:()=>ty,QGY:()=>I_,F4k:()=>ey,RDi:()=>yo,AaK:()=>Ne,z3N:()=>_l,qOj:()=>ql,TTD:()=>_r,_Bn:()=>zb,xp6:()=>Up,uIk:()=>g_,Tol:()=>H_,ekj:()=>og,Suo:()=>YP,Xpm:()=>it,lG2:()=>yt,Yz7:()=>bi,cJS:()=>ri,oAB:()=>Ut,Yjl:()=>Bt,Y36:()=>tg,_UZ:()=>Xh,GkF:()=>Kv,BQk:()=>A_,ynx:()=>x_,qZA:()=>S_,TgZ:()=>im,EpF:()=>Xv,n5z:()=>rt,Ikx:()=>j0,LFG:()=>cs,$8M:()=>Mn,NdJ:()=>N_,CRH:()=>WP,oxw:()=>up,ALo:()=>VP,lcZ:()=>ZP,xi3:()=>$P,Hsn:()=>ry,F$t:()=>iy,Q6J:()=>nm,DdM:()=>NP,VKq:()=>RP,WLB:()=>LP,iGM:()=>GP,MAs:()=>Yg,CHM:()=>Bo,oJD:()=>Rh,LSH:()=>sd,kYT:()=>st,Akn:()=>hu,Udp:()=>q_,d8E:()=>V0,YNc:()=>Fv,W1O:()=>XP,_uU:()=>ln,Oqu:()=>Dn,hij:()=>gi,AsE:()=>Ii,Gf:()=>zP});var n=X(9765),te=X(5319),Oe=X(8891),we=X(6682),Fe=X(8345);function Ue(r){for(let o in r)if(r[o]===Ue)return o;throw Error("Could not find renamed property on target object.")}function He(r,o){for(const s in o)o.hasOwnProperty(s)&&!r.hasOwnProperty(s)&&(r[s]=o[s])}function Ne(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Ne).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const o=r.toString();if(null==o)return""+o;const s=o.indexOf("\n");return-1===s?o:o.substring(0,s)}function nt(r,o){return null==r||""===r?null===o?"":o:null==o||""===o?r:r+" "+o}const Be=Ue({__forward_ref__:Ue});function qe(r){return r.__forward_ref__=qe,r.toString=function(){return Ne(this())},r}function $e(r){return Qe(r)?r():r}function Qe(r){return"function"==typeof r&&r.hasOwnProperty(Be)&&r.__forward_ref__===qe}class Zt extends Error{constructor(o,s){super(function(r,o){return`${r?`NG0${r}: `:""}${o}`}(o,s)),this.code=o}}function Mt(r){return"string"==typeof r?r:null==r?"":String(r)}function ce(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Mt(r)}function bt(r,o){const s=o?` in ${o}`:"";throw new Zt("201",`No provider for ${ce(r)} found${s}`)}function In(r,o){null==r&&function(r,o,s,f){throw new Error(`ASSERTION ERROR: ${r}`+(null==f?"":` [Expected=> ${s} ${f} ${o} <=Actual]`))}(o,r,null,"!=")}function bi(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}const fi=bi;function ri(r){return{providers:r.providers||[],imports:r.imports||[]}}function zn(r){return Un(r,er)||Un(r,Ji)}function Un(r,o){return r.hasOwnProperty(o)?r[o]:null}function ji(r){return r&&(r.hasOwnProperty(fr)||r.hasOwnProperty(Or))?r[fr]:null}const er=Ue({\u0275prov:Ue}),fr=Ue({\u0275inj:Ue}),Ji=Ue({ngInjectableDef:Ue}),Or=Ue({ngInjectorDef:Ue});var Qn=(()=>((Qn=Qn||{})[Qn.Default=0]="Default",Qn[Qn.Host=1]="Host",Qn[Qn.Self=2]="Self",Qn[Qn.SkipSelf=4]="SkipSelf",Qn[Qn.Optional=8]="Optional",Qn))();let Yi;function pr(r){const o=Yi;return Yi=r,o}function bn(r,o,s){const f=zn(r);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:s&Qn.Optional?null:void 0!==o?o:void bt(Ne(r),"Injector")}function tn(r){return{toString:r}.toString()}var jn=(()=>((jn=jn||{})[jn.OnPush=0]="OnPush",jn[jn.Default=1]="Default",jn))(),vt=(()=>((vt=vt||{})[vt.Emulated=0]="Emulated",vt[vt.None=2]="None",vt[vt.ShadowDom=3]="ShadowDom",vt))();const mn="undefined"!=typeof globalThis&&globalThis,Rn="undefined"!=typeof window&&window,_n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pn="undefined"!=typeof global&&global,En=mn||Pn||Rn||_n,ii={},Rt=[],ut=Ue({\u0275cmp:Ue}),$t=Ue({\u0275dir:Ue}),zt=Ue({\u0275pipe:Ue}),Gt=Ue({\u0275mod:Ue}),Tn=Ue({\u0275loc:Ue}),ti=Ue({\u0275fac:Ue}),Fn=Ue({__NG_ELEMENT_ID__:Ue});let Ni=0;function it(r){return tn(()=>{const s={},f={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===jn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Rt,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||vt.Emulated,id:"c",styles:r.styles||Rt,_:null,setInput:null,schemas:r.schemas||null,tView:null},m=r.directives,R=r.features,z=r.pipes;return f.id+=Ni++,f.inputs=Ge(r.inputs,s),f.outputs=Ge(r.outputs),R&&R.forEach(ie=>ie(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(dt):null,f.pipeDefs=z?()=>("function"==typeof z?z():z).map(We):null,f})}function dt(r){return Cn(r)||function(r){return r[$t]||null}(r)}function We(r){return function(r){return r[zt]||null}(r)}const pt={};function Ut(r){return tn(()=>{const o={type:r.type,bootstrap:r.bootstrap||Rt,declarations:r.declarations||Rt,imports:r.imports||Rt,exports:r.exports||Rt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(pt[r.id]=r.type),o})}function st(r,o){return tn(()=>{const s=Pi(r,!0);s.declarations=o.declarations||Rt,s.imports=o.imports||Rt,s.exports=o.exports||Rt})}function Ge(r,o){if(null==r)return ii;const s={};for(const f in r)if(r.hasOwnProperty(f)){let m=r[f],R=m;Array.isArray(m)&&(R=m[1],m=m[0]),s[m]=f,o&&(o[m]=R)}return s}const yt=it;function Bt(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Cn(r){return r[ut]||null}function Pi(r,o){const s=r[Gt]||null;if(!s&&!0===o)throw new Error(`Type ${Ne(r)} does not have '\u0275mod' property.`);return s}function ui(r){return Array.isArray(r)&&"object"==typeof r[1]}function yi(r){return Array.isArray(r)&&!0===r[1]}function Ui(r){return 0!=(8&r.flags)}function ar(r){return 2==(2&r.flags)}function ur(r){return 1==(1&r.flags)}function gr(r){return null!==r.template}function mr(r){return 0!=(512&r[2])}function xi(r,o){return r.hasOwnProperty(ti)?r[ti]:null}class Xi{constructor(o,s,f){this.previousValue=o,this.currentValue=s,this.firstChange=f}isFirstChange(){return this.firstChange}}function _r(){return Dr}function Dr(r){return r.type.prototype.ngOnChanges&&(r.setInput=an),ot}function ot(){const r=Xt(this),o=null==r?void 0:r.current;if(o){const s=r.previous;if(s===ii)r.previous=o;else for(let f in o)s[f]=o[f];r.current=null,this.ngOnChanges(o)}}function an(r,o,s,f){const m=Xt(r)||function(r,o){return r[Et]=o}(r,{previous:ii,current:null}),R=m.current||(m.current={}),z=m.previous,ie=this.declaredInputs[s],pe=z[ie];R[ie]=new Xi(pe&&pe.currentValue,o,z===ii),r[f]=o}_r.ngInherit=!0;const Et="__ngSimpleChanges__";function Xt(r){return r[Et]||null}let cr;function yo(r){cr=r}function mo(){return void 0!==cr?cr:"undefined"!=typeof document?document:void 0}function Te(r){return!!r.listen}const fe={createRenderer:(r,o)=>mo()};function se(r){for(;Array.isArray(r);)r=r[0];return r}function en(r,o){return se(o[r])}function Gn(r,o){return se(o[r.index])}function Pr(r,o){return r.data[o]}function Tr(r,o){return r[o]}function Vr(r,o){const s=o[r];return ui(s)?s:s[0]}function ro(r){return 4==(4&r[2])}function fo(r){return 128==(128&r[2])}function Ke(r,o){return null==o?null:r[o]}function ke(r){r[18]=0}function xt(r,o){r[5]+=o;let s=r,f=r[3];for(;null!==f&&(1===o&&1===s[5]||-1===o&&0===s[5]);)f[5]+=o,s=f,f=f[3]}const qt={lFrame:Qa(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function or(){return qt.bindingsEnabled}function li(){return qt.lFrame.lView}function hr(){return qt.lFrame.tView}function Bo(r){return qt.lFrame.contextLView=r,r[8]}function Ar(){let r=Ki();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ki(){return qt.lFrame.currentTNode}function Lo(r,o){const s=qt.lFrame;s.currentTNode=r,s.isParent=o}function ko(){return qt.lFrame.isParent}function Jo(){qt.lFrame.isParent=!1}function Zo(){return qt.isInCheckNoChangesMode}function Ds(r){qt.isInCheckNoChangesMode=r}function Kr(){const r=qt.lFrame;let o=r.bindingRootIndex;return-1===o&&(o=r.bindingRootIndex=r.tView.bindingStartIndex),o}function vs(){return qt.lFrame.bindingIndex}function Xs(){return qt.lFrame.bindingIndex++}function ys(r){const o=qt.lFrame,s=o.bindingIndex;return o.bindingIndex=o.bindingIndex+r,s}function Tc(r,o){const s=qt.lFrame;s.bindingIndex=s.bindingRootIndex=r,Cs(o)}function Cs(r){qt.lFrame.currentDirectiveIndex=r}function bs(r){const o=qt.lFrame.currentDirectiveIndex;return-1===o?null:r[o]}function Zc(){return qt.lFrame.currentQueryIndex}function Wa(r){qt.lFrame.currentQueryIndex=r}function Eo(r){const o=r[1];return 2===o.type?o.declTNode:1===o.type?r[6]:null}function Ko(r,o,s){if(s&Qn.SkipSelf){let m=o,R=r;for(;!(m=m.parent,null!==m||s&Qn.Host||(m=Eo(R),null===m||(R=R[15],10&m.type))););if(null===m)return!1;o=m,r=R}const f=qt.lFrame=$o();return f.currentTNode=o,f.lView=r,!0}function vc(r){const o=$o(),s=r[1];qt.lFrame=o,o.currentTNode=s.firstChild,o.lView=r,o.tView=s,o.contextLView=r,o.bindingIndex=s.bindingStartIndex,o.inI18n=!1}function $o(){const r=qt.lFrame,o=null===r?null:r.child;return null===o?Qa(r):o}function Qa(r){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=o),o}function Dl(){const r=qt.lFrame;return qt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Dc=Dl;function Ss(){const r=Dl();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Xo(){return qt.lFrame.selectedIndex}function dc(r){qt.lFrame.selectedIndex=r}function eo(){const r=qt.lFrame;return Pr(r.tView,r.selectedIndex)}function Ms(r,o){for(let s=o.directiveStart,f=o.directiveEnd;s<f;s++){const R=r.data[s].type.prototype,{ngAfterContentInit:z,ngAfterContentChecked:ie,ngAfterViewInit:pe,ngAfterViewChecked:Ee,ngOnDestroy:ze}=R;z&&(r.contentHooks||(r.contentHooks=[])).push(-s,z),ie&&((r.contentHooks||(r.contentHooks=[])).push(s,ie),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(s,ie)),pe&&(r.viewHooks||(r.viewHooks=[])).push(-s,pe),Ee&&((r.viewHooks||(r.viewHooks=[])).push(s,Ee),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(s,Ee)),null!=ze&&(r.destroyHooks||(r.destroyHooks=[])).push(s,ze)}}function hc(r,o,s){ec(r,o,3,s)}function Xa(r,o,s,f){(3&r[2])===s&&ec(r,o,s,f)}function yc(r,o){let s=r[2];(3&s)===o&&(s&=2047,s+=1,r[2]=s)}function ec(r,o,s,f){const R=null!=f?f:-1,z=o.length-1;let ie=0;for(let pe=void 0!==f?65535&r[18]:0;pe<z;pe++)if("number"==typeof o[pe+1]){if(ie=o[pe],null!=f&&ie>=f)break}else o[pe]<0&&(r[18]+=65536),(ie<R||-1==R)&&(qc(r,s,o,pe),r[18]=(4294901760&r[18])+pe+2),pe++}function qc(r,o,s,f){const m=s[f]<0,R=s[f+1],ie=r[m?-s[f]:s[f]];if(m){if(r[2]>>11<r[18]>>16&&(3&r[2])===o){r[2]+=2048;try{R.call(ie)}finally{}}}else try{R.call(ie)}finally{}}class tc{constructor(o,s,f){this.factory=o,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=f}}function js(r,o,s){const f=Te(r);let m=0;for(;m<s.length;){const R=s[m];if("number"==typeof R){if(0!==R)break;m++;const z=s[m++],ie=s[m++],pe=s[m++];f?r.setAttribute(o,ie,pe,z):o.setAttributeNS(z,ie,pe)}else{const z=R,ie=s[++m];Cr(z)?f&&r.setProperty(o,z,ie):f?r.setAttribute(o,z,ie):o.setAttribute(z,ie),m++}}return m}function Vo(r){return 3===r||4===r||6===r}function Cr(r){return 64===r.charCodeAt(0)}function ps(r,o){if(null!==o&&0!==o.length)if(null===r||0===r.length)r=o.slice();else{let s=-1;for(let f=0;f<o.length;f++){const m=o[f];"number"==typeof m?s=m:0===s||Mr(r,s,m,null,-1===s||2===s?o[++f]:null)}}return r}function Mr(r,o,s,f,m){let R=0,z=r.length;if(-1===o)z=-1;else for(;R<r.length;){const ie=r[R++];if("number"==typeof ie){if(ie===o){z=-1;break}if(ie>o){z=R-1;break}}}for(;R<r.length;){const ie=r[R];if("number"==typeof ie)break;if(ie===s){if(null===f)return void(null!==m&&(r[R+1]=m));if(f===r[R+1])return void(r[R+2]=m)}R++,null!==f&&R++,null!==m&&R++}-1!==z&&(r.splice(z,0,o),R=z+1),r.splice(R++,0,s),null!==f&&r.splice(R++,0,f),null!==m&&r.splice(R++,0,m)}function lo(r){return-1!==r}function Mo(r){return 32767&r}function ic(r,o){let s=function(r){return r>>16}(r),f=o;for(;s>0;)f=f[15],s--;return f}let Co=!0;function As(r){const o=Co;return Co=r,o}let le=0;function xe(r,o){const s=rn(r,o);if(-1!==s)return s;const f=o[1];f.firstCreatePass&&(r.injectorIndex=o.length,ht(f.data,r),ht(o,null),ht(f.blueprint,null));const m=yn(r,o),R=r.injectorIndex;if(lo(m)){const z=Mo(m),ie=ic(m,o),pe=ie[1].data;for(let Ee=0;Ee<8;Ee++)o[R+Ee]=ie[z+Ee]|pe[z+Ee]}return o[R+8]=m,R}function ht(r,o){r.push(0,0,0,0,0,0,0,0,o)}function rn(r,o){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===o[r.injectorIndex+8]?-1:r.injectorIndex}function yn(r,o){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let s=0,f=null,m=o;for(;null!==m;){const R=m[1],z=R.type;if(f=2===z?R.declTNode:1===z?m[6]:null,null===f)return-1;if(s++,m=m[15],-1!==f.injectorIndex)return f.injectorIndex|s<<16}return-1}function Nn(r,o,s){!function(r,o,s){let f;"string"==typeof s?f=s.charCodeAt(0)||0:s.hasOwnProperty(Fn)&&(f=s[Fn]),null==f&&(f=s[Fn]=le++);const m=255&f;o.data[r+(m>>5)]|=1<<m}(r,o,s)}function wr(r,o,s){if(s&Qn.Optional)return r;bt(o,"NodeInjector")}function Mi(r,o,s,f){if(s&Qn.Optional&&void 0===f&&(f=null),0==(s&(Qn.Self|Qn.Host))){const m=r[9],R=pr(void 0);try{return m?m.get(o,f,s&Qn.Optional):bn(o,f,s&Qn.Optional)}finally{pr(R)}}return wr(f,o,s)}function Vn(r,o,s,f=Qn.Default,m){if(null!==r){const R=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const o=r.hasOwnProperty(Fn)?r[Fn]:void 0;return"number"==typeof o?o>=0?255&o:bo:o}(s);if("function"==typeof R){if(!Ko(o,r,f))return f&Qn.Host?wr(m,s,f):Mi(o,s,f,m);try{const z=R(f);if(null!=z||f&Qn.Optional)return z;bt(s)}finally{Dc()}}else if("number"==typeof R){let z=null,ie=rn(r,o),pe=-1,Ee=f&Qn.Host?o[16][6]:null;for((-1===ie||f&Qn.SkipSelf)&&(pe=-1===ie?yn(r,o):o[ie+8],-1!==pe&&q(f,!1)?(z=o[1],ie=Mo(pe),o=ic(pe,o)):ie=-1);-1!==ie;){const ze=o[1];if(ye(R,ie,ze.data)){const Tt=Ws(ie,o,s,z,f,Ee);if(Tt!==ai)return Tt}pe=o[ie+8],-1!==pe&&q(f,o[1].data[ie+8]===Ee)&&ye(R,ie,o)?(z=ze,ie=Mo(pe),o=ic(pe,o)):ie=-1}}}return Mi(o,s,f,m)}const ai={};function bo(){return new Pe(Ar(),li())}function Ws(r,o,s,f,m,R){const z=o[1],ie=z.data[r+8],ze=ts(ie,z,s,null==f?ar(ie)&&Co:f!=z&&0!=(3&ie.type),m&Qn.Host&&R===ie);return null!==ze?rc(o,z,ze,ie):ai}function ts(r,o,s,f,m){const R=r.providerIndexes,z=o.data,ie=1048575&R,pe=r.directiveStart,ze=R>>20,Ft=m?ie+ze:r.directiveEnd;for(let vn=f?ie:ie+ze;vn<Ft;vn++){const xn=z[vn];if(vn<pe&&s===xn||vn>=pe&&xn.type===s)return vn}if(m){const vn=z[pe];if(vn&&gr(vn)&&vn.type===s)return pe}return null}function rc(r,o,s,f){let m=r[s];const R=o.data;if(function(r){return r instanceof tc}(m)){const z=m;z.resolving&&function(r,o){throw new Zt("200",`Circular dependency in DI detected for ${r}`)}(ce(R[s]));const ie=As(z.canSeeViewProviders);z.resolving=!0;const pe=z.injectImpl?pr(z.injectImpl):null;Ko(r,f,Qn.Default);try{m=r[s]=z.factory(void 0,R,r,f),o.firstCreatePass&&s>=f.directiveStart&&function(r,o,s){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:R}=o.type.prototype;if(f){const z=Dr(o);(s.preOrderHooks||(s.preOrderHooks=[])).push(r,z),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,z)}m&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-r,m),R&&((s.preOrderHooks||(s.preOrderHooks=[])).push(r,R),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,R))}(s,R[s],o)}finally{null!==pe&&pr(pe),As(ie),z.resolving=!1,Dc()}}return m}function ye(r,o,s){return!!(s[o+(r>>5)]&1<<r)}function q(r,o){return!(r&Qn.Self||r&Qn.Host&&o)}class Pe{constructor(o,s){this._tNode=o,this._lView=s}get(o,s){return Vn(this._tNode,this._lView,o,void 0,s)}}function rt(r){return tn(()=>{const o=r.prototype.constructor,s=o[ti]||Jt(o),f=Object.prototype;let m=Object.getPrototypeOf(r.prototype).constructor;for(;m&&m!==f;){const R=m[ti]||Jt(m);if(R&&R!==s)return R;m=Object.getPrototypeOf(m)}return R=>new R})}function Jt(r){return Qe(r)?()=>{const o=Jt($e(r));return o&&o()}:xi(r)}function Mn(r){return function(r,o){if("class"===o)return r.classes;if("style"===o)return r.styles;const s=r.attrs;if(s){const f=s.length;let m=0;for(;m<f;){const R=s[m];if(Vo(R))break;if(0===R)m+=2;else if("number"==typeof R)for(m++;m<f&&"string"==typeof s[m];)m++;else{if(R===o)return s[m+1];m+=2}}}return null}(Ar(),r)}const ir="__parameters__",ki="__prop__metadata__";function Qo(r){return function(...s){if(r){const f=r(...s);for(const m in f)this[m]=f[m]}}}function jr(r,o,s){return tn(()=>{const f=Qo(o);function m(...R){if(this instanceof m)return f.apply(this,R),this;const z=new m(...R);return ie.annotation=z,ie;function ie(pe,Ee,ze){const Tt=pe.hasOwnProperty(ir)?pe[ir]:Object.defineProperty(pe,ir,{value:[]})[ir];for(;Tt.length<=ze;)Tt.push(null);return(Tt[ze]=Tt[ze]||[]).push(z),pe}}return s&&(m.prototype=Object.create(s.prototype)),m.prototype.ngMetadataName=r,m.annotationCls=m,m})}function ns(r,o,s,f){return tn(()=>{const m=Qo(o);function R(...z){if(this instanceof R)return m.apply(this,z),this;const ie=new R(...z);return function(Ee,ze){const Tt=Ee.constructor,Ft=Tt.hasOwnProperty(ki)?Tt[ki]:Object.defineProperty(Tt,ki,{value:{}})[ki];Ft[ze]=Ft.hasOwnProperty(ze)&&Ft[ze]||[],Ft[ze].unshift(ie),f&&f(Ee,ze,...z)}}return s&&(R.prototype=Object.create(s.prototype)),R.prototype.ngMetadataName=r,R.annotationCls=R,R})}class To{constructor(o,s){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=bi({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const _u=new To("AnalyzeForEntryComponents");class nf{}const rf=ns("ContentChild",(r,o={})=>Object.assign({selector:r,first:!0,isViewQuery:!1,descendants:!0},o),nf),zl=ns("ViewChild",(r,o)=>Object.assign({selector:r,first:!0,isViewQuery:!0,descendants:!0},o),nf),Qs=Function;function pc(r,o){void 0===o&&(o=r);for(let s=0;s<r.length;s++){let f=r[s];Array.isArray(f)?(o===r&&(o=r.slice(0,s)),pc(f,o)):o!==r&&o.push(f)}return o}function xc(r,o){r.forEach(s=>Array.isArray(s)?xc(s,o):o(s))}function Cc(r,o,s){o>=r.length?r.push(s):r.splice(o,0,s)}function Jc(r,o){return o>=r.length-1?r.pop():r.splice(o,1)[0]}function Kc(r,o){const s=[];for(let f=0;f<r;f++)s.push(o);return s}function po(r,o,s){let f=pl(r,o);return f>=0?r[1|f]=s:(f=~f,function(r,o,s,f){let m=r.length;if(m==o)r.push(s,f);else if(1===m)r.push(f,r[0]),r[0]=s;else{for(m--,r.push(r[m-1],r[m]);m>o;)r[m]=r[m-2],m--;r[o]=s,r[o+1]=f}}(r,f,o,s)),f}function _h(r,o){const s=pl(r,o);if(s>=0)return r[1|s]}function pl(r,o){return function(r,o,s){let f=0,m=r.length>>s;for(;m!==f;){const R=f+(m-f>>1),z=r[R<<s];if(o===z)return R<<s;z>o?m=R:f=R+1}return~(m<<s)}(r,o,1)}const Yu={},Ch="__NG_DI_FLAG__",Rl="ngTempTokenPath",Rd=/\n/gm,bh="__source",Wl=Ue({provide:String,useValue:Ue});let sc;function kl(r){const o=sc;return sc=r,o}function Fl(r,o=Qn.Default){if(void 0===sc)throw new Error("inject() must be called from an injection context");return null===sc?bn(r,void 0,o):sc.get(r,o&Qn.Optional?null:void 0,o)}function cs(r,o=Qn.Default){return(Yi||Fl)($e(r),o)}const Ld=cs;function Xc(r){const o=[];for(let s=0;s<r.length;s++){const f=$e(r[s]);if(Array.isArray(f)){if(0===f.length)throw new Error("Arguments array must have arguments.");let m,R=Qn.Default;for(let z=0;z<f.length;z++){const ie=f[z],pe=Jl(ie);"number"==typeof pe?-1===pe?m=ie.token:R|=pe:m=ie}o.push(cs(m,R))}else o.push(cs(f))}return o}function Ql(r,o){return r[Ch]=o,r.prototype[Ch]=o,r}function Jl(r){return r[Ch]}function ac(r,o,s,f){const m=r[Rl];throw o[bh]&&m.unshift(o[bh]),r.message=function(r,o,s,f=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let m=Ne(o);if(Array.isArray(o))m=o.map(Ne).join(" -> ");else if("object"==typeof o){let R=[];for(let z in o)if(o.hasOwnProperty(z)){let ie=o[z];R.push(z+":"+("string"==typeof ie?JSON.stringify(ie):Ne(ie)))}m=`{${R.join(", ")}}`}return`${s}${f?"("+f+")":""}[${m}]: ${r.replace(Rd,"\n  ")}`}("\n"+r.message,m,s,f),r.ngTokenPath=m,r[Rl]=null,r}const Kl=Ql(jr("Inject",r=>({token:r})),-1),bc=Ql(jr("Optional"),8),gl=Ql(jr("SkipSelf"),4);let ed,Ou;function rs(r){var o;return(null===(o=function(){if(void 0===ed&&(ed=null,En.trustedTypes))try{ed=En.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return ed}())||void 0===o?void 0:o.createHTML(r))||r}function Bd(r){var o;return(null===(o=function(){if(void 0===Ou&&(Ou=null,En.trustedTypes))try{Ou=En.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Ou}())||void 0===o?void 0:o.createHTML(r))||r}class Za{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class pf extends Za{getTypeName(){return"HTML"}}class gf extends Za{getTypeName(){return"Style"}}class mf extends Za{getTypeName(){return"Script"}}class nd extends Za{getTypeName(){return"URL"}}class Eh extends Za{getTypeName(){return"ResourceURL"}}function _l(r){return r instanceof Za?r.changingThisBreaksApplicationSecurity:r}function ls(r,o){const s=so(r);if(null!=s&&s!==o){if("ResourceURL"===s&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===o}function so(r){return r instanceof Za&&r.getTypeName()||null}function vf(r){return new pf(r)}function yf(r){return new gf(r)}function Is(r){return new mf(r)}function jd(r){return new nd(r)}function Zs(r){return new Eh(r)}class Cf{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const s=(new window.DOMParser).parseFromString(rs(o),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(o):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Th{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const f=this.inertDocument.createElement("body");s.appendChild(f)}}getInertBodyElement(o){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=rs(o),s;const f=this.inertDocument.createElement("body");return f.innerHTML=rs(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(o){const s=o.attributes;for(let m=s.length-1;0<m;m--){const z=s.item(m).name;("xmlns:ns1"===z||0===z.indexOf("ns1:"))&&o.removeAttribute(z)}let f=o.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const Dh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,vp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Eu(r){return(r=String(r)).match(Dh)||r.match(vp)?r:"unsafe:"+r}function go(r){const o={};for(const s of r.split(","))o[s]=!0;return o}function id(...r){const o={};for(const s of r)for(const f in s)s.hasOwnProperty(f)&&(o[f]=!0);return o}const Tu=go("area,br,col,hr,img,wbr"),Bl=go("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Du=go("rp,rt"),Zd=id(Tu,id(Bl,go("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),id(Du,go("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),id(Du,Bl)),Ih=go("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nu=go("srcset"),Pf=id(Ih,nu,go("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),go("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mf=go("script,style,template");class rd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let s=o.firstChild,f=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?f=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,f&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let m=this.checkClobberedElement(s,s.nextSibling);if(m){s=m;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(o){const s=o.nodeName.toLowerCase();if(!Zd.hasOwnProperty(s))return this.sanitizedSomething=!0,!Mf.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const f=o.attributes;for(let m=0;m<f.length;m++){const R=f.item(m),z=R.name,ie=z.toLowerCase();if(!Pf.hasOwnProperty(ie)){this.sanitizedSomething=!0;continue}let pe=R.value;Ih[ie]&&(pe=Eu(pe)),nu[ie]&&(r=pe,pe=(r=String(r)).split(",").map(o=>Eu(o.trim())).join(", ")),this.buf.push(" ",z,'="',$s(pe),'"')}var r;return this.buf.push(">"),!0}endElement(o){const s=o.nodeName.toLowerCase();Zd.hasOwnProperty(s)&&!Tu.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(o){this.buf.push($s(o))}checkClobberedElement(o,s){if(s&&(o.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return s}}const Of=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Cp=/([^\#-~ |!])/g;function $s(r){return r.replace(/&/g,"&amp;").replace(Of,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Cp,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vl;function Nh(r,o){let s=null;try{vl=vl||function(r){const o=new Th(r);return function(){try{return!!(new window.DOMParser).parseFromString(rs(""),"text/html")}catch(r){return!1}}()?new Cf(o):o}(r);let f=o?String(o):"";s=vl.getInertBodyElement(f);let m=5,R=f;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,f=R,R=s.innerHTML,s=vl.getInertBodyElement(f)}while(f!==R);return rs((new rd).sanitizeChildren(jl(s)||s))}finally{if(s){const f=jl(s)||s;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function jl(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var os=(()=>((os=os||{})[os.NONE=0]="NONE",os[os.HTML=1]="HTML",os[os.STYLE=2]="STYLE",os[os.SCRIPT=3]="SCRIPT",os[os.URL=4]="URL",os[os.RESOURCE_URL=5]="RESOURCE_URL",os))();function Rh(r){const o=xu();return o?Bd(o.sanitize(os.HTML,r)||""):ls(r,"HTML")?Bd(_l(r)):Nh(mo(),Mt(r))}function sd(r){const o=xu();return o?o.sanitize(os.URL,r)||"":ls(r,"URL")?_l(r):Eu(Mt(r))}function xu(){const r=li();return r&&r[12]}const Hd="__ngContext__";function Oa(r,o){r[Hd]=o}function Gd(r){const o=function(r){return r[Hd]||null}(r);return o?Array.isArray(o)?o:o.lView:null}function Yd(r){return r.ngOriginalError}function oe(r,...o){r.error(...o)}class j{constructor(){this._console=console}handleError(o){const s=this._findOriginalError(o),f=this._findContext(o),m=(r=o)&&r.ngErrorLogger||oe;var r;m(this._console,"ERROR",o),s&&m(this._console,"ORIGINAL ERROR",s),f&&m(this._console,"ERROR CONTEXT",f)}_findContext(o){return o?o.ngDebugContext||this._findContext(Yd(o)):null}_findOriginalError(o){let s=o&&Yd(o);for(;s&&Yd(s);)s=Yd(s);return s||null}}const ld=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(En))();function Mc(r){return r instanceof Function?r():r}var Nc=(()=>((Nc=Nc||{})[Nc.Important=1]="Important",Nc[Nc.DashCase=2]="DashCase",Nc))();function Wd(r,o){return undefined(r,o)}function ud(r){const o=r[3];return yi(o)?o[3]:o}function Lu(r){return Qd(r[13])}function ku(r){return Qd(r[4])}function Qd(r){for(;null!==r&&!yi(r);)r=r[4];return r}function Fu(r,o,s,f,m){if(null!=f){let R,z=!1;yi(f)?R=f:ui(f)&&(z=!0,f=f[0]);const ie=se(f);0===r&&null!==s?null==m?jh(o,s,ie):rl(o,s,ie,m||null,!0):1===r&&null!==s?rl(o,s,ie,m||null,!0):2===r?function(r,o,s){const f=fd(r,o);f&&function(r,o,s,f){Te(r)?r.removeChild(o,s,f):o.removeChild(s)}(r,f,o,s)}(o,ie,z):3===r&&o.destroyNode(ie),null!=R&&function(r,o,s,f,m){const R=s[7];R!==se(s)&&Fu(o,r,f,R,m);for(let ie=10;ie<s.length;ie++){const pe=s[ie];ju(pe[1],pe,r,o,f,R)}}(o,r,R,s,m)}}function Rf(r,o,s){return Te(r)?r.createElement(o,s):null===s?r.createElement(o):r.createElementNS(s,o)}function Jd(r,o){const s=r[9],f=s.indexOf(o),m=o[3];1024&o[2]&&(o[2]&=-1025,xt(m,-1)),s.splice(f,1)}function Kd(r,o){if(r.length<=10)return;const s=10+o,f=r[s];if(f){const m=f[17];null!==m&&m!==r&&Jd(m,f),o>0&&(r[s-1][4]=f[4]);const R=Jc(r,10+o);!function(r,o){ju(r,o,o[11],2,null,null),o[0]=null,o[6]=null}(f[1],f);const z=R[19];null!==z&&z.detachView(R[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function kf(r,o){if(!(256&o[2])){const s=o[11];Te(s)&&s.destroyNode&&ju(r,o,s,3,null,null),function(r){let o=r[13];if(!o)return Cl(r[1],r);for(;o;){let s=null;if(ui(o))s=o[13];else{const f=o[10];f&&(s=f)}if(!s){for(;o&&!o[4]&&o!==r;)ui(o)&&Cl(o[1],o),o=o[3];null===o&&(o=r),ui(o)&&Cl(o[1],o),s=o&&o[4]}o=s}}(o)}}function Cl(r,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(r,o){let s;if(null!=r&&null!=(s=r.destroyHooks))for(let f=0;f<s.length;f+=2){const m=o[s[f]];if(!(m instanceof tc)){const R=s[f+1];if(Array.isArray(R))for(let z=0;z<R.length;z+=2){const ie=m[R[z]],pe=R[z+1];try{pe.call(ie)}finally{}}else try{R.call(m)}finally{}}}}(r,o),function(r,o){const s=r.cleanup,f=o[7];let m=-1;if(null!==s)for(let R=0;R<s.length-1;R+=2)if("string"==typeof s[R]){const z=s[R+1],ie="function"==typeof z?z(o):se(o[z]),pe=f[m=s[R+2]],Ee=s[R+3];"boolean"==typeof Ee?ie.removeEventListener(s[R],pe,Ee):Ee>=0?f[m=Ee]():f[m=-Ee].unsubscribe(),R+=2}else{const z=f[m=s[R+1]];s[R].call(z)}if(null!==f){for(let R=m+1;R<f.length;R++)f[R]();o[7]=null}}(r,o),1===o[1].type&&Te(o[11])&&o[11].destroy();const s=o[17];if(null!==s&&yi(o[3])){s!==o[3]&&Jd(s,o);const f=o[19];null!==f&&f.detachView(r)}}}function iu(r,o,s){return function(r,o,s){let f=o;for(;null!==f&&40&f.type;)f=(o=f).parent;if(null===f)return s[0];if(2&f.flags){const m=r.data[f.directiveStart].encapsulation;if(m===vt.None||m===vt.Emulated)return null}return Gn(f,s)}(r,o.parent,s)}function rl(r,o,s,f,m){Te(r)?r.insertBefore(o,s,f,m):o.insertBefore(s,f,m)}function jh(r,o,s){Te(r)?r.appendChild(o,s):o.appendChild(s)}function Vl(r,o,s,f,m){null!==f?rl(r,o,s,f,m):jh(r,o,s)}function fd(r,o){return Te(r)?r.parentNode(o):o.parentNode}function Dp(r,o,s){return xp(r,o,s)}let xp=function(r,o,s){return 40&r.type?Gn(r,s):null};function ru(r,o,s,f){const m=iu(r,f,o),R=o[11],ie=Dp(f.parent||o[6],f,o);if(null!=m)if(Array.isArray(s))for(let pe=0;pe<s.length;pe++)Vl(R,m,s[pe],ie,!1);else Vl(R,m,s,ie,!1)}function eh(r,o){if(null!==o){const s=o.type;if(3&s)return Gn(o,r);if(4&s)return Ff(-1,r[o.index]);if(8&s){const f=o.child;if(null!==f)return eh(r,f);{const m=r[o.index];return yi(m)?Ff(-1,m):se(m)}}if(32&s)return Wd(o,r)()||se(r[o.index]);{const f=Ip(r,o);return null!==f?Array.isArray(f)?f[0]:eh(ud(r[16]),f):eh(r,o.next)}}return null}function Ip(r,o){return null!==o?r[16][6].projection[o.projection]:null}function Ff(r,o){const s=10+r+1;if(s<o.length){const f=o[s],m=f[1].firstChild;if(null!==m)return eh(f,m)}return o[7]}function bl(r,o,s,f,m,R,z){for(;null!=s;){const ie=f[s.index],pe=s.type;if(z&&0===o&&(ie&&Oa(se(ie),f),s.flags|=4),64!=(64&s.flags))if(8&pe)bl(r,o,s.child,f,m,R,!1),Fu(o,r,m,ie,R);else if(32&pe){const Ee=Wd(s,f);let ze;for(;ze=Ee();)Fu(o,r,m,ze,R);Fu(o,r,m,ie,R)}else 16&pe?Bf(r,o,f,s,m,R):Fu(o,r,m,ie,R);s=z?s.projectionNext:s.next}}function ju(r,o,s,f,m,R){bl(s,f,r.firstChild,o,m,R,!1)}function Bf(r,o,s,f,m,R){const z=s[16],pe=z[6].projection[f.projection];if(Array.isArray(pe))for(let Ee=0;Ee<pe.length;Ee++)Fu(o,r,m,pe[Ee],R);else bl(r,o,pe,z[3],m,R,!0)}function th(r,o,s){Te(r)?r.setAttribute(o,"style",s):o.style.cssText=s}function nh(r,o,s){Te(r)?""===s?r.removeAttribute(o,"class"):r.setAttribute(o,"class",s):o.className=s}function jf(r,o,s){let f=r.length;for(;;){const m=r.indexOf(o,s);if(-1===m)return m;if(0===m||r.charCodeAt(m-1)<=32){const R=o.length;if(m+R===f||r.charCodeAt(m+R)<=32)return m}s=m+1}}const Lp="ng-template";function kp(r,o,s){let f=0;for(;f<r.length;){let m=r[f++];if(s&&"class"===m){if(m=r[f],-1!==jf(m.toLowerCase(),o,0))return!0}else if(1===m){for(;f<r.length&&"string"==typeof(m=r[f++]);)if(m.toLowerCase()===o)return!0;return!1}}return!1}function Fp(r){return 4===r.type&&r.value!==Lp}function Om(r,o,s){return o===(4!==r.type||s?r.value:Lp)}function vg(r,o,s){let f=4;const m=r.attrs||[],R=function(r){for(let o=0;o<r.length;o++)if(Vo(r[o]))return o;return r.length}(m);let z=!1;for(let ie=0;ie<o.length;ie++){const pe=o[ie];if("number"!=typeof pe){if(!z)if(4&f){if(f=2|1&f,""!==pe&&!Om(r,pe,s)||""===pe&&1===o.length){if(ol(f))return!1;z=!0}}else{const Ee=8&f?pe:o[++ie];if(8&f&&null!==r.attrs){if(!kp(r.attrs,Ee,s)){if(ol(f))return!1;z=!0}continue}const Tt=gd(8&f?"class":pe,m,Fp(r),s);if(-1===Tt){if(ol(f))return!1;z=!0;continue}if(""!==Ee){let Ft;Ft=Tt>R?"":m[Tt+1].toLowerCase();const vn=8&f?Ft:null;if(vn&&-1!==jf(vn,Ee,0)||2&f&&Ee!==Ft){if(ol(f))return!1;z=!0}}}}else{if(!z&&!ol(f)&&!ol(pe))return!1;if(z&&ol(pe))continue;z=!1,f=pe|1&f}}return ol(f)||z}function ol(r){return 0==(1&r)}function gd(r,o,s,f){if(null===o)return-1;let m=0;if(f||!s){let R=!1;for(;m<o.length;){const z=o[m];if(z===r)return m;if(3===z||6===z)R=!0;else{if(1===z||2===z){let ie=o[++m];for(;"string"==typeof ie;)ie=o[++m];continue}if(4===z)break;if(0===z){m+=4;continue}}m+=R?1:2}return-1}return function(r,o){let s=r.indexOf(4);if(s>-1)for(s++;s<r.length;){const f=r[s];if("number"==typeof f)return-1;if(f===o)return s;s++}return-1}(o,r)}function yg(r,o,s=!1){for(let f=0;f<o.length;f++)if(vg(r,o[f],s))return!0;return!1}function Em(r,o){e:for(let s=0;s<o.length;s++){const f=o[s];if(r.length===f.length){for(let m=0;m<r.length;m++)if(r[m]!==f[m])continue e;return!0}}return!1}function md(r,o){return r?":not("+o.trim()+")":o}function ih(r){let o=r[0],s=1,f=2,m="",R=!1;for(;s<r.length;){let z=r[s];if("string"==typeof z)if(2&f){const ie=r[++s];m+="["+z+(ie.length>0?'="'+ie+'"':"")+"]"}else 8&f?m+="."+z:4&f&&(m+=" "+z);else""!==m&&!ol(z)&&(o+=md(R,m),m=""),f=z,R=R||!ol(f);s++}return""!==m&&(o+=md(R,m)),o}const Gr={};function Up(r){bg(hr(),li(),Xo()+r,Zo())}function bg(r,o,s,f){if(!f)if(3==(3&o[2])){const R=r.preOrderCheckHooks;null!==R&&hc(o,R,s)}else{const R=r.preOrderHooks;null!==R&&Xa(o,R,0,s)}dc(s)}function rh(r,o){return r<<17|o<<2}function Pl(r){return r>>17&32767}function Vh(r){return 2|r}function ou(r){return(131068&r)>>2}function Zh(r,o){return-131069&r|o<<2}function Bp(r){return 1|r}function Po(r,o){const s=r.contentQueries;if(null!==s)for(let f=0;f<s.length;f+=2){const m=s[f],R=s[f+1];if(-1!==R){const z=r.data[R];Wa(m),z.contentQueries(2,o[R],R)}}}function uc(r,o,s,f,m,R,z,ie,pe,Ee){const ze=o.blueprint.slice();return ze[0]=m,ze[2]=140|f,ke(ze),ze[3]=ze[15]=r,ze[8]=s,ze[10]=z||r&&r[10],ze[11]=ie||r&&r[11],ze[12]=pe||r&&r[12]||null,ze[9]=Ee||r&&r[9]||null,ze[6]=R,ze[16]=2==o.type?r[16]:ze,ze}function Ra(r,o,s,f,m){let R=r.data[o];if(null===R)R=function(r,o,s,f,m){const R=Ki(),z=ko(),pe=r.data[o]=function(r,o,s,f,m,R){return{type:s,index:f,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:R,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,z?R:R&&R.parent,s,o,f,m);return null===r.firstChild&&(r.firstChild=pe),null!==R&&(z?null==R.child&&null!==pe.parent&&(R.child=pe):null===R.next&&(R.next=pe)),pe}(r,o,s,f,m),qt.lFrame.inI18n&&(R.flags|=64);else if(64&R.type){R.type=s,R.value=f,R.attrs=m;const z=function(){const r=qt.lFrame,o=r.currentTNode;return r.isParent?o:o.parent}();R.injectorIndex=null===z?-1:z.injectorIndex}return Lo(R,!0),R}function _c(r,o,s,f){if(0===s)return-1;const m=o.length;for(let R=0;R<s;R++)o.push(f),r.blueprint.push(f),r.data.push(null);return m}function Lc(r,o,s){vc(o);try{const f=r.viewQuery;null!==f&&$m(1,f,s);const m=r.template;null!==m&&br(r,o,m,1,s),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Po(r,o),r.staticViewQueries&&$m(2,r.viewQuery,s);const R=r.components;null!==R&&function(r,o){for(let s=0;s<o.length;s++)Um(r,o[s])}(o,R)}catch(f){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),f}finally{o[2]&=-5,Ss()}}function au(r,o,s,f){const m=o[2];if(256==(256&m))return;vc(o);const R=Zo();try{ke(o),function(r){qt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==s&&br(r,o,s,2,f);const z=3==(3&m);if(!R)if(z){const Ee=r.preOrderCheckHooks;null!==Ee&&hc(o,Ee,null)}else{const Ee=r.preOrderHooks;null!==Ee&&Xa(o,Ee,0,null),yc(o,0)}if(function(r){for(let o=Lu(r);null!==o;o=ku(o)){if(!o[2])continue;const s=o[9];for(let f=0;f<s.length;f++){const m=s[f],R=m[3];0==(1024&m[2])&&xt(R,1),m[2]|=1024}}}(o),function(r){for(let o=Lu(r);null!==o;o=ku(o))for(let s=10;s<o.length;s++){const f=o[s],m=f[1];fo(f)&&au(m,f,m.template,f[8])}}(o),null!==r.contentQueries&&Po(r,o),!R)if(z){const Ee=r.contentCheckHooks;null!==Ee&&hc(o,Ee)}else{const Ee=r.contentHooks;null!==Ee&&Xa(o,Ee,1),yc(o,1)}!function(r,o){const s=r.hostBindingOpCodes;if(null!==s)try{for(let f=0;f<s.length;f++){const m=s[f];if(m<0)dc(~m);else{const R=m,z=s[++f],ie=s[++f];Tc(z,R),ie(2,o[R])}}}finally{dc(-1)}}(r,o);const ie=r.components;null!==ie&&function(r,o){for(let s=0;s<o.length;s++)Fm(r,o[s])}(o,ie);const pe=r.viewQuery;if(null!==pe&&$m(2,pe,f),!R)if(z){const Ee=r.viewCheckHooks;null!==Ee&&hc(o,Ee)}else{const Ee=r.viewHooks;null!==Ee&&Xa(o,Ee,2),yc(o,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),R||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,xt(o[3],-1))}finally{Ss()}}function Zp(r,o,s,f){const m=o[10],R=!Zo(),z=ro(o);try{R&&!z&&m.begin&&m.begin(),z&&Lc(r,o,f),au(r,o,s,f)}finally{R&&!z&&m.end&&m.end()}}function br(r,o,s,f,m){const R=Xo(),z=2&f;try{dc(-1),z&&o.length>20&&bg(r,o,20,Zo()),s(f,m)}finally{dc(R)}}function kr(r,o,s){if(Ui(o)){const m=o.directiveEnd;for(let R=o.directiveStart;R<m;R++){const z=r.data[R];z.contentQueries&&z.contentQueries(1,s[R],R)}}}function Jr(r,o,s){!or()||(function(r,o,s,f){const m=s.directiveStart,R=s.directiveEnd;r.firstCreatePass||xe(s,o),Oa(f,o);const z=s.initialInputs;for(let ie=m;ie<R;ie++){const pe=r.data[ie],Ee=gr(pe);Ee&&zy(o,s,pe);const ze=rc(o,r,ie,s);Oa(ze,o),null!==z&&Ov(0,ie-m,ze,pe,0,z),Ee&&(Vr(s.index,o)[8]=ze)}}(r,o,s,Gn(s,o)),128==(128&s.flags)&&function(r,o,s){const f=s.directiveStart,m=s.directiveEnd,z=s.index,ie=qt.lFrame.currentDirectiveIndex;try{dc(z);for(let pe=f;pe<m;pe++){const Ee=r.data[pe],ze=o[pe];Cs(pe),(null!==Ee.hostBindings||0!==Ee.hostVars||null!==Ee.hostAttrs)&&Eg(Ee,ze)}}finally{dc(-1),Cs(ie)}}(r,o,s))}function Oo(r,o,s=Gn){const f=o.localNames;if(null!==f){let m=o.index+1;for(let R=0;R<f.length;R+=2){const z=f[R+1],ie=-1===z?s(o,r):r[z];r[m++]=ie}}}function Ks(r){const o=r.tView;return null===o||o.incompleteFirstPass?r.tView=kc(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):o}function kc(r,o,s,f,m,R,z,ie,pe,Ee){const ze=20+f,Tt=ze+m,Ft=function(r,o){const s=[];for(let f=0;f<o;f++)s.push(f<r?null:Gr);return s}(ze,Tt),vn="function"==typeof Ee?Ee():Ee;return Ft[1]={type:r,blueprint:Ft,template:s,queries:null,viewQuery:ie,declTNode:o,data:Ft.slice().fill(null,ze),bindingStartIndex:ze,expandoStartIndex:Tt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof R?R():R,pipeRegistry:"function"==typeof z?z():z,firstChild:null,schemas:pe,consts:vn,incompleteFirstPass:!1}}function Ol(r,o,s,f){const m=Sg(o);null===s?m.push(f):(m.push(s),r.firstCreatePass&&Dv(r).push(f,m.length-1))}function qh(r,o,s){for(let f in r)if(r.hasOwnProperty(f)){const m=r[f];(s=null===s?{}:s).hasOwnProperty(f)?s[f].push(o,m):s[f]=[o,m]}return s}function zc(r,o,s,f,m,R,z,ie){const pe=Gn(o,s);let ze,Ee=o.inputs;!ie&&null!=Ee&&(ze=Ee[f])?(Ig(r,s,ze,f,m),ar(o)&&function(r,o){const s=Vr(o,r);16&s[2]||(s[2]|=64)}(s,o.index)):3&o.type&&(f=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(f),m=null!=z?z(m,o.value||"",f):m,Te(R)?R.setProperty(pe,f,m):Cr(f)||(pe.setProperty?pe.setProperty(f,m):pe[f]=m))}function xm(r,o,s,f){let m=!1;if(or()){const R=function(r,o,s){const f=r.directiveRegistry;let m=null;if(f)for(let R=0;R<f.length;R++){const z=f[R];yg(s,z.selectors,!1)&&(m||(m=[]),Nn(xe(s,o),r,z.type),gr(z)?(Pv(r,s),m.unshift(z)):m.push(z))}return m}(r,o,s),z=null===f?null:{"":-1};if(null!==R){m=!0,Mv(s,r.data.length,R.length);for(let ze=0;ze<R.length;ze++){const Tt=R[ze];Tt.providersResolver&&Tt.providersResolver(Tt)}let ie=!1,pe=!1,Ee=_c(r,o,R.length,null);for(let ze=0;ze<R.length;ze++){const Tt=R[ze];s.mergedAttrs=ps(s.mergedAttrs,Tt.hostAttrs),km(r,s,o,Ee,Tt),Lm(Ee,Tt,z),null!==Tt.contentQueries&&(s.flags|=8),(null!==Tt.hostBindings||null!==Tt.hostAttrs||0!==Tt.hostVars)&&(s.flags|=128);const Ft=Tt.type.prototype;!ie&&(Ft.ngOnChanges||Ft.ngOnInit||Ft.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(s.index),ie=!0),!pe&&(Ft.ngOnChanges||Ft.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(s.index),pe=!0),Ee++}!function(r,o){const f=o.directiveEnd,m=r.data,R=o.attrs,z=[];let ie=null,pe=null;for(let Ee=o.directiveStart;Ee<f;Ee++){const ze=m[Ee],Tt=ze.inputs,Ft=null===R||Fp(o)?null:wv(Tt,R);z.push(Ft),ie=qh(Tt,Ee,ie),pe=qh(ze.outputs,Ee,pe)}null!==ie&&(ie.hasOwnProperty("class")&&(o.flags|=16),ie.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=z,o.inputs=ie,o.outputs=pe}(r,s)}z&&function(r,o,s){if(o){const f=r.localNames=[];for(let m=0;m<o.length;m+=2){const R=s[o[m+1]];if(null==R)throw new Zt("301",`Export of name '${o[m+1]}' not found!`);f.push(o[m],R)}}}(s,f,z)}return s.mergedAttrs=ps(s.mergedAttrs,s.attrs),m}function bv(r,o,s,f,m,R){const z=R.hostBindings;if(z){let ie=r.hostBindingOpCodes;null===ie&&(ie=r.hostBindingOpCodes=[]);const pe=~o.index;(function(r){let o=r.length;for(;o>0;){const s=r[--o];if("number"==typeof s&&s<0)return s}return 0})(ie)!=pe&&ie.push(pe),ie.push(f,m,z)}}function Eg(r,o){null!==r.hostBindings&&r.hostBindings(1,o)}function Pv(r,o){o.flags|=2,(r.components||(r.components=[])).push(o.index)}function Lm(r,o,s){if(s){if(o.exportAs)for(let f=0;f<o.exportAs.length;f++)s[o.exportAs[f]]=r;gr(o)&&(s[""]=r)}}function Mv(r,o,s){r.flags|=1,r.directiveStart=o,r.directiveEnd=o+s,r.providerIndexes=o}function km(r,o,s,f,m){r.data[f]=m;const R=m.factory||(m.factory=xi(m.type)),z=new tc(R,gr(m),null);r.blueprint[f]=z,s[f]=z,bv(r,o,0,f,_c(r,s,m.hostVars,Gr),m)}function zy(r,o,s){const f=Gn(o,r),m=Ks(s),R=r[10],z=Xf(r,uc(r,m,null,s.onPush?64:16,f,o,R,R.createRenderer(f,s),null,null));r[o.index]=z}function lu(r,o,s,f,m,R){const z=Gn(r,o);!function(r,o,s,f,m,R,z){if(null==R)Te(r)?r.removeAttribute(o,m,s):o.removeAttribute(m);else{const ie=null==z?Mt(R):z(R,f||"",m);Te(r)?r.setAttribute(o,m,ie,s):s?o.setAttributeNS(s,m,ie):o.setAttribute(m,ie)}}(o[11],z,R,r.value,s,f,m)}function Ov(r,o,s,f,m,R){const z=R[o];if(null!==z){const ie=f.setInput;for(let pe=0;pe<z.length;){const Ee=z[pe++],ze=z[pe++],Tt=z[pe++];null!==ie?f.setInput(s,Tt,Ee,ze):s[ze]=Tt}}}function wv(r,o){let s=null,f=0;for(;f<o.length;){const m=o[f];if(0!==m)if(5!==m){if("number"==typeof m)break;r.hasOwnProperty(m)&&(null===s&&(s=[]),s.push(m,r[m],o[f+1])),f+=2}else f+=2;else f+=4}return s}function Ev(r,o,s,f){return new Array(r,!0,!1,o,null,0,f,s,null,null)}function Fm(r,o){const s=Vr(o,r);if(fo(s)){const f=s[1];80&s[2]?au(f,s,f.template,s[8]):s[5]>0&&qp(s)}}function qp(r){for(let f=Lu(r);null!==f;f=ku(f))for(let m=10;m<f.length;m++){const R=f[m];if(1024&R[2]){const z=R[1];au(z,R,z.template,R[8])}else R[5]>0&&qp(R)}const s=r[1].components;if(null!==s)for(let f=0;f<s.length;f++){const m=Vr(s[f],r);fo(m)&&m[5]>0&&qp(m)}}function Um(r,o){const s=Vr(o,r),f=s[1];(function(r,o){for(let s=o.length;s<r.blueprint.length;s++)o.push(r.blueprint[s])})(f,s),Lc(f,s,s[8])}function Xf(r,o){return r[13]?r[14][4]=o:r[13]=o,r[14]=o,o}function Bm(r){for(;r;){r[2]|=64;const o=ud(r);if(mr(r)&&!o)return r;r=o}return null}function Hp(r,o,s){const f=o[10];f.begin&&f.begin();try{au(r,o,r.template,s)}catch(m){throw Ag(o,m),m}finally{f.end&&f.end()}}function Vm(r){!function(r){for(let o=0;o<r.components.length;o++){const s=r.components[o],f=Gd(s),m=f[1];Zp(m,f,m.template,s)}}(r[8])}function $m(r,o,s){Wa(0),o(r,s)}const Ky=(()=>Promise.resolve(null))();function Sg(r){return r[7]||(r[7]=[])}function Dv(r){return r.cleanup||(r.cleanup=[])}function Ag(r,o){const s=r[9],f=s?s.get(j,null):null;f&&f.handleError(o)}function Ig(r,o,s,f,m){for(let R=0;R<s.length;){const z=s[R++],ie=s[R++],pe=o[z],Ee=r.data[z];null!==Ee.setInput?Ee.setInput(pe,m,f,ie):pe[ie]=m}}function sl(r,o,s){const f=en(o,r);!function(r,o,s){Te(r)?r.setValue(o,s):o.textContent=s}(r[11],f,s)}function Gp(r,o,s){let f=s?r.styles:null,m=s?r.classes:null,R=0;if(null!==o)for(let z=0;z<o.length;z++){const ie=o[z];"number"==typeof ie?R=ie:1==R?m=nt(m,ie):2==R&&(f=nt(f,ie+": "+o[++z]+";"))}s?r.styles=f:r.stylesWithoutHost=f,s?r.classes=m:r.classesWithoutHost=m}const al=new To("INJECTOR",-1);class Ng{get(o,s=Yu){if(s===Yu){const f=new Error(`NullInjectorError: No provider for ${Ne(o)}!`);throw f.name="NullInjectorError",f}return s}}const zp=new To("Set Injector scope."),zh={},e0={};let Hm;function Rg(){return void 0===Hm&&(Hm=new Ng),Hm}function Lg(r,o=null,s=null,f){return new n0(r,s,o||Rg(),f)}class n0{constructor(o,s,f,m=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const R=[];s&&xc(s,ie=>this.processProvider(ie,o,s)),xc([o],ie=>this.processInjectorType(ie,[],R)),this.records.set(al,ch(void 0,this));const z=this.records.get(zp);this.scope=null!=z?z.value:null,this.source=m||("object"==typeof o?null:Ne(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,s=Yu,f=Qn.Default){this.assertNotDestroyed();const m=kl(this),R=pr(void 0);try{if(!(f&Qn.SkipSelf)){let ie=this.records.get(o);if(void 0===ie){const pe=("function"==typeof(r=o)||"object"==typeof r&&r instanceof To)&&zn(o);ie=pe&&this.injectableDefInScope(pe)?ch(Yp(o),zh):null,this.records.set(o,ie)}if(null!=ie)return this.hydrate(o,ie)}return(f&Qn.Self?Rg():this.parent).get(o,s=f&Qn.Optional&&s===Yu?null:s)}catch(z){if("NullInjectorError"===z.name){if((z[Rl]=z[Rl]||[]).unshift(Ne(o)),m)throw z;return ac(z,o,"R3InjectorError",this.source)}throw z}finally{pr(R),kl(m)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((f,m)=>o.push(Ne(m))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,s,f){if(!(o=$e(o)))return!1;let m=ji(o);const R=null==m&&o.ngModule||void 0,z=void 0===R?o:R,ie=-1!==f.indexOf(z);if(void 0!==R&&(m=ji(R)),null==m)return!1;if(null!=m.imports&&!ie){let ze;f.push(z);try{xc(m.imports,Tt=>{this.processInjectorType(Tt,s,f)&&(void 0===ze&&(ze=[]),ze.push(Tt))})}finally{}if(void 0!==ze)for(let Tt=0;Tt<ze.length;Tt++){const{ngModule:Ft,providers:vn}=ze[Tt];xc(vn,xn=>this.processProvider(xn,Ft,vn||Rt))}}this.injectorDefTypes.add(z);const pe=xi(z)||(()=>new z);this.records.set(z,ch(pe,zh));const Ee=m.providers;if(null!=Ee&&!ie){const ze=o;xc(Ee,Tt=>this.processProvider(Tt,ze,Ee))}return void 0!==R&&void 0!==o.providers}processProvider(o,s,f){let m=lh(o=$e(o))?o:$e(o&&o.provide);const R=Ym(r=o)?ch(void 0,r.useValue):ch(zm(r),zh);var r;if(lh(o)||!0!==o.multi)this.records.get(m);else{let z=this.records.get(m);z||(z=ch(void 0,zh,!0),z.factory=()=>Xc(z.multi),this.records.set(m,z)),m=o,z.multi.push(o)}this.records.set(m,R)}hydrate(o,s){return s.value===zh&&(s.value=e0,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(r=s.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var r}injectableDefInScope(o){if(!o.providedIn)return!1;const s=$e(o.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Yp(r){const o=zn(r),s=null!==o?o.factory:xi(r);if(null!==s)return s;if(r instanceof To)throw new Error(`Token ${Ne(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const o=r.length;if(o>0){const f=Kc(o,"?");throw new Error(`Can't resolve all parameters for ${Ne(r)}: (${f.join(", ")}).`)}const s=function(r){const o=r&&(r[er]||r[Ji]);if(o){const s=function(r){if(r.hasOwnProperty("name"))return r.name;const o=(""+r).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),o}return null}(r);return null!==s?()=>s.factory(r):()=>new r}(r);throw new Error("unreachable")}function zm(r,o,s){let f;if(lh(r)){const m=$e(r);return xi(m)||Yp(m)}if(Ym(r))f=()=>$e(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))f=()=>r.useFactory(...Xc(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))f=()=>cs($e(r.useExisting));else{const m=$e(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return xi(m)||Yp(m);f=()=>new m(...Xc(r.deps))}return f}function ch(r,o,s=!1){return{factory:r,value:o,multi:s?[]:void 0}}function Ym(r){return null!==r&&"object"==typeof r&&Wl in r}function lh(r){return"function"==typeof r}const Km=function(r,o,s){return function(r,o=null,s=null,f){const m=Lg(r,o,s,f);return m._resolveInjectorDefTypes(),m}({name:s},o,r,s)};class ss{static create(o,s){return Array.isArray(o)?Km(o,s,""):Km(o.providers,o.parent,o.name||"")}}function _0(r,o){Ms(Gd(r)[1],Ar())}function ql(r){let o=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),s=!0;const f=[r];for(;o;){let m;if(gr(r))m=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");m=o.\u0275dir}if(m){if(s){f.push(m);const z=r;z.inputs=h_(r.inputs),z.declaredInputs=h_(r.declaredInputs),z.outputs=h_(r.outputs);const ie=m.hostBindings;ie&&Rv(r,ie);const pe=m.viewQuery,Ee=m.contentQueries;if(pe&&qg(r,pe),Ee&&Nv(r,Ee),He(r.inputs,m.inputs),He(r.declaredInputs,m.declaredInputs),He(r.outputs,m.outputs),gr(m)&&m.data.animation){const ze=r.data;ze.animation=(ze.animation||[]).concat(m.data.animation)}}const R=m.features;if(R)for(let z=0;z<R.length;z++){const ie=R[z];ie&&ie.ngInherit&&ie(r),ie===ql&&(s=!1)}}o=Object.getPrototypeOf(o)}!function(r){let o=0,s=null;for(let f=r.length-1;f>=0;f--){const m=r[f];m.hostVars=o+=m.hostVars,m.hostAttrs=ps(m.hostAttrs,s=ps(s,m.hostAttrs))}}(f)}function h_(r){return r===ii?{}:r===Rt?[]:r}function qg(r,o){const s=r.viewQuery;r.viewQuery=s?(f,m)=>{o(f,m),s(f,m)}:o}function Nv(r,o){const s=r.contentQueries;r.contentQueries=s?(f,m,R)=>{o(f,m,R),s(f,m,R)}:o}function Rv(r,o){const s=r.hostBindings;r.hostBindings=s?(f,m)=>{o(f,m),s(f,m)}:o}ss.THROW_IF_NOT_FOUND=Yu,ss.NULL=new Ng,ss.\u0275prov=bi({token:ss,providedIn:"any",factory:()=>cs(al)}),ss.__NG_ELEMENT_ID__=-1;let Hg=null;function ms(){if(!Hg){const r=En.Symbol;if(r&&r.iterator)Hg=r.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<o.length;++s){const f=o[s];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(Hg=f)}}}return Hg}class Vu{constructor(o){this.wrapped=o}static wrap(o){return new Vu(o)}static unwrap(o){return Vu.isWrapped(o)?o.wrapped:o}static isWrapped(o){return o instanceof Vu}}function Hs(r){return!!p_(r)&&(Array.isArray(r)||!(r instanceof Map)&&ms()in r)}function p_(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function uu(r,o,s){return r[o]=s}function Fc(r,o,s){return!Object.is(r[o],s)&&(r[o]=s,!0)}function Qh(r,o,s,f){const m=Fc(r,o,s);return Fc(r,o+1,f)||m}function g_(r,o,s,f){const m=li();return Fc(m,Xs(),o)&&(hr(),lu(eo(),m,r,o,s,f)),g_}function Fv(r,o,s,f,m,R,z,ie){const pe=li(),Ee=hr(),ze=r+20,Tt=Ee.firstCreatePass?function(r,o,s,f,m,R,z,ie,pe){const Ee=o.consts,ze=Ra(o,r,4,z||null,Ke(Ee,ie));xm(o,s,ze,Ke(Ee,pe)),Ms(o,ze);const Tt=ze.tViews=kc(2,ze,f,m,R,o.directiveRegistry,o.pipeRegistry,null,o.schemas,Ee);return null!==o.queries&&(o.queries.template(o,ze),Tt.queries=o.queries.embeddedTView(ze)),ze}(ze,Ee,pe,o,s,f,m,R,z):Ee.data[ze];Lo(Tt,!1);const Ft=pe[11].createComment("");ru(Ee,pe,Ft,Tt),Oa(Ft,pe),Xf(pe,pe[ze]=Ev(Ft,pe,Ft,Tt)),ur(Tt)&&Jr(Ee,pe,Tt),null!=z&&Oo(pe,Tt,ie)}function Yg(r){return Tr(qt.lFrame.contextLView,20+r)}function tg(r,o=Qn.Default){const s=li();return null===s?cs(r,o):Vn(Ar(),s,$e(r),o)}function nm(r,o,s){const f=li();return Fc(f,Xs(),o)&&zc(hr(),eo(),f,r,o,f[11],s,!1),nm}function D_(r,o,s,f,m){const z=m?"class":"style";Ig(r,s,o.inputs[z],z,f)}function im(r,o,s,f){const m=li(),R=hr(),z=20+r,ie=m[11],pe=m[z]=Rf(ie,o,qt.lFrame.currentNamespace),Ee=R.firstCreatePass?function(r,o,s,f,m,R,z){const ie=o.consts,Ee=Ra(o,r,2,m,Ke(ie,R));return xm(o,s,Ee,Ke(ie,z)),null!==Ee.attrs&&Gp(Ee,Ee.attrs,!1),null!==Ee.mergedAttrs&&Gp(Ee,Ee.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,Ee),Ee}(z,R,m,0,o,s,f):R.data[z];Lo(Ee,!0);const ze=Ee.mergedAttrs;null!==ze&&js(ie,pe,ze);const Tt=Ee.classes;null!==Tt&&nh(ie,pe,Tt);const Ft=Ee.styles;null!==Ft&&th(ie,pe,Ft),64!=(64&Ee.flags)&&ru(R,m,pe,Ee),0===qt.lFrame.elementDepthCount&&Oa(pe,m),qt.lFrame.elementDepthCount++,ur(Ee)&&(Jr(R,m,Ee),kr(R,Ee,m)),null!==f&&Oo(m,Ee)}function S_(){let r=Ar();ko()?Jo():(r=r.parent,Lo(r,!1));const o=r;qt.lFrame.elementDepthCount--;const s=hr();s.firstCreatePass&&(Ms(s,r),Ui(r)&&s.queries.elementEnd(r)),null!=o.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(o)&&D_(s,o,li(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(o)&&D_(s,o,li(),o.stylesWithoutHost,!1)}function Xh(r,o,s,f){im(r,o,s,f),S_()}function x_(r,o,s){const f=li(),m=hr(),R=r+20,z=m.firstCreatePass?function(r,o,s,f,m){const R=o.consts,z=Ke(R,f),ie=Ra(o,r,8,"ng-container",z);return null!==z&&Gp(ie,z,!0),xm(o,s,ie,Ke(R,m)),null!==o.queries&&o.queries.elementStart(o,ie),ie}(R,m,f,o,s):m.data[R];Lo(z,!0);const ie=f[R]=f[11].createComment("");ru(m,f,ie,z),Oa(ie,f),ur(z)&&(Jr(m,f,z),kr(m,z,f)),null!=s&&Oo(f,z)}function A_(){let r=Ar();const o=hr();ko()?Jo():(r=r.parent,Lo(r,!1)),o.firstCreatePass&&(Ms(o,r),Ui(r)&&o.queries.elementEnd(r))}function Kv(r,o,s){x_(r,o,s),A_()}function Xv(){return li()}function I_(r){return!!r&&"function"==typeof r.then}function ey(r){return!!r&&"function"==typeof r.subscribe}const ty=ey;function N_(r,o,s,f){const m=li(),R=hr(),z=Ar();return function(r,o,s,f,m,R,z,ie){const pe=ur(f),ze=r.firstCreatePass&&Dv(r),Tt=o[8],Ft=Sg(o);let vn=!0;if(3&f.type||ie){const qn=Gn(f,o),$i=ie?ie(qn):qn,Di=Ft.length,Br=ie?no=>ie(se(no[f.index])):f.index;if(Te(s)){let no=null;if(!ie&&pe&&(no=function(r,o,s,f){const m=r.cleanup;if(null!=m)for(let R=0;R<m.length-1;R+=2){const z=m[R];if(z===s&&m[R+1]===f){const ie=o[7],pe=m[R+2];return ie.length>pe?ie[pe]:null}"string"==typeof z&&(R+=2)}return null}(r,o,m,f.index)),null!==no)(no.__ngLastListenerFn__||no).__ngNextListenerFn__=R,no.__ngLastListenerFn__=R,vn=!1;else{R=om(f,o,Tt,R,!1);const Ao=s.listen($i,m,R);Ft.push(R,Ao),ze&&ze.push(m,Br,Di,Di+1)}}else R=om(f,o,Tt,R,!0),$i.addEventListener(m,R,z),Ft.push(R),ze&&ze.push(m,Br,Di,z)}else R=om(f,o,Tt,R,!1);const xn=f.outputs;let ci;if(vn&&null!==xn&&(ci=xn[m])){const qn=ci.length;if(qn)for(let $i=0;$i<qn;$i+=2){const Ec=o[ci[$i]][ci[$i+1]].subscribe(R),Hu=Ft.length;Ft.push(R,Ec),ze&&ze.push(m,f.index,Hu,-(Hu+1))}}}(R,m,m[11],z,r,o,!!s,f),N_}function R_(r,o,s,f){try{return!1!==s(f)}catch(m){return Ag(r,m),!1}}function om(r,o,s,f,m){return function R(z){if(z===Function)return f;const ie=2&r.flags?Vr(r.index,o):o;0==(32&o[2])&&Bm(ie);let pe=R_(o,0,f,z),Ee=R.__ngNextListenerFn__;for(;Ee;)pe=R_(o,0,Ee,z)&&pe,Ee=Ee.__ngNextListenerFn__;return m&&!1===pe&&(z.preventDefault(),z.returnValue=!1),pe}}function up(r=1){return function(r){return(qt.lFrame.contextLView=function(r,o){for(;r>0;)o=o[15],r--;return o}(r,qt.lFrame.contextLView))[8]}(r)}function L_(r,o){let s=null;const f=function(r){const o=r.attrs;if(null!=o){const s=o.indexOf(5);if(0==(1&s))return o[s+1]}return null}(r);for(let m=0;m<o.length;m++){const R=o[m];if("*"!==R){if(null===f?yg(r,R,!0):Em(f,R))return m}else s=m}return s}function iy(r){const o=li()[16][6];if(!o.projection){const f=o.projection=Kc(r?r.length:1,null),m=f.slice();let R=o.child;for(;null!==R;){const z=r?L_(R,r):0;null!==z&&(m[z]?m[z].projectionNext=R:f[z]=R,m[z]=R),R=R.next}}}function ry(r,o=0,s){const f=li(),m=hr(),R=Ra(m,20+r,16,null,s||null);null===R.projection&&(R.projection=o),Jo(),64!=(64&R.flags)&&function(r,o,s){Bf(o[11],0,o,s,iu(r,s,o),Dp(s.parent||o[6],s,o))}(m,f,R)}function sy(r,o,s,f,m){const R=r[s+1],z=null===o;let ie=f?Pl(R):ou(R),pe=!1;for(;0!==ie&&(!1===pe||z);){const ze=r[ie+1];V_(r[ie],o)&&(pe=!0,r[ie+1]=f?Bp(ze):Vh(ze)),ie=f?Pl(ze):ou(ze)}pe&&(r[s+1]=f?Vh(R):Bp(R))}function V_(r,o){return null===r||null==o||(Array.isArray(r)?r[1]:r)===o||!(!Array.isArray(r)||"string"!=typeof o)&&pl(r,o)>=0}const ks={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fh(r){return r.substring(ks.key,ks.keyEnd)}function Z_(r){return r.substring(ks.value,ks.valueEnd)}function ay(r,o){const s=ks.textEnd;return s===o?-1:(o=ks.keyEnd=function(r,o,s){for(;o<s&&r.charCodeAt(o)>32;)o++;return o}(r,ks.key=o,s),ig(r,o,s))}function cy(r,o){const s=ks.textEnd;let f=ks.key=ig(r,o,s);return s===f?-1:(f=ks.keyEnd=function(r,o,s){let f;for(;o<s&&(45===(f=r.charCodeAt(o))||95===f||(-33&f)>=65&&(-33&f)<=90||f>=48&&f<=57);)o++;return o}(r,f,s),f=uy(r,f,s),f=ks.value=ig(r,f,s),f=ks.valueEnd=function(r,o,s){let f=-1,m=-1,R=-1,z=o,ie=z;for(;z<s;){const pe=r.charCodeAt(z++);if(59===pe)return ie;34===pe||39===pe?ie=z=rg(r,pe,z,s):o===z-4&&85===R&&82===m&&76===f&&40===pe?ie=z=rg(r,41,z,s):pe>32&&(ie=z),R=m,m=f,f=-33&pe}return ie}(r,f,s),uy(r,f,s))}function Md(r){ks.key=0,ks.keyEnd=0,ks.value=0,ks.valueEnd=0,ks.textEnd=r.length}function ig(r,o,s){for(;o<s&&r.charCodeAt(o)<=32;)o++;return o}function uy(r,o,s,f){return(o=ig(r,o,s))<s&&o++,o}function rg(r,o,s,f){let m=-1,R=s;for(;R<f;){const z=r.charCodeAt(R++);if(z==o&&92!==m)return R;m=92==z&&92===m?0:z}throw new Error}function q_(r,o,s){return pu(r,o,s,!1),q_}function og(r,o){return pu(r,o,null,!0),og}function hu(r){gu(g,dy,r,!1)}function dy(r,o){for(let s=function(r){return Md(r),cy(r,ig(r,0,ks.textEnd))}(o);s>=0;s=cy(o,s))g(r,fh(o),Z_(o))}function H_(r){gu(po,fu,r,!0)}function fu(r,o){for(let s=function(r){return Md(r),ay(r,ig(r,0,ks.textEnd))}(o);s>=0;s=ay(o,s))po(r,fh(o),!0)}function pu(r,o,s,f){const m=li(),R=hr(),z=ys(2);R.firstUpdatePass&&fy(R,r,z,f),o!==Gr&&Fc(m,z,o)&&ee(R,R.data[Xo()],m,m[11],r,m[z+1]=function(r,o){return null==r||("string"==typeof o?r+=o:"object"==typeof r&&(r=Ne(_l(r)))),r}(o,s),f,z)}function gu(r,o,s,f){const m=hr(),R=ys(2);m.firstUpdatePass&&fy(m,null,R,f);const z=li();if(s!==Gr&&Fc(z,R,s)){const ie=m.data[Xo()];if(Vt(ie,f)&&!hy(m,R)){let pe=f?ie.classesWithoutHost:ie.stylesWithoutHost;null!==pe&&(s=nt(pe,s||"")),D_(m,ie,z,s,f)}else!function(r,o,s,f,m,R,z,ie){m===Gr&&(m=Rt);let pe=0,Ee=0,ze=0<m.length?m[0]:null,Tt=0<R.length?R[0]:null;for(;null!==ze||null!==Tt;){const Ft=pe<m.length?m[pe+1]:void 0,vn=Ee<R.length?R[Ee+1]:void 0;let ci,xn=null;ze===Tt?(pe+=2,Ee+=2,Ft!==vn&&(xn=Tt,ci=vn)):null===Tt||null!==ze&&ze<Tt?(pe+=2,xn=ze):(Ee+=2,xn=Tt,ci=vn),null!==xn&&ee(r,o,s,f,xn,ci,z,ie),ze=pe<m.length?m[pe]:null,Tt=Ee<R.length?R[Ee]:null}}(m,ie,z,z[11],z[R+1],z[R+1]=function(r,o,s){if(null==s||""===s)return Rt;const f=[],m=_l(s);if(Array.isArray(m))for(let R=0;R<m.length;R++)r(f,m[R],!0);else if("object"==typeof m)for(const R in m)m.hasOwnProperty(R)&&r(f,R,m[R]);else"string"==typeof m&&o(f,m);return f}(r,o,s),f,R)}}function hy(r,o){return o>=r.expandoStartIndex}function fy(r,o,s,f){const m=r.data;if(null===m[s+1]){const R=m[Xo()],z=hy(r,s);Vt(R,f)&&null===o&&!z&&(o=!1),o=function(r,o,s,f){const m=bs(r);let R=f?o.residualClasses:o.residualStyles;if(null===m)0===(f?o.classBindings:o.styleBindings)&&(s=i(s=h(null,r,o,s,f),o.attrs,f),R=null);else{const z=o.directiveStylingLast;if(-1===z||r[z]!==m)if(s=h(m,r,o,s,f),null===R){let pe=function(r,o,s){const f=s?o.classBindings:o.styleBindings;if(0!==ou(f))return r[Pl(f)]}(r,o,f);void 0!==pe&&Array.isArray(pe)&&(pe=h(null,r,o,pe[1],f),pe=i(pe,o.attrs,f),function(r,o,s,f){r[Pl(s?o.classBindings:o.styleBindings)]=f}(r,o,f,pe))}else R=function(r,o,s){let f;const m=o.directiveEnd;for(let R=1+o.directiveStylingLast;R<m;R++)f=i(f,r[R].hostAttrs,s);return i(f,o.attrs,s)}(r,o,f)}return void 0!==R&&(f?o.residualClasses=R:o.residualStyles=R),s}(m,R,o,f),function(r,o,s,f,m,R){let z=R?o.classBindings:o.styleBindings,ie=Pl(z),pe=ou(z);r[f]=s;let ze,Ee=!1;if(Array.isArray(s)){const Tt=s;ze=Tt[1],(null===ze||pl(Tt,ze)>0)&&(Ee=!0)}else ze=s;if(m)if(0!==pe){const Ft=Pl(r[ie+1]);r[f+1]=rh(Ft,ie),0!==Ft&&(r[Ft+1]=Zh(r[Ft+1],f)),r[ie+1]=function(r,o){return 131071&r|o<<17}(r[ie+1],f)}else r[f+1]=rh(ie,0),0!==ie&&(r[ie+1]=Zh(r[ie+1],f)),ie=f;else r[f+1]=rh(pe,0),0===ie?ie=f:r[pe+1]=Zh(r[pe+1],f),pe=f;Ee&&(r[f+1]=Vh(r[f+1])),sy(r,ze,f,!0),sy(r,ze,f,!1),function(r,o,s,f,m){const R=m?r.residualClasses:r.residualStyles;null!=R&&"string"==typeof o&&pl(R,o)>=0&&(s[f+1]=Bp(s[f+1]))}(o,ze,r,f,R),z=rh(ie,pe),R?o.classBindings=z:o.styleBindings=z}(m,R,o,s,z,f)}}function h(r,o,s,f,m){let R=null;const z=s.directiveEnd;let ie=s.directiveStylingLast;for(-1===ie?ie=s.directiveStart:ie++;ie<z&&(R=o[ie],f=i(f,R.hostAttrs,m),R!==r);)ie++;return null!==r&&(s.directiveStylingLast=ie),f}function i(r,o,s){const f=s?1:2;let m=-1;if(null!==o)for(let R=0;R<o.length;R++){const z=o[R];"number"==typeof z?m=z:m===f&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),po(r,z,!!s||o[++R]))}return void 0===r?null:r}function g(r,o,s){po(r,o,_l(s))}function ee(r,o,s,f,m,R,z,ie){if(!(3&o.type))return;const pe=r.data,Ee=pe[ie+1];Ie(function(r){return 1==(1&r)}(Ee)?he(pe,o,s,m,ou(Ee),z):void 0)||(Ie(R)||function(r){return 2==(2&r)}(Ee)&&(R=he(pe,null,s,m,ie,z)),function(r,o,s,f,m){const R=Te(r);if(o)m?R?r.addClass(s,f):s.classList.add(f):R?r.removeClass(s,f):s.classList.remove(f);else{let z=-1===f.indexOf("-")?void 0:Nc.DashCase;if(null==m)R?r.removeStyle(s,f,z):s.style.removeProperty(f);else{const ie="string"==typeof m&&m.endsWith("!important");ie&&(m=m.slice(0,-10),z|=Nc.Important),R?r.setStyle(s,f,m,z):s.style.setProperty(f,m,ie?"important":"")}}}(f,z,en(Xo(),s),m,R))}function he(r,o,s,f,m,R){const z=null===o;let ie;for(;m>0;){const pe=r[m],Ee=Array.isArray(pe),ze=Ee?pe[1]:pe,Tt=null===ze;let Ft=s[m+1];Ft===Gr&&(Ft=Tt?Rt:void 0);let vn=Tt?_h(Ft,f):ze===f?Ft:void 0;if(Ee&&!Ie(vn)&&(vn=_h(pe,f)),Ie(vn)&&(ie=vn,z))return ie;const xn=r[m+1];m=z?Pl(xn):ou(xn)}if(null!==o){let pe=R?o.residualClasses:o.residualStyles;null!=pe&&(ie=_h(pe,f))}return ie}function Ie(r){return void 0!==r}function Vt(r,o){return 0!=(r.flags&(o?16:32))}function ln(r,o=""){const s=li(),f=hr(),m=r+20,R=f.firstCreatePass?Ra(f,m,1,o,null):f.data[m],z=s[m]=function(r,o){return Te(r)?r.createText(o):r.createTextNode(o)}(s[11],o);ru(f,s,z,R),Lo(R,!1)}function Dn(r){return gi("",r,""),Dn}function gi(r,o,s){const f=li(),m=function(r,o,s,f){return Fc(r,Xs(),s)?o+Mt(s)+f:Gr}(f,r,o,s);return m!==Gr&&sl(f,Xo(),m),gi}function Ii(r,o,s,f,m){const R=li(),z=function(r,o,s,f,m,R){const ie=Qh(r,vs(),s,m);return ys(2),ie?o+Mt(s)+f+Mt(m)+R:Gr}(R,r,o,s,f,m);return z!==Gr&&sl(R,Xo(),z),Ii}function j0(r,o,s){const f=li();return Fc(f,Xs(),o)&&zc(hr(),eo(),f,r,o,f[11],s,!0),j0}function V0(r,o,s){const f=li();if(Fc(f,Xs(),o)){const R=hr(),z=eo();zc(R,z,f,r,o,function(r,o,s){return(null===r||gr(r))&&(s=function(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(s[o.index])),s[11]}(bs(R.data),z,f),s,!0)}return V0}const ag=void 0;var wO=["en",[["a","p"],["AM","PM"],ag],[["AM","PM"],ag,ag],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ag,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ag,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ag,"{1} 'at' {0}",ag],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const o=Math.floor(Math.abs(r)),s=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===s?1:5}];let cm={};function Z0(r){const o=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let s=bb(o);if(s)return s;const f=o.split("-")[0];if(s=bb(f),s)return s;if("en"===f)return wO;throw new Error(`Missing locale data for the locale "${r}".`)}function Cb(r){return Z0(r)[zr.PluralCase]}function bb(r){return r in cm||(cm[r]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[r]),cm[r]}var zr=(()=>((zr=zr||{})[zr.LocaleId=0]="LocaleId",zr[zr.DayPeriodsFormat=1]="DayPeriodsFormat",zr[zr.DayPeriodsStandalone=2]="DayPeriodsStandalone",zr[zr.DaysFormat=3]="DaysFormat",zr[zr.DaysStandalone=4]="DaysStandalone",zr[zr.MonthsFormat=5]="MonthsFormat",zr[zr.MonthsStandalone=6]="MonthsStandalone",zr[zr.Eras=7]="Eras",zr[zr.FirstDayOfWeek=8]="FirstDayOfWeek",zr[zr.WeekendRange=9]="WeekendRange",zr[zr.DateFormat=10]="DateFormat",zr[zr.TimeFormat=11]="TimeFormat",zr[zr.DateTimeFormat=12]="DateTimeFormat",zr[zr.NumberSymbols=13]="NumberSymbols",zr[zr.NumberFormats=14]="NumberFormats",zr[zr.CurrencyCode=15]="CurrencyCode",zr[zr.CurrencySymbol=16]="CurrencySymbol",zr[zr.CurrencyName=17]="CurrencyName",zr[zr.Currencies=18]="Currencies",zr[zr.Directionality=19]="Directionality",zr[zr.PluralCase=20]="PluralCase",zr[zr.ExtraData=21]="ExtraData",zr))();const gy="en-US";let Pb=gy;function $0(r){In(r,"Expected localeId to be defined"),"string"==typeof r&&(Pb=r.toLowerCase().replace(/_/g,"-"))}function G0(r,o,s,f,m){if(r=$e(r),Array.isArray(r))for(let R=0;R<r.length;R++)G0(r[R],o,s,f,m);else{const R=hr(),z=li();let ie=lh(r)?r:$e(r.provide),pe=zm(r);const Ee=Ar(),ze=1048575&Ee.providerIndexes,Tt=Ee.directiveStart,Ft=Ee.providerIndexes>>20;if(lh(r)||!r.multi){const vn=new tc(pe,m,tg),xn=Y0(ie,o,m?ze:ze+Ft,Tt);-1===xn?(Nn(xe(Ee,z),R,ie),z0(R,r,o.length),o.push(ie),Ee.directiveStart++,Ee.directiveEnd++,m&&(Ee.providerIndexes+=1048576),s.push(vn),z.push(vn)):(s[xn]=vn,z[xn]=vn)}else{const vn=Y0(ie,o,ze+Ft,Tt),xn=Y0(ie,o,ze,ze+Ft),ci=vn>=0&&s[vn],qn=xn>=0&&s[xn];if(m&&!qn||!m&&!ci){Nn(xe(Ee,z),R,ie);const $i=function(r,o,s,f,m){const R=new tc(r,s,tg);return R.multi=[],R.index=o,R.componentProviders=0,Gb(R,m,f&&!s),R}(m?M1:P1,s.length,m,f,pe);!m&&qn&&(s[xn].providerFactory=$i),z0(R,r,o.length,0),o.push(ie),Ee.directiveStart++,Ee.directiveEnd++,m&&(Ee.providerIndexes+=1048576),s.push($i),z.push($i)}else z0(R,r,vn>-1?vn:xn,Gb(s[m?xn:vn],pe,!m&&f));!m&&f&&qn&&s[xn].componentProviders++}}}function z0(r,o,s,f){const m=lh(o);if(m||function(r){return!!r.useClass}(o)){const z=(o.useClass||o).prototype.ngOnDestroy;if(z){const ie=r.destroyHooks||(r.destroyHooks=[]);if(!m&&o.multi){const pe=ie.indexOf(s);-1===pe?ie.push(s,[f,z]):ie[pe+1].push(f,z)}else ie.push(s,z)}}}function Gb(r,o,s){return s&&r.componentProviders++,r.multi.push(o)-1}function Y0(r,o,s,f){for(let m=s;m<f;m++)if(o[m]===r)return m;return-1}function P1(r,o,s,f){return W0(this.multi,[])}function M1(r,o,s,f){const m=this.multi;let R;if(this.providerFactory){const z=this.providerFactory.componentProviders,ie=rc(s,s[1],this.providerFactory.index,f);R=ie.slice(0,z),W0(m,R);for(let pe=z;pe<ie.length;pe++)R.push(ie[pe])}else R=[],W0(m,R);return R}function W0(r,o){for(let s=0;s<r.length;s++)o.push((0,r[s])());return o}function zb(r,o=[]){return s=>{s.providersResolver=(f,m)=>function(r,o,s){const f=hr();if(f.firstCreatePass){const m=gr(r);G0(s,f.data,f.blueprint,m,!0),G0(o,f.data,f.blueprint,m,!1)}}(f,m?m(r):r,o)}}class Yb{}const Qb="ngComponent";class E1{resolveComponentFactory(o){throw function(r){const o=Error(`No component factory found for ${Ne(r)}. Did you add it to @NgModule.entryComponents?`);return o[Qb]=r,o}(o)}}class cg{}function Cy(...r){}function um(r,o){return new ph(Gn(r,o))}cg.NULL=new E1;const S1=function(){return um(Ar(),li())};let ph=(()=>{class r{constructor(s){this.nativeElement=s}}return r.__NG_ELEMENT_ID__=S1,r})();function Jb(r){return r instanceof ph?r.nativeElement:r}class by{}let x1=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>I1(),r})();const I1=function(){const r=li(),s=Vr(Ar().index,r);return function(r){return r[11]}(ui(s)?s:r)};let J0=(()=>{class r{}return r.\u0275prov=bi({token:r,providedIn:"root",factory:()=>null}),r})();class Kb{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const K0=new Kb("12.2.5");class Xb{constructor(){}supports(o){return Hs(o)}create(o){return new k1(o)}}const L1=(r,o)=>o;class k1{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||L1}forEachItem(o){let s;for(s=this._itHead;null!==s;s=s._next)o(s)}forEachOperation(o){let s=this._itHead,f=this._removalsHead,m=0,R=null;for(;s||f;){const z=!f||s&&s.currentIndex<tP(f,m,R)?s:f,ie=tP(z,m,R),pe=z.currentIndex;if(z===f)m--,f=f._nextRemoved;else if(s=s._next,null==z.previousIndex)m++;else{R||(R=[]);const Ee=ie-m,ze=pe-m;if(Ee!=ze){for(let Ft=0;Ft<Ee;Ft++){const vn=Ft<R.length?R[Ft]:R[Ft]=0,xn=vn+Ft;ze<=xn&&xn<Ee&&(R[Ft]=vn+1)}R[z.previousIndex]=ze-Ee}}ie!==pe&&o(z,ie,pe)}}forEachPreviousItem(o){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)o(s)}forEachAddedItem(o){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)o(s)}forEachMovedItem(o){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)o(s)}forEachRemovedItem(o){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)o(s)}forEachIdentityChange(o){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)o(s)}diff(o){if(null==o&&(o=[]),!Hs(o))throw new Error(`Error trying to diff '${Ne(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let m,R,z,s=this._itHead,f=!1;if(Array.isArray(o)){this.length=o.length;for(let ie=0;ie<this.length;ie++)R=o[ie],z=this._trackByFn(ie,R),null!==s&&Object.is(s.trackById,z)?(f&&(s=this._verifyReinsertion(s,R,z,ie)),Object.is(s.item,R)||this._addIdentityChange(s,R)):(s=this._mismatch(s,R,z,ie),f=!0),s=s._next}else m=0,function(r,o){if(Array.isArray(r))for(let s=0;s<r.length;s++)o(r[s]);else{const s=r[ms()]();let f;for(;!(f=s.next()).done;)o(f.value)}}(o,ie=>{z=this._trackByFn(m,ie),null!==s&&Object.is(s.trackById,z)?(f&&(s=this._verifyReinsertion(s,ie,z,m)),Object.is(s.item,ie)||this._addIdentityChange(s,ie)):(s=this._mismatch(s,ie,z,m),f=!0),s=s._next,m++}),this.length=m;return this._truncate(s),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,s,f,m){let R;return null===o?R=this._itTail:(R=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(o.item,s)||this._addIdentityChange(o,s),this._reinsertAfter(o,R,m)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(o.item,s)||this._addIdentityChange(o,s),this._moveAfter(o,R,m)):o=this._addAfter(new F1(s,f),R,m),o}_verifyReinsertion(o,s,f,m){let R=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==R?o=this._reinsertAfter(R,o._prev,m):o.currentIndex!=m&&(o.currentIndex=m,this._addToMoves(o,m)),o}_truncate(o){for(;null!==o;){const s=o._next;this._addToRemovals(this._unlink(o)),o=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,s,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const m=o._prevRemoved,R=o._nextRemoved;return null===m?this._removalsHead=R:m._nextRemoved=R,null===R?this._removalsTail=m:R._prevRemoved=m,this._insertAfter(o,s,f),this._addToMoves(o,f),o}_moveAfter(o,s,f){return this._unlink(o),this._insertAfter(o,s,f),this._addToMoves(o,f),o}_addAfter(o,s,f){return this._insertAfter(o,s,f),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,s,f){const m=null===s?this._itHead:s._next;return o._next=m,o._prev=s,null===m?this._itTail=o:m._prev=o,null===s?this._itHead=o:s._next=o,null===this._linkedRecords&&(this._linkedRecords=new eP),this._linkedRecords.put(o),o.currentIndex=f,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const s=o._prev,f=o._next;return null===s?this._itHead=f:s._next=f,null===f?this._itTail=s:f._prev=s,o}_addToMoves(o,s){return o.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eP),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,s){return o.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class F1{constructor(o,s){this.item=o,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class U1{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,s){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===s||s<=f.currentIndex)&&Object.is(f.trackById,o))return f;return null}remove(o){const s=o._prevDup,f=o._nextDup;return null===s?this._head=f:s._nextDup=f,null===f?this._tail=s:f._prevDup=s,null===this._head}}class eP{constructor(){this.map=new Map}put(o){const s=o.trackById;let f=this.map.get(s);f||(f=new U1,this.map.set(s,f)),f.add(o)}get(o,s){const m=this.map.get(o);return m?m.get(o,s):null}remove(o){const s=o.trackById;return this.map.get(s).remove(o)&&this.map.delete(s),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tP(r,o,s){const f=r.previousIndex;if(null===f)return f;let m=0;return s&&f<s.length&&(m=s[f]),f+o+m}class nP{constructor(){}supports(o){return o instanceof Map||p_(o)}create(){return new B1}}class B1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let s;for(s=this._mapHead;null!==s;s=s._next)o(s)}forEachPreviousItem(o){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)o(s)}forEachChangedItem(o){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)o(s)}forEachAddedItem(o){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)o(s)}forEachRemovedItem(o){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)o(s)}diff(o){if(o){if(!(o instanceof Map||p_(o)))throw new Error(`Error trying to diff '${Ne(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(o,(f,m)=>{if(s&&s.key===m)this._maybeAddToChanges(s,f),this._appendAfter=s,s=s._next;else{const R=this._getOrCreateRecordForKey(m,f);s=this._insertBeforeOrAppend(s,R)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let f=s;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,s){if(o){const f=o._prev;return s._next=o,s._prev=f,o._prev=s,f&&(f._next=s),o===this._mapHead&&(this._mapHead=s),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(o,s){if(this._records.has(o)){const m=this._records.get(o);this._maybeAddToChanges(m,s);const R=m._prev,z=m._next;return R&&(R._next=z),z&&(z._prev=R),m._next=null,m._prev=null,m}const f=new j1(o);return this._records.set(o,f),f.currentValue=s,this._addToAdditions(f),f}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,s){Object.is(s,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=s,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,s){o instanceof Map?o.forEach(s):Object.keys(o).forEach(f=>s(o[f],f))}}class j1{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iP(){return new Py([new Xb])}let Py=(()=>{class r{constructor(s){this.factories=s}static create(s,f){if(null!=f){const m=f.factories.slice();s=s.concat(m)}return new r(s)}static extend(s){return{provide:r,useFactory:f=>r.create(s,f||iP()),deps:[[r,new gl,new bc]]}}find(s){const f=this.factories.find(m=>m.supports(s));if(null!=f)return f;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(r){return r.name||typeof r}(s)}'`)}}return r.\u0275prov=bi({token:r,providedIn:"root",factory:iP}),r})();function rP(){return new My([new nP])}let My=(()=>{class r{constructor(s){this.factories=s}static create(s,f){if(f){const m=f.factories.slice();s=s.concat(m)}return new r(s)}static extend(s){return{provide:r,useFactory:f=>r.create(s,f||rP()),deps:[[r,new gl,new bc]]}}find(s){const f=this.factories.find(m=>m.supports(s));if(f)return f;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return r.\u0275prov=bi({token:r,providedIn:"root",factory:rP}),r})();function Oy(r,o,s,f,m=!1){for(;null!==s;){const R=o[s.index];if(null!==R&&f.push(se(R)),yi(R))for(let ie=10;ie<R.length;ie++){const pe=R[ie],Ee=pe[1].firstChild;null!==Ee&&Oy(pe[1],pe,Ee,f)}const z=s.type;if(8&z)Oy(r,o,s.child,f);else if(32&z){const ie=Wd(s,o);let pe;for(;pe=ie();)f.push(pe)}else if(16&z){const ie=Ip(o,s);if(Array.isArray(ie))f.push(...ie);else{const pe=ud(o[16]);Oy(pe[1],pe,ie,f,!0)}}s=m?s.projectionNext:s.next}return f}class Q_{constructor(o,s){this._lView=o,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,s=o[1];return Oy(s,o,s.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(yi(o)){const s=o[8],f=s?s.indexOf(this):-1;f>-1&&(Kd(o,f),Jc(s,f))}this._attachedToViewContainer=!1}kf(this._lView[1],this._lView)}onDestroy(o){Ol(this._lView[1],this._lView,null,o)}markForCheck(){Bm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Hp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,o,s){Ds(!0);try{Hp(r,o,s)}finally{Ds(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,ju(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class Z1 extends Q_{constructor(o){super(o),this._view=o}detectChanges(){Vm(this._view)}checkNoChanges(){!function(r){Ds(!0);try{Vm(r)}finally{Ds(!1)}}(this._view)}get context(){return null}}const q1=function(r){return function(r,o,s){if(ar(r)&&!s){const f=Vr(r.index,o);return new Q_(f,f)}return 47&r.type?new Q_(o[16],o):null}(Ar(),li(),16==(16&r))};let H1=(()=>{class r{}return r.__NG_ELEMENT_ID__=q1,r})();const Y1=[new nP],Q1=new Py([new Xb]),J1=new My(Y1),X1=function(){return wy(Ar(),li())};let J_=(()=>{class r{}return r.__NG_ELEMENT_ID__=X1,r})();const ew=J_,tw=class extends ew{constructor(o,s,f){super(),this._declarationLView=o,this._declarationTContainer=s,this.elementRef=f}createEmbeddedView(o){const s=this._declarationTContainer.tViews,f=uc(this._declarationLView,s,o,16,null,s.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const R=this._declarationLView[19];return null!==R&&(f[19]=R.createEmbeddedView(s)),Lc(s,f,o),new Q_(f)}};function wy(r,o){return 4&r.type?new tw(o,r,um(r,o)):null}class lg{}class oP{}const rw=function(){return cP(Ar(),li())};let Ey=(()=>{class r{}return r.__NG_ELEMENT_ID__=rw,r})();const sw=Ey,sP=class extends sw{constructor(o,s,f){super(),this._lContainer=o,this._hostTNode=s,this._hostLView=f}get element(){return um(this._hostTNode,this._hostLView)}get injector(){return new Pe(this._hostTNode,this._hostLView)}get parentInjector(){const o=yn(this._hostTNode,this._hostLView);if(lo(o)){const s=ic(o,this._hostLView),f=Mo(o);return new Pe(s[1].data[f+8],s)}return new Pe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const s=aP(this._lContainer);return null!==s&&s[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,s,f){const m=o.createEmbeddedView(s||{});return this.insert(m,f),m}createComponent(o,s,f,m,R){const z=f||this.parentInjector;if(!R&&null==o.ngModule&&z){const pe=z.get(lg,null);pe&&(R=pe)}const ie=o.create(z,m,void 0,R);return this.insert(ie.hostView,s),ie}insert(o,s){const f=o._lView,m=f[1];if(yi(f[3])){const ze=this.indexOf(o);if(-1!==ze)this.detach(ze);else{const Tt=f[3],Ft=new sP(Tt,Tt[6],Tt[3]);Ft.detach(Ft.indexOf(o))}}const R=this._adjustIndex(s),z=this._lContainer;!function(r,o,s,f){const m=10+f,R=s.length;f>0&&(s[m-1][4]=o),f<R-10?(o[4]=s[m],Cc(s,10+f,o)):(s.push(o),o[4]=null),o[3]=s;const z=o[17];null!==z&&s!==z&&function(r,o){const s=r[9];o[16]!==o[3][3][16]&&(r[2]=!0),null===s?r[9]=[o]:s.push(o)}(z,o);const ie=o[19];null!==ie&&ie.insertView(r),o[2]|=128}(m,f,z,R);const ie=Ff(R,z),pe=f[11],Ee=fd(pe,z[7]);return null!==Ee&&function(r,o,s,f,m,R){f[0]=m,f[6]=o,ju(r,f,s,1,m,R)}(m,z[6],pe,f,Ee,ie),o.attachToViewContainerRef(),Cc(X0(z),R,o),o}move(o,s){return this.insert(o,s)}indexOf(o){const s=aP(this._lContainer);return null!==s?s.indexOf(o):-1}remove(o){const s=this._adjustIndex(o,-1),f=Kd(this._lContainer,s);f&&(Jc(X0(this._lContainer),s),kf(f[1],f))}detach(o){const s=this._adjustIndex(o,-1),f=Kd(this._lContainer,s);return f&&null!=Jc(X0(this._lContainer),s)?new Q_(f):null}_adjustIndex(o,s=0){return null==o?this.length+s:o}};function aP(r){return r[8]}function X0(r){return r[8]||(r[8]=[])}function cP(r,o){let s;const f=o[r.index];if(yi(f))s=f;else{let m;if(8&r.type)m=se(f);else{const R=o[11];m=R.createComment("");const z=Gn(r,o);rl(R,fd(R,z),m,function(r,o){return Te(r)?r.nextSibling(o):o.nextSibling}(R,z),!1)}o[r.index]=s=Ev(f,o,m,r),Xf(o,s)}return new sP(s,r,o)}const pm={};class DP extends cg{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const s=Cn(o);return new xP(s,this.ngModule)}}function SP(r){const o=[];for(let s in r)r.hasOwnProperty(s)&&o.push({propName:r[s],templateName:s});return o}const nE=new To("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ld});class xP extends Yb{constructor(o,s){super(),this.componentDef=o,this.ngModule=s,this.componentType=o.type,this.selector=o.selectors.map(ih).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return SP(this.componentDef.inputs)}get outputs(){return SP(this.componentDef.outputs)}create(o,s,f,m){const R=(m=m||this.ngModule)?function(r,o){return{get:(s,f,m)=>{const R=r.get(s,pm,m);return R!==pm||f===pm?R:o.get(s,f,m)}}}(o,m.injector):o,z=R.get(by,fe),ie=R.get(J0,null),pe=z.createRenderer(null,this.componentDef),Ee=this.componentDef.selectors[0][0]||"div",ze=f?function(r,o,s){if(Te(r))return r.selectRootElement(o,s===vt.ShadowDom);let f="string"==typeof o?r.querySelector(o):o;return f.textContent="",f}(pe,f,this.componentDef.encapsulation):Rf(z.createRenderer(null,this.componentDef),Ee,function(r){const o=r.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(Ee)),Tt=this.componentDef.onPush?576:528,Ft=function(r,o){return{components:[],scheduler:r||ld,clean:Ky,playerHandler:o||null,flags:0}}(),vn=kc(0,null,null,1,0,null,null,null,null,null),xn=uc(null,vn,Ft,Tt,null,null,z,pe,ie,R);let ci,qn;vc(xn);try{const $i=function(r,o,s,f,m,R){const z=s[1];s[20]=r;const pe=Ra(z,20,2,"#host",null),Ee=pe.mergedAttrs=o.hostAttrs;null!==Ee&&(Gp(pe,Ee,!0),null!==r&&(js(m,r,Ee),null!==pe.classes&&nh(m,r,pe.classes),null!==pe.styles&&th(m,r,pe.styles)));const ze=f.createRenderer(r,o),Tt=uc(s,Ks(o),null,o.onPush?64:16,s[20],pe,f,ze,R||null,null);return z.firstCreatePass&&(Nn(xe(pe,s),z,o.type),Pv(z,pe),Mv(pe,s.length,1)),Xf(s,Tt),s[20]=Tt}(ze,this.componentDef,xn,z,pe);if(ze)if(f)js(pe,ze,["ng-version",K0.full]);else{const{attrs:Di,classes:Br}=function(r){const o=[],s=[];let f=1,m=2;for(;f<r.length;){let R=r[f];if("string"==typeof R)2===m?""!==R&&o.push(R,r[++f]):8===m&&s.push(R);else{if(!ol(m))break;m=R}f++}return{attrs:o,classes:s}}(this.componentDef.selectors[0]);Di&&js(pe,ze,Di),Br&&Br.length>0&&nh(pe,ze,Br.join(" "))}if(qn=Pr(vn,20),void 0!==s){const Di=qn.projection=[];for(let Br=0;Br<this.ngContentSelectors.length;Br++){const no=s[Br];Di.push(null!=no?Array.from(no):null)}}ci=function(r,o,s,f,m){const R=s[1],z=function(r,o,s){const f=Ar();r.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),km(r,f,o,_c(r,o,1,null),s));const m=rc(o,r,f.directiveStart,f);Oa(m,o);const R=Gn(f,o);return R&&Oa(R,o),m}(R,s,o);if(f.components.push(z),r[8]=z,m&&m.forEach(pe=>pe(z,o)),o.contentQueries){const pe=Ar();o.contentQueries(1,z,pe.directiveStart)}const ie=Ar();return!R.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(dc(ie.index),bv(s[1],ie,0,ie.directiveStart,ie.directiveEnd,o),Eg(o,z)),z}($i,this.componentDef,xn,Ft,[_0]),Lc(vn,xn,null)}finally{Ss()}return new oE(this.componentType,ci,um(qn,xn),xn,qn)}}class oE extends class{}{constructor(o,s,f,m,R){super(),this.location=f,this._rootLView=m,this._tNode=R,this.instance=s,this.hostView=this.changeDetectorRef=new Z1(m),this.componentType=o}get injector(){return new Pe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const gm=new Map;class cE extends lg{constructor(o,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new DP(this);const f=Pi(o),m=o[Tn]||null;m&&$0(m),this._bootstrapComponents=Mc(f.bootstrap),this._r3Injector=Lg(o,s,[{provide:lg,useValue:this},{provide:cg,useValue:this.componentFactoryResolver}],Ne(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,s=ss.THROW_IF_NOT_FOUND,f=Qn.Default){return o===ss||o===lg||o===al?this:this._r3Injector.get(o,s,f)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class hC extends oP{constructor(o){super(),this.moduleType=o,null!==Pi(o)&&function(r){const o=new Set;!function s(f){const m=Pi(f,!0),R=m.id;null!==R&&(function(r,o,s){if(o&&o!==s)throw new Error(`Duplicate module registered for ${r} - ${Ne(o)} vs ${Ne(o.name)}`)}(R,gm.get(R),f),gm.set(R,f));const z=Mc(m.imports);for(const ie of z)o.has(ie)||(o.add(ie),s(ie))}(r)}(o)}create(o){return new cE(this.moduleType,o)}}function NP(r,o,s){const f=Kr()+r,m=li();return m[f]===Gr?uu(m,f,s?o.call(s):o()):function(r,o){return r[o]}(m,f)}function RP(r,o,s,f){return kP(li(),Kr(),r,o,s,f)}function LP(r,o,s,f,m){return FP(li(),Kr(),r,o,s,f,m)}function ov(r,o){const s=r[o];return s===Gr?void 0:s}function kP(r,o,s,f,m,R){const z=o+s;return Fc(r,z,m)?uu(r,z+1,R?f.call(R,m):f(m)):ov(r,z+1)}function FP(r,o,s,f,m,R,z){const ie=o+s;return Qh(r,ie,m,R)?uu(r,ie+2,z?f.call(z,m,R):f(m,R)):ov(r,ie+2)}function VP(r,o){const s=hr();let f;const m=r+20;s.firstCreatePass?(f=function(r,o){if(o)for(let s=o.length-1;s>=0;s--){const f=o[s];if(r===f.name)return f}throw new Zt("302",`The pipe '${r}' could not be found!`)}(o,s.pipeRegistry),s.data[m]=f,f.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(m,f.onDestroy)):f=s.data[m];const R=f.factory||(f.factory=xi(f.type)),z=pr(tg);try{const ie=As(!1),pe=R();return As(ie),function(r,o,s,f){s>=r.data.length&&(r.data[s]=null,r.blueprint[s]=null),o[s]=f}(s,li(),m,pe),pe}finally{pr(z)}}function ZP(r,o,s){const f=r+20,m=li(),R=Tr(m,f);return av(m,sv(m,f)?kP(m,Kr(),o,R.transform,s,R):R.transform(s))}function $P(r,o,s,f){const m=r+20,R=li(),z=Tr(R,m);return av(R,sv(R,m)?FP(R,Kr(),o,z.transform,s,f,z):z.transform(s,f))}function sv(r,o){return r[1].data[o].pure}function av(r,o){return Vu.isWrapped(o)&&(o=Vu.unwrap(o),r[vs()]=Gr),o}function fC(r){return o=>{setTimeout(r,void 0,o)}}const gh=class extends n.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,s,f){var m,R,z;let ie=o,pe=s||(()=>null),Ee=f;if(o&&"object"==typeof o){const Tt=o;ie=null===(m=Tt.next)||void 0===m?void 0:m.bind(Tt),pe=null===(R=Tt.error)||void 0===R?void 0:R.bind(Tt),Ee=null===(z=Tt.complete)||void 0===z?void 0:z.bind(Tt)}this.__isAsync&&(pe=fC(pe),ie&&(ie=fC(ie)),Ee&&(Ee=fC(Ee)));const ze=super.subscribe({next:ie,error:pe,complete:Ee});return o instanceof te.w&&o.add(ze),ze}};function bE(){return this._results[ms()]()}class Ay{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=ms(),f=Ay.prototype;f[s]||(f[s]=bE)}get changes(){return this._changes||(this._changes=new gh)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,s){return this._results.reduce(o,s)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,s){const f=this;f.dirty=!1;const m=pc(o);(this._changesDetected=!function(r,o,s){if(r.length!==o.length)return!1;for(let f=0;f<r.length;f++){let m=r[f],R=o[f];if(s&&(m=s(m),R=s(R)),R!==m)return!1}return!0}(f._results,m,s))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class pC{constructor(o){this.queryList=o,this.matches=null}clone(){return new pC(this.queryList)}setDirty(){this.queryList.setDirty()}}class gC{constructor(o=[]){this.queries=o}createEmbeddedView(o){const s=o.queries;if(null!==s){const f=null!==o.contentQueries?o.contentQueries[0]:s.length,m=[];for(let R=0;R<f;R++){const z=s.getByIndex(R);m.push(this.queries[z.indexInDeclarationView].clone())}return new gC(m)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let s=0;s<this.queries.length;s++)null!==KP(o,s).matches&&this.queries[s].setDirty()}}class qP{constructor(o,s,f=null){this.predicate=o,this.flags=s,this.read=f}}class mC{constructor(o=[]){this.queries=o}elementStart(o,s){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(o,s)}elementEnd(o){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(o)}embeddedTView(o){let s=null;for(let f=0;f<this.length;f++){const m=null!==s?s.length:0,R=this.getByIndex(f).embeddedTView(o,m);R&&(R.indexInDeclarationView=f,null!==s?s.push(R):s=[R])}return null!==s?new mC(s):null}template(o,s){for(let f=0;f<this.queries.length;f++)this.queries[f].template(o,s)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class _C{constructor(o,s=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(o,s){this.isApplyingToNode(s)&&this.matchTNode(o,s)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,s){this.elementStart(o,s)}embeddedTView(o,s){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,s),new _C(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let f=o.parent;for(;null!==f&&8&f.type&&f.index!==s;)f=f.parent;return s===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(o,s){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const R=f[m];this.matchTNodeWithReadOption(o,s,OE(s,R)),this.matchTNodeWithReadOption(o,s,ts(s,o,R,!1,!1))}else f===J_?4&s.type&&this.matchTNodeWithReadOption(o,s,-1):this.matchTNodeWithReadOption(o,s,ts(s,o,f,!1,!1))}matchTNodeWithReadOption(o,s,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===ph||m===Ey||m===J_&&4&s.type)this.addMatch(s.index,-2);else{const R=ts(s,o,m,!1,!1);null!==R&&this.addMatch(s.index,R)}else this.addMatch(s.index,f)}}addMatch(o,s){null===this.matches?this.matches=[o,s]:this.matches.push(o,s)}}function OE(r,o){const s=r.localNames;if(null!==s)for(let f=0;f<s.length;f+=2)if(s[f]===o)return s[f+1];return null}function EE(r,o,s,f){return-1===s?function(r,o){return 11&r.type?um(r,o):4&r.type?wy(r,o):null}(o,r):-2===s?function(r,o,s){return s===ph?um(o,r):s===J_?wy(o,r):s===Ey?cP(o,r):void 0}(r,o,f):rc(r,r[1],s,o)}function HP(r,o,s,f){const m=o[19].queries[f];if(null===m.matches){const R=r.data,z=s.matches,ie=[];for(let pe=0;pe<z.length;pe+=2){const Ee=z[pe];ie.push(Ee<0?null:EE(o,R[Ee],z[pe+1],s.metadata.read))}m.matches=ie}return m.matches}function vC(r,o,s,f){const m=r.queries.getByIndex(s),R=m.matches;if(null!==R){const z=HP(r,o,m,s);for(let ie=0;ie<R.length;ie+=2){const pe=R[ie];if(pe>0)f.push(z[ie/2]);else{const Ee=R[ie+1],ze=o[-pe];for(let Tt=10;Tt<ze.length;Tt++){const Ft=ze[Tt];Ft[17]===Ft[3]&&vC(Ft[1],Ft,Ee,f)}if(null!==ze[9]){const Tt=ze[9];for(let Ft=0;Ft<Tt.length;Ft++){const vn=Tt[Ft];vC(vn[1],vn,Ee,f)}}}}}return f}function GP(r){const o=li(),s=hr(),f=Zc();Wa(f+1);const m=KP(s,f);if(r.dirty&&ro(o)===(2==(2&m.metadata.flags))){if(null===m.matches)r.reset([]);else{const R=m.crossesNgTemplate?vC(s,o,f,[]):HP(s,o,m,f);r.reset(R,Jb),r.notifyOnChanges()}return!0}return!1}function zP(r,o,s){const f=hr();f.firstCreatePass&&(JP(f,new qP(r,o,s),-1),2==(2&o)&&(f.staticViewQueries=!0)),QP(f,li(),o)}function YP(r,o,s,f){const m=hr();if(m.firstCreatePass){const R=Ar();JP(m,new qP(o,s,f),R.index),function(r,o){const s=r.contentQueries||(r.contentQueries=[]);o!==(s.length?s[s.length-1]:-1)&&s.push(r.queries.length-1,o)}(m,r),2==(2&s)&&(m.staticContentQueries=!0)}QP(m,li(),s)}function WP(){return r=li(),o=Zc(),r[19].queries[o].queryList;var r,o}function QP(r,o,s){const f=new Ay(4==(4&s));Ol(r,o,f,f.destroy),null===o[19]&&(o[19]=new gC),o[19].queries.push(new pC(f))}function JP(r,o,s){null===r.queries&&(r.queries=new mC),r.queries.track(new _C(o,s))}function KP(r,o){return r.queries.getByIndex(o)}function XP(r,o){return wy(r,o)}const zE=ns("Input",r=>({bindingPropertyName:r})),YE=ns("Output",r=>({bindingPropertyName:r})),OC=new To("Application Initializer");let _m=(()=>{class r{constructor(s){this.appInits=s,this.resolve=Cy,this.reject=Cy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const s=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const R=this.appInits[m]();if(I_(R))s.push(R);else if(ty(R)){const z=new Promise((ie,pe)=>{R.subscribe({complete:ie,error:pe})});s.push(z)}}Promise.all(s).then(()=>{f()}).catch(m=>{this.reject(m)}),0===s.length&&f(),this.initialized=!0}}return r.\u0275fac=function(s){return new(s||r)(cs(OC,8))},r.\u0275prov=bi({token:r,factory:r.\u0275fac}),r})();const _M=new To("AppId"),rT={provide:_M,useFactory:function(){return`${wC()}${wC()}${wC()}`},deps:[]};function wC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vM=new To("Platform Initializer"),yM=new To("Platform ID"),CM=new To("appBootstrapListener");let bM=(()=>{class r{log(s){console.log(s)}warn(s){console.warn(s)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=bi({token:r,factory:r.\u0275fac}),r})();const Ry=new To("LocaleId"),PM=new To("DefaultCurrencyCode");class sT{constructor(o,s){this.ngModuleFactory=o,this.componentFactories=s}}const EC=function(r){return new hC(r)},aT=EC,cT=function(r){return Promise.resolve(EC(r))},MM=function(r){const o=EC(r),f=Mc(Pi(r).declarations).reduce((m,R)=>{const z=Cn(R);return z&&m.push(new xP(z)),m},[]);return new sT(o,f)},lT=MM,uT=function(r){return Promise.resolve(MM(r))};let lv=(()=>{class r{constructor(){this.compileModuleSync=aT,this.compileModuleAsync=cT,this.compileModuleAndAllComponentsSync=lT,this.compileModuleAndAllComponentsAsync=uT}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=bi({token:r,factory:r.\u0275fac}),r})();const OM=new To("compilerOptions"),hT=(()=>Promise.resolve(0))();function TC(r){"undefined"==typeof Zone?hT.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class mu{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gh(!1),this.onMicrotaskEmpty=new gh(!1),this.onStable=new gh(!1),this.onError=new gh(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&s,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function(){let r=En.requestAnimationFrame,o=En.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&o){const s=r[Zone.__symbol__("OriginalDelegate")];s&&(r=s);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(r){const o=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(En,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,SC(r),r.isCheckStableRunning=!0,DC(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),SC(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,f,m,R,z,ie)=>{try{return wM(r),s.invokeTask(m,R,z,ie)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===R.type||r.shouldCoalesceRunChangeDetection)&&o(),EM(r)}},onInvoke:(s,f,m,R,z,ie,pe)=>{try{return wM(r),s.invoke(m,R,z,ie,pe)}finally{r.shouldCoalesceRunChangeDetection&&o(),EM(r)}},onHasTask:(s,f,m,R)=>{s.hasTask(m,R),f===m&&("microTask"==R.change?(r._hasPendingMicrotasks=R.microTask,SC(r),DC(r)):"macroTask"==R.change&&(r.hasPendingMacrotasks=R.macroTask))},onHandleError:(s,f,m,R)=>(s.handleError(m,R),r.runOutsideAngular(()=>r.onError.emit(R)),!1)})}(m)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(mu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,s,f){return this._inner.run(o,s,f)}runTask(o,s,f,m){const R=this._inner,z=R.scheduleEventTask("NgZoneEvent: "+m,o,pT,Cy,Cy);try{return R.runTask(z,s,f)}finally{R.cancelTask(z)}}runGuarded(o,s,f){return this._inner.runGuarded(o,s,f)}runOutsideAngular(o){return this._outer.run(o)}}const pT={};function DC(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function SC(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function wM(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function EM(r){r._nesting--,DC(r)}class _T{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gh,this.onMicrotaskEmpty=new gh,this.onStable=new gh,this.onError=new gh}run(o,s,f){return o.apply(s,f)}runGuarded(o,s,f){return o.apply(s,f)}runOutsideAngular(o){return o()}runTask(o,s,f,m){return o.apply(s,f)}}let TM=(()=>{class r{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mu.assertNotInAngularZone(),TC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())TC(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(s)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,f,m){let R=-1;f&&f>0&&(R=setTimeout(()=>{this._callbacks=this._callbacks.filter(z=>z.timeoutId!==R),s(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:s,timeoutId:R,updateCb:m})}whenStable(s,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,f,m){return[]}}return r.\u0275fac=function(s){return new(s||r)(cs(mu))},r.\u0275prov=bi({token:r,factory:r.\u0275fac}),r})(),DM=(()=>{class r{constructor(){this._applications=new Map,xC.addToWindow(this)}registerApplication(s,f){this._applications.set(s,f)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,f=!0){return xC.findTestabilityInTree(this,s,f)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=bi({token:r,factory:r.\u0275fac}),r})();class vT{addToWindow(o){}findTestabilityInTree(o,s,f){return null}}function yT(r){xC=r}let xC=new vT,SM=!0,xM=!1;function AC(){return xM=!0,SM}function CT(){if(xM)throw new Error("Cannot enable prod mode after platform setup.");SM=!1}let Ed;const AM=new To("AllowMultipleToken");class TT{constructor(o,s){this.name=o,this.token=s}}function IM(r,o,s=[]){const f=`Platform: ${o}`,m=new To(f);return(R=[])=>{let z=IC();if(!z||z.injector.get(AM,!1))if(r)r(s.concat(R).concat({provide:m,useValue:!0}));else{const ie=s.concat(R).concat({provide:m,useValue:!0},{provide:zp,useValue:"platform"});!function(r){if(Ed&&!Ed.destroyed&&!Ed.injector.get(AM,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ed=r.get(NM);const o=r.get(vM,null);o&&o.forEach(s=>s())}(ss.create({providers:ie,name:f}))}return function(r){const o=IC();if(!o)throw new Error("No platform exists!");if(!o.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(m)}}function IC(){return Ed&&!Ed.destroyed?Ed:null}let NM=(()=>{class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,f){const ie=function(r,o){let s;return s="noop"===r?new _T:("zone.js"===r?void 0:r)||new mu({enableLongStackTrace:AC(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),s}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),pe=[{provide:mu,useValue:ie}];return ie.run(()=>{const Ee=ss.create({providers:pe,parent:this.injector,name:s.moduleType.name}),ze=s.create(Ee),Tt=ze.injector.get(j,null);if(!Tt)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return ie.runOutsideAngular(()=>{const Ft=ie.onError.subscribe({next:vn=>{Tt.handleError(vn)}});ze.onDestroy(()=>{NC(this._modules,ze),Ft.unsubscribe()})}),function(r,o,s){try{const f=s();return I_(f)?f.catch(m=>{throw o.runOutsideAngular(()=>r.handleError(m)),m}):f}catch(f){throw o.runOutsideAngular(()=>r.handleError(f)),f}}(Tt,ie,()=>{const Ft=ze.injector.get(_m);return Ft.runInitializers(),Ft.donePromise.then(()=>($0(ze.injector.get(Ry,gy)||gy),this._moduleDoBootstrap(ze),ze))})})}bootstrapModule(s,f=[]){const m=RM({},f);return function(r,o,s){const f=new hC(s);return Promise.resolve(f)}(0,0,s).then(R=>this.bootstrapModuleFactory(R,m))}_moduleDoBootstrap(s){const f=s.injector.get(uv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${Ne(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(f)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(s){return new(s||r)(cs(ss))},r.\u0275prov=bi({token:r,factory:r.\u0275fac}),r})();function RM(r,o){return Array.isArray(o)?o.reduce(RM,r):Object.assign(Object.assign({},r),o)}let uv=(()=>{class r{constructor(s,f,m,R,z){this._zone=s,this._injector=f,this._exceptionHandler=m,this._componentFactoryResolver=R,this._initStatus=z,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const ie=new Oe.y(Ee=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Ee.next(this._stable),Ee.complete()})}),pe=new Oe.y(Ee=>{let ze;this._zone.runOutsideAngular(()=>{ze=this._zone.onStable.subscribe(()=>{mu.assertNotInAngularZone(),TC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Ee.next(!0))})})});const Tt=this._zone.onUnstable.subscribe(()=>{mu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Ee.next(!1)}))});return()=>{ze.unsubscribe(),Tt.unsubscribe()}});this.isStable=(0,we.T)(ie,pe.pipe((0,Fe.B)()))}bootstrap(s,f){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let m;m=s instanceof Yb?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(m.componentType);const R=function(r){return r.isBoundToModule}(m)?void 0:this._injector.get(lg),ie=m.create(ss.NULL,[],f||m.selector,R),pe=ie.location.nativeElement,Ee=ie.injector.get(TM,null),ze=Ee&&ie.injector.get(DM);return Ee&&ze&&ze.registerApplication(pe,Ee),ie.onDestroy(()=>{this.detachView(ie.hostView),NC(this.components,ie),ze&&ze.unregisterApplication(pe)}),this._loadComponent(ie),ie}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const f=s;this._views.push(f),f.attachToAppRef(this)}detachView(s){const f=s;NC(this._views,f),f.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(CM,[]).concat(this._bootstrapListeners).forEach(m=>m(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(s){return new(s||r)(cs(mu),cs(ss),cs(j),cs(cg),cs(_m))},r.\u0275prov=bi({token:r,factory:r.\u0275fac}),r})();function NC(r,o){const s=r.indexOf(o);s>-1&&r.splice(s,1)}class NT{}class LT{}const kT={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let FT=(()=>{class r{constructor(s,f){this._compiler=s,this._config=f||kT}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[f,m]=s.split("#");return void 0===m&&(m="default"),X(8255)(f).then(R=>R[m]).then(R=>UM(R,f,m)).then(R=>this._compiler.compileModuleAsync(R))}loadFactory(s){let[f,m]=s.split("#"),R="NgFactory";return void 0===m&&(m="default",R=""),X(8255)(this._config.factoryPathPrefix+f+this._config.factoryPathSuffix).then(z=>z[m+R]).then(z=>UM(z,f,m))}}return r.\u0275fac=function(s){return new(s||r)(cs(lv),cs(LT,8))},r.\u0275prov=bi({token:r,factory:r.\u0275fac}),r})();function UM(r,o,s){if(!r)throw new Error(`Cannot find '${s}' in '${o}'`);return r}const HT=function(r){return null},zT=IM(null,"core",[{provide:yM,useValue:"unknown"},{provide:NM,deps:[ss]},{provide:DM,deps:[]},{provide:bM,deps:[]}]),KT=[{provide:uv,useClass:uv,deps:[mu,ss,j,cg,_m]},{provide:nE,deps:[mu],useFactory:function(r){let o=[];return r.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(s){o.push(s)}}},{provide:_m,useClass:_m,deps:[[new bc,OC]]},{provide:lv,useClass:lv,deps:[]},rT,{provide:Py,useFactory:function(){return Q1},deps:[]},{provide:My,useFactory:function(){return J1},deps:[]},{provide:Ry,useFactory:function(r){return $0(r=r||"undefined"!=typeof $localize&&$localize.locale||gy),r},deps:[[new Kl(Ry),new bc,new gl]]},{provide:PM,useValue:"USD"}];let eD=(()=>{class r{constructor(s){}}return r.\u0275fac=function(s){return new(s||r)(cs(uv))},r.\u0275mod=Ut({type:r}),r.\u0275inj=ri({providers:KT}),r})()},3499:(Se,Ze,X)=>{"use strict";X.d(Ze,{iC:()=>kn,Ji:()=>gn,Bg:()=>Rn,f:()=>Zn,Qx:()=>mn,eK:()=>Un});var n=X(4762),te=X(7716),Oe=X(5917),we=X(9193),Fe=X(8583),Ue=X(7393),He=X(5319),Ne=X(8891),nt=X(9765);class qe{constructor(Pn,En,Jn,Yn){this.keySelector=Pn,this.elementSelector=En,this.durationSelector=Jn,this.subjectSelector=Yn}call(Pn,En){return En.subscribe(new $e(Pn,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class $e extends Ue.L{constructor(Pn,En,Jn,Yn,ii){super(Pn),this.keySelector=En,this.elementSelector=Jn,this.durationSelector=Yn,this.subjectSelector=ii,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(Pn){let En;try{En=this.keySelector(Pn)}catch(Jn){return void this.error(Jn)}this._group(Pn,En)}_group(Pn,En){let Jn=this.groups;Jn||(Jn=this.groups=new Map);let ii,Yn=Jn.get(En);if(this.elementSelector)try{ii=this.elementSelector(Pn)}catch(Rt){this.error(Rt)}else ii=Pn;if(!Yn){Yn=this.subjectSelector?this.subjectSelector():new nt.xQ,Jn.set(En,Yn);const Rt=new Ot(En,Yn,this);if(this.destination.next(Rt),this.durationSelector){let ut;try{ut=this.durationSelector(new Ot(En,Yn))}catch($t){return void this.error($t)}this.add(ut.subscribe(new Qe(En,Yn,this)))}}Yn.closed||Yn.next(ii)}_error(Pn){const En=this.groups;En&&(En.forEach((Jn,Yn)=>{Jn.error(Pn)}),En.clear()),this.destination.error(Pn)}_complete(){const Pn=this.groups;Pn&&(Pn.forEach((En,Jn)=>{En.complete()}),Pn.clear()),this.destination.complete()}removeGroup(Pn){this.groups.delete(Pn)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Qe extends Ue.L{constructor(Pn,En,Jn){super(En),this.key=Pn,this.group=En,this.parent=Jn}_next(Pn){this.complete()}_unsubscribe(){const{parent:Pn,key:En}=this;this.key=this.parent=null,Pn&&Pn.removeGroup(En)}}class Ot extends Ne.y{constructor(Pn,En,Jn){super(),this.key=Pn,this.groupSubject=En,this.refCountSubscription=Jn}_subscribe(Pn){const En=new He.w,{refCountSubscription:Jn,groupSubject:Yn}=this;return Jn&&!Jn.closed&&En.add(new Zt(Jn)),En.add(Yn.subscribe(Pn)),En}}class Zt extends He.w{constructor(Pn){super(),this.parent=Pn,Pn.count++}unsubscribe(){const Pn=this.parent;!Pn.closed&&!this.closed&&(super.unsubscribe(),Pn.count-=1,0===Pn.count&&Pn.attemptedToUnsubscribe&&Pn.unsubscribe())}}var _t=X(9746),Ae=X(3190),Mt=X(8002),ce=X(7349),ve=X(5435),Me=X(9773),tt=X(7519),bt=X(9761),Dt=X(9328),cn=X(9126),gt=X(8747),Ht=X(9534),Lt=X(5987),on=X(9075),sn=X(3820),pn=X(7841);const Yt=new te.OlP("angularfire2.analytics.analyticsCollectionEnabled"),gn=new te.OlP("angularfire2.analytics.appVersion"),kn=new te.OlP("angularfire2.analytics.appName"),Zn=new te.OlP("angularfire2.analytics.debugMode"),In=new te.OlP("angularfire2.analytics.config"),fi="dataLayer";let zn=(()=>{class _n{constructor(En,Jn,Yn,ii,Rt,ut,$t,zt,Gt){if(this.analyticsInitialized=new Promise(()=>{}),(0,Fe.NF)($t)){window[fi]=window[fi]||[];const ti=(...it)=>"config"===it[0]&&"firebase"===it[2].origin&&(this.measurementId=it[1],!0),Fn=it=>{window.gtag=(...Ct)=>{it&&it(...Ct),"event"===Ct[0]&&Ct[2].send_to===this.measurementId&&(ii&&(Ct[2].app_name=ii),Yn&&(Ct[2].app_version=Yn)),Rt&&"undefined"!=typeof console&&console.info(...Ct),function(...dt){window[fi].push(arguments)}(...Ct)}};window[fi].some(ti)?(this.analyticsInitialized=Promise.resolve(),Fn()):this.analyticsInitialized=new Promise(it=>{Fn((...Ct)=>{ti(...Ct)&&it()})}),ut&&this.updateConfig(ut),Rt&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const Tn=(0,Oe.of)(void 0).pipe((0,_t.QV)(Gt.outsideAngular),(0,Ae.w)(Ht.Gb),(0,Ae.w)(ti=>ti?zt.runOutsideAngular(()=>X.e(399).then(X.bind(X,399))):we.E),(0,Mt.U)(()=>(0,cn.cc)("analytics","AngularFireAnalytics",En.name,()=>{const ti=En.analytics();return!1===Jn&&ti.setAnalyticsCollectionEnabled(!1),ti},[En,Jn,ut,Rt])),(0,ce.d)({bufferSize:1,refCount:!1}));return(0,gt.pX)(this,Tn,zt)}updateConfig(En){return(0,n.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},En),{update:!0}))})}}return _n.\u0275fac=function(En){return new(En||_n)(te.LFG(gt.Ot),te.LFG(Yt,8),te.LFG(gn,8),te.LFG(kn,8),te.LFG(Zn,8),te.LFG(In,8),te.LFG(te.Lbi),te.LFG(te.R0b),te.LFG(cn.HU))},_n.\u0275prov=te.Yz7({token:_n,factory:_n.\u0275fac,providedIn:"any"}),_n})(),Un=(()=>{class _n{constructor(En,Jn,Yn,ii){if(this.disposables=[],pn.Z.registerVersion("angularfire",cn.q4.full,"compat-user-tracking"),(0,Fe.PM)(Jn))this.initialized=Promise.resolve();else{let Rt;this.initialized=ii.runOutsideAngular(()=>new Promise(ut=>Rt=ut)),this.disposables=[Yn.authState.subscribe(ut=>{En.setUserId(null==ut?void 0:ut.uid),Rt()}),Yn.credential.subscribe(ut=>{if(ut){const $t=ut.user.isAnonymous?"anonymous":ut.additionalUserInfo.providerId;ut.additionalUserInfo.isNewUser&&En.logEvent("sign_up",{method:$t}),En.logEvent("login",{method:$t})}})]}}ngOnDestroy(){this.disposables.forEach(En=>En.unsubscribe())}}return _n.\u0275fac=function(En){return new(En||_n)(te.LFG(zn),te.LFG(te.Lbi),te.LFG(sn.zQ),te.LFG(te.R0b))},_n.\u0275prov=te.Yz7({token:_n,factory:_n.\u0275fac}),_n})();const Ji="firebase_screen_id",Qn="outlet",pr="screen_class",bn="screen_name";let Ve=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const It={},vt=_n=>{const Pn=[_n[pr],_n[Qn]].join("#");if(It.hasOwnProperty(Pn))return It[Pn];{const En=Ve++;return It[Pn]=En,En}};let mn=(()=>{class _n{constructor(En,Jn,Yn,ii,Rt,ut,$t){if(pn.Z.registerVersion("angularfire",cn.q4.full,"compat-screen-tracking"),!Jn||!(0,Fe.NF)(Rt))return this;ut.runOutsideAngular(()=>{const zt=Jn.events.pipe((0,ve.h)(Gt=>Gt instanceof Lt.jw));this.disposable=zt.pipe((0,Ae.w)(Gt=>{var Tn;const Fn=(null===(Tn=Jn.parseUrl(Jn.url.replace(/(?:\().+(?:\))/g,pt=>pt.replace("://",":///"))).root.children[Gt.snapshot.outlet])||void 0===Tn?void 0:Tn.toString())||"",Ni=Jn.routerState.root.children.map(pt=>pt).find(pt=>pt.outlet===Gt.snapshot.outlet);if(!Ni)return(0,Oe.of)(null);let it=Ni;for(;it.firstChild;)it=it.firstChild;const Ct=it.pathFromRoot.map(pt=>{var Ut;return null===(Ut=pt.routeConfig)||void 0===Ut?void 0:Ut.path}).filter(pt=>pt).join("/")||"/",dt={[bn]:Ct,page_path:`/${Fn}`,firebase_event_origin:"auto",firebase_screen:Ct,[Qn]:Gt.snapshot.outlet};Yn&&(dt.page_title=Yn.getTitle());let We=Ni.component;if(We){if(We===Lt.fw){let pt=Gt.snapshot;for(;pt.firstChild;)pt=pt.firstChild;We=pt.component}}else We=Gt.snapshot.component;if("string"==typeof We)return(0,Oe.of)(Object.assign(Object.assign({},dt),{[pr]:We}));if(We){const pt=ii.resolveComponentFactory(We);return(0,Oe.of)(Object.assign(Object.assign({},dt),{[pr]:pt.selector}))}return(0,Oe.of)(null)}),(0,ve.h)(Gt=>Gt),(0,Mt.U)(Gt=>Object.assign({firebase_screen_class:Gt[pr],[Ji]:vt(Gt)},Gt)),function(_n,Pn,En,Jn){return Yn=>Yn.lift(new qe(_n,undefined,undefined,undefined))}(Gt=>Gt[Qn]),(0,Me.zg)(Gt=>Gt.pipe((0,tt.x)((Tn,ti)=>JSON.stringify(Tn)===JSON.stringify(ti)),(0,bt.O)(void 0),(0,Dt.G)(),(0,Mt.U)(([Tn,ti])=>Tn?Object.assign({firebase_previous_class:Tn[pr],firebase_previous_screen:Tn[bn],firebase_previous_id:Tn[Ji]},ti):ti),(0,Ae.w)(Tn=>(0,n.mG)(this,void 0,void 0,function*(){return $t&&(yield $t.initialized),yield En.logEvent("screen_view",Tn)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return _n.\u0275fac=function(En){return new(En||_n)(te.LFG(zn),te.LFG(Lt.F0,8),te.LFG(on.Dx,8),te.LFG(te._Vd),te.LFG(te.Lbi),te.LFG(te.R0b),te.LFG(Un,8))},_n.\u0275prov=te.Yz7({token:_n,factory:_n.\u0275fac}),_n})(),Rn=(()=>{class _n{constructor(En,Jn,Yn){pn.Z.registerVersion("angularfire",cn.q4.full,"analytics-compat"),En.app.then(()=>{})}}return _n.\u0275fac=function(En){return new(En||_n)(te.LFG(zn),te.LFG(mn,8),te.LFG(Un,8))},_n.\u0275mod=te.oAB({type:_n}),_n.\u0275inj=te.cJS({providers:[zn]}),_n})()},3820:(Se,Ze,X)=>{"use strict";X.d(Ze,{zQ:()=>Ht,rT:()=>bt,f7:()=>cn,L6:()=>Me,_Q:()=>tt,lh:()=>Dt,Qv:()=>ve,nw:()=>gt});var n=X(7716),te=X(9765),Oe=X(5917),we=X(8891),Fe=X(4402),Ue=X(6682),He=X(3190);function Ne(on,sn){return sn?(0,He.w)(()=>on,sn):(0,He.w)(()=>on)}var nt=X(9746),Be=X(8002),qe=X(7349),$e=X(8049),Qe=X(3101),Ot=X(5435),Zt=X(9126),_t=X(8747),Ae=X(8583);X(7841);const ve=new n.OlP("angularfire2.auth.use-emulator"),Me=new n.OlP("angularfire2.auth.settings"),tt=new n.OlP("angularfire2.auth.tenant-id"),bt=new n.OlP("angularfire2.auth.langugage-code"),Dt=new n.OlP("angularfire2.auth.use-device-language"),cn=new n.OlP("angularfire.auth.persistence"),gt=(on,sn,pn,wt,Yt,gn,kn,Zn)=>(0,Zt.cc)(`${on.name}.auth`,"AngularFireAuth",on.name,()=>{const In=sn.runOutsideAngular(()=>on.auth());if(pn&&In.useEmulator(...pn),wt&&(In.tenantId=wt),In.languageCode=Yt,gn&&In.useDeviceLanguage(),kn)for(const[Hn,ni]of Object.entries(kn))In.settings[Hn]=ni;return Zn&&In.setPersistence(Zn),In},[pn,wt,Yt,gn,kn,Zn]);let Ht=(()=>{class on{constructor(pn,wt,Yt,gn,kn,Zn,In,Hn,ni,pi,Fi){const bi=new te.xQ,fi=(0,Oe.of)(void 0).pipe((0,nt.QV)(kn.outsideAngular),(0,He.w)(()=>gn.runOutsideAngular(()=>Promise.resolve().then(X.bind(X,6780)))),(0,Be.U)(()=>(0,_t.on)(pn,gn,wt)),(0,Be.U)(ri=>gt(ri,gn,Zn,Hn,ni,pi,In,Fi)),(0,qe.d)({bufferSize:1,refCount:!1}));if((0,Ae.PM)(Yt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Oe.of)(null);else{fi.pipe((0,$e.P)()).subscribe();const zn=fi.pipe((0,He.w)(mi=>mi.getRedirectResult().then(ji=>ji,()=>null)),Zt.iC,(0,qe.d)({bufferSize:1,refCount:!1})),Un=fi.pipe((0,He.w)(mi=>new we.y(ji=>({unsubscribe:gn.runOutsideAngular(()=>mi.onAuthStateChanged(er=>ji.next(er),er=>ji.error(er),()=>ji.complete()))})))),_i=fi.pipe((0,He.w)(mi=>new we.y(ji=>({unsubscribe:gn.runOutsideAngular(()=>mi.onIdTokenChanged(er=>ji.next(er),er=>ji.error(er),()=>ji.complete()))}))));this.authState=zn.pipe(Ne(Un),(0,Qe.R)(kn.outsideAngular),(0,nt.QV)(kn.insideAngular)),this.user=zn.pipe(Ne(_i),(0,Qe.R)(kn.outsideAngular),(0,nt.QV)(kn.insideAngular)),this.idToken=this.user.pipe((0,He.w)(mi=>mi?(0,Fe.D)(mi.getIdToken()):(0,Oe.of)(null))),this.idTokenResult=this.user.pipe((0,He.w)(mi=>mi?(0,Fe.D)(mi.getIdTokenResult()):(0,Oe.of)(null))),this.credential=(0,Ue.T)(zn,bi,this.authState.pipe((0,Ot.h)(mi=>!mi))).pipe((0,Be.U)(mi=>(null==mi?void 0:mi.user)?mi:null),(0,Qe.R)(kn.outsideAngular),(0,nt.QV)(kn.insideAngular))}return(0,_t.pX)(this,fi,gn,{spy:{apply:(ri,zn,Un)=>{(ri.startsWith("signIn")||ri.startsWith("createUser"))&&Un.then(_i=>bi.next(_i))}}})}}return on.\u0275fac=function(pn){return new(pn||on)(n.LFG(_t.Dh),n.LFG(_t.xv,8),n.LFG(n.Lbi),n.LFG(n.R0b),n.LFG(Zt.HU),n.LFG(ve,8),n.LFG(Me,8),n.LFG(tt,8),n.LFG(bt,8),n.LFG(Dt,8),n.LFG(cn,8))},on.\u0275prov=n.Yz7({token:on,factory:on.\u0275fac,providedIn:"any"}),on})()},2825:(Se,Ze,X)=>{"use strict";X.d(Ze,{ST:()=>B0});var n=X(7716),te=X(3637),Oe=X(8891),we=X(4402),Fe=X(5917),Ue=X(9126),He=X(9761),Ne=X(9328),nt=X(8002),Be=X(2145),qe=X(7519),$e=X(5435),Qe=X(8747),Ot=X(8583),_t=(X(6780),X(4486)),Ae=X(8239),Mt=X(5452),ce=X(6034),ve=X(300),Me=X(4685),tt=function(h,i){return(tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&(l[A]=g[A])})(h,i)};function Dt(h){var i="function"==typeof Symbol&&Symbol.iterator,l=i&&h[i],g=0;if(l)return l.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&g>=h.length&&(h=void 0),{value:h&&h[g++],done:!h}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var gt,cn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ht=Ht||{},Lt=cn||self;function on(){}function sn(h){var i=typeof h;return"array"==(i="object"!=i?i:h?Array.isArray(h)?"array":i:"null")||"object"==i&&"number"==typeof h.length}function pn(h){var i=typeof h;return"object"==i&&null!=h||"function"==i}var Yt="closure_uid_"+(1e9*Math.random()>>>0),gn=0;function kn(h,i,l){return h.call.apply(h.bind,arguments)}function Zn(h,i,l){if(!h)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,g),h.apply(i,A)}}return function(){return h.apply(i,arguments)}}function In(h,i,l){return(In=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kn:Zn).apply(null,arguments)}function Hn(h,i){var l=Array.prototype.slice.call(arguments,1);return function(){var g=l.slice();return g.push.apply(g,arguments),h.apply(this,g)}}function ni(h,i){function l(){}l.prototype=i.prototype,h.Z=i.prototype,h.prototype=new l,h.prototype.constructor=h,h.Vb=function(g,A,ee){for(var he=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)he[Ie-2]=arguments[Ie];return i.prototype[A].apply(g,he)}}function pi(){this.s=this.s,this.o=this.o}var bi={};pi.prototype.s=!1,pi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var h=function(h){return Object.prototype.hasOwnProperty.call(h,Yt)&&h[Yt]||(h[Yt]=++gn)}(this);delete bi[h]}},pi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var fi=Array.prototype.indexOf?function(h,i){return Array.prototype.indexOf.call(h,i,void 0)}:function(h,i){if("string"==typeof h)return"string"!=typeof i||1!=i.length?-1:h.indexOf(i,0);for(var l=0;l<h.length;l++)if(l in h&&h[l]===i)return l;return-1},ri=Array.prototype.forEach?function(h,i,l){Array.prototype.forEach.call(h,i,l)}:function(h,i,l){for(var g=h.length,A="string"==typeof h?h.split(""):h,ee=0;ee<g;ee++)ee in A&&i.call(l,A[ee],ee,h)};function Un(h){return Array.prototype.concat.apply([],arguments)}function _i(h){var i=h.length;if(0<i){for(var l=Array(i),g=0;g<i;g++)l[g]=h[g];return l}return[]}function mi(h){return/^[\s\xa0]*$/.test(h)}var Ji,ji=String.prototype.trim?function(h){return h.trim()}:function(h){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(h)[1]};function er(h,i){return-1!=h.indexOf(i)}function fr(h,i){return h<i?-1:h>i?1:0}e:{var Or=Lt.navigator;if(Or){var Qn=Or.userAgent;if(Qn){Ji=Qn;break e}}Ji=""}function Yi(h,i,l){for(var g in h)i.call(l,h[g],g,h)}function yr(h){var i={};for(var l in h)i[l]=h[l];return i}var pr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bn(h,i){for(var l,g,A=1;A<arguments.length;A++){for(l in g=arguments[A])h[l]=g[l];for(var ee=0;ee<pr.length;ee++)l=pr[ee],Object.prototype.hasOwnProperty.call(g,l)&&(h[l]=g[l])}}function jt(h){return jt[" "](h),h}jt[" "]=on;var Pn,h,jn=er(Ji,"Opera"),Ve=er(Ji,"Trident")||er(Ji,"MSIE"),It=er(Ji,"Edge"),vt=It||Ve,mn=er(Ji,"Gecko")&&!(er(Ji.toLowerCase(),"webkit")&&!er(Ji,"Edge"))&&!(er(Ji,"Trident")||er(Ji,"MSIE"))&&!er(Ji,"Edge"),Rn=er(Ji.toLowerCase(),"webkit")&&!er(Ji,"Edge");function _n(){var h=Lt.document;return h?h.documentMode:void 0}e:{var En="",Jn=(h=Ji,mn?/rv:([^\);]+)(\)|;)/.exec(h):It?/Edge\/([\d\.]+)/.exec(h):Ve?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(h):Rn?/WebKit\/(\S+)/.exec(h):jn?/(?:Version)[ \/]?(\S+)/.exec(h):void 0);if(Jn&&(En=Jn?Jn[1]:""),Ve){var Yn=_n();if(null!=Yn&&Yn>parseFloat(En)){Pn=String(Yn);break e}}Pn=En}var ii={};function Rt(){return i=ii,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){for(var h=0,i=ji(String(Pn)).split("."),l=ji("9").split("."),g=Math.max(i.length,l.length),A=0;0==h&&A<g;A++){var ee=i[A]||"",he=l[A]||"";do{if(ee=/(\d*)(\D*)(.*)/.exec(ee)||["","","",""],he=/(\d*)(\D*)(.*)/.exec(he)||["","","",""],0==ee[0].length&&0==he[0].length)break;h=fr(0==ee[1].length?0:parseInt(ee[1],10),0==he[1].length?0:parseInt(he[1],10))||fr(0==ee[2].length,0==he[2].length)||fr(ee[2],he[2]),ee=ee[3],he=he[3]}while(0==h)}return 0<=h}();var i}var zt=Lt.document&&Ve&&(_n()||parseInt(Pn,10))||void 0,Gt=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var h=!1,i=Object.defineProperty({},"passive",{get:function(){h=!0}});try{Lt.addEventListener("test",on,i),Lt.removeEventListener("test",on,i)}catch(l){}return h}();function Tn(h,i){this.type=h,this.g=this.target=i,this.defaultPrevented=!1}function ti(h,i){if(Tn.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var l=this.type=h.type,g=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=i,i=h.relatedTarget){if(mn){e:{try{jt(i.nodeName);var A=!0;break e}catch(ee){}A=!1}A||(i=null)}}else"mouseover"==l?i=h.fromElement:"mouseout"==l&&(i=h.toElement);this.relatedTarget=i,g?(this.clientX=void 0!==g.clientX?g.clientX:g.pageX,this.clientY=void 0!==g.clientY?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType="string"==typeof h.pointerType?h.pointerType:Fn[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ti.Z.h.call(this)}}Tn.prototype.h=function(){this.defaultPrevented=!0},ni(ti,Tn);var Fn={2:"touch",3:"pen",4:"mouse"};ti.prototype.h=function(){ti.Z.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ni="closure_listenable_"+(1e6*Math.random()|0),it=0;function Ct(h,i,l,g,A){this.listener=h,this.proxy=null,this.src=i,this.type=l,this.capture=!!g,this.ia=A,this.key=++it,this.ca=this.fa=!1}function dt(h){h.ca=!0,h.listener=null,h.proxy=null,h.src=null,h.ia=null}function We(h){this.src=h,this.g={},this.h=0}function pt(h,i){var l=i.type;if(l in h.g){var ee,g=h.g[l],A=fi(g,i);(ee=0<=A)&&Array.prototype.splice.call(g,A,1),ee&&(dt(i),0==h.g[l].length&&(delete h.g[l],h.h--))}}function Ut(h,i,l,g){for(var A=0;A<h.length;++A){var ee=h[A];if(!ee.ca&&ee.listener==i&&ee.capture==!!l&&ee.ia==g)return A}return-1}We.prototype.add=function(h,i,l,g,A){var ee=h.toString();(h=this.g[ee])||(h=this.g[ee]=[],this.h++);var he=Ut(h,i,g,A);return-1<he?(i=h[he],l||(i.fa=!1)):((i=new Ct(i,this.src,ee,!!g,A)).fa=l,h.push(i)),i};var st="closure_lm_"+(1e6*Math.random()|0),Ge={};function yt(h,i,l,g,A){if(g&&g.once)return wn(h,i,l,g,A);if(Array.isArray(i)){for(var ee=0;ee<i.length;ee++)yt(h,i[ee],l,g,A);return null}return l=tr(l),h&&h[Ni]?h.N(i,l,pn(g)?!!g.capture:!!g,A):Bt(h,i,l,!1,g,A)}function Bt(h,i,l,g,A,ee){if(!i)throw Error("Invalid event type");var he=pn(A)?!!A.capture:!!A,Ie=si(h);if(Ie||(h[st]=Ie=new We(h)),(l=Ie.add(i,l,g,he,ee)).proxy)return l;if(g=function(){var i=Si;return function h(l){return i.call(h.src,h.listener,l)}}(),l.proxy=g,g.src=h,g.listener=l,h.addEventListener)Gt||(A=he),void 0===A&&(A=!1),h.addEventListener(i.toString(),g,A);else if(h.attachEvent)h.attachEvent(wi(i.toString()),g);else{if(!h.addListener||!h.removeListener)throw Error("addEventListener and attachEvent are unavailable.");h.addListener(g)}return l}function wn(h,i,l,g,A){if(Array.isArray(i)){for(var ee=0;ee<i.length;ee++)wn(h,i[ee],l,g,A);return null}return l=tr(l),h&&h[Ni]?h.O(i,l,pn(g)?!!g.capture:!!g,A):Bt(h,i,l,!0,g,A)}function ei(h,i,l,g,A){if(Array.isArray(i))for(var ee=0;ee<i.length;ee++)ei(h,i[ee],l,g,A);else g=pn(g)?!!g.capture:!!g,l=tr(l),h&&h[Ni]?(h=h.i,(i=String(i).toString())in h.g&&-1<(l=Ut(ee=h.g[i],l,g,A))&&(dt(ee[l]),Array.prototype.splice.call(ee,l,1),0==ee.length&&(delete h.g[i],h.h--))):h&&(h=si(h))&&(i=h.g[i.toString()],h=-1,i&&(h=Ut(i,l,g,A)),(l=-1<h?i[h]:null)&&Pi(l))}function Pi(h){if("number"!=typeof h&&h&&!h.ca){var i=h.src;if(i&&i[Ni])pt(i.i,h);else{var l=h.type,g=h.proxy;i.removeEventListener?i.removeEventListener(l,g,h.capture):i.detachEvent?i.detachEvent(wi(l),g):i.addListener&&i.removeListener&&i.removeListener(g),(l=si(i))?(pt(l,h),0==l.h&&(l.src=null,i[st]=null)):dt(h)}}}function wi(h){return h in Ge?Ge[h]:Ge[h]="on"+h}function Si(h,i){if(h.ca)h=!0;else{i=new ti(i,this);var l=h.listener,g=h.ia||h.src;h.fa&&Pi(h),h=l.call(g,i)}return h}function si(h){return(h=h[st])instanceof We?h:null}var Ri="__closure_events_fn_"+(1e9*Math.random()>>>0);function tr(h){return"function"==typeof h?h:(h[Ri]||(h[Ri]=function(i){return h.handleEvent(i)}),h[Ri])}function rr(){pi.call(this),this.i=new We(this),this.P=this,this.I=null}function Vi(h,i){var l,g=h.I;if(g)for(l=[];g;g=g.I)l.push(g);if(h=h.P,g=i.type||i,"string"==typeof i)i=new Tn(i,h);else if(i instanceof Tn)i.target=i.target||h;else{var A=i;bn(i=new Tn(g,h),A)}if(A=!0,l)for(var ee=l.length-1;0<=ee;ee--){var he=i.g=l[ee];A=lr(he,g,!0,i)&&A}if(A=lr(he=i.g=h,g,!0,i)&&A,A=lr(he,g,!1,i)&&A,l)for(ee=0;ee<l.length;ee++)A=lr(he=i.g=l[ee],g,!1,i)&&A}function lr(h,i,l,g){if(!(i=h.i.g[String(i)]))return!0;i=i.concat();for(var A=!0,ee=0;ee<i.length;++ee){var he=i[ee];if(he&&!he.ca&&he.capture==l){var Ie=he.listener,at=he.ia||he.src;he.fa&&pt(h.i,he),A=!1!==Ie.call(at,g)&&A}}return A&&!g.defaultPrevented}ni(rr,pi),rr.prototype[Ni]=!0,rr.prototype.removeEventListener=function(h,i,l,g){ei(this,h,i,l,g)},rr.prototype.M=function(){if(rr.Z.M.call(this),this.i){var i,h=this.i;for(i in h.g){for(var l=h.g[i],g=0;g<l.length;g++)dt(l[g]);delete h.g[i],h.h--}}this.I=null},rr.prototype.N=function(h,i,l,g){return this.i.add(String(h),i,!1,l,g)},rr.prototype.O=function(h,i,l,g){return this.i.add(String(h),i,!0,l,g)};var Yr=Lt.JSON.stringify;function Ur(){var h=ft,i=null;return h.g&&(i=h.g,h.g=h.g.next,h.g||(h.h=null),i.next=null),i}var _e,ao=function(){function h(){this.h=this.g=null}return h.prototype.add=function(i,l){var g=ct.get();g.set(i,l),this.h?this.h.next=g:this.g=g,this.h=g},h}(),ct=new(function(){function h(i,l){this.i=i,this.j=l,this.h=0,this.g=null}return h.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},h}())(function(){return new lt},function(h){return h.reset()}),lt=function(){function h(){this.next=this.g=this.h=null}return h.prototype.set=function(i,l){this.h=i,this.g=l,this.next=null},h.prototype.reset=function(){this.next=this.g=this.h=null},h}();function $(h){Lt.setTimeout(function(){throw h},0)}function ue(h,i){_e||function(){var h=Lt.Promise.resolve(void 0);_e=function(){h.then(Pt)}}(),Xe||(_e(),Xe=!0),ft.add(h,i)}var Xe=!1,ft=new ao;function Pt(){for(var h;h=Ur();){try{h.h.call(h.g)}catch(l){$(l)}var i=ct;i.j(h),100>i.h&&(i.h++,h.next=i.g,i.g=h)}Xe=!1}function Wt(h,i){rr.call(this),this.h=h||1,this.g=i||Lt,this.j=In(this.kb,this),this.l=Date.now()}function nn(h){h.da=!1,h.S&&(h.g.clearTimeout(h.S),h.S=null)}function Je(h,i,l){if("function"==typeof h)l&&(h=In(h,l));else{if(!h||"function"!=typeof h.handleEvent)throw Error("Invalid listener argument");h=In(h.handleEvent,h)}return 2147483647<Number(i)?-1:Lt.setTimeout(h,i||0)}function Nt(h){h.g=Je(function(){h.g=null,h.i&&(h.i=!1,Nt(h))},h.j);var i=h.h;h.h=null,h.m.apply(null,i)}ni(Wt,rr),(gt=Wt.prototype).da=!1,gt.S=null,gt.kb=function(){if(this.da){var h=Date.now()-this.l;0<h&&h<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-h):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Vi(this,"tick"),this.da&&(nn(this),this.start()))}},gt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.M=function(){Wt.Z.M.call(this),nn(this),delete this.g};var mt=function(h){function i(l,g){var A=h.call(this)||this;return A.m=l,A.j=g,A.h=null,A.i=!1,A.g=null,A}return function(h,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function l(){this.constructor=h}tt(h,i),h.prototype=null===i?Object.create(i):(l.prototype=i.prototype,new l)}(i,h),i.prototype.l=function(l){this.h=arguments,this.g?this.i=!0:Nt(this)},i.prototype.M=function(){h.prototype.M.call(this),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}(pi);function Qt(h){pi.call(this),this.h=h,this.g={}}ni(Qt,pi);var un=[];function hn(h,i,l,g){Array.isArray(l)||(l&&(un[0]=l.toString()),l=un);for(var A=0;A<l.length;A++){var ee=yt(i,l[A],g||h.handleEvent,!1,h.h||h);if(!ee)break;h.g[ee.key]=ee}}function $n(h){Yi(h.g,function(i,l){this.g.hasOwnProperty(l)&&Pi(i)},h),h.g={}}function Xn(){this.g=!0}function yi(h,i,l,g){h.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(h,i){if(!h.g)return i;if(!i)return null;try{var l=JSON.parse(i);if(l)for(h=0;h<l.length;h++)if(Array.isArray(l[h])){var g=l[h];if(!(2>g.length)){var A=g[1];if(Array.isArray(A)&&!(1>A.length)){var ee=A[0];if("noop"!=ee&&"stop"!=ee&&"close"!=ee)for(var he=1;he<A.length;he++)A[he]=""}}}return Yr(l)}catch(Ie){return i}}(h,l)+(g?" "+g:"")})}Qt.prototype.M=function(){Qt.Z.M.call(this),$n(this)},Qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xn.prototype.Aa=function(){this.g=!1},Xn.prototype.info=function(){};var ur={},gr=null;function mr(){return gr=gr||new rr}function Wr(h){Tn.call(this,ur.Ma,h)}function Xr(h){var i=mr();Vi(i,new Wr(i,h))}function co(h,i){Tn.call(this,ur.STAT_EVENT,h),this.stat=i}function vo(h){var i=mr();Vi(i,new co(i,h))}function Io(h,i){Tn.call(this,ur.Na,h),this.size=i}function zo(h,i){if("function"!=typeof h)throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){h()},i)}ur.Ma="serverreachability",ni(Wr,Tn),ur.STAT_EVENT="statevent",ni(co,Tn),ur.Na="timingevent",ni(Io,Tn);var Qr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},_s={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _o(){}function Ts(){}_o.prototype.h=null;var So,No={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Uo(){Tn.call(this,"d")}function wo(){Tn.call(this,"c")}function Ro(){}function fn(h,i,l,g){this.l=h,this.j=i,this.m=l,this.X=g||1,this.V=new Qt(this),this.P=St,this.W=new Wt(h=vt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Kt}function Kt(){this.i=null,this.g="",this.h=!1}ni(Uo,Tn),ni(wo,Tn),ni(Ro,_o),Ro.prototype.g=function(){return new XMLHttpRequest},Ro.prototype.i=function(){return{}},So=new Ro;var St=45e3,Sn={},Ai={};function Qi(h,i,l){h.K=1,h.v=Re(Te(i)),h.s=l,h.U=!0,xi(h,null)}function xi(h,i){h.F=Date.now(),ot(h),h.A=Te(h.v);var l=h.A,g=h.X;Array.isArray(g)||(g=[String(g)]),di(l.h,"t",g),h.C=0,l=h.l.H,h.h=new Kt,h.g=pa(h.l,l?i:null,!h.s),0<h.O&&(h.L=new mt(In(h.Ia,h,h.g),h.O)),hn(h.V,h.g,"readystatechange",h.gb),i=h.H?yr(h.H):{},h.s?(h.u||(h.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.s,i)):(h.u="GET",h.g.ea(h.A,h.u,null,i)),Xr(1),function(h,i,l,g,A,ee){h.info(function(){if(h.g)if(ee)for(var he="",Ie=ee.split("&"),at=0;at<Ie.length;at++){var Vt=Ie[at].split("=");if(1<Vt.length){var ln=Vt[0];Vt=Vt[1];var Dn=ln.split("_");he=2<=Dn.length&&"type"==Dn[1]?he+(ln+"=")+Vt+"&":he+(ln+"=redacted&")}}else he=null;else he=ee;return"XMLHTTP REQ ("+g+") [attempt "+A+"]: "+i+"\n"+l+"\n"+he})}(h.j,h.u,h.A,h.m,h.X,h.s)}function Xi(h){return!!h.g&&"GET"==h.u&&2!=h.K&&h.l.Ba}function _r(h,i,l){for(var A,g=!0;!h.I&&h.C<l.length;){if((A=Dr(h,l))==Ai){4==i&&(h.o=4,vo(14),g=!1),yi(h.j,h.m,null,"[Incomplete Response]");break}if(A==Sn){h.o=4,vo(15),yi(h.j,h.m,l,"[Invalid Chunk]"),g=!1;break}yi(h.j,h.m,A,null),oi(h,A)}Xi(h)&&A!=Ai&&A!=Sn&&(h.h.g="",h.C=0),4!=i||0!=l.length||h.h.h||(h.o=1,vo(16),g=!1),h.i=h.i&&g,g?0<l.length&&!h.aa&&(h.aa=!0,(i=h.l).g==h&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+l.length),hc(i),i.L=!0,vo(11))):(yi(h.j,h.m,l,"[Invalid Chunked Response]"),Bn(h),Xt(h))}function Dr(h,i){var l=h.C,g=i.indexOf("\n",l);return-1==g?Ai:(l=Number(i.substring(l,g)),isNaN(l)?Sn:(g+=1)+l>i.length?Ai:(i=i.substr(g,l),h.C=g+l,i))}function ot(h){h.Y=Date.now()+h.P,an(h,h.P)}function an(h,i){if(null!=h.B)throw Error("WatchDog timer not null");h.B=zo(In(h.eb,h),i)}function Et(h){h.B&&(Lt.clearTimeout(h.B),h.B=null)}function Xt(h){0==h.l.G||h.I||ec(h.l,h)}function Bn(h){Et(h);var i=h.L;i&&"function"==typeof i.na&&i.na(),h.L=null,nn(h.W),$n(h.V),h.g&&(i=h.g,h.g=null,i.abort(),i.na())}function oi(h,i){try{var l=h.l;if(0!=l.G&&(l.g==h||Bo(l.i,h)))if(l.I=h.N,!h.J&&Bo(l.i,h)&&3==l.G){try{var g=l.Ca.g.parse(i)}catch(oo){g=null}if(Array.isArray(g)&&3==g.length){var A=g;if(0==A[0])e:if(l.u)l.ta=A[1],0<l.ta-l.U&&37500>A[2]&&l.N&&0==l.A&&!l.v&&(l.v=zo(In(l.ab,l),6e3));else{if(l.g){if(!(l.g.F+3e3<h.F))break e;yc(l),Xo(l)}Ms(l),vo(18)}if(1>=hr(l.i)&&l.ka){try{l.ka()}catch(oo){}l.ka=void 0}}else Wo(l,11)}else if((h.J||l.g==h)&&yc(l),!mi(i))for(A=l.Ca.g.parse(i),i=0;i<A.length;i++){var ee=A[i];if(l.U=ee[0],ee=ee[1],2==l.G)if("c"==ee[0]){l.J=ee[1],l.la=ee[2];var he=ee[3];null!=he&&(l.ma=he,l.h.info("VER="+l.ma));var Ie=ee[4];null!=Ie&&(l.za=Ie,l.h.info("SVER="+l.za));var at=ee[5];null!=at&&"number"==typeof at&&0<at&&(l.K=g=1.5*at,l.h.info("backChannelRequestTimeoutMs_="+g)),g=l;var Vt=h.g;if(Vt){var ln=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ln){var Dn=g.i;!Dn.g&&(er(ln,"spdy")||er(ln,"quic")||er(ln,"h2"))&&(Dn.j=Dn.l,Dn.g=new Set,Dn.h&&(Ar(Dn,Dn.h),Dn.h=null))}if(g.D){var gi=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;gi&&(g.sa=gi,ae(g.F,g.D,gi))}}l.G=3,l.j&&l.j.xa(),l.$&&(l.O=Date.now()-h.F,l.h.info("Handshake RTT: "+l.O+"ms"));var Ii=h;if((g=l).oa=nc(g,g.H?g.la:null,g.W),Ii.J){Ki(g.i,Ii);var Wi=Ii,Fr=g.K;Fr&&Wi.setTimeout(Fr),Wi.B&&(Et(Wi),ot(Wi)),g.g=Ii}else Va(g);0<l.l.length&&dl(l)}else"stop"!=ee[0]&&"close"!=ee[0]||Wo(l,7);else 3==l.G&&("stop"==ee[0]||"close"==ee[0]?"stop"==ee[0]?Wo(l,7):Qc(l):"noop"!=ee[0]&&l.j&&l.j.wa(ee),l.A=0)}Xr(4)}catch(oo){}}function nr(h,i){if(h.forEach&&"function"==typeof h.forEach)h.forEach(i,void 0);else if(sn(h)||"string"==typeof h)ri(h,i,void 0);else{if(h.T&&"function"==typeof h.T)var l=h.T();else if(h.R&&"function"==typeof h.R)l=void 0;else if(sn(h)||"string"==typeof h){l=[];for(var g=h.length,A=0;A<g;A++)l.push(A)}else for(A in l=[],g=0,h)l[g++]=A;A=(g=function(h){if(h.R&&"function"==typeof h.R)return h.R();if("string"==typeof h)return h.split("");if(sn(h)){for(var i=[],l=h.length,g=0;g<l;g++)i.push(h[g]);return i}for(g in i=[],l=0,h)i[l++]=h[g];return i}(h)).length;for(var ee=0;ee<A;ee++)i.call(void 0,g[ee],l&&l[ee],h)}}function dr(h,i){this.h={},this.g=[],this.i=0;var l=arguments.length;if(1<l){if(l%2)throw Error("Uneven number of arguments");for(var g=0;g<l;g+=2)this.set(arguments[g],arguments[g+1])}else if(h)if(h instanceof dr)for(l=h.T(),g=0;g<l.length;g++)this.set(l[g],h.get(l[g]));else for(g in h)this.set(g,h[g])}function Rr(h){if(h.i!=h.g.length){for(var i=0,l=0;i<h.g.length;){var g=h.g[i];cr(h.h,g)&&(h.g[l++]=g),i++}h.g.length=l}if(h.i!=h.g.length){var A={};for(l=i=0;i<h.g.length;)cr(A,g=h.g[i])||(h.g[l++]=g,A[g]=1),i++;h.g.length=l}}function cr(h,i){return Object.prototype.hasOwnProperty.call(h,i)}(gt=fn.prototype).setTimeout=function(h){this.P=h},gt.gb=function(h){h=h.target;var i=this.L;i&&3==$o(h)?i.l():this.Ia(h)},gt.Ia=function(h){try{if(h==this.g)e:{var i=$o(this.g),l=this.g.Da(),g=this.g.ba();if(!(3>i)&&(3!=i||vt||this.g&&(this.h.h||this.g.ga()||Qa(this.g)))){this.I||4!=i||7==l||Xr(8==l||0>=g?3:2),Et(this);var A=this.g.ba();this.N=A;t:if(Xi(this)){var ee=Qa(this.g);h="";var he=ee.length,Ie=4==$o(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Bn(this),Xt(this);var at="";break t}this.h.i=new Lt.TextDecoder}for(l=0;l<he;l++)this.h.h=!0,h+=this.h.i.decode(ee[l],{stream:Ie&&l==he-1});ee.splice(0,he),this.h.g+=h,this.C=0,at=this.h.g}else at=this.g.ga();if(this.i=200==A,function(h,i,l,g,A,ee,he){h.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+A+"]: "+i+"\n"+l+"\n"+ee+" "+he})}(this.j,this.u,this.A,this.m,this.X,i,A),this.i){if(this.$&&!this.J){t:{if(this.g){var Vt,ln=this.g;if((Vt=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mi(Vt)){var Dn=Vt;break t}}Dn=null}if(!(A=Dn)){this.i=!1,this.o=3,vo(12),Bn(this),Xt(this);break e}yi(this.j,this.m,A,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,oi(this,A)}this.U?(_r(this,i,at),vt&&this.i&&3==i&&(hn(this.V,this.W,"tick",this.fb),this.W.start())):(yi(this.j,this.m,at,null),oi(this,at)),4==i&&Bn(this),this.i&&!this.I&&(4==i?ec(this.l,this):(this.i=!1,ot(this)))}else 400==A&&0<at.indexOf("Unknown SID")?(this.o=3,vo(12)):(this.o=0,vo(13)),Bn(this),Xt(this)}}}catch(gi){}},gt.fb=function(){if(this.g){var h=$o(this.g),i=this.g.ga();this.C<i.length&&(Et(this),_r(this,h,i),this.i&&4!=h&&ot(this))}},gt.cancel=function(){this.I=!0,Bn(this)},gt.eb=function(){this.B=null;var h=Date.now();0<=h-this.Y?(function(h,i){h.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(Xr(3),vo(17)),Bn(this),this.o=2,Xt(this)):an(this,this.Y-h)},(gt=dr.prototype).R=function(){Rr(this);for(var h=[],i=0;i<this.g.length;i++)h.push(this.h[this.g[i]]);return h},gt.T=function(){return Rr(this),this.g.concat()},gt.get=function(h,i){return cr(this.h,h)?this.h[h]:i},gt.set=function(h,i){cr(this.h,h)||(this.i++,this.g.push(h)),this.h[h]=i},gt.forEach=function(h,i){for(var l=this.T(),g=0;g<l.length;g++){var A=l[g],ee=this.get(A);h.call(i,ee,A,this)}};var yo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function io(h,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,h instanceof io){this.g=void 0!==i?i:h.g,Ce(this,h.j),this.s=h.s,fe(this,h.i),ne(this,h.m),this.l=h.l,i=h.h;var l=new ke;l.i=i.i,i.g&&(l.g=new dr(i.g),l.h=i.h),se(this,l),this.o=h.o}else h&&(l=String(h).match(yo))?(this.g=!!i,Ce(this,l[1]||"",!0),this.s=zi(l[2]||""),fe(this,l[3]||"",!0),ne(this,l[4]),this.l=zi(l[5]||"",!0),se(this,l[6]||"",!0),this.o=zi(l[7]||"")):(this.g=!!i,this.h=new ke(null,this.g))}function Te(h){return new io(h)}function Ce(h,i,l){h.j=l?zi(i,!0):i,h.j&&(h.j=h.j.replace(/:$/,""))}function fe(h,i,l){h.i=l?zi(i,!0):i}function ne(h,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);h.m=i}else h.m=null}function se(h,i,l){i instanceof ke?(h.h=i,function(h,i){i&&!h.j&&(xt(h),h.i=null,h.g.forEach(function(l,g){var A=g.toLowerCase();g!=A&&(qt(this,g),di(this,A,l))},h)),h.j=i}(h.h,h.g)):(l||(i=Pr(i,fs)),h.h=new ke(i,h.g))}function ae(h,i,l){h.h.set(i,l)}function Re(h){return ae(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function zi(h,i){return h?i?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Pr(h,i,l){return"string"==typeof h?(h=encodeURI(h).replace(i,Tr),l&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Tr(h){return"%"+((h=h.charCodeAt(0))>>4&15).toString(16)+(15&h).toString(16)}io.prototype.toString=function(){var h=[],i=this.j;i&&h.push(Pr(i,Vr,!0),":");var l=this.i;return(l||"file"==i)&&(h.push("//"),(i=this.s)&&h.push(Pr(i,Vr,!0),"@"),h.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(l=this.m)&&h.push(":",String(l))),(l=this.l)&&(this.i&&"/"!=l.charAt(0)&&h.push("/"),h.push(Pr(l,"/"==l.charAt(0)?fo:ro,!0))),(l=this.h.toString())&&h.push("?",l),(l=this.o)&&h.push("#",Pr(l,Ke)),h.join("")};var Vr=/[#\/\?@]/g,ro=/[#\?:]/g,fo=/[#\?]/g,fs=/[#\?@]/g,Ke=/#/g;function ke(h,i){this.h=this.g=null,this.i=h||null,this.j=!!i}function xt(h){h.g||(h.g=new dr,h.h=0,h.i&&function(h,i){if(h){h=h.split("&");for(var l=0;l<h.length;l++){var g=h[l].indexOf("="),A=null;if(0<=g){var ee=h[l].substring(0,g);A=h[l].substring(g+1)}else ee=h[l];i(ee,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}(h.i,function(i,l){h.add(decodeURIComponent(i.replace(/\+/g," ")),l)}))}function qt(h,i){xt(h),i=Ei(h,i),cr(h.g.h,i)&&(h.i=null,h.h-=h.g.get(i).length,cr((h=h.g).h,i)&&(delete h.h[i],h.i--,h.g.length>2*h.i&&Rr(h)))}function On(h,i){return xt(h),i=Ei(h,i),cr(h.g.h,i)}function di(h,i,l){qt(h,i),0<l.length&&(h.i=null,h.g.set(Ei(h,i),_i(l)),h.h+=l.length)}function Ei(h,i){return i=String(i),h.j&&(i=i.toLowerCase()),i}(gt=ke.prototype).add=function(h,i){xt(this),this.i=null,h=Ei(this,h);var l=this.g.get(h);return l||this.g.set(h,l=[]),l.push(i),this.h+=1,this},gt.forEach=function(h,i){xt(this),this.g.forEach(function(l,g){ri(l,function(A){h.call(i,A,g,this)},this)},this)},gt.T=function(){xt(this);for(var h=this.g.R(),i=this.g.T(),l=[],g=0;g<i.length;g++)for(var A=h[g],ee=0;ee<A.length;ee++)l.push(i[g]);return l},gt.R=function(h){xt(this);var i=[];if("string"==typeof h)On(this,h)&&(i=Un(i,this.g.get(Ei(this,h))));else{h=this.g.R();for(var l=0;l<h.length;l++)i=Un(i,h[l])}return i},gt.set=function(h,i){return xt(this),this.i=null,On(this,h=Ei(this,h))&&(this.h-=this.g.get(h).length),this.g.set(h,[i]),this.h+=1,this},gt.get=function(h,i){return h&&0<(h=this.R(h)).length?String(h[0]):i},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var h=[],i=this.g.T(),l=0;l<i.length;l++){var g=i[l],A=encodeURIComponent(String(g));g=this.R(g);for(var ee=0;ee<g.length;ee++){var he=A;""!==g[ee]&&(he+="="+encodeURIComponent(String(g[ee]))),h.push(he)}}return this.i=h.join("&")};var or=function(i,l){this.h=i,this.g=l};function Sr(h){this.l=h||qr,h=Lt.PerformanceNavigationTiming?0<(h=Lt.performance.getEntriesByType("navigation")).length&&("hq"==h[0].nextHopProtocol||"h2"==h[0].nextHopProtocol):!!(Lt.g&&Lt.g.Ea&&Lt.g.Ea()&&Lt.g.Ea().Zb),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qr=10;function li(h){return!!h.h||!!h.g&&h.g.size>=h.j}function hr(h){return h.h?1:h.g?h.g.size:0}function Bo(h,i){return h.h?h.h==i:!!h.g&&h.g.has(i)}function Ar(h,i){h.g?h.g.add(i):h.h=i}function Ki(h,i){h.h&&h.h==i?h.h=null:h.g&&h.g.has(i)&&h.g.delete(i)}function jo(h){var i,l;if(null!=h.h)return h.i.concat(h.h.D);if(null!=h.g&&0!==h.g.size){var g=h.i;try{for(var A=Dt(h.g.values()),ee=A.next();!ee.done;ee=A.next())g=g.concat(ee.value.D)}catch(Ie){i={error:Ie}}finally{try{ee&&!ee.done&&(l=A.return)&&l.call(A)}finally{if(i)throw i.error}}return g}return _i(h.i)}function Lo(){}function ko(){this.g=new Lo}function Jo(h,i,l){var g=l||"";try{nr(h,function(A,ee){var he=A;pn(A)&&(he=Yr(A)),i.push(g+ee+"="+encodeURIComponent(he))})}catch(A){throw i.push(g+"type="+encodeURIComponent("_badmap")),A}}function Fs(h,i,l,g,A){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,A(g)}catch(ee){}}function Zo(h){this.l=h.$b||null,this.j=h.ib||!1}function Ds(h,i){rr.call(this),this.D=h,this.u=i,this.m=void 0,this.readyState=Kr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Sr.prototype.cancel=function(){var h,i;if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var l=Dt(this.g.values()),g=l.next();!g.done;g=l.next())g.value.cancel()}catch(ee){h={error:ee}}finally{try{g&&!g.done&&(i=l.return)&&i.call(l)}finally{if(h)throw h.error}}this.g.clear()}},Lo.prototype.stringify=function(h){return Lt.JSON.stringify(h,void 0)},Lo.prototype.parse=function(h){return Lt.JSON.parse(h,void 0)},ni(Zo,_o),Zo.prototype.g=function(){return new Ds(this.l,this.j)},Zo.prototype.i=function(h){return function(){return h}}({}),ni(Ds,rr);var Kr=0;function vs(h){h.j.read().then(h.Sa.bind(h)).catch(h.ha.bind(h))}function Us(h){h.readyState=4,h.l=null,h.j=null,h.A=null,Xs(h)}function Xs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}(gt=Ds.prototype).open=function(h,i){if(this.readyState!=Kr)throw this.abort(),Error("Error reopening a connection");this.C=h,this.B=i,this.readyState=1,Xs(this)},gt.send=function(h){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};h&&(i.body=h),(this.D||Lt).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Us(this)),this.readyState=Kr},gt.Va=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Xs(this)),this.g&&(this.readyState=3,Xs(this),this.g)))if("arraybuffer"===this.responseType)h.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Lt.ReadableStream&&"body"in h){if(this.j=h.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vs(this)}else h.text().then(this.Ua.bind(this),this.ha.bind(this))},gt.Sa=function(h){if(this.g){if(this.u&&h.value)this.response.push(h.value);else if(!this.u){var i=h.value?h.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!h.done}))&&(this.response=this.responseText+=i)}h.done?Us(this):Xs(this),3==this.readyState&&vs(this)}},gt.Ua=function(h){this.g&&(this.response=this.responseText=h,Us(this))},gt.Ta=function(h){this.g&&(this.response=h,Us(this))},gt.ha=function(){this.g&&Us(this)},gt.setRequestHeader=function(h,i){this.v.append(h,i)},gt.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";for(var h=[],i=this.h.entries(),l=i.next();!l.done;)h.push((l=l.value)[0]+": "+l[1]),l=i.next();return h.join("\r\n")},Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(h){this.m=h?"include":"same-origin"}});var ys=Lt.JSON.parse;function Yo(h){rr.call(this),this.headers=new dr,this.u=h||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zs,this.K=this.L=!1}ni(Yo,rr);var zs="",Tc=/^https?$/i,Ys=["POST","PUT"];function bs(h){return"content-type"==h.toLowerCase()}function Zc(h,i){h.h=!1,h.g&&(h.l=!0,h.g.abort(),h.l=!1),h.j=i,h.m=5,Wa(h),Ko(h)}function Wa(h){h.D||(h.D=!0,Vi(h,"complete"),Vi(h,"error"))}function Eo(h){if(h.h&&void 0!==Ht&&(!h.C[1]||4!=$o(h)||2!=h.ba()))if(h.v&&4==$o(h))Je(h.Fa,0,h);else if(Vi(h,"readystatechange"),4==$o(h)){h.h=!1;try{var g,i=h.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}if(!(g=l)){var A;if(A=0===i){var ee=String(h.H).match(yo)[1]||null;if(!ee&&Lt.self&&Lt.self.location){var he=Lt.self.location.protocol;ee=he.substr(0,he.length-1)}A=!Tc.test(ee?ee.toLowerCase():"")}g=A}if(g)Vi(h,"complete"),Vi(h,"success");else{h.m=6;try{var Ie=2<$o(h)?h.g.statusText:""}catch(at){Ie=""}h.j=Ie+" ["+h.ba()+"]",Wa(h)}}finally{Ko(h)}}}function Ko(h,i){if(h.g){vc(h);var l=h.g,g=h.C[0]?on:null;h.g=null,h.C=null,i||Vi(h,"ready");try{l.onreadystatechange=g}catch(A){}}}function vc(h){h.g&&h.K&&(h.g.ontimeout=null),h.A&&(Lt.clearTimeout(h.A),h.A=null)}function $o(h){return h.g?h.g.readyState:0}function Qa(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.J){case zs:case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch(i){return null}}function Dc(h,i,l){e:{for(g in l){var g=!1;break e}g=!0}g||(l=function(h){var i="";return Yi(h,function(l,g){i+=g,i+=":",i+=l,i+="\r\n"}),i}(l),"string"==typeof h?null!=l&&encodeURIComponent(String(l)):ae(h,i,l))}function Ss(h,i,l){return l&&l.internalChannelParams&&l.internalChannelParams[h]||i}function Sl(h){this.za=0,this.l=[],this.h=new Xn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ss("failFast",!1,h),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ss("baseRetryDelayMs",5e3,h),this.$a=Ss("retryDelaySeedMs",1e4,h),this.Ya=Ss("forwardChannelMaxRetries",2,h),this.ra=Ss("forwardChannelRequestTimeoutMs",2e4,h),this.qa=h&&h.xmlHttpFactory||void 0,this.Ba=h&&h.Yb||!1,this.K=void 0,this.H=h&&h.supportsCrossDomainXhr||!1,this.J="",this.i=new Sr(h&&h.concurrentRequestLimit),this.Ca=new ko,this.ja=h&&h.fastHandshake||!1,this.Ra=h&&h.Wb||!1,h&&h.Aa&&this.h.Aa(),h&&h.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&h&&h.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!h||!1!==h.Xb}function Qc(h){if(dc(h),3==h.G){var i=h.V++,l=Te(h.F);ae(l,"SID",h.J),ae(l,"RID",i),ae(l,"TYPE","terminate"),$c(h,l),(i=new fn(h,h.h,i,void 0)).K=2,i.v=Re(Te(l)),l=!1,Lt.navigator&&Lt.navigator.sendBeacon&&(l=Lt.navigator.sendBeacon(i.v.toString(),"")),!l&&Lt.Image&&((new Image).src=i.v,l=!0),l||(i.g=pa(i.l,null),i.g.ea(i.v)),i.F=Date.now(),ot(i)}tc(h)}function Xo(h){h.g&&(hc(h),h.g.cancel(),h.g=null)}function dc(h){Xo(h),h.u&&(Lt.clearTimeout(h.u),h.u=null),yc(h),h.i.cancel(),h.m&&("number"==typeof h.m&&Lt.clearTimeout(h.m),h.m=null)}function eo(h,i){h.l.push(new or(h.Za++,i)),3==h.G&&dl(h)}function dl(h){li(h.i)||h.m||(h.m=!0,ue(h.Ha,h),h.C=0)}function xl(h,i){var l;l=i?i.m:h.V++;var g=Te(h.F);ae(g,"SID",h.J),ae(g,"RID",l),ae(g,"AID",h.U),$c(h,g),h.o&&h.s&&Dc(g,h.o,h.s),l=new fn(h,h.h,l,h.C+1),null===h.o&&(l.H=h.s),i&&(h.l=i.D.concat(h.l)),i=Ps(h,l,1e3),l.setTimeout(Math.round(.5*h.ra)+Math.round(.5*h.ra*Math.random())),Ar(h.i,l),Qi(l,g,i)}function $c(h,i){h.j&&nr({},function(l,g){ae(i,g,l)})}function Ps(h,i,l){l=Math.min(h.l.length,l);var g=h.j?In(h.j.Oa,h.j,h):null;e:for(var A=h.l,ee=-1;;){var he=["count="+l];-1==ee?0<l?he.push("ofs="+(ee=A[0].h)):ee=0:he.push("ofs="+ee);for(var Ie=!0,at=0;at<l;at++){var Vt=A[at].h,ln=A[at].g;if(0>(Vt-=ee))ee=Math.max(0,A[at].h-100),Ie=!1;else try{Jo(ln,he,"req"+Vt+"_")}catch(Dn){g&&g(ln)}}if(Ie){g=he.join("&");break e}}return h=h.l.splice(0,l),i.D=h,g}function Va(h){h.g||h.u||(h.Y=1,ue(h.Ga,h),h.A=0)}function Ms(h){return!(h.g||h.u||3<=h.A||(h.Y++,h.u=zo(In(h.Ga,h),qc(h,h.A)),h.A++,0))}function hc(h){null!=h.B&&(Lt.clearTimeout(h.B),h.B=null)}function Xa(h){h.g=new fn(h,h.h,"rpc",h.Y),null===h.o&&(h.g.H=h.s),h.g.O=0;var i=Te(h.oa);ae(i,"RID","rpc"),ae(i,"SID",h.J),ae(i,"CI",h.N?"0":"1"),ae(i,"AID",h.U),$c(h,i),ae(i,"TYPE","xmlhttp"),h.o&&h.s&&Dc(i,h.o,h.s),h.K&&h.g.setTimeout(h.K);var l=h.g;h=h.la,l.K=1,l.v=Re(Te(i)),l.s=null,l.U=!0,xi(l,h)}function yc(h){null!=h.v&&(Lt.clearTimeout(h.v),h.v=null)}function ec(h,i){var l=null;if(h.g==i){yc(h),hc(h),h.g=null;var g=2}else{if(!Bo(h.i,i))return;l=i.D,Ki(h.i,i),g=1}if(h.I=i.N,0!=h.G)if(i.i)if(1==g){l=i.s?i.s.length:0,i=Date.now()-i.F;var A=h.C;Vi(g=mr(),new Io(g,l,i,A)),dl(h)}else Va(h);else if(3==(A=i.o)||0==A&&0<h.I||!(1==g&&function(h,i){return!(hr(h.i)>=h.i.j-(h.m?1:0)||(h.m?(h.l=i.D.concat(h.l),0):1==h.G||2==h.G||h.C>=(h.Xa?0:h.Ya)||(h.m=zo(In(h.Ha,h,i),qc(h,h.C)),h.C++,0)))}(h,i)||2==g&&Ms(h)))switch(l&&0<l.length&&(i=h.i,i.i=i.i.concat(l)),A){case 1:Wo(h,5);break;case 4:Wo(h,10);break;case 3:Wo(h,6);break;default:Wo(h,2)}}function qc(h,i){var l=h.Pa+Math.floor(Math.random()*h.$a);return h.j||(l*=2),l*i}function Wo(h,i){if(h.h.info("Error code "+i),2==i){var l=null;h.j&&(l=null);var g=In(h.jb,h);l||(l=new io("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||Ce(l,"https"),Re(l)),function(h,i){var l=new Xn;if(Lt.Image){var g=new Image;g.onload=Hn(Fs,l,g,"TestLoadImage: loaded",!0,i),g.onerror=Hn(Fs,l,g,"TestLoadImage: error",!1,i),g.onabort=Hn(Fs,l,g,"TestLoadImage: abort",!1,i),g.ontimeout=Hn(Fs,l,g,"TestLoadImage: timeout",!1,i),Lt.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=h}else i(!1)}(l.toString(),g)}else vo(2);h.G=0,h.j&&h.j.va(i),tc(h),dc(h)}function tc(h){h.G=0,h.I=-1,h.j&&((0!=jo(h.i).length||0!=h.l.length)&&(h.i.i.length=0,_i(h.l),h.l.length=0),h.j.ua())}function nc(h,i,l){var g=function(h){return h instanceof io?Te(h):new io(h,void 0)}(l);if(""!=g.i)i&&fe(g,i+"."+g.i),ne(g,g.m);else{var A=Lt.location;g=function(h,i,l,g){var A=new io(null,void 0);return h&&Ce(A,h),i&&fe(A,i),l&&ne(A,l),g&&(A.l=g),A}(A.protocol,i?i+"."+A.hostname:A.hostname,+A.port,l)}return h.aa&&Yi(h.aa,function(ee,he){ae(g,he,ee)}),l=h.sa,(i=h.D)&&l&&ae(g,i,l),ae(g,"VER",h.ma),$c(h,g),g}function pa(h,i,l){if(i&&!h.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new Yo(l&&h.Ba&&!h.qa?new Zo({ib:!0}):h.qa)).L=h.H,i}function ga(){}function Sc(){if(Ve&&!(10<=Number(zt)))throw Error("Environmental error: no available transport.")}function es(h,i){rr.call(this),this.g=new Sl(i),this.l=h,this.h=i&&i.messageUrlParams||null,h=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.s=h,h=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(h?h["X-WebChannel-Content-Type"]=i.messageContentType:h={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(h?h["X-WebChannel-Client-Profile"]=i.ya:h={"X-WebChannel-Client-Profile":i.ya}),this.g.P=h,(h=i&&i.httpHeadersOverwriteParam)&&!mi(h)&&(this.g.o=h),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!mi(i)&&(this.g.D=i,null!==(h=this.h)&&i in h&&i in(h=this.h)&&delete h[i]),this.j=new Bs(this)}function Al(h){Uo.call(this);var i=h.__sm__;if(i){e:{for(var l in i){h=l;break e}h=void 0}(this.i=h)&&(h=this.i,i=null!==i&&h in i?i[h]:void 0),this.data=i}else this.data=h}function _a(){wo.call(this),this.status=1}function Bs(h){this.g=h}(gt=Yo.prototype).ea=function(h,i,l,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+h);i=i?i.toUpperCase():"GET",this.H=h,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():So.g(),this.C=function(h){return h.h||(h.h=h.i())}(this.u?this.u:So),this.g.onreadystatechange=In(this.Fa,this);try{this.F=!0,this.g.open(i,String(h),!0),this.F=!1}catch(ee){return void Zc(this,ee)}h=l||"";var A=new dr(this.headers);g&&nr(g,function(ee,he){A.set(he,ee)}),g=function(h){e:{for(var i=bs,l=h.length,g="string"==typeof h?h.split(""):h,A=0;A<l;A++)if(A in g&&i.call(void 0,g[A],A,h)){i=A;break e}i=-1}return 0>i?null:"string"==typeof h?h.charAt(i):h[i]}(A.T()),l=Lt.FormData&&h instanceof Lt.FormData,!(0<=fi(Ys,i))||g||l||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),A.forEach(function(ee,he){this.g.setRequestHeader(he,ee)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vc(this),0<this.B&&((this.K=function(h){return Ve&&Rt()&&"number"==typeof h.timeout&&void 0!==h.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=In(this.pa,this)):this.A=Je(this.pa,this.B,this)),this.v=!0,this.g.send(h),this.v=!1}catch(ee){Zc(this,ee)}},gt.pa=function(){void 0!==Ht&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vi(this,"timeout"),this.abort(8))},gt.abort=function(h){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=h||7,Vi(this,"complete"),Vi(this,"abort"),Ko(this))},gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ko(this,!0)),Yo.Z.M.call(this)},gt.Fa=function(){this.s||(this.F||this.v||this.l?Eo(this):this.cb())},gt.cb=function(){Eo(this)},gt.ba=function(){try{return 2<$o(this)?this.g.status:-1}catch(h){return-1}},gt.ga=function(){try{return this.g?this.g.responseText:""}catch(h){return""}},gt.Qa=function(h){if(this.g){var i=this.g.responseText;return h&&0==i.indexOf(h)&&(i=i.substring(h.length)),ys(i)}},gt.Da=function(){return this.m},gt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=Sl.prototype).ma=8,gt.G=1,gt.hb=function(h){try{this.h.info("Origin Trials invoked: "+h)}catch(i){}},gt.Ha=function(h){if(this.m)if(this.m=null,1==this.G){if(!h){this.V=Math.floor(1e5*Math.random()),h=this.V++;var i=new fn(this,this.h,h,void 0),l=this.s;if(this.P&&(l?bn(l=yr(l),this.P):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var g=0,A=0;A<this.l.length;A++){var ee=this.l[A];if(void 0===(ee="__data__"in ee.g&&"string"==typeof(ee=ee.g.__data__)?ee.length:void 0))break;if(4096<(g+=ee)){g=A;break e}if(4096===g||A===this.l.length-1){g=A+1;break e}}g=1e3}else g=1e3;g=Ps(this,i,g),ae(A=Te(this.F),"RID",h),ae(A,"CVER",22),this.D&&ae(A,"X-HTTP-Session-Id",this.D),$c(this,A),this.o&&l&&Dc(A,this.o,l),Ar(this.i,i),this.Ra&&ae(A,"TYPE","init"),this.ja?(ae(A,"$req",g),ae(A,"SID","null"),i.$=!0,Qi(i,A,null)):Qi(i,A,g),this.G=2}}else 3==this.G&&(h?xl(this,h):0==this.l.length||li(this.i)||xl(this))},gt.Ga=function(){if(this.u=null,Xa(this),this.$&&!(this.L||null==this.g||0>=this.O)){var h=2*this.O;this.h.info("BP detection timer enabled: "+h),this.B=zo(In(this.bb,this),h)}},gt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,vo(10),Xo(this),Xa(this))},gt.ab=function(){null!=this.v&&(this.v=null,Xo(this),Ms(this),vo(19))},gt.jb=function(h){h?(this.h.info("Successfully pinged google.com"),vo(2)):(this.h.info("Failed to ping google.com"),vo(1))},(gt=ga.prototype).xa=function(){},gt.wa=function(){},gt.va=function(){},gt.ua=function(){},gt.Oa=function(){},Sc.prototype.g=function(h,i){return new es(h,i)},ni(es,rr),es.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var h=this.g,i=this.l,l=this.h||void 0;h.Wa&&(h.h.info("Origin Trials enabled."),ue(In(h.hb,h,i))),vo(0),h.W=i,h.aa=l||{},h.N=h.X,h.F=nc(h,null,h.W),dl(h)},es.prototype.close=function(){Qc(this.g)},es.prototype.u=function(h){if("string"==typeof h){var i={};i.__data__=h,eo(this.g,i)}else this.v?((i={}).__data__=Yr(h),eo(this.g,i)):eo(this.g,h)},es.prototype.M=function(){this.g.j=null,delete this.j,Qc(this.g),delete this.g,es.Z.M.call(this)},ni(Al,Uo),ni(_a,wo),ni(Bs,ga),Bs.prototype.xa=function(){Vi(this.g,"a")},Bs.prototype.wa=function(h){Vi(this.g,new Al(h))},Bs.prototype.va=function(h){Vi(this.g,new _a(h))},Bs.prototype.ua=function(){Vi(this.g,"b")},Sc.prototype.createWebChannel=Sc.prototype.g,es.prototype.send=es.prototype.u,es.prototype.open=es.prototype.m,es.prototype.close=es.prototype.close,Qr.NO_ERROR=0,Qr.TIMEOUT=8,Qr.HTTP_ERROR=6,_s.COMPLETE="complete",Ts.EventType=No,No.OPEN="a",No.CLOSE="b",No.ERROR="c",No.MESSAGE="d",rr.prototype.listen=rr.prototype.N,Yo.prototype.listenOnce=Yo.prototype.O,Yo.prototype.getLastError=Yo.prototype.La,Yo.prototype.getLastErrorCode=Yo.prototype.Da,Yo.prototype.getStatus=Yo.prototype.ba,Yo.prototype.getResponseJson=Yo.prototype.Qa,Yo.prototype.getResponseText=Yo.prototype.ga,Yo.prototype.send=Yo.prototype.ea;var Cr=Qr,ps=_s,Mr=ur,lo_PROXY=10,lo_NOPROXY=11,Mo=Zo,xs=Ts,ic=Yo;class Os{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}Os.UNAUTHENTICATED=new Os(null),Os.GOOGLE_CREDENTIALS=new Os("google-credentials-uid"),Os.FIRST_PARTY=new Os("first-party-uid"),Os.MOCK_USER=new Os("mock-user");let be="9.0.2";const ge=new ve.Yd("@firebase/firestore");function le(){return ge.logLevel}function xe(h,...i){if(ge.logLevel<=ve.in.DEBUG){const l=i.map(yn);ge.debug(`Firestore (${be}): ${h}`,...l)}}function ht(h,...i){if(ge.logLevel<=ve.in.ERROR){const l=i.map(yn);ge.error(`Firestore (${be}): ${h}`,...l)}}function rn(h,...i){if(ge.logLevel<=ve.in.WARN){const l=i.map(yn);ge.warn(`Firestore (${be}): ${h}`,...l)}}function yn(h){if("string"==typeof h)return h;try{return JSON.stringify(h)}catch(l){return h}}function Nn(h="Unexpected state"){const i=`FIRESTORE (${be}) INTERNAL ASSERTION FAILED: `+h;throw ht(i),new Error(i)}function vi(h,i){h||Nn()}function Mi(h,i){return h}const Vn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ai extends Error{constructor(i,l){super(l),this.code=i,this.message=l,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bo{constructor(){this.promise=new Promise((i,l)=>{this.resolve=i,this.reject=l})}}class Ws{constructor(i,l){this.user=l,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${i}`}}class ts{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,l){i.enqueueRetryable(()=>l(Os.UNAUTHENTICATED))}shutdown(){}}class rc{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,l){this.changeListener=l,i.enqueueRetryable(()=>l(this.token.user))}shutdown(){this.changeListener=null}}class k{constructor(i){this.t=i,this.currentUser=Os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,l){var g=this;let A=this.i;const ee=Vt=>this.i!==A?(A=this.i,l(Vt)):Promise.resolve();let he=new bo;this.o=()=>{this.i++,this.currentUser=this.u(),he.resolve(),he=new bo,i.enqueueRetryable(()=>ee(this.currentUser))};const Ie=()=>{const Vt=he;i.enqueueRetryable((0,Ae.Z)(function*(){yield Vt.promise,yield ee(g.currentUser)}))},at=Vt=>{xe("FirebaseCredentialsProvider","Auth detected"),this.auth=Vt,this.auth.addAuthTokenListener(this.o),Ie()};this.t.onInit(Vt=>at(Vt)),setTimeout(()=>{if(!this.auth){const Vt=this.t.getImmediate({optional:!0});Vt?at(Vt):(xe("FirebaseCredentialsProvider","Auth not yet detected"),he.resolve(),he=new bo)}},0),Ie()}getToken(){const i=this.i,l=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(l).then(g=>this.i!==i?(xe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):g?(vi("string"==typeof g.accessToken),new Ws(g.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return vi(null===i||"string"==typeof i),new Os(i)}}class ye{constructor(i,l,g){this.h=i,this.l=l,this.m=g,this.type="FirstParty",this.user=Os.FIRST_PARTY}get authHeaders(){const i={"X-Goog-AuthUser":this.l},l=this.h.auth.getAuthHeaderValueForFirstParty([]);return l&&(i.Authorization=l),this.m&&(i["X-Goog-Iam-Authorization-Token"]=this.m),i}}class q{constructor(i,l,g){this.h=i,this.l=l,this.m=g}getToken(){return Promise.resolve(new ye(this.h,this.l,this.m))}start(i,l){i.enqueueRetryable(()=>l(Os.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pe{constructor(i,l){this.previousValue=i,l&&(l.sequenceNumberHandler=g=>this.g(g),this.p=g=>l.writeSequenceNumber(g))}g(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.p&&this.p(i),i}}function rt(h){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),l=new Uint8Array(h);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(l);else for(let g=0;g<h;g++)l[g]=Math.floor(256*Math.random());return l}Pe.T=-1;class Jt{static I(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=Math.floor(256/i.length)*i.length;let g="";for(;g.length<20;){const A=rt(40);for(let ee=0;ee<A.length;++ee)g.length<20&&A[ee]<l&&(g+=i.charAt(A[ee]%i.length))}return g}}function Mn(h,i){return h<i?-1:h>i?1:0}function Bi(h,i,l){return h.length===i.length&&h.every((g,A)=>l(g,i[A]))}function ir(h){return h+"\0"}class ki{constructor(i,l){if(this.seconds=i,this.nanoseconds=l,l<0)throw new ai(Vn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(l>=1e9)throw new ai(Vn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(i<-62135596800)throw new ai(Vn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new ai(Vn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return ki.fromMillis(Date.now())}static fromDate(i){return ki.fromMillis(i.getTime())}static fromMillis(i){const l=Math.floor(i/1e3),g=Math.floor(1e6*(i-1e3*l));return new ki(l,g)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?Mn(this.nanoseconds,i.nanoseconds):Mn(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class sr{constructor(i){this.timestamp=i}static fromTimestamp(i){return new sr(i)}static min(){return new sr(new ki(0,0))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Qo(h){let i=0;for(const l in h)Object.prototype.hasOwnProperty.call(h,l)&&i++;return i}function jr(h,i){for(const l in h)Object.prototype.hasOwnProperty.call(h,l)&&i(l,h[l])}function ns(h){for(const i in h)if(Object.prototype.hasOwnProperty.call(h,i))return!1;return!0}class ws{constructor(i,l,g){void 0===l?l=0:l>i.length&&Nn(),void 0===g?g=i.length-l:g>i.length-l&&Nn(),this.segments=i,this.offset=l,this.len=g}get length(){return this.len}isEqual(i){return 0===ws.comparator(this,i)}child(i){const l=this.segments.slice(this.offset,this.limit());return i instanceof ws?i.forEach(g=>{l.push(g)}):l.push(i),this.construct(l)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let l=0;l<this.length;l++)if(this.get(l)!==i.get(l))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let l=0;l<this.length;l++)if(this.get(l)!==i.get(l))return!1;return!0}forEach(i){for(let l=this.offset,g=this.limit();l<g;l++)i(this.segments[l])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,l){const g=Math.min(i.length,l.length);for(let A=0;A<g;A++){const ee=i.get(A),he=l.get(A);if(ee<he)return-1;if(ee>he)return 1}return i.length<l.length?-1:i.length>l.length?1:0}}class to extends ws{construct(i,l,g){return new to(i,l,g)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const l=[];for(const g of i){if(g.indexOf("//")>=0)throw new ai(Vn.INVALID_ARGUMENT,`Invalid segment (${g}). Paths must not contain // in them.`);l.push(...g.split("/").filter(A=>A.length>0))}return new to(l)}static emptyPath(){return new to([])}}const Hc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class is extends ws{construct(i,l,g){return new is(i,l,g)}static isValidIdentifier(i){return Hc.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),is.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new is(["__name__"])}static fromServerFormat(i){const l=[];let g="",A=0;const ee=()=>{if(0===g.length)throw new ai(Vn.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);l.push(g),g=""};let he=!1;for(;A<i.length;){const Ie=i[A];if("\\"===Ie){if(A+1===i.length)throw new ai(Vn.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const at=i[A+1];if("\\"!==at&&"."!==at&&"`"!==at)throw new ai(Vn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);g+=at,A+=2}else"`"===Ie?(he=!he,A++):"."!==Ie||he?(g+=Ie,A++):(ee(),A++)}if(ee(),he)throw new ai(Vn.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new is(l)}static emptyPath(){return new is([])}}class To{constructor(i){this.fields=i,i.sort(is.comparator)}covers(i){for(const l of this.fields)if(l.isPrefixOf(i))return!0;return!1}isEqual(i){return Bi(this.fields,i.fields,(l,g)=>l.isEqual(g))}}class as{constructor(i){this.binaryString=i}static fromBase64String(i){const l=atob(i);return new as(l)}static fromUint8Array(i){const l=function(g){let A="";for(let ee=0;ee<g.length;++ee)A+=String.fromCharCode(g[ee]);return A}(i);return new as(l)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const l=new Uint8Array(i.length);for(let g=0;g<i.length;g++)l[g]=i.charCodeAt(g);return l}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return Mn(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}as.EMPTY_BYTE_STRING=new as("");const nf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fl(h){if(vi(!!h),"string"==typeof h){let i=0;const l=nf.exec(h);if(vi(!!l),l[1]){let A=l[1];A=(A+"000000000").substr(0,9),i=Number(A)}const g=new Date(h);return{seconds:Math.floor(g.getTime()/1e3),nanos:i}}return{seconds:Vs(h.seconds),nanos:Vs(h.nanos)}}function Vs(h){return"number"==typeof h?h:"string"==typeof h?Number(h):0}function vu(h){return"string"==typeof h?as.fromBase64String(h):as.fromUint8Array(h)}function rf(h){var i,l;return"server_timestamp"===(null===(l=((null===(i=null==h?void 0:h.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===l?void 0:l.stringValue)}function mh(h){const i=h.mapValue.fields.__previous_value__;return rf(i)?mh(i):i}function Sd(h){const i=fl(h.mapValue.fields.__local_write_time__.timestampValue);return new ki(i.seconds,i.nanos)}function Il(h){return null==h}function zl(h){return 0===h&&1/h==-1/0}function Nl(h){return"number"==typeof h&&Number.isInteger(h)&&!zl(h)&&h<=Number.MAX_SAFE_INTEGER&&h>=Number.MIN_SAFE_INTEGER}class Ir{constructor(i){this.path=i}static fromPath(i){return new Ir(to.fromString(i))}static fromName(i){return new Ir(to.fromString(i).popFirst(5))}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}isEqual(i){return null!==i&&0===to.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,l){return to.comparator(i.path,l.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new Ir(new to(i.slice()))}}function qo(h){return"nullValue"in h?0:"booleanValue"in h?1:"integerValue"in h||"doubleValue"in h?2:"timestampValue"in h?3:"stringValue"in h?5:"bytesValue"in h?6:"referenceValue"in h?7:"geoPointValue"in h?8:"arrayValue"in h?9:"mapValue"in h?rf(h)?4:10:Nn()}function Qs(h,i){const l=qo(h);if(l!==qo(i))return!1;switch(l){case 0:return!0;case 1:return h.booleanValue===i.booleanValue;case 4:return Sd(h).isEqual(Sd(i));case 3:return function(g,A){if("string"==typeof g.timestampValue&&"string"==typeof A.timestampValue&&g.timestampValue.length===A.timestampValue.length)return g.timestampValue===A.timestampValue;const ee=fl(g.timestampValue),he=fl(A.timestampValue);return ee.seconds===he.seconds&&ee.nanos===he.nanos}(h,i);case 5:return h.stringValue===i.stringValue;case 6:return A=i,vu(h.bytesValue).isEqual(vu(A.bytesValue));case 7:return h.referenceValue===i.referenceValue;case 8:return function(g,A){return Vs(g.geoPointValue.latitude)===Vs(A.geoPointValue.latitude)&&Vs(g.geoPointValue.longitude)===Vs(A.geoPointValue.longitude)}(h,i);case 2:return function(g,A){if("integerValue"in g&&"integerValue"in A)return Vs(g.integerValue)===Vs(A.integerValue);if("doubleValue"in g&&"doubleValue"in A){const ee=Vs(g.doubleValue),he=Vs(A.doubleValue);return ee===he?zl(ee)===zl(he):isNaN(ee)&&isNaN(he)}return!1}(h,i);case 9:return Bi(h.arrayValue.values||[],i.arrayValue.values||[],Qs);case 10:return function(g,A){const ee=g.mapValue.fields||{},he=A.mapValue.fields||{};if(Qo(ee)!==Qo(he))return!1;for(const Ie in ee)if(ee.hasOwnProperty(Ie)&&(void 0===he[Ie]||!Qs(ee[Ie],he[Ie])))return!1;return!0}(h,i);default:return Nn()}var A}function fc(h,i){return void 0!==(h.values||[]).find(l=>Qs(l,i))}function Yl(h,i){const l=qo(h),g=qo(i);if(l!==g)return Mn(l,g);switch(l){case 0:return 0;case 1:return Mn(h.booleanValue,i.booleanValue);case 2:return function(A,ee){const he=Vs(A.integerValue||A.doubleValue),Ie=Vs(ee.integerValue||ee.doubleValue);return he<Ie?-1:he>Ie?1:he===Ie?0:isNaN(he)?isNaN(Ie)?0:-1:1}(h,i);case 3:return sf(h.timestampValue,i.timestampValue);case 4:return sf(Sd(h),Sd(i));case 5:return Mn(h.stringValue,i.stringValue);case 6:return function(A,ee){const he=vu(A),Ie=vu(ee);return he.compareTo(Ie)}(h.bytesValue,i.bytesValue);case 7:return function(A,ee){const he=A.split("/"),Ie=ee.split("/");for(let at=0;at<he.length&&at<Ie.length;at++){const Vt=Mn(he[at],Ie[at]);if(0!==Vt)return Vt}return Mn(he.length,Ie.length)}(h.referenceValue,i.referenceValue);case 8:return function(A,ee){const he=Mn(Vs(A.latitude),Vs(ee.latitude));return 0!==he?he:Mn(Vs(A.longitude),Vs(ee.longitude))}(h.geoPointValue,i.geoPointValue);case 9:return function(A,ee){const he=A.values||[],Ie=ee.values||[];for(let at=0;at<he.length&&at<Ie.length;++at){const Vt=Yl(he[at],Ie[at]);if(Vt)return Vt}return Mn(he.length,Ie.length)}(h.arrayValue,i.arrayValue);case 10:return function(A,ee){const he=A.fields||{},Ie=Object.keys(he),at=ee.fields||{},Vt=Object.keys(at);Ie.sort(),Vt.sort();for(let ln=0;ln<Ie.length&&ln<Vt.length;++ln){const Dn=Mn(Ie[ln],Vt[ln]);if(0!==Dn)return Dn;const gi=Yl(he[Ie[ln]],at[Vt[ln]]);if(0!==gi)return gi}return Mn(Ie.length,Vt.length)}(h.mapValue,i.mapValue);default:throw Nn()}}function sf(h,i){if("string"==typeof h&&"string"==typeof i&&h.length===i.length)return Mn(h,i);const l=fl(h),g=fl(i),A=Mn(l.seconds,g.seconds);return 0!==A?A:Mn(l.nanos,g.nanos)}function pc(h){return xc(h)}function xc(h){return"nullValue"in h?"null":"booleanValue"in h?""+h.booleanValue:"integerValue"in h?""+h.integerValue:"doubleValue"in h?""+h.doubleValue:"timestampValue"in h?function(g){const A=fl(g);return`time(${A.seconds},${A.nanos})`}(h.timestampValue):"stringValue"in h?h.stringValue:"bytesValue"in h?vu(h.bytesValue).toBase64():"referenceValue"in h?Ir.fromName(h.referenceValue).toString():"geoPointValue"in h?`geo(${(i=h.geoPointValue).latitude},${i.longitude})`:"arrayValue"in h?function(g){let A="[",ee=!0;for(const he of g.values||[])ee?ee=!1:A+=",",A+=xc(he);return A+"]"}(h.arrayValue):"mapValue"in h?function(g){const A=Object.keys(g.fields||{}).sort();let ee="{",he=!0;for(const Ie of A)he?he=!1:ee+=",",ee+=`${Ie}:${xc(g.fields[Ie])}`;return ee+"}"}(h.mapValue):Nn();var i}function Cc(h,i){return{referenceValue:`projects/${h.projectId}/databases/${h.database}/documents/${i.path.canonicalString()}`}}function Jc(h){return!!h&&"integerValue"in h}function Kc(h){return!!h&&"arrayValue"in h}function xd(h){return!!h&&"nullValue"in h}function Ad(h){return!!h&&"doubleValue"in h&&isNaN(Number(h.doubleValue))}function Id(h){return!!h&&"mapValue"in h}function yu(h){if(h.geoPointValue)return{geoPointValue:Object.assign({},h.geoPointValue)};if(h.timestampValue&&"object"==typeof h.timestampValue)return{timestampValue:Object.assign({},h.timestampValue)};if(h.mapValue){const i={mapValue:{fields:{}}};return jr(h.mapValue.fields,(l,g)=>i.mapValue.fields[l]=yu(g)),i}if(h.arrayValue){const i={arrayValue:{values:[]}};for(let l=0;l<(h.arrayValue.values||[]).length;++l)i.arrayValue.values[l]=yu(h.arrayValue.values[l]);return i}return Object.assign({},h)}class oc{constructor(i){this.value=i}static empty(){return new oc({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let l=this.value;for(let g=0;g<i.length-1;++g)if(l=(l.mapValue.fields||{})[i.get(g)],!Id(l))return null;return l=(l.mapValue.fields||{})[i.lastSegment()],l||null}}set(i,l){this.getFieldsMap(i.popLast())[i.lastSegment()]=yu(l)}setAll(i){let l=is.emptyPath(),g={},A=[];i.forEach((he,Ie)=>{if(!l.isImmediateParentOf(Ie)){const at=this.getFieldsMap(l);this.applyChanges(at,g,A),g={},A=[],l=Ie.popLast()}he?g[Ie.lastSegment()]=yu(he):A.push(Ie.lastSegment())});const ee=this.getFieldsMap(l);this.applyChanges(ee,g,A)}delete(i){const l=this.field(i.popLast());Id(l)&&l.mapValue.fields&&delete l.mapValue.fields[i.lastSegment()]}isEqual(i){return Qs(this.value,i.value)}getFieldsMap(i){let l=this.value;l.mapValue.fields||(l.mapValue={fields:{}});for(let g=0;g<i.length;++g){let A=l.mapValue.fields[i.get(g)];Id(A)&&A.mapValue.fields||(A={mapValue:{fields:{}}},l.mapValue.fields[i.get(g)]=A),l=A}return l.mapValue.fields}applyChanges(i,l,g){jr(l,(A,ee)=>i[A]=ee);for(const A of g)delete i[A]}clone(){return new oc(yu(this.value))}}function Gu(h){const i=[];return jr(h.fields,(l,g)=>{const A=new is([l]);if(Id(g)){const ee=Gu(g.mapValue).fields;if(0===ee.length)i.push(A);else for(const he of ee)i.push(A.child(he))}else i.push(A)}),new To(i)}class po{constructor(i,l,g,A,ee){this.key=i,this.documentType=l,this.version=g,this.data=A,this.documentState=ee}static newInvalidDocument(i){return new po(i,0,sr.min(),oc.empty(),0)}static newFoundDocument(i,l,g){return new po(i,1,l,g,0)}static newNoDocument(i,l){return new po(i,2,l,oc.empty(),0)}static newUnknownDocument(i,l){return new po(i,3,l,oc.empty(),2)}convertToFoundDocument(i,l){return this.version=i,this.documentType=1,this.data=l,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=oc.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=oc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof po&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}clone(){return new po(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _h{constructor(i,l=null,g=[],A=[],ee=null,he=null,Ie=null){this.path=i,this.collectionGroup=l,this.orderBy=g,this.filters=A,this.limit=ee,this.startAt=he,this.endAt=Ie,this.A=null}}function pl(h,i=null,l=[],g=[],A=null,ee=null,he=null){return new _h(h,i,l,g,A,ee,he)}function Nd(h){const i=Mi(h);if(null===i.A){let l=i.path.canonicalString();null!==i.collectionGroup&&(l+="|cg:"+i.collectionGroup),l+="|f:",l+=i.filters.map(g=>function(h){return h.field.canonicalString()+h.op.toString()+pc(h.value)}(g)).join(","),l+="|ob:",l+=i.orderBy.map(g=>{return(A=g).field.canonicalString()+A.dir;var A}).join(","),Il(i.limit)||(l+="|l:",l+=i.limit),i.startAt&&(l+="|lb:",l+=Rd(i.startAt)),i.endAt&&(l+="|ub:",l+=Rd(i.endAt)),i.A=l}return i.A}function Cu(h,i){if(h.limit!==i.limit||h.orderBy.length!==i.orderBy.length)return!1;for(let A=0;A<h.orderBy.length;A++)if(!bh(h.orderBy[A],i.orderBy[A]))return!1;if(h.filters.length!==i.filters.length)return!1;for(let A=0;A<h.filters.length;A++)if((l=h.filters[A]).op!==(g=i.filters[A]).op||!l.field.isEqual(g.field)||!Qs(l.value,g.value))return!1;var l,g;return h.collectionGroup===i.collectionGroup&&!!h.path.isEqual(i.path)&&!!Wl(h.startAt,i.startAt)&&Wl(h.endAt,i.endAt)}function bu(h){return Ir.isDocumentKey(h.path)&&null===h.collectionGroup&&0===h.filters.length}class Pa extends class{}{constructor(i,l,g){super(),this.field=i,this.op=l,this.value=g}static create(i,l,g){return i.isKeyField()?"in"===l||"not-in"===l?this.R(i,l,g):new vh(i,l,g):"array-contains"===l?new cf(i,g):"in"===l?new Yu(i,g):"not-in"===l?new Ch(i,g):"array-contains-any"===l?new Rl(i,g):new Pa(i,l,g)}static R(i,l,g){return"in"===l?new Pu(i,g):new yh(i,g)}matches(i){const l=i.data.field(this.field);return"!="===this.op?null!==l&&this.P(Yl(l,this.value)):null!==l&&qo(this.value)===qo(l)&&this.P(Yl(l,this.value))}P(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return Nn()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class vh extends Pa{constructor(i,l,g){super(i,l,g),this.key=Ir.fromName(g.referenceValue)}matches(i){const l=Ir.comparator(i.key,this.key);return this.P(l)}}class Pu extends Pa{constructor(i,l){super(i,"in",l),this.keys=zu(0,l)}matches(i){return this.keys.some(l=>l.isEqual(i.key))}}class yh extends Pa{constructor(i,l){super(i,"not-in",l),this.keys=zu(0,l)}matches(i){return!this.keys.some(l=>l.isEqual(i.key))}}function zu(h,i){var l;return((null===(l=i.arrayValue)||void 0===l?void 0:l.values)||[]).map(g=>Ir.fromName(g.referenceValue))}class cf extends Pa{constructor(i,l){super(i,"array-contains",l)}matches(i){const l=i.data.field(this.field);return Kc(l)&&fc(l.arrayValue,this.value)}}class Yu extends Pa{constructor(i,l){super(i,"in",l)}matches(i){const l=i.data.field(this.field);return null!==l&&fc(this.value.arrayValue,l)}}class Ch extends Pa{constructor(i,l){super(i,"not-in",l)}matches(i){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const l=i.data.field(this.field);return null!==l&&!fc(this.value.arrayValue,l)}}class Rl extends Pa{constructor(i,l){super(i,"array-contains-any",l)}matches(i){const l=i.data.field(this.field);return!(!Kc(l)||!l.arrayValue.values)&&l.arrayValue.values.some(g=>fc(this.value.arrayValue,g))}}class Wu{constructor(i,l){this.position=i,this.before=l}}function Rd(h){return`${h.before?"b":"a"}:${h.position.map(i=>pc(i)).join(",")}`}class Ll{constructor(i,l="asc"){this.field=i,this.dir=l}}function bh(h,i){return h.dir===i.dir&&h.field.isEqual(i.field)}function Ph(h,i,l){let g=0;for(let A=0;A<h.position.length;A++){const ee=i[A],he=h.position[A];if(g=ee.field.isKeyField()?Ir.comparator(Ir.fromName(he.referenceValue),l.key):Yl(he,l.data.field(ee.field)),"desc"===ee.dir&&(g*=-1),0!==g)break}return h.before?g<=0:g<0}function Wl(h,i){if(null===h)return null===i;if(null===i||h.before!==i.before||h.position.length!==i.position.length)return!1;for(let l=0;l<h.position.length;l++)if(!Qs(h.position[l],i.position[l]))return!1;return!0}class sc{constructor(i,l=null,g=[],A=[],ee=null,he="F",Ie=null,at=null){this.path=i,this.collectionGroup=l,this.explicitOrderBy=g,this.filters=A,this.limit=ee,this.limitType=he,this.startAt=Ie,this.endAt=at,this.V=null,this.S=null}}function kl(h,i,l,g,A,ee,he,Ie){return new sc(h,i,l,g,A,ee,he,Ie)}function Fl(h){return new sc(h)}function cs(h){return!Il(h.limit)&&"F"===h.limitType}function Mu(h){return!Il(h.limit)&&"L"===h.limitType}function Ld(h){return h.explicitOrderBy.length>0?h.explicitOrderBy[0].field:null}function Xc(h){for(const i of h.filters)if(i.v())return i.field;return null}function Ql(h){return null!==h.collectionGroup}function Jl(h){const i=Mi(h);if(null===i.V){i.V=[];const l=Xc(i),g=Ld(i);if(null!==l&&null===g)l.isKeyField()||i.V.push(new Ll(l)),i.V.push(new Ll(is.keyField(),"asc"));else{let A=!1;for(const ee of i.explicitOrderBy)i.V.push(ee),ee.field.isKeyField()&&(A=!0);if(!A){const ee=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.V.push(new Ll(is.keyField(),ee))}}}return i.V}function ac(h){const i=Mi(h);if(!i.S)if("F"===i.limitType)i.S=pl(i.path,i.collectionGroup,Jl(i),i.filters,i.limit,i.startAt,i.endAt);else{const l=[];for(const ee of Jl(i))l.push(new Ll(ee.field,"desc"===ee.dir?"asc":"desc"));const g=i.endAt?new Wu(i.endAt.position,!i.endAt.before):null,A=i.startAt?new Wu(i.startAt.position,!i.startAt.before):null;i.S=pl(i.path,i.collectionGroup,l,i.filters,i.limit,g,A)}return i.S}function Mh(h,i,l){return new sc(h.path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),i,l,h.startAt,h.endAt)}function kd(h,i){return Cu(ac(h),ac(i))&&h.limitType===i.limitType}function Kl(h){return`${Nd(ac(h))}|lt:${h.limitType}`}function bc(h){return`Query(target=${function(h){let i=h.path.canonicalString();return null!==h.collectionGroup&&(i+=" collectionGroup="+h.collectionGroup),h.filters.length>0&&(i+=`, filters: [${h.filters.map(l=>{return`${(g=l).field.canonicalString()} ${g.op} ${pc(g.value)}`;var g}).join(", ")}]`),Il(h.limit)||(i+=", limit: "+h.limit),h.orderBy.length>0&&(i+=`, orderBy: [${h.orderBy.map(l=>{return`${(g=l).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),h.startAt&&(i+=", startAt: "+Rd(h.startAt)),h.endAt&&(i+=", endAt: "+Rd(h.endAt)),`Target(${i})`}(ac(h))}; limitType=${h.limitType})`}function Ul(h,i){return i.isFoundDocument()&&function(l,g){const A=g.key.path;return null!==l.collectionGroup?g.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(A):Ir.isDocumentKey(l.path)?l.path.isEqual(A):l.path.isImmediateParentOf(A)}(h,i)&&function(l,g){for(const A of l.explicitOrderBy)if(!A.field.isKeyField()&&null===g.data.field(A.field))return!1;return!0}(h,i)&&function(l,g){for(const A of l.filters)if(!A.matches(g))return!1;return!0}(h,i)&&(g=i,!((l=h).startAt&&!Ph(l.startAt,Jl(l),g)||l.endAt&&Ph(l.endAt,Jl(l),g)));var l,g}function gl(h){return(i,l)=>{let g=!1;for(const A of Jl(h)){const ee=lf(A,i,l);if(0!==ee)return ee;g=g||A.field.isKeyField()}return 0}}function lf(h,i,l){const g=h.field.isKeyField()?Ir.comparator(i.key,l.key):function(A,ee,he){const Ie=ee.data.field(A),at=he.data.field(A);return null!==Ie&&null!==at?Yl(Ie,at):Nn()}(h.field,i,l);switch(h.dir){case"asc":return g;case"desc":return-1*g;default:return Nn()}}function Oh(h,i){if(h.D){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zl(i)?"-0":i}}function Xl(h){return{integerValue:""+h}}function Qu(h,i){return Nl(i)?Xl(i):Oh(h,i)}class Ju{constructor(){this._=void 0}}function gp(h,i,l){return h instanceof el?function(g,A){const ee={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:g.seconds,nanos:g.nanoseconds}}}};return A&&(ee.fields.__previous_value__=A),{mapValue:ee}}(l,i):h instanceof tu?_p(h,i):h instanceof tl?uf(h,i):function(g,A){const ee=eu(g,A),he=df(ee)+df(g.C);return Jc(ee)&&Jc(g.C)?Xl(he):Oh(g.N,he)}(h,i)}function mp(h,i,l){return h instanceof tu?_p(h,i):h instanceof tl?uf(h,i):l}function eu(h,i){return h instanceof Ku?Jc(l=i)||(g=l)&&"doubleValue"in g?i:{integerValue:0}:null;var g,l}class el extends Ju{}class tu extends Ju{constructor(i){super(),this.elements=i}}function _p(h,i){const l=hf(i);for(const g of h.elements)l.some(A=>Qs(A,g))||l.push(g);return{arrayValue:{values:l}}}class tl extends Ju{constructor(i){super(),this.elements=i}}function uf(h,i){let l=hf(i);for(const g of h.elements)l=l.filter(A=>!Qs(A,g));return{arrayValue:{values:l}}}class Ku extends Ju{constructor(i,l){super(),this.N=i,this.C=l}}function df(h){return Vs(h.integerValue||h.doubleValue)}function hf(h){return Kc(h)&&h.arrayValue.values?h.arrayValue.values.slice():[]}class Xu{constructor(i,l){this.field=i,this.transform=l}}class wh{constructor(i,l){this.version=i,this.transformResults=l}}class rs{constructor(i,l){this.updateTime=i,this.exists=l}static none(){return new rs}static exists(i){return new rs(void 0,i)}static updateTime(i){return new rs(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function Fd(h,i){return void 0!==h.updateTime?i.isFoundDocument()&&i.version.isEqual(h.updateTime):void 0===h.exists||h.exists===i.isFoundDocument()}class Ud{}function ff(h,i,l){h instanceof ml?function(g,A,ee){const he=g.value.clone(),Ie=gf(g.fieldTransforms,A,ee.transformResults);he.setAll(Ie),A.convertToFoundDocument(ee.version,he).setHasCommittedMutations()}(h,i,l):h instanceof Za?function(g,A,ee){if(!Fd(g.precondition,A))return void A.convertToUnknownDocument(ee.version);const he=gf(g.fieldTransforms,A,ee.transformResults),Ie=A.data;Ie.setAll(pf(g)),Ie.setAll(he),A.convertToFoundDocument(ee.version,Ie).setHasCommittedMutations()}(h,i,l):i.convertToNoDocument(l.version).setHasCommittedMutations()}function Ou(h,i,l){var A;h instanceof ml?function(g,A,ee){if(!Fd(g.precondition,A))return;const he=g.value.clone(),Ie=mf(g.fieldTransforms,ee,A);he.setAll(Ie),A.convertToFoundDocument(wu(A),he).setHasLocalMutations()}(h,i,l):h instanceof Za?function(g,A,ee){if(!Fd(g.precondition,A))return;const he=mf(g.fieldTransforms,ee,A),Ie=A.data;Ie.setAll(pf(g)),Ie.setAll(he),A.convertToFoundDocument(wu(A),Ie).setHasLocalMutations()}(h,i,l):Fd(h.precondition,A=i)&&A.convertToNoDocument(sr.min())}function td(h,i){let l=null;for(const g of h.fieldTransforms){const A=i.data.field(g.field),ee=eu(g.transform,A||null);null!=ee&&(null==l&&(l=oc.empty()),l.set(g.field,ee))}return l||null}function Bd(h,i){return h.type===i.type&&!!h.key.isEqual(i.key)&&!!h.precondition.isEqual(i.precondition)&&(g=i.fieldTransforms,!!(void 0===(l=h.fieldTransforms)&&void 0===g||l&&g&&Bi(l,g,(A,ee)=>function(h,i){return h.field.isEqual(i.field)&&(g=i.transform,(l=h.transform)instanceof tu&&g instanceof tu||l instanceof tl&&g instanceof tl?Bi(l.elements,g.elements,Qs):l instanceof Ku&&g instanceof Ku?Qs(l.C,g.C):l instanceof el&&g instanceof el);var l,g}(A,ee))))&&(0===h.type?h.value.isEqual(i.value):1!==h.type||h.data.isEqual(i.data)&&h.fieldMask.isEqual(i.fieldMask));var l,g}function wu(h){return h.isFoundDocument()?h.version:sr.min()}class ml extends Ud{constructor(i,l,g,A=[]){super(),this.key=i,this.value=l,this.precondition=g,this.fieldTransforms=A,this.type=0}}class Za extends Ud{constructor(i,l,g,A,ee=[]){super(),this.key=i,this.data=l,this.fieldMask=g,this.precondition=A,this.fieldTransforms=ee,this.type=1}}function pf(h){const i=new Map;return h.fieldMask.fields.forEach(l=>{if(!l.isEmpty()){const g=h.data.field(l);i.set(l,g)}}),i}function gf(h,i,l){const g=new Map;vi(h.length===l.length);for(let A=0;A<l.length;A++){const ee=h[A],he=ee.transform,Ie=i.data.field(ee.field);g.set(ee.field,mp(he,Ie,l[A]))}return g}function mf(h,i,l){const g=new Map;for(const A of h){const ee=A.transform,he=l.data.field(A.field);g.set(A.field,gp(ee,he,i))}return g}class nd extends Ud{constructor(i,l){super(),this.key=i,this.precondition=l,this.type=2,this.fieldTransforms=[]}}class Eh extends Ud{constructor(i,l){super(),this.key=i,this.precondition=l,this.type=3,this.fieldTransforms=[]}}class _l{constructor(i){this.count=i}}var ls,so;function vf(h){switch(h){case Vn.OK:return Nn();case Vn.CANCELLED:case Vn.UNKNOWN:case Vn.DEADLINE_EXCEEDED:case Vn.RESOURCE_EXHAUSTED:case Vn.INTERNAL:case Vn.UNAVAILABLE:case Vn.UNAUTHENTICATED:return!1;case Vn.INVALID_ARGUMENT:case Vn.NOT_FOUND:case Vn.ALREADY_EXISTS:case Vn.PERMISSION_DENIED:case Vn.FAILED_PRECONDITION:case Vn.ABORTED:case Vn.OUT_OF_RANGE:case Vn.UNIMPLEMENTED:case Vn.DATA_LOSS:return!0;default:return Nn()}}function yf(h){if(void 0===h)return ht("GRPC error has no .code"),Vn.UNKNOWN;switch(h){case ls.OK:return Vn.OK;case ls.CANCELLED:return Vn.CANCELLED;case ls.UNKNOWN:return Vn.UNKNOWN;case ls.DEADLINE_EXCEEDED:return Vn.DEADLINE_EXCEEDED;case ls.RESOURCE_EXHAUSTED:return Vn.RESOURCE_EXHAUSTED;case ls.INTERNAL:return Vn.INTERNAL;case ls.UNAVAILABLE:return Vn.UNAVAILABLE;case ls.UNAUTHENTICATED:return Vn.UNAUTHENTICATED;case ls.INVALID_ARGUMENT:return Vn.INVALID_ARGUMENT;case ls.NOT_FOUND:return Vn.NOT_FOUND;case ls.ALREADY_EXISTS:return Vn.ALREADY_EXISTS;case ls.PERMISSION_DENIED:return Vn.PERMISSION_DENIED;case ls.FAILED_PRECONDITION:return Vn.FAILED_PRECONDITION;case ls.ABORTED:return Vn.ABORTED;case ls.OUT_OF_RANGE:return Vn.OUT_OF_RANGE;case ls.UNIMPLEMENTED:return Vn.UNIMPLEMENTED;case ls.DATA_LOSS:return Vn.DATA_LOSS;default:return Nn()}}(so=ls||(ls={}))[so.OK=0]="OK",so[so.CANCELLED=1]="CANCELLED",so[so.UNKNOWN=2]="UNKNOWN",so[so.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",so[so.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",so[so.NOT_FOUND=5]="NOT_FOUND",so[so.ALREADY_EXISTS=6]="ALREADY_EXISTS",so[so.PERMISSION_DENIED=7]="PERMISSION_DENIED",so[so.UNAUTHENTICATED=16]="UNAUTHENTICATED",so[so.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",so[so.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",so[so.ABORTED=10]="ABORTED",so[so.OUT_OF_RANGE=11]="OUT_OF_RANGE",so[so.UNIMPLEMENTED=12]="UNIMPLEMENTED",so[so.INTERNAL=13]="INTERNAL",so[so.UNAVAILABLE=14]="UNAVAILABLE",so[so.DATA_LOSS=15]="DATA_LOSS";class Is{constructor(i,l){this.comparator=i,this.root=l||Zs.EMPTY}insert(i,l){return new Is(this.comparator,this.root.insert(i,l,this.comparator).copy(null,null,Zs.BLACK,null,null))}remove(i){return new Is(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Zs.BLACK,null,null))}get(i){let l=this.root;for(;!l.isEmpty();){const g=this.comparator(i,l.key);if(0===g)return l.value;g<0?l=l.left:g>0&&(l=l.right)}return null}indexOf(i){let l=0,g=this.root;for(;!g.isEmpty();){const A=this.comparator(i,g.key);if(0===A)return l+g.left.size;A<0?g=g.left:(l+=g.left.size+1,g=g.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((l,g)=>(i(l,g),!1))}toString(){const i=[];return this.inorderTraversal((l,g)=>(i.push(`${l}:${g}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new jd(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new jd(this.root,i,this.comparator,!1)}getReverseIterator(){return new jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new jd(this.root,i,this.comparator,!0)}}class jd{constructor(i,l,g,A){this.isReverse=A,this.nodeStack=[];let ee=1;for(;!i.isEmpty();)if(ee=l?g(i.key,l):1,A&&(ee*=-1),ee<0)i=this.isReverse?i.left:i.right;else{if(0===ee){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const l={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return l}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class Zs{constructor(i,l,g,A,ee){this.key=i,this.value=l,this.color=null!=g?g:Zs.RED,this.left=null!=A?A:Zs.EMPTY,this.right=null!=ee?ee:Zs.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,l,g,A,ee){return new Zs(null!=i?i:this.key,null!=l?l:this.value,null!=g?g:this.color,null!=A?A:this.left,null!=ee?ee:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,l,g){let A=this;const ee=g(i,A.key);return A=ee<0?A.copy(null,null,null,A.left.insert(i,l,g),null):0===ee?A.copy(null,l,null,null,null):A.copy(null,null,null,null,A.right.insert(i,l,g)),A.fixUp()}removeMin(){if(this.left.isEmpty())return Zs.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,l){let g,A=this;if(l(i,A.key)<0)A.left.isEmpty()||A.left.isRed()||A.left.left.isRed()||(A=A.moveRedLeft()),A=A.copy(null,null,null,A.left.remove(i,l),null);else{if(A.left.isRed()&&(A=A.rotateRight()),A.right.isEmpty()||A.right.isRed()||A.right.left.isRed()||(A=A.moveRedRight()),0===l(i,A.key)){if(A.right.isEmpty())return Zs.EMPTY;g=A.right.min(),A=A.copy(g.key,g.value,null,null,A.right.removeMin())}A=A.copy(null,null,null,null,A.right.remove(i,l))}return A.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,Zs.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,Zs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,l)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nn();const i=this.left.check();if(i!==this.right.check())throw Nn();return i+(this.isRed()?0:1)}}Zs.EMPTY=null,Zs.RED=!0,Zs.BLACK=!1,Zs.EMPTY=new class{constructor(){this.size=0}get key(){throw Nn()}get value(){throw Nn()}get color(){throw Nn()}get left(){throw Nn()}get right(){throw Nn()}copy(h,i,l,g,A){return this}insert(h,i,l){return new Zs(h,i)}remove(h,i){return this}isEmpty(){return!0}inorderTraversal(h){return!1}reverseTraversal(h){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class us{constructor(i){this.comparator=i,this.data=new Is(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((l,g)=>(i(l),!1))}forEachInRange(i,l){const g=this.data.getIteratorFrom(i[0]);for(;g.hasNext();){const A=g.getNext();if(this.comparator(A.key,i[1])>=0)return;l(A.key)}}forEachWhile(i,l){let g;for(g=void 0!==l?this.data.getIteratorFrom(l):this.data.getIterator();g.hasNext();)if(!i(g.getNext().key))return}firstAfterOrEqual(i){const l=this.data.getIteratorFrom(i);return l.hasNext()?l.getNext().key:null}getIterator(){return new Cf(this.data.getIterator())}getIteratorFrom(i){return new Cf(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let l=this;return l.size<i.size&&(l=i,i=this),i.forEach(g=>{l=l.add(g)}),l}isEqual(i){if(!(i instanceof us)||this.size!==i.size)return!1;const l=this.data.getIterator(),g=i.data.getIterator();for(;l.hasNext();){const A=l.getNext().key,ee=g.getNext().key;if(0!==this.comparator(A,ee))return!1}return!0}toArray(){const i=[];return this.forEach(l=>{i.push(l)}),i}toString(){const i=[];return this.forEach(l=>i.push(l)),"SortedSet("+i.toString()+")"}copy(i){const l=new us(this.comparator);return l.data=i,l}}class Cf{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Th=new Is(Ir.comparator);function Ac(){return Th}const Dh=new Is(Ir.comparator);function Vd(){return Dh}const vp=new Is(Ir.comparator);function Eu(){return vp}const bf=new us(Ir.comparator);function go(...h){let i=bf;for(const l of h)i=i.add(l);return i}const id=new us(Mn);function Tu(){return id}class Bl{constructor(i,l,g,A,ee){this.snapshotVersion=i,this.targetChanges=l,this.targetMismatches=g,this.documentUpdates=A,this.resolvedLimboDocuments=ee}static createSynthesizedRemoteEventForCurrentChange(i,l){const g=new Map;return g.set(i,Du.createSynthesizedTargetChangeForCurrentChange(i,l)),new Bl(sr.min(),g,Tu(),Ac(),go())}}class Du{constructor(i,l,g,A,ee){this.resumeToken=i,this.current=l,this.addedDocuments=g,this.modifiedDocuments=A,this.removedDocuments=ee}static createSynthesizedTargetChangeForCurrentChange(i,l){return new Du(as.EMPTY_BYTE_STRING,l,go(),go(),go())}}class Sh{constructor(i,l,g,A){this.k=i,this.removedTargetIds=l,this.key=g,this.$=A}}class xh{constructor(i,l){this.targetId=i,this.O=l}}class Ah{constructor(i,l,g=as.EMPTY_BYTE_STRING,A=null){this.state=i,this.targetIds=l,this.resumeToken=g,this.cause=A}}class Zd{constructor(){this.F=0,this.M=yp(),this.L=as.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(i){i.approximateByteSize()>0&&(this.U=!0,this.L=i)}W(){let i=go(),l=go(),g=go();return this.M.forEach((A,ee)=>{switch(ee){case 0:i=i.add(A);break;case 2:l=l.add(A);break;case 1:g=g.add(A);break;default:Nn()}}),new Du(this.L,this.B,i,l,g)}G(){this.U=!1,this.M=yp()}H(i,l){this.U=!0,this.M=this.M.insert(i,l)}J(i){this.U=!0,this.M=this.M.remove(i)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Ih{constructor(i){this.tt=i,this.et=new Map,this.nt=Ac(),this.st=nu(),this.it=new us(Mn)}rt(i){for(const l of i.k)i.$&&i.$.isFoundDocument()?this.ot(l,i.$):this.at(l,i.key,i.$);for(const l of i.removedTargetIds)this.at(l,i.key,i.$)}ct(i){this.forEachTarget(i,l=>{const g=this.ut(l);switch(i.state){case 0:this.ht(l)&&g.j(i.resumeToken);break;case 1:g.X(),g.q||g.G(),g.j(i.resumeToken);break;case 2:g.X(),g.q||this.removeTarget(l);break;case 3:this.ht(l)&&(g.Z(),g.j(i.resumeToken));break;case 4:this.ht(l)&&(this.lt(l),g.j(i.resumeToken));break;default:Nn()}})}forEachTarget(i,l){i.targetIds.length>0?i.targetIds.forEach(l):this.et.forEach((g,A)=>{this.ht(A)&&l(A)})}ft(i){const l=i.targetId,g=i.O.count,A=this.dt(l);if(A){const ee=A.target;if(bu(ee))if(0===g){const he=new Ir(ee.path);this.at(l,he,po.newNoDocument(he,sr.min()))}else vi(1===g);else this.wt(l)!==g&&(this.lt(l),this.it=this.it.add(l))}}_t(i){const l=new Map;this.et.forEach((ee,he)=>{const Ie=this.dt(he);if(Ie){if(ee.current&&bu(Ie.target)){const at=new Ir(Ie.target.path);null!==this.nt.get(at)||this.gt(he,at)||this.at(he,at,po.newNoDocument(at,i))}ee.K&&(l.set(he,ee.W()),ee.G())}});let g=go();this.st.forEach((ee,he)=>{let Ie=!0;he.forEachWhile(at=>{const Vt=this.dt(at);return!Vt||2===Vt.purpose||(Ie=!1,!1)}),Ie&&(g=g.add(ee))});const A=new Bl(i,l,this.it,this.nt,g);return this.nt=Ac(),this.st=nu(),this.it=new us(Mn),A}ot(i,l){if(!this.ht(i))return;const g=this.gt(i,l.key)?2:0;this.ut(i).H(l.key,g),this.nt=this.nt.insert(l.key,l),this.st=this.st.insert(l.key,this.yt(l.key).add(i))}at(i,l,g){if(!this.ht(i))return;const A=this.ut(i);this.gt(i,l)?A.H(l,1):A.J(l),this.st=this.st.insert(l,this.yt(l).delete(i)),g&&(this.nt=this.nt.insert(l,g))}removeTarget(i){this.et.delete(i)}wt(i){const l=this.ut(i).W();return this.tt.getRemoteKeysForTarget(i).size+l.addedDocuments.size-l.removedDocuments.size}Y(i){this.ut(i).Y()}ut(i){let l=this.et.get(i);return l||(l=new Zd,this.et.set(i,l)),l}yt(i){let l=this.st.get(i);return l||(l=new us(Mn),this.st=this.st.insert(i,l)),l}ht(i){const l=null!==this.dt(i);return l||xe("WatchChangeAggregator","Detected inactive target",i),l}dt(i){const l=this.et.get(i);return l&&l.q?null:this.tt.Et(i)}lt(i){this.et.set(i,new Zd),this.tt.getRemoteKeysForTarget(i).forEach(l=>{this.at(i,l,null)})}gt(i,l){return this.tt.getRemoteKeysForTarget(i).has(l)}}function nu(){return new Is(Ir.comparator)}function yp(){return new Is(Ir.comparator)}const pg={asc:"ASCENDING",desc:"DESCENDING"},Pf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Mf{constructor(i,l){this.databaseId=i,this.D=l}}function rd(h,i){return h.D?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function Of(h,i){return h.D?i.toBase64():i.toUint8Array()}function Cp(h,i){return rd(h,i.toTimestamp())}function $s(h){return vi(!!h),sr.fromTimestamp(function(i){const l=fl(i);return new ki(l.seconds,l.nanos)}(h))}function vl(h,i){return(l=h,new to(["projects",l.projectId,"databases",l.database])).child("documents").child(i).canonicalString();var l}function Nh(h){const i=to.fromString(h);return vi(zd(i)),i}function jl(h,i){return vl(h.databaseId,i.path)}function nl(h,i){const l=Nh(i);if(l.get(1)!==h.databaseId.projectId)throw new ai(Vn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+l.get(1)+" vs "+h.databaseId.projectId);if(l.get(3)!==h.databaseId.database)throw new ai(Vn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+l.get(3)+" vs "+h.databaseId.database);return new Ir(sd(l))}function os(h,i){return vl(h.databaseId,i)}function Rh(h){const i=Nh(h);return 4===i.length?to.emptyPath():sd(i)}function od(h){return new to(["projects",h.databaseId.projectId,"databases",h.databaseId.database]).canonicalString()}function sd(h){return vi(h.length>4&&"documents"===h.get(4)),h.popFirst(5)}function ad(h,i,l){return{name:jl(h,i),fields:l.value.mapValue.fields}}function $d(h,i,l){const g=nl(h,i.name),A=$s(i.updateTime),ee=new oc({mapValue:{fields:i.fields}}),he=po.newFoundDocument(g,A,ee);return l&&he.setHasCommittedMutations(),l?he.setHasCommittedMutations():he}function Su(h,i){let l;if(i instanceof ml)l={update:ad(h,i.key,i.value)};else if(i instanceof nd)l={delete:jl(h,i.key)};else if(i instanceof Za)l={update:ad(h,i.key,i.data),updateMask:cc(i.fieldMask)};else{if(!(i instanceof Eh))return Nn();l={verify:jl(h,i.key)}}return i.fieldTransforms.length>0&&(l.updateTransforms=i.fieldTransforms.map(g=>function(A,ee){const he=ee.transform;if(he instanceof el)return{fieldPath:ee.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(he instanceof tu)return{fieldPath:ee.field.canonicalString(),appendMissingElements:{values:he.elements}};if(he instanceof tl)return{fieldPath:ee.field.canonicalString(),removeAllFromArray:{values:he.elements}};if(he instanceof Ku)return{fieldPath:ee.field.canonicalString(),increment:he.C};throw Nn()}(0,g))),i.precondition.isNone||(l.currentDocument=void 0!==(A=i.precondition).updateTime?{updateTime:Cp(h,A.updateTime)}:void 0!==A.exists?{exists:A.exists}:Nn()),l;var A}function gc(h,i){const l=i.currentDocument?void 0!==(A=i.currentDocument).updateTime?rs.updateTime($s(A.updateTime)):void 0!==A.exists?rs.exists(A.exists):rs.none():rs.none(),g=i.updateTransforms?i.updateTransforms.map(A=>function(ee,he){let Ie=null;"setToServerValue"in he?(vi("REQUEST_TIME"===he.setToServerValue),Ie=new el):"appendMissingElements"in he?Ie=new tu(he.appendMissingElements.values||[]):"removeAllFromArray"in he?Ie=new tl(he.removeAllFromArray.values||[]):"increment"in he?Ie=new Ku(ee,he.increment):Nn();const at=is.fromServerFormat(he.fieldPath);return new Xu(at,Ie)}(h,A)):[];var A;if(i.update){const A=nl(h,i.update.name),ee=new oc({mapValue:{fields:i.update.fields}});if(i.updateMask){const he=new To((i.updateMask.fieldPaths||[]).map(Vt=>is.fromServerFormat(Vt)));return new Za(A,ee,he,l,g)}return new ml(A,ee,l,g)}if(i.delete){const A=nl(h,i.delete);return new nd(A,l)}if(i.verify){const A=nl(h,i.verify);return new Eh(A,l)}return Nn()}function Ef(h,i){return{documents:[os(h,i.path)]}}function xu(h,i){const l={structuredQuery:{}},g=i.path;null!==i.collectionGroup?(l.parent=os(h,g),l.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(l.parent=os(h,g.popLast()),l.structuredQuery.from=[{collectionId:g.lastSegment()}]);const A=function(Ie){if(0===Ie.length)return;const at=Ie.map(Vt=>function(ln){if("=="===ln.op){if(Ad(ln.value))return{unaryFilter:{field:Au(ln.field),op:"IS_NAN"}};if(xd(ln.value))return{unaryFilter:{field:Au(ln.field),op:"IS_NULL"}}}else if("!="===ln.op){if(Ad(ln.value))return{unaryFilter:{field:Au(ln.field),op:"IS_NOT_NAN"}};if(xd(ln.value))return{unaryFilter:{field:Au(ln.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Au(ln.field),op:Gd(ln.op),value:ln.value}}}(Vt));return 1===at.length?at[0]:{compositeFilter:{op:"AND",filters:at}}}(i.filters);A&&(l.structuredQuery.where=A);const ee=function(Ie){if(0!==Ie.length)return Ie.map(at=>{return{field:Au((Vt=at).field),direction:Ic(Vt.dir)};var Vt})}(i.orderBy);ee&&(l.structuredQuery.orderBy=ee);const he=(at=i.limit,h.D||Il(at)?at:{value:at});var at;return null!==he&&(l.structuredQuery.limit=he),i.startAt&&(l.structuredQuery.startAt=Hd(i.startAt)),i.endAt&&(l.structuredQuery.endAt=Hd(i.endAt)),l}function Js(h){let i=Rh(h.parent);const l=h.structuredQuery,g=l.from?l.from.length:0;let A=null;if(g>0){vi(1===g);const ln=l.from[0];ln.allDescendants?A=ln.collectionId:i=i.child(ln.collectionId)}let ee=[];l.where&&(ee=Lh(l.where));let he=[];l.orderBy&&(he=l.orderBy.map(ln=>{return new Ll(Iu((Dn=ln).field),function(gi){switch(gi){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Dn.direction));var Dn}));let Ie=null;l.limit&&(Ie=function(ln){let Dn;return Dn="object"==typeof ln?ln.value:ln,Il(Dn)?null:Dn}(l.limit));let at=null;l.startAt&&(at=Oa(l.startAt));let Vt=null;return l.endAt&&(Vt=Oa(l.endAt)),kl(i,A,he,ee,Ie,"F",at,Vt)}function Lh(h){return h?void 0!==h.unaryFilter?[Df(h)]:void 0!==h.fieldFilter?[Tf(h)]:void 0!==h.compositeFilter?h.compositeFilter.filters.map(i=>Lh(i)).reduce((i,l)=>i.concat(l)):Nn():[]}function Hd(h){return{before:h.before,values:h.position}}function Oa(h){return new Wu(h.values||[],!!h.before)}function Ic(h){return pg[h]}function Gd(h){return Pf[h]}function Au(h){return{fieldPath:h.canonicalString()}}function Iu(h){return is.fromServerFormat(h.fieldPath)}function Tf(h){return Pa.create(Iu(h.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Nn()}}(h.fieldFilter.op),h.fieldFilter.value)}function Df(h){switch(h.unaryFilter.op){case"IS_NAN":const i=Iu(h.unaryFilter.field);return Pa.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=Iu(h.unaryFilter.field);return Pa.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const g=Iu(h.unaryFilter.field);return Pa.create(g,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=Iu(h.unaryFilter.field);return Pa.create(A,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Nn()}}function cc(h){const i=[];return h.fields.forEach(l=>i.push(l.canonicalString())),{fieldPaths:i}}function zd(h){return h.length>=4&&"projects"===h.get(0)&&"databases"===h.get(2)}function mc(h){let i="";for(let l=0;l<h.length;l++)i.length>0&&(i=Sf(i)),i=kh(h.get(l),i);return Sf(i)}function kh(h,i){let l=i;const g=h.length;for(let A=0;A<g;A++){const ee=h.charAt(A);switch(ee){case"\0":l+="\x01\x10";break;case"\x01":l+="\x01\x11";break;default:l+=ee}}return l}function Sf(h){return h+"\x01\x01"}function Ta(h){const i=h.length;if(vi(i>=2),2===i)return vi("\x01"===h.charAt(0)&&"\x01"===h.charAt(1)),to.emptyPath();const l=i-2,g=[];let A="";for(let ee=0;ee<i;){const he=h.indexOf("\x01",ee);switch((he<0||he>l)&&Nn(),h.charAt(he+1)){case"\x01":const Ie=h.substring(ee,he);let at;0===A.length?at=Ie:(A+=Ie,at=A,A=""),g.push(at);break;case"\x10":A+=h.substring(ee,he),A+="\0";break;case"\x11":A+=h.substring(ee,he+1);break;default:Nn()}ee=he+2}return new to(g)}class Nu{constructor(i,l){this.seconds=i,this.nanoseconds=l}}class $a{constructor(i,l,g){this.ownerId=i,this.allowTabSynchronization=l,this.leaseTimestampMs=g}}$a.store="owner",$a.key="owner";class il{constructor(i,l,g){this.userId=i,this.lastAcknowledgedBatchId=l,this.lastStreamToken=g}}il.store="mutationQueues",il.keyPath="userId";class Go{constructor(i,l,g,A,ee){this.userId=i,this.batchId=l,this.localWriteTimeMs=g,this.baseMutations=A,this.mutations=ee}}Go.store="mutations",Go.keyPath="batchId",Go.userMutationsIndex="userMutationsIndex",Go.userMutationsKeyPath=["userId","batchId"];class lc{constructor(){}static prefixForUser(i){return[i]}static prefixForPath(i,l){return[i,mc(l)]}static key(i,l,g){return[i,mc(l),g]}}lc.store="documentMutations",lc.PLACEHOLDER=new lc;class xf{constructor(i,l){this.path=i,this.readTime=l}}class Yd{constructor(i,l){this.path=i,this.version=l}}class Es{constructor(i,l,g,A,ee,he){this.unknownDocument=i,this.noDocument=l,this.document=g,this.hasCommittedMutations=A,this.readTime=ee,this.parentPath=he}}Es.store="remoteDocuments",Es.readTimeIndex="readTimeIndex",Es.readTimeIndexPath="readTime",Es.collectionReadTimeIndex="collectionReadTimeIndex",Es.collectionReadTimeIndexPath=["parentPath","readTime"];class oe{constructor(i){this.byteSize=i}}oe.store="remoteDocumentGlobal",oe.key="remoteDocumentGlobalKey";class j{constructor(i,l,g,A,ee,he,Ie){this.targetId=i,this.canonicalId=l,this.readTime=g,this.resumeToken=A,this.lastListenSequenceNumber=ee,this.lastLimboFreeSnapshotVersion=he,this.query=Ie}}j.store="targets",j.keyPath="targetId",j.queryTargetsIndexName="queryTargetsIndex",j.queryTargetsKeyPath=["canonicalId","targetId"];class H{constructor(i,l,g){this.targetId=i,this.path=l,this.sequenceNumber=g}}H.store="targetDocuments",H.keyPath=["targetId","path"],H.documentTargetsIndex="documentTargetsIndex",H.documentTargetsKeyPath=["path","targetId"];class de{constructor(i,l,g,A){this.highestTargetId=i,this.highestListenSequenceNumber=l,this.lastRemoteSnapshotVersion=g,this.targetCount=A}}de.key="targetGlobalKey",de.store="targetGlobal";class Ye{constructor(i,l){this.collectionId=i,this.parent=l}}Ye.store="collectionParents",Ye.keyPath=["collectionId","parent"];class At{constructor(i,l,g,A){this.clientId=i,this.updateTimeMs=l,this.networkEnabled=g,this.inForeground=A}}At.store="clientMetadata",At.keyPath="clientId";class An{constructor(i,l,g){this.bundleId=i,this.createTime=l,this.version=g}}An.store="bundles",An.keyPath="bundleId";class hi{constructor(i,l,g){this.name=i,this.readTime=l,this.bundledQuery=g}}hi.store="namedQueries",hi.keyPath="name";const qi=[il.store,Go.store,lc.store,Es.store,j.store,$a.store,de.store,H.store,At.store,oe.store,Ye.store,An.store,hi.store],Er="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}class Wn{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(l=>{this.isDone=!0,this.result=l,this.nextCallback&&this.nextCallback(l)},l=>{this.isDone=!0,this.error=l,this.catchCallback&&this.catchCallback(l)})}catch(i){return this.next(void 0,i)}next(i,l){return this.callbackAttached&&Nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(l,this.error):this.wrapSuccess(i,this.result):new Wn((g,A)=>{this.nextCallback=ee=>{this.wrapSuccess(i,ee).next(g,A)},this.catchCallback=ee=>{this.wrapFailure(l,ee).next(g,A)}})}toPromise(){return new Promise((i,l)=>{this.next(i,l)})}wrapUserFunction(i){try{const l=i();return l instanceof Wn?l:Wn.resolve(l)}catch(l){return Wn.reject(l)}}wrapSuccess(i,l){return i?this.wrapUserFunction(()=>i(l)):Wn.resolve(l)}wrapFailure(i,l){return i?this.wrapUserFunction(()=>i(l)):Wn.reject(l)}static resolve(i){return new Wn((l,g)=>{l(i)})}static reject(i){return new Wn((l,g)=>{g(i)})}static waitFor(i){return new Wn((l,g)=>{let A=0,ee=0,he=!1;i.forEach(Ie=>{++A,Ie.next(()=>{++ee,he&&ee===A&&l()},at=>g(at))}),he=!0,ee===A&&l()})}static or(i){let l=Wn.resolve(!1);for(const g of i)l=l.next(A=>A?Wn.resolve(A):g());return l}static forEach(i,l){const g=[];return i.forEach((A,ee)=>{g.push(l.call(this,A,ee))}),this.waitFor(g)}}class gs{constructor(i,l){this.action=i,this.transaction=l,this.aborted=!1,this.Tt=new bo,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{l.error?this.Tt.reject(new Ru(i,l.error)):this.Tt.resolve()},this.transaction.onerror=g=>{const A=Fh(g.target.error);this.Tt.reject(new Ru(i,A))}}static open(i,l,g,A){try{return new gs(l,i.transaction(A,g))}catch(ee){throw new Ru(l,ee)}}get It(){return this.Tt.promise}abort(i){i&&this.Tt.reject(i),this.aborted||(xe("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(i){const l=this.transaction.objectStore(i);return new Af(l)}}class Ns{constructor(i,l,g){this.name=i,this.version=l,this.At=g,12.2===Ns.Rt((0,Me.z$)())&&ht("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return xe("SimpleDb","Removing database:",i),Pc(window.indexedDB.deleteDatabase(i)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(Ns.Pt())return!0;const i=(0,Me.z$)(),l=Ns.Rt(i),g=0<l&&l<10,A=Ns.vt(i),ee=0<A&&A<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||g||ee)}static Pt(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Vt)}static St(i,l){return i.store(l)}static Rt(i){const l=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),g=l?l[1].split("_").slice(0,2).join("."):"-1";return Number(g)}static vt(i){const l=i.match(/Android ([\d.]+)/i),g=l?l[1].split(".").slice(0,2).join("."):"-1";return Number(g)}Dt(i){var l=this;return(0,Ae.Z)(function*(){return l.db||(xe("SimpleDb","Opening database:",l.name),l.db=yield new Promise((g,A)=>{const ee=indexedDB.open(l.name,l.version);ee.onsuccess=he=>{g(he.target.result)},ee.onblocked=()=>{A(new Ru(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},ee.onerror=he=>{const Ie=he.target.error;A("VersionError"===Ie.name?new ai(Vn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===Ie.name?new ai(Vn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+Ie):new Ru(i,Ie))},ee.onupgradeneeded=he=>{xe("SimpleDb",'Database "'+l.name+'" requires upgrade from version:',he.oldVersion),l.At.Ct(he.target.result,ee.transaction,he.oldVersion,l.version).next(()=>{xe("SimpleDb","Database upgrade to version "+l.version+" complete")})}})),l.Nt&&(l.db.onversionchange=g=>l.Nt(g)),l.db})()}xt(i){this.Nt=i,this.db&&(this.db.onversionchange=l=>i(l))}runTransaction(i,l,g,A){var ee=this;return(0,Ae.Z)(function*(){const he="readonly"===l;let Ie=0;for(;;){++Ie;try{ee.db=yield ee.Dt(i);const at=gs.open(ee.db,i,he?"readonly":"readwrite",g),Vt=A(at).catch(ln=>(at.abort(ln),Wn.reject(ln))).toPromise();return Vt.catch(()=>{}),yield at.It,Vt}catch(at){const Vt="FirebaseError"!==at.name&&Ie<3;if(xe("SimpleDb","Transaction failed with error:",at.message,"Retrying:",Vt),ee.close(),!Vt)return Promise.reject(at)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ld{constructor(i){this.kt=i,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(i){this.kt=i}done(){this.$t=!0}Mt(i){this.Ot=i}delete(){return Pc(this.kt.delete())}}class Ru extends ai{constructor(i,l){super(Vn.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${l}`),this.name="IndexedDbTransactionError"}}function yl(h){return"IndexedDbTransactionError"===h.name}class Af{constructor(i){this.store=i}put(i,l){let g;return void 0!==l?(xe("SimpleDb","PUT",this.store.name,i,l),g=this.store.put(l,i)):(xe("SimpleDb","PUT",this.store.name,"<auto-key>",i),g=this.store.put(i)),Pc(g)}add(i){return xe("SimpleDb","ADD",this.store.name,i,i),Pc(this.store.add(i))}get(i){return Pc(this.store.get(i)).next(l=>(void 0===l&&(l=null),xe("SimpleDb","GET",this.store.name,i,l),l))}delete(i){return xe("SimpleDb","DELETE",this.store.name,i),Pc(this.store.delete(i))}count(){return xe("SimpleDb","COUNT",this.store.name),Pc(this.store.count())}Lt(i,l){const g=this.cursor(this.options(i,l)),A=[];return this.Bt(g,(ee,he)=>{A.push(he)}).next(()=>A)}Ut(i,l){xe("SimpleDb","DELETE ALL",this.store.name);const g=this.options(i,l);g.qt=!1;const A=this.cursor(g);return this.Bt(A,(ee,he,Ie)=>Ie.delete())}Kt(i,l){let g;l?g=i:(g={},l=i);const A=this.cursor(g);return this.Bt(A,l)}jt(i){const l=this.cursor({});return new Wn((g,A)=>{l.onerror=ee=>{const he=Fh(ee.target.error);A(he)},l.onsuccess=ee=>{const he=ee.target.result;he?i(he.primaryKey,he.value).next(Ie=>{Ie?he.continue():g()}):g()}})}Bt(i,l){const g=[];return new Wn((A,ee)=>{i.onerror=he=>{ee(he.target.error)},i.onsuccess=he=>{const Ie=he.target.result;if(!Ie)return void A();const at=new ld(Ie),Vt=l(Ie.primaryKey,Ie.value,at);if(Vt instanceof Wn){const ln=Vt.catch(Dn=>(at.done(),Wn.reject(Dn)));g.push(ln)}at.isDone?A():null===at.Ft?Ie.continue():Ie.continue(at.Ft)}}).next(()=>Wn.waitFor(g))}options(i,l){let g;return void 0!==i&&("string"==typeof i?g=i:l=i),{index:g,range:l}}cursor(i){let l="next";if(i.reverse&&(l="prev"),i.index){const g=this.store.index(i.index);return i.qt?g.openKeyCursor(i.range,l):g.openCursor(i.range,l)}return this.store.openCursor(i.range,l)}}function Pc(h){return new Wn((i,l)=>{h.onsuccess=g=>{i(g.target.result)},h.onerror=g=>{const A=Fh(g.target.error);l(A)}})}let Mc=!1;function Fh(h){const i=Ns.Rt((0,Me.z$)());if(i>=12.2&&i<13){const l="An internal error was encountered in the Indexed Database server";if(h.message.indexOf(l)>=0){const g=new ai("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${l}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Mc||(Mc=!0,setTimeout(()=>{throw g},0)),g}}return h}class If extends Zr{constructor(i,l){super(),this.Qt=i,this.currentSequenceNumber=l}}function Sa(h,i){const l=Mi(h);return Ns.St(l.Qt,i)}class Uh{constructor(i,l,g,A){this.batchId=i,this.localWriteTime=l,this.baseMutations=g,this.mutations=A}applyToRemoteDocument(i,l){const g=l.mutationResults;for(let A=0;A<this.mutations.length;A++){const ee=this.mutations[A];ee.key.isEqual(i.key)&&ff(ee,i,g[A])}}applyToLocalView(i){for(const l of this.baseMutations)l.key.isEqual(i.key)&&Ou(l,i,this.localWriteTime);for(const l of this.mutations)l.key.isEqual(i.key)&&Ou(l,i,this.localWriteTime)}applyToLocalDocumentSet(i){this.mutations.forEach(l=>{const g=i.get(l.key),A=g;this.applyToLocalView(A),g.isValidDocument()||A.convertToNoDocument(sr.min())})}keys(){return this.mutations.reduce((i,l)=>i.add(l.key),go())}isEqual(i){return this.batchId===i.batchId&&Bi(this.mutations,i.mutations,(l,g)=>Bd(l,g))&&Bi(this.baseMutations,i.baseMutations,(l,g)=>Bd(l,g))}}class Nc{constructor(i,l,g,A){this.batch=i,this.commitVersion=l,this.mutationResults=g,this.docVersions=A}static from(i,l,g){vi(i.mutations.length===g.length);let A=Eu();const ee=i.mutations;for(let he=0;he<ee.length;he++)A=A.insert(ee[he].key,g[he].version);return new Nc(i,l,g,A)}}class Rc{constructor(i,l,g,A,ee=sr.min(),he=sr.min(),Ie=as.EMPTY_BYTE_STRING){this.target=i,this.targetId=l,this.purpose=g,this.sequenceNumber=A,this.snapshotVersion=ee,this.lastLimboFreeSnapshotVersion=he,this.resumeToken=Ie}withSequenceNumber(i){return new Rc(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,l){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,l,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class Wd{constructor(i){this.Wt=i}}function Pp(h,i){if(i.document)return $d(h.Wt,i.document,!!i.hasCommittedMutations);if(i.noDocument){const l=Ir.fromSegments(i.noDocument.path),g=Lu(i.noDocument.readTime),A=po.newNoDocument(l,g);return i.hasCommittedMutations?A.setHasCommittedMutations():A}if(i.unknownDocument){const l=Ir.fromSegments(i.unknownDocument.path),g=Lu(i.unknownDocument.version);return po.newUnknownDocument(l,g)}return Nn()}function Mp(h,i,l){const g=ud(l),A=i.key.path.popLast().toArray();if(i.isFoundDocument()){const ee={name:jl(Ie=h.Wt,(at=i).key),fields:at.data.value.mapValue.fields,updateTime:rd(Ie,at.version.toTimestamp())};return new Es(null,null,ee,i.hasCommittedMutations,g,A)}var Ie,at;if(i.isNoDocument()){const ee=i.key.path.toArray(),he=dd(i.version),Ie=i.hasCommittedMutations;return new Es(null,new xf(ee,he),null,Ie,g,A)}if(i.isUnknownDocument()){const ee=i.key.path.toArray(),he=dd(i.version);return new Es(new Yd(ee,he),null,null,!0,g,A)}return Nn()}function ud(h){const i=h.toTimestamp();return[i.seconds,i.nanoseconds]}function Op(h){const i=new ki(h[0],h[1]);return sr.fromTimestamp(i)}function dd(h){const i=h.toTimestamp();return new Nu(i.seconds,i.nanoseconds)}function Lu(h){const i=new ki(h.seconds,h.nanoseconds);return sr.fromTimestamp(i)}function ku(h,i){const l=(i.baseMutations||[]).map(ee=>gc(h.Wt,ee));for(let ee=0;ee<i.mutations.length-1;++ee){const he=i.mutations[ee];ee+1<i.mutations.length&&void 0!==i.mutations[ee+1].transform&&(he.updateTransforms=i.mutations[ee+1].transform.fieldTransforms,i.mutations.splice(ee+1,1),++ee)}const g=i.mutations.map(ee=>gc(h.Wt,ee)),A=ki.fromMillis(i.localWriteTimeMs);return new Uh(i.batchId,A,l,g)}function Qd(h){const i=Lu(h.readTime),l=void 0!==h.lastLimboFreeSnapshotVersion?Lu(h.lastLimboFreeSnapshotVersion):sr.min();let g;var A;return void 0!==h.query.documents?(vi(1===(A=h.query).documents.length),g=ac(Fl(Rh(A.documents[0])))):g=ac(Js(h.query)),new Rc(g,h.targetId,0,h.lastListenSequenceNumber,i,l,as.fromBase64String(h.resumeToken))}function Mm(h,i){const l=dd(i.snapshotVersion),g=dd(i.lastLimboFreeSnapshotVersion);let A;A=bu(i.target)?Ef(h.Wt,i.target):xu(h.Wt,i.target);const ee=i.resumeToken.toBase64();return new j(i.targetId,Nd(i.target),l,ee,i.sequenceNumber,g,A)}function Fu(h){const i=Js({parent:h.parent,structuredQuery:h.structuredQuery});return"LAST"===h.limitType?Mh(i,i.limit,"L"):i}class Bh{getBundleMetadata(i,l){return Nf(i).get(l).next(g=>{if(g)return{id:(A=g).bundleId,createTime:Lu(A.createTime),version:A.version};var A})}saveBundleMetadata(i,l){return Nf(i).put({bundleId:(g=l).id,createTime:dd($s(g.createTime)),version:g.version});var g}getNamedQuery(i,l){return Uu(i).get(l).next(g=>{if(g)return{name:(A=g).name,query:Fu(A.bundledQuery),readTime:Lu(A.readTime)};var A})}saveNamedQuery(i,l){return Uu(i).put({name:(g=l).name,readTime:dd($s(g.readTime)),bundledQuery:g.bundledQuery});var g}}function Nf(h){return Sa(h,An.store)}function Uu(h){return Sa(h,hi.store)}class Rf{constructor(){this.Gt=new Lf}addToCollectionParentIndex(i,l){return this.Gt.add(l),Wn.resolve()}getCollectionParents(i,l){return Wn.resolve(this.Gt.getEntries(l))}}class Lf{constructor(){this.index={}}add(i){const l=i.lastSegment(),g=i.popLast(),A=this.index[l]||new us(to.comparator),ee=!A.has(g);return this.index[l]=A.add(g),ee}has(i){const l=i.lastSegment(),g=i.popLast(),A=this.index[l];return A&&A.has(g)}getEntries(i){return(this.index[i]||new us(to.comparator)).toArray()}}class gg{constructor(){this.zt=new Lf}addToCollectionParentIndex(i,l){if(!this.zt.has(l)){const g=l.lastSegment(),A=l.popLast();i.addOnCommittedListener(()=>{this.zt.add(l)});const ee={collectionId:g,parent:mc(A)};return vr(i).put(ee)}return Wn.resolve()}getCollectionParents(i,l){const g=[],A=IDBKeyRange.bound([l,""],[ir(l),""],!1,!0);return vr(i).Lt(A).next(ee=>{for(const he of ee){if(he.collectionId!==l)break;g.push(Ta(he.parent))}return g})}}function vr(h){return Sa(h,Ye.store)}const mg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Oc{constructor(i,l,g){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=l,this.maximumSequenceNumbersToCollect=g}static withCacheSize(i){return new Oc(i,Oc.DEFAULT_COLLECTION_PERCENTILE,Oc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wp(h,i,l){const g=h.store(Go.store),A=h.store(lc.store),ee=[],he=IDBKeyRange.only(l.batchId);let Ie=0;const at=g.Kt({range:he},(ln,Dn,gi)=>(Ie++,gi.delete()));ee.push(at.next(()=>{vi(1===Ie)}));const Vt=[];for(const ln of l.mutations){const Dn=lc.key(i,ln.key.path,l.batchId);ee.push(A.delete(Dn)),Vt.push(ln.key)}return Wn.waitFor(ee).next(()=>Vt)}function Jd(h){if(!h)return 0;let i;if(h.document)i=h.document;else if(h.unknownDocument)i=h.unknownDocument;else{if(!h.noDocument)throw Nn();i=h.noDocument}return JSON.stringify(i).length}Oc.DEFAULT_COLLECTION_PERCENTILE=10,Oc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oc.DEFAULT=new Oc(41943040,Oc.DEFAULT_COLLECTION_PERCENTILE,Oc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oc.DISABLED=new Oc(-1,0,0);class Kd{constructor(i,l,g,A){this.userId=i,this.N=l,this.Ht=g,this.referenceDelegate=A,this.Jt={}}static Yt(i,l,g,A){vi(""!==i.uid);const ee=i.isAuthenticated()?i.uid:"";return new Kd(ee,l,g,A)}checkEmpty(i){let l=!0;const g=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cl(i).Kt({index:Go.userMutationsIndex,range:g},(A,ee,he)=>{l=!1,he.done()}).next(()=>l)}addMutationBatch(i,l,g,A){const ee=hd(i),he=Cl(i);return he.add({}).next(Ie=>{vi("number"==typeof Ie);const at=new Uh(Ie,l,g,A),Vt=function(gi,Ii,Wi){const Fr=Wi.baseMutations.map(Gs=>Su(gi.Wt,Gs)),oo=Wi.mutations.map(Gs=>Su(gi.Wt,Gs));return new Go(Ii,Wi.batchId,Wi.localWriteTime.toMillis(),Fr,oo)}(this.N,this.userId,at),ln=[];let Dn=new us((gi,Ii)=>Mn(gi.canonicalString(),Ii.canonicalString()));for(const gi of A){const Ii=lc.key(this.userId,gi.key.path,Ie);Dn=Dn.add(gi.key.path.popLast()),ln.push(he.put(Vt)),ln.push(ee.put(Ii,lc.PLACEHOLDER))}return Dn.forEach(gi=>{ln.push(this.Ht.addToCollectionParentIndex(i,gi))}),i.addOnCommittedListener(()=>{this.Jt[Ie]=at.keys()}),Wn.waitFor(ln).next(()=>at)})}lookupMutationBatch(i,l){return Cl(i).get(l).next(g=>g?(vi(g.userId===this.userId),ku(this.N,g)):null)}Xt(i,l){return this.Jt[l]?Wn.resolve(this.Jt[l]):this.lookupMutationBatch(i,l).next(g=>{if(g){const A=g.keys();return this.Jt[l]=A,A}return null})}getNextMutationBatchAfterBatchId(i,l){const g=l+1,A=IDBKeyRange.lowerBound([this.userId,g]);let ee=null;return Cl(i).Kt({index:Go.userMutationsIndex,range:A},(he,Ie,at)=>{Ie.userId===this.userId&&(vi(Ie.batchId>=g),ee=ku(this.N,Ie)),at.done()}).next(()=>ee)}getHighestUnacknowledgedBatchId(i){const l=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let g=-1;return Cl(i).Kt({index:Go.userMutationsIndex,range:l,reverse:!0},(A,ee,he)=>{g=ee.batchId,he.done()}).next(()=>g)}getAllMutationBatches(i){const l=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cl(i).Lt(Go.userMutationsIndex,l).next(g=>g.map(A=>ku(this.N,A)))}getAllMutationBatchesAffectingDocumentKey(i,l){const g=lc.prefixForPath(this.userId,l.path),A=IDBKeyRange.lowerBound(g),ee=[];return hd(i).Kt({range:A},(he,Ie,at)=>{const[Vt,ln,Dn]=he,gi=Ta(ln);if(Vt===this.userId&&l.path.isEqual(gi))return Cl(i).get(Dn).next(Ii=>{if(!Ii)throw Nn();vi(Ii.userId===this.userId),ee.push(ku(this.N,Ii))});at.done()}).next(()=>ee)}getAllMutationBatchesAffectingDocumentKeys(i,l){let g=new us(Mn);const A=[];return l.forEach(ee=>{const he=lc.prefixForPath(this.userId,ee.path),Ie=IDBKeyRange.lowerBound(he),at=hd(i).Kt({range:Ie},(Vt,ln,Dn)=>{const[gi,Ii,Wi]=Vt,Fr=Ta(Ii);gi===this.userId&&ee.path.isEqual(Fr)?g=g.add(Wi):Dn.done()});A.push(at)}),Wn.waitFor(A).next(()=>this.Zt(i,g))}getAllMutationBatchesAffectingQuery(i,l){const g=l.path,A=g.length+1,ee=lc.prefixForPath(this.userId,g),he=IDBKeyRange.lowerBound(ee);let Ie=new us(Mn);return hd(i).Kt({range:he},(at,Vt,ln)=>{const[Dn,gi,Ii]=at,Wi=Ta(gi);Dn===this.userId&&g.isPrefixOf(Wi)?Wi.length===A&&(Ie=Ie.add(Ii)):ln.done()}).next(()=>this.Zt(i,Ie))}Zt(i,l){const g=[],A=[];return l.forEach(ee=>{A.push(Cl(i).get(ee).next(he=>{if(null===he)throw Nn();vi(he.userId===this.userId),g.push(ku(this.N,he))}))}),Wn.waitFor(A).next(()=>g)}removeMutationBatch(i,l){return wp(i.Qt,this.userId,l).next(g=>(i.addOnCommittedListener(()=>{this.te(l.batchId)}),Wn.forEach(g,A=>this.referenceDelegate.markPotentiallyOrphaned(i,A))))}te(i){delete this.Jt[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(l=>{if(!l)return Wn.resolve();const g=IDBKeyRange.lowerBound(lc.prefixForUser(this.userId)),A=[];return hd(i).Kt({range:g},(ee,he,Ie)=>{if(ee[0]===this.userId){const at=Ta(ee[1]);A.push(at)}else Ie.done()}).next(()=>{vi(0===A.length)})})}containsKey(i,l){return kf(i,this.userId,l)}ee(i){return Ep(i).get(this.userId).next(l=>l||new il(this.userId,-1,""))}}function kf(h,i,l){const g=lc.prefixForPath(i,l.path),A=g[1],ee=IDBKeyRange.lowerBound(g);let he=!1;return hd(h).Kt({range:ee,qt:!0},(Ie,at,Vt)=>{const[ln,Dn,gi]=Ie;ln===i&&Dn===A&&(he=!0),Vt.done()}).next(()=>he)}function Cl(h){return Sa(h,Go.store)}function hd(h){return Sa(h,lc.store)}function Ep(h){return Sa(h,il.store)}class iu{constructor(i){this.ne=i}next(){return this.ne+=2,this.ne}static se(){return new iu(0)}static ie(){return new iu(-1)}}class Xd{constructor(i,l){this.referenceDelegate=i,this.N=l}allocateTargetId(i){return this.re(i).next(l=>{const g=new iu(l.highestTargetId);return l.highestTargetId=g.next(),this.oe(i,l).next(()=>l.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.re(i).next(l=>sr.fromTimestamp(new ki(l.lastRemoteSnapshotVersion.seconds,l.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.re(i).next(l=>l.highestListenSequenceNumber)}setTargetsMetadata(i,l,g){return this.re(i).next(A=>(A.highestListenSequenceNumber=l,g&&(A.lastRemoteSnapshotVersion=g.toTimestamp()),l>A.highestListenSequenceNumber&&(A.highestListenSequenceNumber=l),this.oe(i,A)))}addTargetData(i,l){return this.ae(i,l).next(()=>this.re(i).next(g=>(g.targetCount+=1,this.ce(l,g),this.oe(i,g))))}updateTargetData(i,l){return this.ae(i,l)}removeTargetData(i,l){return this.removeMatchingKeysForTargetId(i,l.targetId).next(()=>rl(i).delete(l.targetId)).next(()=>this.re(i)).next(g=>(vi(g.targetCount>0),g.targetCount-=1,this.oe(i,g)))}removeTargets(i,l,g){let A=0;const ee=[];return rl(i).Kt((he,Ie)=>{const at=Qd(Ie);at.sequenceNumber<=l&&null===g.get(at.targetId)&&(A++,ee.push(this.removeTargetData(i,at)))}).next(()=>Wn.waitFor(ee)).next(()=>A)}forEachTarget(i,l){return rl(i).Kt((g,A)=>{const ee=Qd(A);l(ee)})}re(i){return jh(i).get(de.key).next(l=>(vi(null!==l),l))}oe(i,l){return jh(i).put(de.key,l)}ae(i,l){return rl(i).put(Mm(this.N,l))}ce(i,l){let g=!1;return i.targetId>l.highestTargetId&&(l.highestTargetId=i.targetId,g=!0),i.sequenceNumber>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=i.sequenceNumber,g=!0),g}getTargetCount(i){return this.re(i).next(l=>l.targetCount)}getTargetData(i,l){const g=Nd(l),A=IDBKeyRange.bound([g,Number.NEGATIVE_INFINITY],[g,Number.POSITIVE_INFINITY]);let ee=null;return rl(i).Kt({range:A,index:j.queryTargetsIndexName},(he,Ie,at)=>{const Vt=Qd(Ie);Cu(l,Vt.target)&&(ee=Vt,at.done())}).next(()=>ee)}addMatchingKeys(i,l,g){const A=[],ee=Vl(i);return l.forEach(he=>{const Ie=mc(he.path);A.push(ee.put(new H(g,Ie))),A.push(this.referenceDelegate.addReference(i,g,he))}),Wn.waitFor(A)}removeMatchingKeys(i,l,g){const A=Vl(i);return Wn.forEach(l,ee=>{const he=mc(ee.path);return Wn.waitFor([A.delete([g,he]),this.referenceDelegate.removeReference(i,g,ee)])})}removeMatchingKeysForTargetId(i,l){const g=Vl(i),A=IDBKeyRange.bound([l],[l+1],!1,!0);return g.delete(A)}getMatchingKeysForTargetId(i,l){const g=IDBKeyRange.bound([l],[l+1],!1,!0),A=Vl(i);let ee=go();return A.Kt({range:g,qt:!0},(he,Ie,at)=>{const Vt=Ta(he[1]),ln=new Ir(Vt);ee=ee.add(ln)}).next(()=>ee)}containsKey(i,l){const g=mc(l.path),A=IDBKeyRange.bound([g],[ir(g)],!1,!0);let ee=0;return Vl(i).Kt({index:H.documentTargetsIndex,qt:!0,range:A},([he,Ie],at,Vt)=>{0!==he&&(ee++,Vt.done())}).next(()=>ee>0)}Et(i,l){return rl(i).get(l).next(g=>g?Qd(g):null)}}function rl(h){return Sa(h,j.store)}function jh(h){return Sa(h,de.store)}function Vl(h){return Sa(h,H.store)}function Bu(h){return fd.apply(this,arguments)}function fd(){return(fd=(0,Ae.Z)(function*(h){if(h.code!==Vn.FAILED_PRECONDITION||h.message!==Er)throw h;xe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Tp([h,i],[l,g]){const A=Mn(h,l);return 0===A?Mn(i,g):A}class Dp{constructor(i){this.ue=i,this.buffer=new us(Tp),this.he=0}le(){return++this.he}fe(i){const l=[i,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(l);else{const g=this.buffer.last();Tp(l,g)<0&&(this.buffer=this.buffer.delete(g).add(l))}}get maxValue(){return this.buffer.last()[0]}}class Sp{constructor(i,l){this.garbageCollector=i,this.asyncQueue=l,this.de=!1,this.we=null}start(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(i)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(i){var l=this;const g=this.de?3e5:6e4;xe("LruGarbageCollector",`Garbage collection scheduled in ${g}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",g,(0,Ae.Z)(function*(){l.we=null,l.de=!0;try{yield i.collectGarbage(l.garbageCollector)}catch(A){yl(A)?xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",A):yield Bu(A)}yield l._e(i)}))}}class xp{constructor(i,l){this.me=i,this.params=l}calculateTargetCount(i,l){return this.me.ge(i).next(g=>Math.floor(l/100*g))}nthSequenceNumber(i,l){if(0===l)return Wn.resolve(Pe.T);const g=new Dp(l);return this.me.forEachTarget(i,A=>g.fe(A.sequenceNumber)).next(()=>this.me.ye(i,A=>g.fe(A))).next(()=>g.maxValue)}removeTargets(i,l,g){return this.me.removeTargets(i,l,g)}removeOrphanedDocuments(i,l){return this.me.removeOrphanedDocuments(i,l)}collect(i,l){return-1===this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),Wn.resolve(mg)):this.getCacheSize(i).next(g=>g<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${g} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mg):this.pe(i,l))}getCacheSize(i){return this.me.getCacheSize(i)}pe(i,l){let g,A,ee,he,Ie,at,Vt;const ln=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(Dn=>(Dn>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Dn}`),A=this.params.maximumSequenceNumbersToCollect):A=Dn,he=Date.now(),this.nthSequenceNumber(i,A))).next(Dn=>(g=Dn,Ie=Date.now(),this.removeTargets(i,g,l))).next(Dn=>(ee=Dn,at=Date.now(),this.removeOrphanedDocuments(i,g))).next(Dn=>(Vt=Date.now(),le()<=ve.in.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${he-ln}ms\n\tDetermined least recently used ${A} in `+(Ie-he)+`ms\n\tRemoved ${ee} targets in `+(at-Ie)+`ms\n\tRemoved ${Dn} documents in `+(Vt-at)+`ms\nTotal Duration: ${Vt-ln}ms`),Wn.resolve({didRun:!0,sequenceNumbersCollected:A,targetsRemoved:ee,documentsRemoved:Dn})))}}class Ap{constructor(i,l){this.db=i,this.garbageCollector=new xp(this,l)}ge(i){const l=this.Ee(i);return this.db.getTargetCache().getTargetCount(i).next(g=>l.next(A=>g+A))}Ee(i){let l=0;return this.ye(i,g=>{l++}).next(()=>l)}forEachTarget(i,l){return this.db.getTargetCache().forEachTarget(i,l)}ye(i,l){return this.Te(i,(g,A)=>l(A))}addReference(i,l,g){return pd(i,g)}removeReference(i,l,g){return pd(i,g)}removeTargets(i,l,g){return this.db.getTargetCache().removeTargets(i,l,g)}markPotentiallyOrphaned(i,l){return pd(i,l)}Ie(i,l){return function(g,A){let ee=!1;return Ep(g).jt(he=>kf(g,he,A).next(Ie=>(Ie&&(ee=!0),Wn.resolve(!Ie)))).next(()=>ee)}(i,l)}removeOrphanedDocuments(i,l){const g=this.db.getRemoteDocumentCache().newChangeBuffer(),A=[];let ee=0;return this.Te(i,(he,Ie)=>{if(Ie<=l){const at=this.Ie(i,he).next(Vt=>{if(!Vt)return ee++,g.getEntry(i,he).next(()=>(g.removeEntry(he),Vl(i).delete([0,mc(he.path)])))});A.push(at)}}).next(()=>Wn.waitFor(A)).next(()=>g.apply(i)).next(()=>ee)}removeTarget(i,l){const g=l.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,g)}updateLimboDocument(i,l){return pd(i,l)}Te(i,l){const g=Vl(i);let A,ee=Pe.T;return g.Kt({index:H.documentTargetsIndex},([he,Ie],{path:at,sequenceNumber:Vt})=>{0===he?(ee!==Pe.T&&l(new Ir(Ta(A)),ee),ee=Vt,A=at):ee=Pe.T}).next(()=>{ee!==Pe.T&&l(new Ir(Ta(A)),ee)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function pd(h,i){return Vl(h).put((g=h.currentSequenceNumber,new H(0,mc(i.path),g)));var g}class ru{constructor(i,l){this.mapKeyFn=i,this.equalsFn=l,this.inner={}}get(i){const l=this.mapKeyFn(i),g=this.inner[l];if(void 0!==g)for(const[A,ee]of g)if(this.equalsFn(A,i))return ee}has(i){return void 0!==this.get(i)}set(i,l){const g=this.mapKeyFn(i),A=this.inner[g];if(void 0!==A){for(let ee=0;ee<A.length;ee++)if(this.equalsFn(A[ee][0],i))return void(A[ee]=[i,l]);A.push([i,l])}else this.inner[g]=[[i,l]]}delete(i){const l=this.mapKeyFn(i),g=this.inner[l];if(void 0===g)return!1;for(let A=0;A<g.length;A++)if(this.equalsFn(g[A][0],i))return 1===g.length?delete this.inner[l]:g.splice(A,1),!0;return!1}forEach(i){jr(this.inner,(l,g)=>{for(const[A,ee]of g)i(A,ee)})}isEmpty(){return ns(this.inner)}}class eh{constructor(){this.changes=new ru(i=>i.toString(),(i,l)=>i.isEqual(l)),this.changesApplied=!1}getReadTime(i){const l=this.changes.get(i);return l?l.readTime:sr.min()}addEntry(i,l){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:l})}removeEntry(i,l=null){this.assertNotApplied(),this.changes.set(i,{document:po.newInvalidDocument(i),readTime:l})}getEntry(i,l){this.assertNotApplied();const g=this.changes.get(l);return void 0!==g?Wn.resolve(g.document):this.getFromCache(i,l)}getEntries(i,l){return this.getAllFromCache(i,l)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class Ip{constructor(i,l){this.N=i,this.Ht=l}addEntry(i,l,g){return bl(i).put(ju(l),g)}removeEntry(i,l){const g=bl(i),A=ju(l);return g.delete(A)}updateMetadata(i,l){return this.getMetadata(i).next(g=>(g.byteSize+=l,this.Ae(i,g)))}getEntry(i,l){return bl(i).get(ju(l)).next(g=>this.Re(l,g))}be(i,l){return bl(i).get(ju(l)).next(g=>({document:this.Re(l,g),size:Jd(g)}))}getEntries(i,l){let g=Ac();return this.Pe(i,l,(A,ee)=>{const he=this.Re(A,ee);g=g.insert(A,he)}).next(()=>g)}ve(i,l){let g=Ac(),A=new Is(Ir.comparator);return this.Pe(i,l,(ee,he)=>{const Ie=this.Re(ee,he);g=g.insert(ee,Ie),A=A.insert(ee,Jd(he))}).next(()=>({documents:g,Ve:A}))}Pe(i,l,g){if(l.isEmpty())return Wn.resolve();const A=IDBKeyRange.bound(l.first().path.toArray(),l.last().path.toArray()),ee=l.getIterator();let he=ee.getNext();return bl(i).Kt({range:A},(Ie,at,Vt)=>{const ln=Ir.fromSegments(Ie);for(;he&&Ir.comparator(he,ln)<0;)g(he,null),he=ee.getNext();he&&he.isEqual(ln)&&(g(he,at),he=ee.hasNext()?ee.getNext():null),he?Vt.Mt(he.path.toArray()):Vt.done()}).next(()=>{for(;he;)g(he,null),he=ee.hasNext()?ee.getNext():null})}getDocumentsMatchingQuery(i,l,g){let A=Ac();const ee=l.path.length+1,he={};if(g.isEqual(sr.min())){const Ie=l.path.toArray();he.range=IDBKeyRange.lowerBound(Ie)}else{const Ie=l.path.toArray(),at=ud(g);he.range=IDBKeyRange.lowerBound([Ie,at],!0),he.index=Es.collectionReadTimeIndex}return bl(i).Kt(he,(Ie,at,Vt)=>{if(Ie.length!==ee)return;const ln=Pp(this.N,at);l.path.isPrefixOf(ln.key.path)?Ul(l,ln)&&(A=A.insert(ln.key,ln)):Vt.done()}).next(()=>A)}newChangeBuffer(i){return new Ff(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(l=>l.byteSize)}getMetadata(i){return Uf(i).get(oe.key).next(l=>(vi(!!l),l))}Ae(i,l){return Uf(i).put(oe.key,l)}Re(i,l){if(l){const g=Pp(this.N,l);if(!g.isNoDocument()||!g.version.isEqual(sr.min()))return g}return po.newInvalidDocument(i)}}class Ff extends eh{constructor(i,l){super(),this.Se=i,this.trackRemovals=l,this.De=new ru(g=>g.toString(),(g,A)=>g.isEqual(A))}applyChanges(i){const l=[];let g=0,A=new us((ee,he)=>Mn(ee.canonicalString(),he.canonicalString()));return this.changes.forEach((ee,he)=>{const Ie=this.De.get(ee);if(he.document.isValidDocument()){const at=Mp(this.Se.N,he.document,this.getReadTime(ee));A=A.add(ee.path.popLast()),g+=Jd(at)-Ie,l.push(this.Se.addEntry(i,ee,at))}else if(g-=Ie,this.trackRemovals){const at=Mp(this.Se.N,po.newNoDocument(ee,sr.min()),this.getReadTime(ee));l.push(this.Se.addEntry(i,ee,at))}else l.push(this.Se.removeEntry(i,ee))}),A.forEach(ee=>{l.push(this.Se.Ht.addToCollectionParentIndex(i,ee))}),l.push(this.Se.updateMetadata(i,g)),Wn.waitFor(l)}getFromCache(i,l){return this.Se.be(i,l).next(g=>(this.De.set(l,g.size),g.document))}getAllFromCache(i,l){return this.Se.ve(i,l).next(({documents:g,Ve:A})=>(A.forEach((ee,he)=>{this.De.set(ee,he)}),g))}}function Uf(h){return Sa(h,oe.store)}function bl(h){return Sa(h,Es.store)}function ju(h){return h.path.toArray()}class _g{constructor(i){this.N=i}Ct(i,l,g,A){vi(g<A&&g>=0&&A<=11);const ee=new gs("createOrUpgrade",l);var Ie;g<1&&A>=1&&(i.createObjectStore($a.store),(Ie=i).createObjectStore(il.store,{keyPath:il.keyPath}),Ie.createObjectStore(Go.store,{keyPath:Go.keyPath,autoIncrement:!0}).createIndex(Go.userMutationsIndex,Go.userMutationsKeyPath,{unique:!0}),Ie.createObjectStore(lc.store),Bf(i),function(Ie){Ie.createObjectStore(Es.store)}(i));let he=Wn.resolve();return g<3&&A>=3&&(0!==g&&(function(Ie){Ie.deleteObjectStore(H.store),Ie.deleteObjectStore(j.store),Ie.deleteObjectStore(de.store)}(i),Bf(i)),he=he.next(()=>function(Ie){const at=Ie.store(de.store),Vt=new de(0,0,sr.min().toTimestamp(),0);return at.put(de.key,Vt)}(ee))),g<4&&A>=4&&(0!==g&&(he=he.next(()=>function(Ie,at){return at.store(Go.store).Lt().next(Vt=>{Ie.deleteObjectStore(Go.store),Ie.createObjectStore(Go.store,{keyPath:Go.keyPath,autoIncrement:!0}).createIndex(Go.userMutationsIndex,Go.userMutationsKeyPath,{unique:!0});const ln=at.store(Go.store),Dn=Vt.map(gi=>ln.put(gi));return Wn.waitFor(Dn)})}(i,ee))),he=he.next(()=>{!function(Ie){Ie.createObjectStore(At.store,{keyPath:At.keyPath})}(i)})),g<5&&A>=5&&(he=he.next(()=>this.Ce(ee))),g<6&&A>=6&&(he=he.next(()=>(function(Ie){Ie.createObjectStore(oe.store)}(i),this.Ne(ee)))),g<7&&A>=7&&(he=he.next(()=>this.xe(ee))),g<8&&A>=8&&(he=he.next(()=>this.ke(i,ee))),g<9&&A>=9&&(he=he.next(()=>{(function(Ie){Ie.objectStoreNames.contains("remoteDocumentChanges")&&Ie.deleteObjectStore("remoteDocumentChanges")})(i),function(Ie){const at=Ie.objectStore(Es.store);at.createIndex(Es.readTimeIndex,Es.readTimeIndexPath,{unique:!1}),at.createIndex(Es.collectionReadTimeIndex,Es.collectionReadTimeIndexPath,{unique:!1})}(l)})),g<10&&A>=10&&(he=he.next(()=>this.$e(ee))),g<11&&A>=11&&(he=he.next(()=>{(function(Ie){Ie.createObjectStore(An.store,{keyPath:An.keyPath})})(i),function(Ie){Ie.createObjectStore(hi.store,{keyPath:hi.keyPath})}(i)})),he}Ne(i){let l=0;return i.store(Es.store).Kt((g,A)=>{l+=Jd(A)}).next(()=>{const g=new oe(l);return i.store(oe.store).put(oe.key,g)})}Ce(i){const l=i.store(il.store),g=i.store(Go.store);return l.Lt().next(A=>Wn.forEach(A,ee=>{const he=IDBKeyRange.bound([ee.userId,-1],[ee.userId,ee.lastAcknowledgedBatchId]);return g.Lt(Go.userMutationsIndex,he).next(Ie=>Wn.forEach(Ie,at=>{vi(at.userId===ee.userId);const Vt=ku(this.N,at);return wp(i,ee.userId,Vt).next(()=>{})}))}))}xe(i){const l=i.store(H.store),g=i.store(Es.store);return i.store(de.store).get(de.key).next(A=>{const ee=[];return g.Kt((he,Ie)=>{const at=new to(he),Vt=[0,mc(at)];ee.push(l.get(Vt).next(ln=>ln?Wn.resolve():l.put(new H(0,mc(at),A.highestListenSequenceNumber))))}).next(()=>Wn.waitFor(ee))})}ke(i,l){i.createObjectStore(Ye.store,{keyPath:Ye.keyPath});const g=l.store(Ye.store),A=new Lf,ee=he=>{if(A.add(he)){const Ie=he.lastSegment(),at=he.popLast();return g.put({collectionId:Ie,parent:mc(at)})}};return l.store(Es.store).Kt({qt:!0},(he,Ie)=>{const at=new to(he);return ee(at.popLast())}).next(()=>l.store(lc.store).Kt({qt:!0},([he,Ie,at],Vt)=>{const ln=Ta(Ie);return ee(ln.popLast())}))}$e(i){const l=i.store(j.store);return l.Kt((g,A)=>{const ee=Qd(A),he=Mm(this.N,ee);return l.put(he)})}}function Bf(h){h.createObjectStore(H.store,{keyPath:H.keyPath}).createIndex(H.documentTargetsIndex,H.documentTargetsKeyPath,{unique:!0}),h.createObjectStore(j.store,{keyPath:j.keyPath}).createIndex(j.queryTargetsIndexName,j.queryTargetsKeyPath,{unique:!0}),h.createObjectStore(de.store)}const Np="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Rp{constructor(i,l,g,A,ee,he,Ie,at,Vt,ln){if(this.allowTabSynchronization=i,this.persistenceKey=l,this.clientId=g,this.Oe=ee,this.window=he,this.document=Ie,this.Fe=Vt,this.Me=ln,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=Dn=>Promise.resolve(),!Rp.bt())throw new ai(Vn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ap(this,A),this.We=l+"main",this.N=new Wd(at),this.Ge=new Ns(this.We,11,new _g(this.N)),this.ze=new Xd(this.referenceDelegate,this.N),this.Ht=new gg,this.He=new Ip(this.N,this.Ht),this.Je=new Bh,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===ln&&ht("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ai(Vn.FAILED_PRECONDITION,Np);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.ze.getHighestSequenceNumber(i))}).then(i=>{this.Le=new Pe(i,this.Fe)}).then(()=>{this.Be=!0}).catch(i=>(this.Ge&&this.Ge.close(),Promise.reject(i)))}nn(i){var l=this;return this.Qe=function(){var g=(0,Ae.Z)(function*(A){if(l.started)return i(A)});return function(A){return g.apply(this,arguments)}}(),i(this.isPrimary)}setDatabaseDeletedListener(i){this.Ge.xt(function(){var l=(0,Ae.Z)(function*(g){null===g.newVersion&&(yield i())});return function(g){return l.apply(this,arguments)}}())}setNetworkEnabled(i){var l=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Oe.enqueueAndForget((0,Ae.Z)(function*(){l.started&&(yield l.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>nh(i).put(new At(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(i).next(l=>{l||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(i)).next(l=>this.isPrimary&&!l?this.on(i).next(()=>!1):!!l&&this.an(i).next(()=>!0))).catch(i=>{if(yl(i))return xe("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.Oe.enqueueRetryable(()=>this.Qe(i)),this.isPrimary=i})}sn(i){return th(i).get($a.key).next(l=>Wn.resolve(this.cn(l)))}un(i){return nh(i).delete(this.clientId)}hn(){var i=this;return(0,Ae.Z)(function*(){if(i.isPrimary&&!i.ln(i.je,18e5)){i.je=Date.now();const l=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",g=>{const A=Sa(g,At.store);return A.Lt().next(ee=>{const he=i.fn(ee,18e5),Ie=ee.filter(at=>-1===he.indexOf(at));return Wn.forEach(Ie,at=>A.delete(at.clientId)).next(()=>Ie)})}).catch(()=>[]);if(i.Ye)for(const g of l)i.Ye.removeItem(i.dn(g.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(i){return!!i&&i.ownerId===this.clientId}rn(i){return this.Me?Wn.resolve(!0):th(i).get($a.key).next(l=>{if(null!==l&&this.ln(l.leaseTimestampMs,5e3)&&!this.wn(l.ownerId)){if(this.cn(l)&&this.networkEnabled)return!0;if(!this.cn(l)){if(!l.allowTabSynchronization)throw new ai(Vn.FAILED_PRECONDITION,Np);return!1}}return!(!this.networkEnabled||!this.inForeground)||nh(i).Lt().next(g=>void 0===this.fn(g,5e3).find(A=>{if(this.clientId!==A.clientId){const he=!this.inForeground&&A.inForeground,Ie=this.networkEnabled===A.networkEnabled;if(!this.networkEnabled&&A.networkEnabled||he&&Ie)return!0}return!1}))}).next(l=>(this.isPrimary!==l&&xe("IndexedDbPersistence",`Client ${l?"is":"is not"} eligible for a primary lease.`),l))}shutdown(){var i=this;return(0,Ae.Z)(function*(){i.Be=!1,i._n(),i.Ke&&(i.Ke.cancel(),i.Ke=null),i.mn(),i.gn(),yield i.Ge.runTransaction("shutdown","readwrite",[$a.store,At.store],l=>{const g=new If(l,Pe.T);return i.on(g).next(()=>i.un(g))}),i.Ge.close(),i.yn()})()}fn(i,l){return i.filter(g=>this.ln(g.updateTimeMs,l)&&!this.wn(g.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",i=>nh(i).Lt().next(l=>this.fn(l,18e5).map(g=>g.clientId)))}get started(){return this.Be}getMutationQueue(i){return Kd.Yt(i,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(i,l,g){let ee;return xe("IndexedDbPersistence","Starting transaction:",i),this.Ge.runTransaction(i,"readonly"===l?"readonly":"readwrite",qi,he=>(ee=new If(he,this.Le?this.Le.next():Pe.T),"readwrite-primary"===l?this.sn(ee).next(Ie=>!!Ie||this.rn(ee)).next(Ie=>{if(!Ie)throw ht(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new ai(Vn.FAILED_PRECONDITION,Er);return g(ee)}).next(Ie=>this.an(ee).next(()=>Ie)):this.En(ee).next(()=>g(ee)))).then(he=>(ee.raiseOnCommittedEvent(),he))}En(i){return th(i).get($a.key).next(l=>{if(null!==l&&this.ln(l.leaseTimestampMs,5e3)&&!this.wn(l.ownerId)&&!this.cn(l)&&!(this.Me||this.allowTabSynchronization&&l.allowTabSynchronization))throw new ai(Vn.FAILED_PRECONDITION,Np)})}an(i){const l=new $a(this.clientId,this.allowTabSynchronization,Date.now());return th(i).put($a.key,l)}static bt(){return Ns.bt()}on(i){const l=th(i);return l.get($a.key).next(g=>this.cn(g)?(xe("IndexedDbPersistence","Releasing primary lease."),l.delete($a.key)):Wn.resolve())}ln(i,l){const g=Date.now();return!(i<g-l||i>g&&(ht(`Detected an update time that is in the future: ${i} > ${g}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Ue=()=>{this._n(),(0,Me.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(i){var l;try{const g=null!==(null===(l=this.Ye)||void 0===l?void 0:l.getItem(this.dn(i)));return xe("IndexedDbPersistence",`Client '${i}' ${g?"is":"is not"} zombied in LocalStorage`),g}catch(g){return ht("IndexedDbPersistence","Failed to get zombied client id.",g),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(i){ht("Failed to set zombie client id.",i)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(i){}}dn(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function th(h){return Sa(h,$a.store)}function nh(h){return Sa(h,At.store)}function jf(h,i){let l=h.projectId;return h.isDefaultDatabase||(l+="."+h.database),"firestore/"+i+"/"+l+"/"}class mv{constructor(i,l){this.progress=i,this.Tn=l}}class Lp{constructor(i,l,g){this.He=i,this.In=l,this.Ht=g}An(i,l){return this.In.getAllMutationBatchesAffectingDocumentKey(i,l).next(g=>this.Rn(i,l,g))}Rn(i,l,g){return this.He.getEntry(i,l).next(A=>{for(const ee of g)ee.applyToLocalView(A);return A})}bn(i,l){i.forEach((g,A)=>{for(const ee of l)ee.applyToLocalView(A)})}Pn(i,l){return this.He.getEntries(i,l).next(g=>this.vn(i,g).next(()=>g))}vn(i,l){return this.In.getAllMutationBatchesAffectingDocumentKeys(i,l).next(g=>this.bn(l,g))}getDocumentsMatchingQuery(i,l,g){return Ir.isDocumentKey((A=l).path)&&null===A.collectionGroup&&0===A.filters.length?this.Vn(i,l.path):Ql(l)?this.Sn(i,l,g):this.Dn(i,l,g);var A}Vn(i,l){return this.An(i,new Ir(l)).next(g=>{let A=Vd();return g.isFoundDocument()&&(A=A.insert(g.key,g)),A})}Sn(i,l,g){const A=l.collectionGroup;let ee=Vd();return this.Ht.getCollectionParents(i,A).next(he=>Wn.forEach(he,Ie=>{const at=(Vt=l,ln=Ie.child(A),new sc(ln,null,Vt.explicitOrderBy.slice(),Vt.filters.slice(),Vt.limit,Vt.limitType,Vt.startAt,Vt.endAt));var Vt,ln;return this.Dn(i,at,g).next(Vt=>{Vt.forEach((ln,Dn)=>{ee=ee.insert(ln,Dn)})})}).next(()=>ee))}Dn(i,l,g){let A,ee;return this.He.getDocumentsMatchingQuery(i,l,g).next(he=>(A=he,this.In.getAllMutationBatchesAffectingQuery(i,l))).next(he=>(ee=he,this.Cn(i,ee,A).next(Ie=>{A=Ie;for(const at of ee)for(const Vt of at.mutations){const ln=Vt.key;let Dn=A.get(ln);null==Dn&&(Dn=po.newInvalidDocument(ln),A=A.insert(ln,Dn)),Ou(Vt,Dn,at.localWriteTime),Dn.isFoundDocument()||(A=A.remove(ln))}}))).next(()=>(A.forEach((he,Ie)=>{Ul(l,Ie)||(A=A.remove(he))}),A))}Cn(i,l,g){let A=go();for(const he of l)for(const Ie of he.mutations)Ie instanceof Za&&null===g.get(Ie.key)&&(A=A.add(Ie.key));let ee=g;return this.He.getEntries(i,A).next(he=>(he.forEach((Ie,at)=>{at.isFoundDocument()&&(ee=ee.insert(Ie,at))}),ee))}}class kp{constructor(i,l,g,A){this.targetId=i,this.fromCache=l,this.Nn=g,this.xn=A}static kn(i,l){let g=go(),A=go();for(const ee of l.docChanges)switch(ee.type){case 0:g=g.add(ee.doc.key);break;case 1:A=A.add(ee.doc.key)}return new kp(i,l.fromCache,g,A)}}class Fp{$n(i){this.On=i}getDocumentsMatchingQuery(i,l,g,A){return 0===(ee=l).filters.length&&null===ee.limit&&null==ee.startAt&&null==ee.endAt&&(0===ee.explicitOrderBy.length||1===ee.explicitOrderBy.length&&ee.explicitOrderBy[0].field.isKeyField())||g.isEqual(sr.min())?this.Fn(i,l):this.On.Pn(i,A).next(ee=>{const he=this.Mn(l,ee);return(cs(l)||Mu(l))&&this.Ln(l.limitType,he,A,g)?this.Fn(i,l):(le()<=ve.in.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",g.toString(),bc(l)),this.On.getDocumentsMatchingQuery(i,l,g).next(Ie=>(he.forEach(at=>{Ie=Ie.insert(at.key,at)}),Ie)))});var ee}Mn(i,l){let g=new us(gl(i));return l.forEach((A,ee)=>{Ul(i,ee)&&(g=g.add(ee))}),g}Ln(i,l,g,A){if(g.size!==l.size)return!0;const ee="F"===i?l.last():l.first();return!!ee&&(ee.hasPendingWrites||ee.version.compareTo(A)>0)}Fn(i,l){return le()<=ve.in.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",bc(l)),this.On.getDocumentsMatchingQuery(i,l,sr.min())}}class Om{constructor(i,l,g,A){this.persistence=i,this.Bn=l,this.N=A,this.Un=new Is(Mn),this.qn=new ru(ee=>Nd(ee),Cu),this.Kn=sr.min(),this.In=i.getMutationQueue(g),this.jn=i.getRemoteDocumentCache(),this.ze=i.getTargetCache(),this.Qn=new Lp(this.jn,this.In,this.persistence.getIndexManager()),this.Je=i.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",l=>i.collect(l,this.Un))}}function vg(h,i,l,g){return new Om(h,i,l,g)}function ol(h,i){return gd.apply(this,arguments)}function gd(){return(gd=(0,Ae.Z)(function*(h,i){const l=Mi(h);let g=l.In,A=l.Qn;const ee=yield l.persistence.runTransaction("Handle user change","readonly",he=>{let Ie;return l.In.getAllMutationBatches(he).next(at=>(Ie=at,g=l.persistence.getMutationQueue(i),A=new Lp(l.jn,g,l.persistence.getIndexManager()),g.getAllMutationBatches(he))).next(at=>{const Vt=[],ln=[];let Dn=go();for(const gi of Ie){Vt.push(gi.batchId);for(const Ii of gi.mutations)Dn=Dn.add(Ii.key)}for(const gi of at){ln.push(gi.batchId);for(const Ii of gi.mutations)Dn=Dn.add(Ii.key)}return A.Pn(he,Dn).next(gi=>({Wn:gi,removedBatchIds:Vt,addedBatchIds:ln}))})});return l.In=g,l.Qn=A,l.Bn.$n(l.Qn),ee})).apply(this,arguments)}function yg(h,i){const l=Mi(h);return l.persistence.runTransaction("Acknowledge batch","readwrite-primary",g=>{const A=i.batch.keys(),ee=l.jn.newChangeBuffer({trackRemovals:!0});return function(he,Ie,at,Vt){const ln=at.batch,Dn=ln.keys();let gi=Wn.resolve();return Dn.forEach(Ii=>{gi=gi.next(()=>Vt.getEntry(Ie,Ii)).next(Wi=>{const Fr=at.docVersions.get(Ii);vi(null!==Fr),Wi.version.compareTo(Fr)<0&&(ln.applyToRemoteDocument(Wi,at),Wi.isValidDocument()&&Vt.addEntry(Wi,at.commitVersion))})}),gi.next(()=>he.In.removeMutationBatch(Ie,ln))}(l,g,i,ee).next(()=>ee.apply(g)).next(()=>l.In.performConsistencyCheck(g)).next(()=>l.Qn.Pn(g,A))})}function Vf(h){const i=Mi(h);return i.persistence.runTransaction("Get last remote snapshot version","readonly",l=>i.ze.getLastRemoteSnapshotVersion(l))}function wm(h,i){const l=Mi(h),g=i.snapshotVersion;let A=l.Un;return l.persistence.runTransaction("Apply remote event","readwrite-primary",ee=>{const he=l.jn.newChangeBuffer({trackRemovals:!0});A=l.Un;const Ie=[];i.targetChanges.forEach((Vt,ln)=>{const Dn=A.get(ln);if(!Dn)return;Ie.push(l.ze.removeMatchingKeys(ee,Vt.removedDocuments,ln).next(()=>l.ze.addMatchingKeys(ee,Vt.addedDocuments,ln)));const gi=Vt.resumeToken;if(gi.approximateByteSize()>0){const Ii=Dn.withResumeToken(gi,g).withSequenceNumber(ee.currentSequenceNumber);A=A.insert(ln,Ii),Wi=Dn,oo=Vt,vi((Fr=Ii).resumeToken.approximateByteSize()>0),(0===Wi.resumeToken.approximateByteSize()||Fr.snapshotVersion.toMicroseconds()-Wi.snapshotVersion.toMicroseconds()>=3e8||oo.addedDocuments.size+oo.modifiedDocuments.size+oo.removedDocuments.size>0)&&Ie.push(l.ze.updateTargetData(ee,Ii))}var Wi,Fr,oo});let at=Ac();if(i.documentUpdates.forEach((Vt,ln)=>{i.resolvedLimboDocuments.has(Vt)&&Ie.push(l.persistence.referenceDelegate.updateLimboDocument(ee,Vt))}),Ie.push(Cg(ee,he,i.documentUpdates,g,void 0).next(Vt=>{at=Vt})),!g.isEqual(sr.min())){const Vt=l.ze.getLastRemoteSnapshotVersion(ee).next(ln=>l.ze.setTargetsMetadata(ee,ee.currentSequenceNumber,g));Ie.push(Vt)}return Wn.waitFor(Ie).next(()=>he.apply(ee)).next(()=>l.Qn.vn(ee,at)).next(()=>at)}).then(ee=>(l.Un=A,ee))}function Cg(h,i,l,g,A){let ee=go();return l.forEach(he=>ee=ee.add(he)),i.getEntries(h,ee).next(he=>{let Ie=Ac();return l.forEach((at,Vt)=>{const ln=he.get(at),Dn=(null==A?void 0:A.get(at))||g;Vt.isNoDocument()&&Vt.version.isEqual(sr.min())?(i.removeEntry(at,Dn),Ie=Ie.insert(at,Vt)):!ln.isValidDocument()||Vt.version.compareTo(ln.version)>0||0===Vt.version.compareTo(ln.version)&&ln.hasPendingWrites?(i.addEntry(Vt,Dn),Ie=Ie.insert(at,Vt)):xe("LocalStore","Ignoring outdated watch update for ",at,". Current version:",ln.version," Watch version:",Vt.version)}),Ie})}function Em(h,i){const l=Mi(h);return l.persistence.runTransaction("Get next mutation batch","readonly",g=>(void 0===i&&(i=-1),l.In.getNextMutationBatchAfterBatchId(g,i)))}function md(h,i){const l=Mi(h);return l.persistence.runTransaction("Allocate target","readwrite",g=>{let A;return l.ze.getTargetData(g,i).next(ee=>ee?(A=ee,Wn.resolve(A)):l.ze.allocateTargetId(g).next(he=>(A=new Rc(i,he,0,g.currentSequenceNumber),l.ze.addTargetData(g,A).next(()=>A))))}).then(g=>{const A=l.Un.get(g.targetId);return(null===A||g.snapshotVersion.compareTo(A.snapshotVersion)>0)&&(l.Un=l.Un.insert(g.targetId,g),l.qn.set(i,g.targetId)),g})}function ih(h,i,l){return _d.apply(this,arguments)}function _d(){return(_d=(0,Ae.Z)(function*(h,i,l){const g=Mi(h),A=g.Un.get(i),ee=l?"readwrite":"readwrite-primary";try{l||(yield g.persistence.runTransaction("Release target",ee,he=>g.persistence.referenceDelegate.removeTarget(he,A)))}catch(he){if(!yl(he))throw he;xe("LocalStore",`Failed to update sequence numbers for target ${i}: ${he}`)}g.Un=g.Un.remove(i),g.qn.delete(A.target)})).apply(this,arguments)}function Zf(h,i,l){const g=Mi(h);let A=sr.min(),ee=go();return g.persistence.runTransaction("Execute query","readonly",he=>function(Ie,at,Vt){const ln=Mi(Ie),Dn=ln.qn.get(Vt);return void 0!==Dn?Wn.resolve(ln.Un.get(Dn)):ln.ze.getTargetData(at,Vt)}(g,he,ac(i)).next(Ie=>{if(Ie)return A=Ie.lastLimboFreeSnapshotVersion,g.ze.getMatchingKeysForTargetId(he,Ie.targetId).next(at=>{ee=at})}).next(()=>g.Bn.getDocumentsMatchingQuery(he,i,l?A:sr.min(),l?ee:go())).next(Ie=>({documents:Ie,Gn:ee})))}function Gr(h,i){const l=Mi(h),g=Mi(l.ze),A=l.Un.get(i);return A?Promise.resolve(A.target):l.persistence.runTransaction("Get target data","readonly",ee=>g.Et(ee,i).next(he=>he?he.target:null))}function Up(h){const i=Mi(h);return i.persistence.runTransaction("Get new document changes","readonly",l=>function(g,A,ee){const he=Mi(g);let Ie=Ac(),at=ud(ee);const Vt=bl(A),ln=IDBKeyRange.lowerBound(at,!0);return Vt.Kt({index:Es.readTimeIndex,range:ln},(Dn,gi)=>{const Ii=Pp(he.N,gi);Ie=Ie.insert(Ii.key,Ii),at=gi.readTime}).next(()=>({Tn:Ie,readTime:Op(at)}))}(i.jn,l,i.Kn)).then(({Tn:l,readTime:g})=>(i.Kn=g,l))}function rh(){return(rh=(0,Ae.Z)(function*(h){const i=Mi(h);return i.persistence.runTransaction("Synchronize last document change read time","readonly",l=>function(g){const A=bl(g);let ee=sr.min();return A.Kt({index:Es.readTimeIndex,reverse:!0},(he,Ie,at)=>{Ie.readTime&&(ee=Op(Ie.readTime)),at.done()}).next(()=>ee)}(l)).then(l=>{i.Kn=l})})).apply(this,arguments)}function $f(){return($f=(0,Ae.Z)(function*(h,i,l,g){const A=Mi(h);let ee=go(),he=Ac(),Ie=Eu();for(const ln of l){const Dn=i.zn(ln.metadata.name);ln.document&&(ee=ee.add(Dn)),he=he.insert(Dn,i.Hn(ln)),Ie=Ie.insert(Dn,i.Jn(ln.metadata.readTime))}const at=A.jn.newChangeBuffer({trackRemovals:!0}),Vt=yield md(A,(ln=g,ac(Fl(to.fromString(`__bundle__/docs/${ln}`)))));var ln;return A.persistence.runTransaction("Apply bundle documents","readwrite",ln=>Cg(ln,at,he,sr.min(),Ie).next(Dn=>(at.apply(ln),Dn)).next(Dn=>A.ze.removeMatchingKeysForTargetId(ln,Vt.targetId).next(()=>A.ze.addMatchingKeys(ln,ee,Vt.targetId)).next(()=>A.Qn.vn(ln,Dn)).next(()=>Dn)))})).apply(this,arguments)}function Tm(h,i){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,Ae.Z)(function*(h,i,l=go()){const g=yield md(h,ac(Fu(i.bundledQuery))),A=Mi(h);return A.persistence.runTransaction("Save named query","readwrite",ee=>{const he=$s(i.readTime);if(g.snapshotVersion.compareTo(he)>=0)return A.Je.saveNamedQuery(ee,i);const Ie=g.withResumeToken(as.EMPTY_BYTE_STRING,he);return A.Un=A.Un.insert(Ie.targetId,Ie),A.ze.updateTargetData(ee,Ie).next(()=>A.ze.removeMatchingKeysForTargetId(ee,g.targetId)).next(()=>A.ze.addMatchingKeys(ee,l,g.targetId)).next(()=>A.Je.saveNamedQuery(ee,i))})})).apply(this,arguments)}class ou{constructor(i){this.N=i,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(i,l){return Wn.resolve(this.Yn.get(l))}saveBundleMetadata(i,l){var g;return this.Yn.set(l.id,{id:(g=l).id,version:g.version,createTime:$s(g.createTime)}),Wn.resolve()}getNamedQuery(i,l){return Wn.resolve(this.Xn.get(l))}saveNamedQuery(i,l){return this.Xn.set(l.name,{name:(g=l).name,query:Fu(g.bundledQuery),readTime:$s(g.readTime)}),Wn.resolve();var g}}class Zh{constructor(){this.Zn=new us(Na.ts),this.es=new us(Na.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(i,l){const g=new Na(i,l);this.Zn=this.Zn.add(g),this.es=this.es.add(g)}ss(i,l){i.forEach(g=>this.addReference(g,l))}removeReference(i,l){this.rs(new Na(i,l))}os(i,l){i.forEach(g=>this.removeReference(g,l))}cs(i){const l=new Ir(new to([])),g=new Na(l,i),A=new Na(l,i+1),ee=[];return this.es.forEachInRange([g,A],he=>{this.rs(he),ee.push(he.key)}),ee}us(){this.Zn.forEach(i=>this.rs(i))}rs(i){this.Zn=this.Zn.delete(i),this.es=this.es.delete(i)}hs(i){const l=new Ir(new to([])),g=new Na(l,i),A=new Na(l,i+1);let ee=go();return this.es.forEachInRange([g,A],he=>{ee=ee.add(he.key)}),ee}containsKey(i){const l=new Na(i,0),g=this.Zn.firstAfterOrEqual(l);return null!==g&&i.isEqual(g.key)}}class Na{constructor(i,l){this.key=i,this.ls=l}static ts(i,l){return Ir.comparator(i.key,l.key)||Mn(i.ls,l.ls)}static ns(i,l){return Mn(i.ls,l.ls)||Ir.comparator(i.key,l.key)}}class Bp{constructor(i,l){this.Ht=i,this.referenceDelegate=l,this.In=[],this.fs=1,this.ds=new us(Na.ts)}checkEmpty(i){return Wn.resolve(0===this.In.length)}addMutationBatch(i,l,g,A){const ee=this.fs;this.fs++;const he=new Uh(ee,l,g,A);this.In.push(he);for(const Ie of A)this.ds=this.ds.add(new Na(Ie.key,ee)),this.Ht.addToCollectionParentIndex(i,Ie.key.path.popLast());return Wn.resolve(he)}lookupMutationBatch(i,l){return Wn.resolve(this.ws(l))}getNextMutationBatchAfterBatchId(i,l){const A=this._s(l+1),ee=A<0?0:A;return Wn.resolve(this.In.length>ee?this.In[ee]:null)}getHighestUnacknowledgedBatchId(){return Wn.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(i){return Wn.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(i,l){const g=new Na(l,0),A=new Na(l,Number.POSITIVE_INFINITY),ee=[];return this.ds.forEachInRange([g,A],he=>{const Ie=this.ws(he.ls);ee.push(Ie)}),Wn.resolve(ee)}getAllMutationBatchesAffectingDocumentKeys(i,l){let g=new us(Mn);return l.forEach(A=>{const ee=new Na(A,0),he=new Na(A,Number.POSITIVE_INFINITY);this.ds.forEachInRange([ee,he],Ie=>{g=g.add(Ie.ls)})}),Wn.resolve(this.gs(g))}getAllMutationBatchesAffectingQuery(i,l){const g=l.path,A=g.length+1;let ee=g;Ir.isDocumentKey(ee)||(ee=ee.child(""));const he=new Na(new Ir(ee),0);let Ie=new us(Mn);return this.ds.forEachWhile(at=>{const Vt=at.key.path;return!!g.isPrefixOf(Vt)&&(Vt.length===A&&(Ie=Ie.add(at.ls)),!0)},he),Wn.resolve(this.gs(Ie))}gs(i){const l=[];return i.forEach(g=>{const A=this.ws(g);null!==A&&l.push(A)}),l}removeMutationBatch(i,l){vi(0===this.ys(l.batchId,"removed")),this.In.shift();let g=this.ds;return Wn.forEach(l.mutations,A=>{const ee=new Na(A.key,l.batchId);return g=g.delete(ee),this.referenceDelegate.markPotentiallyOrphaned(i,A.key)}).next(()=>{this.ds=g})}te(i){}containsKey(i,l){const g=new Na(l,0),A=this.ds.firstAfterOrEqual(g);return Wn.resolve(l.isEqual(A&&A.key))}performConsistencyCheck(i){return Wn.resolve()}ys(i,l){return this._s(i)}_s(i){return 0===this.In.length?0:i-this.In[0].batchId}ws(i){const l=this._s(i);return l<0||l>=this.In.length?null:this.In[l]}}class _v{constructor(i,l){this.Ht=i,this.ps=l,this.docs=new Is(Ir.comparator),this.size=0}addEntry(i,l,g){const A=l.key,ee=this.docs.get(A),he=ee?ee.size:0,Ie=this.ps(l);return this.docs=this.docs.insert(A,{document:l.clone(),size:Ie,readTime:g}),this.size+=Ie-he,this.Ht.addToCollectionParentIndex(i,A.path.popLast())}removeEntry(i){const l=this.docs.get(i);l&&(this.docs=this.docs.remove(i),this.size-=l.size)}getEntry(i,l){const g=this.docs.get(l);return Wn.resolve(g?g.document.clone():po.newInvalidDocument(l))}getEntries(i,l){let g=Ac();return l.forEach(A=>{const ee=this.docs.get(A);g=g.insert(A,ee?ee.document.clone():po.newInvalidDocument(A))}),Wn.resolve(g)}getDocumentsMatchingQuery(i,l,g){let A=Ac();const ee=new Ir(l.path.child("")),he=this.docs.getIteratorFrom(ee);for(;he.hasNext();){const{key:Ie,value:{document:at,readTime:Vt}}=he.getNext();if(!l.path.isPrefixOf(Ie.path))break;Vt.compareTo(g)<=0||Ul(l,at)&&(A=A.insert(at.key,at.clone()))}return Wn.resolve(A)}Es(i,l){return Wn.forEach(this.docs,g=>l(g))}newChangeBuffer(i){return new Pg(this)}getSize(i){return Wn.resolve(this.size)}}class Pg extends eh{constructor(i){super(),this.Se=i}applyChanges(i){const l=[];return this.changes.forEach((g,A)=>{A.document.isValidDocument()?l.push(this.Se.addEntry(i,A.document,this.getReadTime(g))):this.Se.removeEntry(g)}),Wn.waitFor(l)}getFromCache(i,l){return this.Se.getEntry(i,l)}getAllFromCache(i,l){return this.Se.getEntries(i,l)}}class vv{constructor(i){this.persistence=i,this.Ts=new ru(l=>Nd(l),Cu),this.lastRemoteSnapshotVersion=sr.min(),this.highestTargetId=0,this.Is=0,this.As=new Zh,this.targetCount=0,this.Rs=iu.se()}forEachTarget(i,l){return this.Ts.forEach((g,A)=>l(A)),Wn.resolve()}getLastRemoteSnapshotVersion(i){return Wn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return Wn.resolve(this.Is)}allocateTargetId(i){return this.highestTargetId=this.Rs.next(),Wn.resolve(this.highestTargetId)}setTargetsMetadata(i,l,g){return g&&(this.lastRemoteSnapshotVersion=g),l>this.Is&&(this.Is=l),Wn.resolve()}ae(i){this.Ts.set(i.target,i);const l=i.targetId;l>this.highestTargetId&&(this.Rs=new iu(l),this.highestTargetId=l),i.sequenceNumber>this.Is&&(this.Is=i.sequenceNumber)}addTargetData(i,l){return this.ae(l),this.targetCount+=1,Wn.resolve()}updateTargetData(i,l){return this.ae(l),Wn.resolve()}removeTargetData(i,l){return this.Ts.delete(l.target),this.As.cs(l.targetId),this.targetCount-=1,Wn.resolve()}removeTargets(i,l,g){let A=0;const ee=[];return this.Ts.forEach((he,Ie)=>{Ie.sequenceNumber<=l&&null===g.get(Ie.targetId)&&(this.Ts.delete(he),ee.push(this.removeMatchingKeysForTargetId(i,Ie.targetId)),A++)}),Wn.waitFor(ee).next(()=>A)}getTargetCount(i){return Wn.resolve(this.targetCount)}getTargetData(i,l){const g=this.Ts.get(l)||null;return Wn.resolve(g)}addMatchingKeys(i,l,g){return this.As.ss(l,g),Wn.resolve()}removeMatchingKeys(i,l,g){this.As.os(l,g);const A=this.persistence.referenceDelegate,ee=[];return A&&l.forEach(he=>{ee.push(A.markPotentiallyOrphaned(i,he))}),Wn.waitFor(ee)}removeMatchingKeysForTargetId(i,l){return this.As.cs(l),Wn.resolve()}getMatchingKeysForTargetId(i,l){const g=this.As.hs(l);return Wn.resolve(g)}containsKey(i,l){return Wn.resolve(this.As.containsKey(l))}}class su{constructor(i,l){this.bs={},this.Le=new Pe(0),this.Be=!1,this.Be=!0,this.referenceDelegate=i(this),this.ze=new vv(this),this.Ht=new Rf,this.He=new _v(this.Ht,g=>this.referenceDelegate.Ps(g)),this.N=new Wd(l),this.Je=new ou(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(i){let l=this.bs[i.toKey()];return l||(l=new Bp(this.Ht,this.referenceDelegate),this.bs[i.toKey()]=l),l}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(i,l,g){xe("MemoryPersistence","Starting transaction:",i);const A=new qf(this.Le.next());return this.referenceDelegate.vs(),g(A).next(ee=>this.referenceDelegate.Vs(A).next(()=>ee)).toPromise().then(ee=>(A.raiseOnCommittedEvent(),ee))}Ss(i,l){return Wn.or(Object.values(this.bs).map(g=>()=>g.containsKey(i,l)))}}class qf extends Zr{constructor(i){super(),this.currentSequenceNumber=i}}class oh{constructor(i){this.persistence=i,this.Ds=new Zh,this.Cs=null}static Ns(i){return new oh(i)}get xs(){if(this.Cs)return this.Cs;throw Nn()}addReference(i,l,g){return this.Ds.addReference(g,l),this.xs.delete(g.toString()),Wn.resolve()}removeReference(i,l,g){return this.Ds.removeReference(g,l),this.xs.add(g.toString()),Wn.resolve()}markPotentiallyOrphaned(i,l){return this.xs.add(l.toString()),Wn.resolve()}removeTarget(i,l){this.Ds.cs(l.targetId).forEach(A=>this.xs.add(A.toString()));const g=this.persistence.getTargetCache();return g.getMatchingKeysForTargetId(i,l.targetId).next(A=>{A.forEach(ee=>this.xs.add(ee.toString()))}).next(()=>g.removeTargetData(i,l))}vs(){this.Cs=new Set}Vs(i){const l=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wn.forEach(this.xs,g=>{const A=Ir.fromPath(g);return this.ks(i,A).next(ee=>{ee||l.removeEntry(A)})}).next(()=>(this.Cs=null,l.apply(i)))}updateLimboDocument(i,l){return this.ks(i,l).next(g=>{g?this.xs.delete(l.toString()):this.xs.add(l.toString())})}Ps(i){return 0}ks(i,l){return Wn.or([()=>Wn.resolve(this.Ds.containsKey(l)),()=>this.persistence.getTargetCache().containsKey(i,l),()=>this.persistence.Ss(i,l)])}}function Hf(h,i){return`firestore_clients_${h}_${i}`}function Dm(h,i,l){let g=`firestore_mutations_${h}_${l}`;return i.isAuthenticated()&&(g+=`_${i.uid}`),g}function jp(h,i){return`firestore_targets_${h}_${i}`}class $h{constructor(i,l,g,A){this.user=i,this.batchId=l,this.state=g,this.error=A}static $s(i,l,g){const A=JSON.parse(g);let ee,he="object"==typeof A&&-1!==["pending","acknowledged","rejected"].indexOf(A.state)&&(void 0===A.error||"object"==typeof A.error);return he&&A.error&&(he="string"==typeof A.error.message&&"string"==typeof A.error.code,he&&(ee=new ai(A.error.code,A.error.message))),he?new $h(i,l,A.state,ee):(ht("SharedClientState",`Failed to parse mutation state for ID '${l}': ${g}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Gf{constructor(i,l,g){this.targetId=i,this.state=l,this.error=g}static $s(i,l){const g=JSON.parse(l);let A,ee="object"==typeof g&&-1!==["not-current","current","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error);return ee&&g.error&&(ee="string"==typeof g.error.message&&"string"==typeof g.error.code,ee&&(A=new ai(g.error.code,g.error.message))),ee?new Gf(i,g.state,A):(ht("SharedClientState",`Failed to parse target state for ID '${i}': ${l}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class zf{constructor(i,l){this.clientId=i,this.activeTargetIds=l}static $s(i,l){const g=JSON.parse(l);let A="object"==typeof g&&g.activeTargetIds instanceof Array,ee=Tu();for(let he=0;A&&he<g.activeTargetIds.length;++he)A=Nl(g.activeTargetIds[he]),ee=ee.add(g.activeTargetIds[he]);return A?new zf(i,ee):(ht("SharedClientState",`Failed to parse client data for instance '${i}': ${l}`),null)}}class Mg{constructor(i,l){this.clientId=i,this.onlineState=l}static $s(i){const l=JSON.parse(i);return"object"==typeof l&&-1!==["Unknown","Online","Offline"].indexOf(l.onlineState)&&"string"==typeof l.clientId?new Mg(l.clientId,l.onlineState):(ht("SharedClientState",`Failed to parse online state: ${i}`),null)}}class Yf{constructor(){this.activeTargetIds=Tu()}Fs(i){this.activeTargetIds=this.activeTargetIds.add(i)}Ms(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Os(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class Wf{constructor(i,l,g,A,ee){this.window=i,this.Oe=l,this.persistenceKey=g,this.Ls=A,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Is(Mn),this.started=!1,this.Ks=[];const he=g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=ee,this.js=Hf(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Yf),this.Ws=new RegExp(`^firestore_clients_${he}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${he}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${he}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(Ie){return`firestore_bundle_loaded_${Ie}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,Ae.Z)(function*(){const l=yield i.syncEngine.pn();for(const A of l){if(A===i.Ls)continue;const ee=i.getItem(Hf(i.persistenceKey,A));if(ee){const he=zf.$s(A,ee);he&&(i.qs=i.qs.insert(he.clientId,he))}}i.Ys();const g=i.storage.getItem(i.Hs);if(g){const A=i.Xs(g);A&&i.Zs(A)}for(const A of i.Ks)i.Us(A);i.Ks=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.Qs,JSON.stringify(i))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(i){let l=!1;return this.qs.forEach((g,A)=>{A.activeTargetIds.has(i)&&(l=!0)}),l}addPendingMutation(i){this.ei(i,"pending")}updateMutationState(i,l,g){this.ei(i,l,g),this.ni(i)}addLocalQueryTarget(i){let l="not-current";if(this.isActiveQueryTarget(i)){const g=this.storage.getItem(jp(this.persistenceKey,i));if(g){const A=Gf.$s(i,g);A&&(l=A.state)}}return this.si.Fs(i),this.Ys(),l}removeLocalQueryTarget(i){this.si.Ms(i),this.Ys()}isLocalQueryTarget(i){return this.si.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(jp(this.persistenceKey,i))}updateQueryState(i,l,g){this.ii(i,l,g)}handleUserChange(i,l,g){l.forEach(A=>{this.ni(A)}),this.currentUser=i,g.forEach(A=>{this.addPendingMutation(A)})}setOnlineState(i){this.ri(i)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(i){const l=this.storage.getItem(i);return xe("SharedClientState","READ",i,l),l}setItem(i,l){xe("SharedClientState","SET",i,l),this.storage.setItem(i,l)}removeItem(i){xe("SharedClientState","REMOVE",i),this.storage.removeItem(i)}Us(i){var l=this;const g=i;if(g.storageArea===this.storage){if(xe("SharedClientState","EVENT",g.key,g.newValue),g.key===this.js)return void ht("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ae.Z)(function*(){if(l.started){if(null!==g.key)if(l.Ws.test(g.key)){if(null==g.newValue){const A=l.ai(g.key);return l.ci(A,null)}{const A=l.ui(g.key,g.newValue);if(A)return l.ci(A.clientId,A)}}else if(l.Gs.test(g.key)){if(null!==g.newValue){const A=l.hi(g.key,g.newValue);if(A)return l.li(A)}}else if(l.zs.test(g.key)){if(null!==g.newValue){const A=l.fi(g.key,g.newValue);if(A)return l.di(A)}}else if(g.key===l.Hs){if(null!==g.newValue){const A=l.Xs(g.newValue);if(A)return l.Zs(A)}}else if(g.key===l.Qs){const A=function(ee){let he=Pe.T;if(null!=ee)try{const Ie=JSON.parse(ee);vi("number"==typeof Ie),he=Ie}catch(Ie){ht("SharedClientState","Failed to read sequence number from WebStorage",Ie)}return he}(g.newValue);A!==Pe.T&&l.sequenceNumberHandler(A)}else if(g.key===l.Js)return l.syncEngine.wi()}else l.Ks.push(g)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(i,l,g){const A=new $h(this.currentUser,i,l,g),ee=Dm(this.persistenceKey,this.currentUser,i);this.setItem(ee,A.Os())}ni(i){const l=Dm(this.persistenceKey,this.currentUser,i);this.removeItem(l)}ri(i){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:i}))}ii(i,l,g){const A=jp(this.persistenceKey,i),ee=new Gf(i,l,g);this.setItem(A,ee.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(i){const l=this.Ws.exec(i);return l?l[1]:null}ui(i,l){const g=this.ai(i);return zf.$s(g,l)}hi(i,l){const g=this.Gs.exec(i),A=Number(g[1]);return $h.$s(new Os(void 0!==g[2]?g[2]:null),A,l)}fi(i,l){const g=this.zs.exec(i),A=Number(g[1]);return Gf.$s(A,l)}Xs(i){return Mg.$s(i)}li(i){var l=this;return(0,Ae.Z)(function*(){if(i.user.uid===l.currentUser.uid)return l.syncEngine._i(i.batchId,i.state,i.error);xe("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}di(i){return this.syncEngine.mi(i.targetId,i.state,i.error)}ci(i,l){const g=l?this.qs.insert(i,l):this.qs.remove(i),A=this.ti(this.qs),ee=this.ti(g),he=[],Ie=[];return ee.forEach(at=>{A.has(at)||he.push(at)}),A.forEach(at=>{ee.has(at)||Ie.push(at)}),this.syncEngine.gi(he,Ie).then(()=>{this.qs=g})}Zs(i){this.qs.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}ti(i){let l=Tu();return i.forEach((g,A)=>{l=l.unionWith(A.activeTargetIds)}),l}}class Og{constructor(){this.yi=new Yf,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,l,g){}addLocalQueryTarget(i){return this.yi.Fs(i),this.pi[i]||"not-current"}updateQueryState(i,l,g){this.pi[i]=l}removeLocalQueryTarget(i){this.yi.Ms(i)}isLocalQueryTarget(i){return this.yi.activeTargetIds.has(i)}clearQueryState(i){delete this.pi[i]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(i){return this.yi.activeTargetIds.has(i)}start(){return this.yi=new Yf,Promise.resolve()}handleUserChange(i,l,g){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(){}}class Vp{Ei(i){}shutdown(){}}class Sm{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(i){this.bi.push(i)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.bi)i(0)}Ri(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.bi)i(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const yv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class wg{constructor(i){this.vi=i.vi,this.Vi=i.Vi}Si(i){this.Di=i}Ci(i){this.Ni=i}onMessage(i){this.xi=i}close(){this.Vi()}send(i){this.vi(i)}ki(){this.Di()}$i(i){this.Ni(i)}Oi(i){this.xi(i)}}class _ extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Fi=(i.ssl?"https":"http")+"://"+i.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(i,l,g,A){const ee=this.Bi(i,l);xe("RestConnection","Sending: ",ee,g);const he={};return this.Ui(he,A),this.qi(i,ee,he,g).then(Ie=>(xe("RestConnection","Received: ",Ie),Ie),Ie=>{throw rn("RestConnection",`${i} failed with error: `,Ie,"url: ",ee,"request:",g),Ie})}Ki(i,l,g,A){return this.Li(i,l,g,A)}Ui(i,l){if(i["X-Goog-Api-Client"]="gl-js/ fire/"+be,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),l)for(const g in l.authHeaders)l.authHeaders.hasOwnProperty(g)&&(i[g]=l.authHeaders[g])}Bi(i,l){return`${this.Fi}/v1/${l}:${yv[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}qi(i,l,g,A){return new Promise((ee,he)=>{const Ie=new ic;Ie.listenOnce(ps.COMPLETE,()=>{try{switch(Ie.getLastErrorCode()){case Cr.NO_ERROR:const Vt=Ie.getResponseJson();xe("Connection","XHR received:",JSON.stringify(Vt)),ee(Vt);break;case Cr.TIMEOUT:xe("Connection",'RPC "'+i+'" timed out'),he(new ai(Vn.DEADLINE_EXCEEDED,"Request time out"));break;case Cr.HTTP_ERROR:const ln=Ie.getStatus();if(xe("Connection",'RPC "'+i+'" failed with status:',ln,"response text:",Ie.getResponseText()),ln>0){const Dn=Ie.getResponseJson().error;if(Dn&&Dn.status&&Dn.message){const gi=function(Ii){const Wi=Ii.toLowerCase().replace(/_/g,"-");return Object.values(Vn).indexOf(Wi)>=0?Wi:Vn.UNKNOWN}(Dn.status);he(new ai(gi,Dn.message))}else he(new ai(Vn.UNKNOWN,"Server responded with status "+Ie.getStatus()))}else he(new ai(Vn.UNAVAILABLE,"Connection failed."));break;default:Nn()}}finally{xe("Connection",'RPC "'+i+'" completed.')}});const at=JSON.stringify(A);Ie.send(l,"POST",at,g,15)})}ji(i,l){const g=[this.Fi,"/","google.firestore.v1.Firestore","/",i,"/channel"],A=new Sc,ee=mr(),he={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(he.xmlHttpFactory=new Mo({})),this.Ui(he.initMessageHeaders,l),(0,Me.uI)()||(0,Me.b$)()||(0,Me.d)()||(0,Me.w1)()||(0,Me.Mn)()||(0,Me.ru)()||(he.httpHeadersOverwriteParam="$httpHeaders");const Ie=g.join("");xe("Connection","Creating WebChannel: "+Ie,he);const at=A.createWebChannel(Ie,he);let Vt=!1,ln=!1;const Dn=new wg({vi:Ii=>{ln?xe("Connection","Not sending because WebChannel is closed:",Ii):(Vt||(xe("Connection","Opening WebChannel transport."),at.open(),Vt=!0),xe("Connection","WebChannel sending:",Ii),at.send(Ii))},Vi:()=>at.close()}),gi=(Ii,Wi,Fr)=>{Ii.listen(Wi,oo=>{try{Fr(oo)}catch(Gs){setTimeout(()=>{throw Gs},0)}})};return gi(at,xs.EventType.OPEN,()=>{ln||xe("Connection","WebChannel transport opened.")}),gi(at,xs.EventType.CLOSE,()=>{ln||(ln=!0,xe("Connection","WebChannel transport closed"),Dn.$i())}),gi(at,xs.EventType.ERROR,Ii=>{ln||(ln=!0,rn("Connection","WebChannel transport errored:",Ii),Dn.$i(new ai(Vn.UNAVAILABLE,"The operation could not be completed")))}),gi(at,xs.EventType.MESSAGE,Ii=>{var Wi;if(!ln){const Fr=Ii.data[0];vi(!!Fr);const oo=Fr,Gs=oo.error||(null===(Wi=oo[0])||void 0===Wi?void 0:Wi.error);if(Gs){xe("Connection","WebChannel received error:",Gs);const Bc=Gs.status;let Zu=function(sg){const am=ls[sg];if(void 0!==am)return yf(am)}(Bc),Gl=Gs.message;void 0===Zu&&(Zu=Vn.INTERNAL,Gl="Unknown error status: "+Bc+" with message "+Gs.message),ln=!0,Dn.$i(new ai(Zu,Gl)),at.close()}else xe("Connection","WebChannel received:",Fr),Dn.Oi(Fr)}}),gi(ee,Mr.STAT_EVENT,Ii=>{Ii.stat===lo_PROXY?xe("Connection","Detected buffering proxy"):Ii.stat===lo_NOPROXY&&xe("Connection","Detected no buffering proxy")}),setTimeout(()=>{Dn.ki()},0),Dn}}function w(){return"undefined"!=typeof window?window:null}function p(){return"undefined"!=typeof document?document:null}function B(h){return new Mf(h,!0)}class re{constructor(i,l,g=1e3,A=1.5,ee=6e4){this.Oe=i,this.timerId=l,this.Qi=g,this.Wi=A,this.Gi=ee,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(i){this.cancel();const l=Math.floor(this.zi+this.Zi()),g=Math.max(0,Date.now()-this.Ji),A=Math.max(0,l-g);A>0&&xe("ExponentialBackoff",`Backing off for ${A} ms (base delay: ${this.zi} ms, delay with jitter: ${l} ms, last attempt: ${g} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,A,()=>(this.Ji=Date.now(),i())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class me{constructor(i,l,g,A,ee,he){this.Oe=i,this.er=g,this.nr=A,this.credentialsProvider=ee,this.listener=he,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new re(i,l)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var i=this;return(0,Ae.Z)(function*(){i.ar()&&(yield i.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(i){this._r(),this.stream.send(i)}dr(){var i=this;return(0,Ae.Z)(function*(){if(i.cr())return i.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(i,l){var g=this;return(0,Ae.Z)(function*(){g._r(),g.rr.cancel(),g.sr++,3!==i?g.rr.reset():l&&l.code===Vn.RESOURCE_EXHAUSTED?(ht(l.toString()),ht("Using maximum backoff delay to prevent overloading the backend."),g.rr.Yi()):l&&l.code===Vn.UNAUTHENTICATED&&g.credentialsProvider.invalidateToken(),null!==g.stream&&(g.mr(),g.stream.close(),g.stream=null),g.state=i,yield g.listener.Ci(l)})()}mr(){}auth(){this.state=1;const i=this.gr(this.sr),l=this.sr;this.credentialsProvider.getToken().then(g=>{this.sr===l&&this.yr(g)},g=>{i(()=>{const A=new ai(Vn.UNKNOWN,"Fetching auth token failed: "+g.message);return this.pr(A)})})}yr(i){const l=this.gr(this.sr);this.stream=this.Er(i),this.stream.Si(()=>{l(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(g=>{l(()=>this.pr(g))}),this.stream.onMessage(g=>{l(()=>this.onMessage(g))})}ur(){var i=this;this.state=4,this.rr.Xi((0,Ae.Z)(function*(){i.state=0,i.start()}))}pr(i){return xe("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(3,i)}gr(i){return l=>{this.Oe.enqueueAndForget(()=>this.sr===i?l():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class je extends me{constructor(i,l,g,A,ee){super(i,"listen_stream_connection_backoff","listen_stream_idle",l,g,ee),this.N=A}Er(i){return this.nr.ji("Listen",i)}onMessage(i){this.rr.reset();const l=function(h,i){let l;if("targetChange"in i){const g="NO_CHANGE"===(at=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===at?1:"REMOVE"===at?2:"CURRENT"===at?3:"RESET"===at?4:Nn(),A=i.targetChange.targetIds||[],ee=function(at,Vt){return at.D?(vi(void 0===Vt||"string"==typeof Vt),as.fromBase64String(Vt||"")):(vi(void 0===Vt||Vt instanceof Uint8Array),as.fromUint8Array(Vt||new Uint8Array))}(h,i.targetChange.resumeToken),he=i.targetChange.cause,Ie=he&&function(at){const Vt=void 0===at.code?Vn.UNKNOWN:yf(at.code);return new ai(Vt,at.message||"")}(he);l=new Ah(g,A,ee,Ie||null)}else if("documentChange"in i){const g=i.documentChange,A=nl(h,g.document.name),ee=$s(g.document.updateTime),he=new oc({mapValue:{fields:g.document.fields}}),Ie=po.newFoundDocument(A,ee,he);l=new Sh(g.targetIds||[],g.removedTargetIds||[],Ie.key,Ie)}else if("documentDelete"in i){const g=i.documentDelete,A=nl(h,g.document),ee=g.readTime?$s(g.readTime):sr.min(),he=po.newNoDocument(A,ee);l=new Sh([],g.removedTargetIds||[],he.key,he)}else if("documentRemove"in i){const g=i.documentRemove,A=nl(h,g.document);l=new Sh([],g.removedTargetIds||[],A,null)}else{if(!("filter"in i))return Nn();{const g=i.filter,ee=new _l(g.count||0);l=new xh(g.targetId,ee)}}var at;return l}(this.N,i),g=function(A){if(!("targetChange"in A))return sr.min();const ee=A.targetChange;return ee.targetIds&&ee.targetIds.length?sr.min():ee.readTime?$s(ee.readTime):sr.min()}(i);return this.listener.Tr(l,g)}Ir(i){const l={};l.database=od(this.N),l.addTarget=function(A,ee){let he;const Ie=ee.target;return he=bu(Ie)?{documents:Ef(A,Ie)}:{query:xu(A,Ie)},he.targetId=ee.targetId,ee.resumeToken.approximateByteSize()>0?he.resumeToken=Of(A,ee.resumeToken):ee.snapshotVersion.compareTo(sr.min())>0&&(he.readTime=rd(A,ee.snapshotVersion.toTimestamp())),he}(this.N,i);const g=function(h,i){const l=function(g,A){switch(A){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Nn()}}(0,i.purpose);return null==l?null:{"goog-listen-tags":l}}(0,i);g&&(l.labels=g),this.wr(l)}Ar(i){const l={};l.database=od(this.N),l.removeTarget=i,this.wr(l)}}class et extends me{constructor(i,l,g,A,ee){super(i,"write_stream_connection_backoff","write_stream_idle",l,g,ee),this.N=A,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(i){return this.nr.ji("Write",i)}onMessage(i){if(vi(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Rr){this.rr.reset();const l=function(h,i){return h&&h.length>0?(vi(void 0!==i),h.map(l=>function(g,A){let ee=$s(g.updateTime?g.updateTime:A);return ee.isEqual(sr.min())&&(ee=$s(A)),new wh(ee,g.transformResults||[])}(l,i))):[]}(i.writeResults,i.commitTime),g=$s(i.commitTime);return this.listener.vr(g,l)}return vi(!i.writeResults||0===i.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const i={};i.database=od(this.N),this.wr(i)}Pr(i){const l={streamToken:this.lastStreamToken,writes:i.map(g=>Su(this.N,g))};this.wr(l)}}class kt extends class{}{constructor(i,l,g){super(),this.credentials=i,this.nr=l,this.N=g,this.Dr=!1}Cr(){if(this.Dr)throw new ai(Vn.FAILED_PRECONDITION,"The client has already been terminated.")}Li(i,l,g){return this.Cr(),this.credentials.getToken().then(A=>this.nr.Li(i,l,g,A)).catch(A=>{throw"FirebaseError"===A.name?(A.code===Vn.UNAUTHENTICATED&&this.credentials.invalidateToken(),A):new ai(Vn.UNKNOWN,A.toString())})}Ki(i,l,g){return this.Cr(),this.credentials.getToken().then(A=>this.nr.Ki(i,l,g,A)).catch(A=>{throw"FirebaseError"===A.name?(A.code===Vn.UNAUTHENTICATED&&this.credentials.invalidateToken(),A):new ai(Vn.UNKNOWN,A.toString())})}terminate(){this.Dr=!0}}class dn{constructor(i,l){this.asyncQueue=i,this.onlineStateHandler=l,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(i){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.Fr("Offline")))}set(i){this.Br(),this.Nr=0,"Online"===i&&(this.$r=!1),this.Fr(i)}Fr(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}Mr(i){const l=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(ht(l),this.$r=!1):xe("OnlineStateTracker",l)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Ln{constructor(i,l,g,A,ee){var he=this;this.localStore=i,this.datastore=l,this.asyncQueue=g,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=ee,this.Qr.Ei(Ie=>{g.enqueueAndForget((0,Ae.Z)(function*(){var at;Do(he)&&(xe("RemoteStore","Restarting streams for network reachability change."),yield(at=(0,Ae.Z)(function*(Vt){const ln=Mi(Vt);ln.Kr.add(4),yield Hi(ln),ln.Wr.set("Unknown"),ln.Kr.delete(4),yield Kn(ln)}),function(Vt){return at.apply(this,arguments)})(he))}))}),this.Wr=new dn(g,A)}}function Kn(h){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,Ae.Z)(function*(h){if(Do(h))for(const i of h.jr)yield i(!0)})).apply(this,arguments)}function Hi(h){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,Ae.Z)(function*(h){for(const i of h.jr)yield i(!1)})).apply(this,arguments)}function Li(h,i){const l=Mi(h);l.qr.has(i.targetId)||(l.qr.set(i.targetId,i),Hr(l)?Nr(l):Jf(l).cr()&&Lr(l,i))}function Zi(h,i){const l=Mi(h),g=Jf(l);l.qr.delete(i),g.cr()&&$r(l,i),0===l.qr.size&&(g.cr()?g.lr():Do(l)&&l.Wr.set("Unknown"))}function Lr(h,i){h.Gr.Y(i.targetId),Jf(h).Ir(i)}function $r(h,i){h.Gr.Y(i),Jf(h).Ar(i)}function Nr(h){h.Gr=new Ih({getRemoteKeysForTarget:i=>h.remoteSyncer.getRemoteKeysForTarget(i),Et:i=>h.qr.get(i)||null}),Jf(h).start(),h.Wr.Or()}function Hr(h){return Do(h)&&!Jf(h).ar()&&h.qr.size>0}function Do(h){return 0===Mi(h).Kr.size}function Po(h){h.Gr=void 0}function Fo(h){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,Ae.Z)(function*(h){h.qr.forEach((i,l)=>{Lr(h,i)})})).apply(this,arguments)}function uc(h,i){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,Ae.Z)(function*(h,i){Po(h),Hr(h)?(h.Wr.Lr(i),Nr(h)):h.Wr.set("Unknown")})).apply(this,arguments)}function sh(h,i,l){return _c.apply(this,arguments)}function _c(){return(_c=(0,Ae.Z)(function*(h,i,l){if(h.Wr.set("Online"),i instanceof Ah&&2===i.state&&i.cause)try{yield(g=(0,Ae.Z)(function*(A,ee){const he=ee.cause;for(const Ie of ee.targetIds)A.qr.has(Ie)&&(yield A.remoteSyncer.rejectListen(Ie,he),A.qr.delete(Ie),A.Gr.removeTarget(Ie))}),function(A,ee){return g.apply(this,arguments)})(h,i)}catch(g){xe("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),g),yield Lc(h,g)}else if(i instanceof Sh?h.Gr.rt(i):i instanceof xh?h.Gr.ft(i):h.Gr.ct(i),!l.isEqual(sr.min()))try{const g=yield Vf(h.localStore);l.compareTo(g)>=0&&(yield function(A,ee){const he=A.Gr._t(ee);return he.targetChanges.forEach((Ie,at)=>{if(Ie.resumeToken.approximateByteSize()>0){const Vt=A.qr.get(at);Vt&&A.qr.set(at,Vt.withResumeToken(Ie.resumeToken,ee))}}),he.targetMismatches.forEach(Ie=>{const at=A.qr.get(Ie);if(!at)return;A.qr.set(Ie,at.withResumeToken(as.EMPTY_BYTE_STRING,at.snapshotVersion)),$r(A,Ie);const Vt=new Rc(at.target,Ie,1,at.sequenceNumber);Lr(A,Vt)}),A.remoteSyncer.applyRemoteEvent(he)}(h,l))}catch(g){xe("RemoteStore","Failed to raise snapshot:",g),yield Lc(h,g)}var g})).apply(this,arguments)}function Lc(h,i,l){return au.apply(this,arguments)}function au(){return(au=(0,Ae.Z)(function*(h,i,l){if(!yl(i))throw i;h.Kr.add(1),yield Hi(h),h.Wr.set("Offline"),l||(l=()=>Vf(h.localStore)),h.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){xe("RemoteStore","Retrying IndexedDB access"),yield l(),h.Kr.delete(1),yield Kn(h)}))})).apply(this,arguments)}function Zp(h,i){return i().catch(l=>Lc(h,l,i))}function br(h){return kr.apply(this,arguments)}function kr(){return(kr=(0,Ae.Z)(function*(h){const i=Mi(h),l=ah(i);let g=i.Ur.length>0?i.Ur[i.Ur.length-1].batchId:-1;for(;Jr(i);)try{const A=yield Em(i.localStore,g);if(null===A){0===i.Ur.length&&l.lr();break}g=A.batchId,Oo(i,A)}catch(A){yield Lc(i,A)}Ks(i)&&kc(i)})).apply(this,arguments)}function Jr(h){return Do(h)&&h.Ur.length<10}function Oo(h,i){h.Ur.push(i);const l=ah(h);l.cr()&&l.br&&l.Pr(i.mutations)}function Ks(h){return Do(h)&&!ah(h).ar()&&h.Ur.length>0}function kc(h){ah(h).start()}function Gc(h){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,Ae.Z)(function*(h){ah(h).Sr()})).apply(this,arguments)}function qs(h){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,Ae.Z)(function*(h){const i=ah(h);for(const l of h.Ur)i.Pr(l.mutations)})).apply(this,arguments)}function Ol(h,i,l){return vd.apply(this,arguments)}function vd(){return(vd=(0,Ae.Z)(function*(h,i,l){const g=h.Ur.shift(),A=Nc.from(g,i,l);yield Zp(h,()=>h.remoteSyncer.applySuccessfulWrite(A)),yield br(h)})).apply(this,arguments)}function qh(h,i){return cu.apply(this,arguments)}function cu(){return(cu=(0,Ae.Z)(function*(h,i){var l;i&&ah(h).br&&(yield(l=(0,Ae.Z)(function*(g,A){if(vf(ee=A.code)&&ee!==Vn.ABORTED){const he=g.Ur.shift();ah(g).hr(),yield Zp(g,()=>g.remoteSyncer.rejectFailedWrite(he.batchId,A)),yield br(g)}var ee}),function(g,A){return l.apply(this,arguments)})(h,i)),Ks(h)&&kc(h)})).apply(this,arguments)}function Hh(h,i){return zc.apply(this,arguments)}function zc(){return(zc=(0,Ae.Z)(function*(h,i){const l=Mi(h);i?(l.Kr.delete(2),yield Kn(l)):i||(l.Kr.add(2),yield Hi(l),l.Wr.set("Unknown"))})).apply(this,arguments)}function Jf(h){return h.zr||(h.zr=function(i,l,g){const A=Mi(i);return A.Cr(),new je(l,A.nr,A.credentials,A.N,g)}(h.datastore,h.asyncQueue,{Si:Fo.bind(null,h),Ci:uc.bind(null,h),Tr:sh.bind(null,h)}),h.jr.push(function(){var i=(0,Ae.Z)(function*(l){l?(h.zr.hr(),Hr(h)?Nr(h):h.Wr.set("Unknown")):(yield h.zr.stop(),Po(h))});return function(l){return i.apply(this,arguments)}}())),h.zr}function ah(h){return h.Hr||(h.Hr=function(i,l,g){const A=Mi(i);return A.Cr(),new et(l,A.nr,A.credentials,A.N,g)}(h.datastore,h.asyncQueue,{Si:Gc.bind(null,h),Ci:qh.bind(null,h),Vr:qs.bind(null,h),vr:Ol.bind(null,h)}),h.jr.push(function(){var i=(0,Ae.Z)(function*(l){l?(h.Hr.hr(),yield br(h)):(yield h.Hr.stop(),h.Ur.length>0&&(xe("RemoteStore",`Stopping write stream with ${h.Ur.length} pending writes`),h.Ur=[]))});return function(l){return i.apply(this,arguments)}}())),h.Hr}class Cv{constructor(i,l,g,A,ee){this.asyncQueue=i,this.timerId=l,this.targetTimeMs=g,this.op=A,this.removalCallback=ee,this.deferred=new bo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(he=>{})}static createAndSchedule(i,l,g,A,ee){const he=Date.now()+g,Ie=new Cv(i,l,he,A,ee);return Ie.start(g),Ie}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ai(Vn.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(h,i){if(ht("AsyncQueue",`${i}: ${h}`),yl(h))return new ai(Vn.UNAVAILABLE,`${i}: ${h}`);throw h}class Gh{constructor(i){this.comparator=i?(l,g)=>i(l,g)||Ir.comparator(l.key,g.key):(l,g)=>Ir.comparator(l.key,g.key),this.keyedMap=Vd(),this.sortedSet=new Is(this.comparator)}static emptySet(i){return new Gh(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const l=this.keyedMap.get(i);return l?this.sortedSet.indexOf(l):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((l,g)=>(i(l),!1))}add(i){const l=this.delete(i.key);return l.copy(l.keyedMap.insert(i.key,i),l.sortedSet.insert(i,null))}delete(i){const l=this.get(i);return l?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(l)):this}isEqual(i){if(!(i instanceof Gh)||this.size!==i.size)return!1;const l=this.sortedSet.getIterator(),g=i.sortedSet.getIterator();for(;l.hasNext();){const A=l.getNext().key,ee=g.getNext().key;if(!A.isEqual(ee))return!1}return!0}toString(){const i=[];return this.forEach(l=>{i.push(l.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,l){const g=new Gh;return g.comparator=this.comparator,g.keyedMap=i,g.sortedSet=l,g}}class Hy{constructor(){this.Jr=new Is(Ir.comparator)}track(i){const l=i.doc.key,g=this.Jr.get(l);g?0!==i.type&&3===g.type?this.Jr=this.Jr.insert(l,i):3===i.type&&1!==g.type?this.Jr=this.Jr.insert(l,{type:g.type,doc:i.doc}):2===i.type&&2===g.type?this.Jr=this.Jr.insert(l,{type:2,doc:i.doc}):2===i.type&&0===g.type?this.Jr=this.Jr.insert(l,{type:0,doc:i.doc}):1===i.type&&0===g.type?this.Jr=this.Jr.remove(l):1===i.type&&2===g.type?this.Jr=this.Jr.insert(l,{type:1,doc:g.doc}):0===i.type&&1===g.type?this.Jr=this.Jr.insert(l,{type:2,doc:i.doc}):Nn():this.Jr=this.Jr.insert(l,i)}Yr(){const i=[];return this.Jr.inorderTraversal((l,g)=>{i.push(g)}),i}}class Kf{constructor(i,l,g,A,ee,he,Ie,at){this.query=i,this.docs=l,this.oldDocs=g,this.docChanges=A,this.mutatedKeys=ee,this.fromCache=he,this.syncStateChanged=Ie,this.excludesMetadataChanges=at}static fromInitialDocuments(i,l,g,A){const ee=[];return l.forEach(he=>{ee.push({type:0,doc:he})}),new Kf(i,l,Gh.emptySet(l),ee,g,A,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&kd(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const l=this.docChanges,g=i.docChanges;if(l.length!==g.length)return!1;for(let A=0;A<l.length;A++)if(l[A].type!==g[A].type||!l[A].doc.isEqual(g[A].doc))return!1;return!0}}class xm{constructor(){this.Xr=void 0,this.listeners=[]}}class bv{constructor(){this.queries=new ru(i=>Kl(i),kd),this.onlineState="Unknown",this.Zr=new Set}}function Am(h,i){return Im.apply(this,arguments)}function Im(){return(Im=(0,Ae.Z)(function*(h,i){const l=Mi(h),g=i.query;let A=!1,ee=l.queries.get(g);if(ee||(A=!0,ee=new xm),A)try{ee.Xr=yield l.onListen(g)}catch(he){const Ie=$p(he,`Initialization of query '${bc(i.query)}' failed`);return void i.onError(Ie)}l.queries.set(g,ee),ee.listeners.push(i),i.eo(l.onlineState),ee.Xr&&i.no(ee.Xr)&&Rm(l)})).apply(this,arguments)}function Nm(h,i){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,Ae.Z)(function*(h,i){const l=Mi(h),g=i.query;let A=!1;const ee=l.queries.get(g);if(ee){const he=ee.listeners.indexOf(i);he>=0&&(ee.listeners.splice(he,1),A=0===ee.listeners.length)}if(A)return l.queries.delete(g),l.onUnlisten(g)})).apply(this,arguments)}function Gy(h,i){const l=Mi(h);let g=!1;for(const A of i){const he=l.queries.get(A.query);if(he){for(const Ie of he.listeners)Ie.no(A)&&(g=!0);he.Xr=A}}g&&Rm(l)}function Pv(h,i,l){const g=Mi(h),A=g.queries.get(i);if(A)for(const ee of A.listeners)ee.onError(l);g.queries.delete(i)}function Rm(h){h.Zr.forEach(i=>{i.next()})}class Lm{constructor(i,l,g){this.query=i,this.so=l,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=g||{}}no(i){if(!this.options.includeMetadataChanges){const g=[];for(const A of i.docChanges)3!==A.type&&g.push(A);i=new Kf(i.query,i.docs,i.oldDocs,g,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let l=!1;return this.io?this.oo(i)&&(this.so.next(i),l=!0):this.ao(i,this.onlineState)&&(this.co(i),l=!0),this.ro=i,l}onError(i){this.so.error(i)}eo(i){this.onlineState=i;let l=!1;return this.ro&&!this.io&&this.ao(this.ro,i)&&(this.co(this.ro),l=!0),l}ao(i,l){return!i.fromCache||!(this.options.uo&&"Offline"!==l||i.docs.isEmpty()&&"Offline"!==l)}oo(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(i){i=Kf.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.io=!0,this.so.next(i)}}class Mv{constructor(i,l){this.payload=i,this.byteLength=l}ho(){return"metadata"in this.payload}}class km{constructor(i){this.N=i}zn(i){return nl(this.N,i)}Hn(i){return i.metadata.exists?$d(this.N,i.document,!1):po.newNoDocument(this.zn(i.metadata.name),this.Jn(i.metadata.readTime))}Jn(i){return $s(i)}}class zy{constructor(i,l,g){this.lo=i,this.localStore=l,this.N=g,this.queries=[],this.documents=[],this.progress=lu(i)}fo(i){this.progress.bytesLoaded+=i.byteLength;let l=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++l):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++l),l!==this.progress.documentsLoaded?(this.progress.documentsLoaded=l,Object.assign({},this.progress)):null}wo(i){const l=new Map,g=new km(this.N);for(const A of i)if(A.metadata.queries){const ee=g.zn(A.metadata.name);for(const he of A.metadata.queries){const Ie=(l.get(he)||go()).add(ee);l.set(he,Ie)}}return l}complete(){var i=this;return(0,Ae.Z)(function*(){const l=yield function(h,i,l,g){return $f.apply(this,arguments)}(i.localStore,new km(i.N),i.documents,i.lo.id),g=i.wo(i.documents);for(const A of i.queries)yield Tm(i.localStore,A,g.get(A.name));return i.progress.taskState="Success",new mv(Object.assign({},i.progress),l)})()}}function lu(h){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}}class Tg{constructor(i){this.key=i}}class Ov{constructor(i){this.key=i}}class wv{constructor(i,l){this.query=i,this._o=l,this.mo=null,this.current=!1,this.yo=go(),this.mutatedKeys=go(),this.po=gl(i),this.Eo=new Gh(this.po)}get To(){return this._o}Io(i,l){const g=l?l.Ao:new Hy,A=l?l.Eo:this.Eo;let ee=l?l.mutatedKeys:this.mutatedKeys,he=A,Ie=!1;const at=cs(this.query)&&A.size===this.query.limit?A.last():null,Vt=Mu(this.query)&&A.size===this.query.limit?A.first():null;if(i.inorderTraversal((ln,Dn)=>{const gi=A.get(ln),Ii=Ul(this.query,Dn)?Dn:null,Wi=!!gi&&this.mutatedKeys.has(gi.key),Fr=!!Ii&&(Ii.hasLocalMutations||this.mutatedKeys.has(Ii.key)&&Ii.hasCommittedMutations);let oo=!1;gi&&Ii?gi.data.isEqual(Ii.data)?Wi!==Fr&&(g.track({type:3,doc:Ii}),oo=!0):this.Ro(gi,Ii)||(g.track({type:2,doc:Ii}),oo=!0,(at&&this.po(Ii,at)>0||Vt&&this.po(Ii,Vt)<0)&&(Ie=!0)):!gi&&Ii?(g.track({type:0,doc:Ii}),oo=!0):gi&&!Ii&&(g.track({type:1,doc:gi}),oo=!0,(at||Vt)&&(Ie=!0)),oo&&(Ii?(he=he.add(Ii),ee=Fr?ee.add(ln):ee.delete(ln)):(he=he.delete(ln),ee=ee.delete(ln)))}),cs(this.query)||Mu(this.query))for(;he.size>this.query.limit;){const ln=cs(this.query)?he.last():he.first();he=he.delete(ln.key),ee=ee.delete(ln.key),g.track({type:1,doc:ln})}return{Eo:he,Ao:g,Ln:Ie,mutatedKeys:ee}}Ro(i,l){return i.hasLocalMutations&&l.hasCommittedMutations&&!l.hasLocalMutations}applyChanges(i,l,g){const A=this.Eo;this.Eo=i.Eo,this.mutatedKeys=i.mutatedKeys;const ee=i.Ao.Yr();ee.sort((Vt,ln)=>function(Dn,gi){const Ii=Wi=>{switch(Wi){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nn()}};return Ii(Dn)-Ii(gi)}(Vt.type,ln.type)||this.po(Vt.doc,ln.doc)),this.bo(g);const he=l?this.Po():[],Ie=0===this.yo.size&&this.current?1:0,at=Ie!==this.mo;return this.mo=Ie,0!==ee.length||at?{snapshot:new Kf(this.query,i.Eo,A,ee,i.mutatedKeys,0===Ie,at,!1),vo:he}:{vo:he}}eo(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Hy,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(i){return!this._o.has(i)&&!!this.Eo.has(i)&&!this.Eo.get(i).hasLocalMutations}bo(i){i&&(i.addedDocuments.forEach(l=>this._o=this._o.add(l)),i.modifiedDocuments.forEach(l=>{}),i.removedDocuments.forEach(l=>this._o=this._o.delete(l)),this.current=i.current)}Po(){if(!this.current)return[];const i=this.yo;this.yo=go(),this.Eo.forEach(g=>{this.Vo(g.key)&&(this.yo=this.yo.add(g.key))});const l=[];return i.forEach(g=>{this.yo.has(g)||l.push(new Ov(g))}),this.yo.forEach(g=>{i.has(g)||l.push(new Tg(g))}),l}So(i){this._o=i.Gn,this.yo=go();const l=this.Io(i.documents);return this.applyChanges(l,!0)}Do(){return Kf.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class XC{constructor(i,l,g){this.query=i,this.targetId=l,this.view=g}}class Ev{constructor(i){this.key=i,this.Co=!1}}class Yy{constructor(i,l,g,A,ee,he){this.localStore=i,this.remoteStore=l,this.eventManager=g,this.sharedClientState=A,this.currentUser=ee,this.maxConcurrentLimboResolutions=he,this.No={},this.xo=new ru(Ie=>Kl(Ie),kd),this.ko=new Map,this.$o=new Set,this.Oo=new Is(Ir.comparator),this.Fo=new Map,this.Mo=new Zh,this.Lo={},this.Bo=new Map,this.Uo=iu.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Wy(h,i){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,Ae.Z)(function*(h,i){const l=Qm(h);let g,A;const ee=l.xo.get(i);if(ee)g=ee.targetId,l.sharedClientState.addLocalQueryTarget(g),A=ee.view.Do();else{const he=yield md(l.localStore,ac(i)),Ie=l.sharedClientState.addLocalQueryTarget(he.targetId);g=he.targetId,A=yield qp(l,i,g,"current"===Ie),l.isPrimaryClient&&Li(l.remoteStore,he)}return A})).apply(this,arguments)}function qp(h,i,l,g){return Um.apply(this,arguments)}function Um(){return(Um=(0,Ae.Z)(function*(h,i,l,g){h.Ko=(ln,Dn,gi)=>{return(Ii=(0,Ae.Z)(function*(Wi,Fr,oo,Gs){let Bc=Fr.view.Io(oo);Bc.Ln&&(Bc=yield Zf(Wi.localStore,Fr.query,!1).then(({documents:sg})=>Fr.view.Io(sg,Bc)));const Zu=Gs&&Gs.targetChanges.get(Fr.targetId),Gl=Fr.view.applyChanges(Bc,Wi.isPrimaryClient,Zu);return qm(Wi,Fr.targetId,Gl.vo),Gl.snapshot}),function(Wi,Fr,oo,Gs){return Ii.apply(this,arguments)})(h,ln,Dn,gi);var Ii};const A=yield Zf(h.localStore,i,!0),ee=new wv(i,A.Gn),he=ee.Io(A.documents),Ie=Du.createSynthesizedTargetChangeForCurrentChange(l,g&&"Offline"!==h.onlineState),at=ee.applyChanges(he,h.isPrimaryClient,Ie);qm(h,l,at.vo);const Vt=new XC(i,l,ee);return h.xo.set(i,Vt),h.ko.has(l)?h.ko.get(l).push(i):h.ko.set(l,[i]),at.snapshot})).apply(this,arguments)}function Qy(h,i){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,Ae.Z)(function*(h,i){const l=Mi(h),g=l.xo.get(i),A=l.ko.get(g.targetId);if(A.length>1)return l.ko.set(g.targetId,A.filter(ee=>!kd(ee,i))),void l.xo.delete(i);l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(g.targetId),l.sharedClientState.isActiveQueryTarget(g.targetId)||(yield ih(l.localStore,g.targetId,!1).then(()=>{l.sharedClientState.clearQueryState(g.targetId),Zi(l.remoteStore,g.targetId),sl(l,g.targetId)}).catch(Bu))):(sl(l,g.targetId),yield ih(l.localStore,g.targetId,!0))})).apply(this,arguments)}function jm(){return(jm=(0,Ae.Z)(function*(h,i,l){const g=Jm(h);try{const A=yield function(ee,he){const Ie=Mi(ee),at=ki.now(),Vt=he.reduce((Dn,gi)=>Dn.add(gi.key),go());let ln;return Ie.persistence.runTransaction("Locally write mutations","readwrite",Dn=>Ie.Qn.Pn(Dn,Vt).next(gi=>{ln=gi;const Ii=[];for(const Wi of he){const Fr=td(Wi,ln.get(Wi.key));null!=Fr&&Ii.push(new Za(Wi.key,Fr,Gu(Fr.value.mapValue),rs.exists(!0)))}return Ie.In.addMutationBatch(Dn,at,Ii,he)})).then(Dn=>(Dn.applyToLocalDocumentSet(ln),{batchId:Dn.batchId,changes:ln}))}(g.localStore,i);g.sharedClientState.addPendingMutation(A.batchId),function(ee,he,Ie){let at=ee.Lo[ee.currentUser.toKey()];at||(at=new Is(Mn)),at=at.insert(he,Ie),ee.Lo[ee.currentUser.toKey()]=at}(g,A.batchId,l),yield al(g,A.changes),yield br(g.remoteStore)}catch(A){const ee=$p(A,"Failed to persist write");l.reject(ee)}})).apply(this,arguments)}function Dg(h,i){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,Ae.Z)(function*(h,i){const l=Mi(h);try{const g=yield wm(l.localStore,i);i.targetChanges.forEach((A,ee)=>{const he=l.Fo.get(ee);he&&(vi(A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size<=1),A.addedDocuments.size>0?he.Co=!0:A.modifiedDocuments.size>0?vi(he.Co):A.removedDocuments.size>0&&(vi(he.Co),he.Co=!1))}),yield al(l,g,i)}catch(g){yield Bu(g)}})).apply(this,arguments)}function Vm(h,i,l){const g=Mi(h);if(g.isPrimaryClient&&0===l||!g.isPrimaryClient&&1===l){const A=[];g.xo.forEach((ee,he)=>{const Ie=he.view.eo(i);Ie.snapshot&&A.push(Ie.snapshot)}),function(ee,he){const Ie=Mi(ee);Ie.onlineState=he;let at=!1;Ie.queries.forEach((Vt,ln)=>{for(const Dn of ln.listeners)Dn.eo(he)&&(at=!0)}),at&&Rm(Ie)}(g.eventManager,i),A.length&&g.No.Tr(A),g.onlineState=i,g.isPrimaryClient&&g.sharedClientState.setOnlineState(i)}}function Jy(h,i,l){return Zm.apply(this,arguments)}function Zm(){return(Zm=(0,Ae.Z)(function*(h,i,l){const g=Mi(h);g.sharedClientState.updateQueryState(i,"rejected",l);const A=g.Fo.get(i),ee=A&&A.key;if(ee){let he=new Is(Ir.comparator);he=he.insert(ee,po.newNoDocument(ee,sr.min()));const Ie=go().add(ee),at=new Bl(sr.min(),new Map,new us(Mn),he,Ie);yield Dg(g,at),g.Oo=g.Oo.remove(ee),g.Fo.delete(i),Sv(g)}else yield ih(g.localStore,i,!1).then(()=>sl(g,i,l)).catch(Bu)})).apply(this,arguments)}function $m(h,i){return Tv.apply(this,arguments)}function Tv(){return(Tv=(0,Ae.Z)(function*(h,i){const l=Mi(h),g=i.batch.batchId;try{const A=yield yg(l.localStore,i);Ig(l,g,null),Ag(l,g),l.sharedClientState.updateMutationState(g,"acknowledged"),yield al(l,A)}catch(A){yield Bu(A)}})).apply(this,arguments)}function Ky(h,i,l){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,Ae.Z)(function*(h,i,l){const g=Mi(h);try{const A=yield function(ee,he){const Ie=Mi(ee);return Ie.persistence.runTransaction("Reject batch","readwrite-primary",at=>{let Vt;return Ie.In.lookupMutationBatch(at,he).next(ln=>(vi(null!==ln),Vt=ln.keys(),Ie.In.removeMutationBatch(at,ln))).next(()=>Ie.In.performConsistencyCheck(at)).next(()=>Ie.Qn.Pn(at,Vt))})}(g.localStore,i);Ig(g,i,l),Ag(g,i),g.sharedClientState.updateMutationState(i,"rejected",l),yield al(g,A)}catch(A){yield Bu(A)}})).apply(this,arguments)}function xg(){return(xg=(0,Ae.Z)(function*(h,i){const l=Mi(h);Do(l.remoteStore)||xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const g=yield function(ee){const he=Mi(ee);return he.persistence.runTransaction("Get highest unacknowledged batch id","readonly",Ie=>he.In.getHighestUnacknowledgedBatchId(Ie))}(l.localStore);if(-1===g)return void i.resolve();const A=l.Bo.get(g)||[];A.push(i),l.Bo.set(g,A)}catch(g){const A=$p(g,"Initialization of waitForPendingWrites() operation failed");i.reject(A)}})).apply(this,arguments)}function Ag(h,i){(h.Bo.get(i)||[]).forEach(l=>{l.resolve()}),h.Bo.delete(i)}function Ig(h,i,l){const g=Mi(h);let A=g.Lo[g.currentUser.toKey()];if(A){const ee=A.get(i);ee&&(l?ee.reject(l):ee.resolve(),A=A.remove(i)),g.Lo[g.currentUser.toKey()]=A}}function sl(h,i,l=null){h.sharedClientState.removeLocalQueryTarget(i);for(const g of h.ko.get(i))h.xo.delete(g),l&&h.No.jo(g,l);h.ko.delete(i),h.isPrimaryClient&&h.Mo.cs(i).forEach(g=>{h.Mo.containsKey(g)||Gp(h,g)})}function Gp(h,i){h.$o.delete(i.path.canonicalString());const l=h.Oo.get(i);null!==l&&(Zi(h.remoteStore,l),h.Oo=h.Oo.remove(i),h.Fo.delete(l),Sv(h))}function qm(h,i,l){for(const g of l)g instanceof Tg?(h.Mo.addReference(g.key,i),Xy(h,g)):g instanceof Ov?(xe("SyncEngine","Document no longer in limbo: "+g.key),h.Mo.removeReference(g.key,i),h.Mo.containsKey(g.key)||Gp(h,g.key)):Nn()}function Xy(h,i){const l=i.key,g=l.path.canonicalString();h.Oo.get(l)||h.$o.has(g)||(xe("SyncEngine","New document in limbo: "+l),h.$o.add(g),Sv(h))}function Sv(h){for(;h.$o.size>0&&h.Oo.size<h.maxConcurrentLimboResolutions;){const i=h.$o.values().next().value;h.$o.delete(i);const l=new Ir(to.fromString(i)),g=h.Uo.next();h.Fo.set(g,new Ev(l)),h.Oo=h.Oo.insert(l,g),Li(h.remoteStore,new Rc(ac(Fl(l.path)),g,2,Pe.T))}}function al(h,i,l){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,Ae.Z)(function*(h,i,l){const g=Mi(h),A=[],ee=[],he=[];var Ie;g.xo.isEmpty()||(g.xo.forEach((Ie,at)=>{he.push(g.Ko(at,i,l).then(Vt=>{if(Vt){g.isPrimaryClient&&g.sharedClientState.updateQueryState(at.targetId,Vt.fromCache?"not-current":"current"),A.push(Vt);const ln=kp.kn(at.targetId,Vt);ee.push(ln)}}))}),yield Promise.all(he),g.No.Tr(A),yield(Ie=(0,Ae.Z)(function*(at,Vt){const ln=Mi(at);try{yield ln.persistence.runTransaction("notifyLocalViewChanges","readwrite",Dn=>Wn.forEach(Vt,gi=>Wn.forEach(gi.Nn,Ii=>ln.persistence.referenceDelegate.addReference(Dn,gi.targetId,Ii)).next(()=>Wn.forEach(gi.xn,Ii=>ln.persistence.referenceDelegate.removeReference(Dn,gi.targetId,Ii)))))}catch(Dn){if(!yl(Dn))throw Dn;xe("LocalStore","Failed to update sequence numbers: "+Dn)}for(const Dn of Vt){const gi=Dn.targetId;if(!Dn.fromCache){const Ii=ln.Un.get(gi),Fr=Ii.withLastLimboFreeSnapshotVersion(Ii.snapshotVersion);ln.Un=ln.Un.insert(gi,Fr)}}}),function(at,Vt){return Ie.apply(this,arguments)})(g.localStore,ee))})).apply(this,arguments)}function zp(h,i){return zh.apply(this,arguments)}function zh(){return(zh=(0,Ae.Z)(function*(h,i){const l=Mi(h);if(!l.currentUser.isEqual(i)){xe("SyncEngine","User change. New user:",i.toKey());const g=yield ol(l.localStore,i);l.currentUser=i,(A=l).Bo.forEach(he=>{he.forEach(Ie=>{Ie.reject(new ai(Vn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),A.Bo.clear(),l.sharedClientState.handleUserChange(i,g.removedBatchIds,g.addedBatchIds),yield al(l,g.Wn)}var A})).apply(this,arguments)}function e0(h,i){const l=Mi(h),g=l.Fo.get(i);if(g&&g.Co)return go().add(g.key);{let A=go();const ee=l.ko.get(i);if(!ee)return A;for(const he of ee){const Ie=l.xo.get(he);A=A.unionWith(Ie.view.To)}return A}}function Hm(h,i){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,Ae.Z)(function*(h,i){const l=Mi(h),g=yield Zf(l.localStore,i.query,!0),A=i.view.So(g);return l.isPrimaryClient&&qm(l,i.targetId,A.vo),A})).apply(this,arguments)}function t0(h){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,Ae.Z)(function*(h){const i=Mi(h);return Up(i.localStore).then(l=>al(i,l))})).apply(this,arguments)}function n0(h,i,l,g){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,Ae.Z)(function*(h,i,l,g){const A=Mi(h),ee=yield function(he,Ie){const at=Mi(he),Vt=Mi(at.In);return at.persistence.runTransaction("Lookup mutation documents","readonly",ln=>Vt.Xt(ln,Ie).next(Dn=>Dn?at.Qn.Pn(ln,Dn):Wn.resolve(null)))}(A.localStore,i);var Ie;null!==ee?("pending"===l?yield br(A.remoteStore):"acknowledged"===l||"rejected"===l?(Ig(A,i,g||null),Ag(A,i),Ie=i,Mi(Mi(A.localStore).In).te(Ie)):Nn(),yield al(A,ee)):xe("SyncEngine","Cannot apply mutation batch with id: "+i)})).apply(this,arguments)}function Gm(){return(Gm=(0,Ae.Z)(function*(h,i){const l=Mi(h);if(Qm(l),Jm(l),!0===i&&!0!==l.qo){const g=l.sharedClientState.getAllActiveQueryTargets(),A=yield zm(l,g.toArray());l.qo=!0,yield Hh(l.remoteStore,!0);for(const ee of A)Li(l.remoteStore,ee)}else if(!1===i&&!1!==l.qo){const g=[];let A=Promise.resolve();l.ko.forEach((ee,he)=>{l.sharedClientState.isLocalQueryTarget(he)?g.push(he):A=A.then(()=>(sl(l,he),ih(l.localStore,he,!0))),Zi(l.remoteStore,he)}),yield A,yield zm(l,g),function(ee){const he=Mi(ee);he.Fo.forEach((Ie,at)=>{Zi(he.remoteStore,at)}),he.Mo.us(),he.Fo=new Map,he.Oo=new Is(Ir.comparator)}(l),l.qo=!1,yield Hh(l.remoteStore,!1)}})).apply(this,arguments)}function zm(h,i,l){return ch.apply(this,arguments)}function ch(){return(ch=(0,Ae.Z)(function*(h,i,l){const g=Mi(h),A=[],ee=[];for(const he of i){let Ie;const at=g.ko.get(he);if(at&&0!==at.length){Ie=yield md(g.localStore,ac(at[0]));for(const Vt of at){const ln=g.xo.get(Vt),Dn=yield Hm(g,ln);Dn.snapshot&&ee.push(Dn.snapshot)}}else{const Vt=yield Gr(g.localStore,he);Ie=yield md(g.localStore,Vt),yield qp(g,Ym(Vt),he,!1)}A.push(Ie)}return g.No.Tr(ee),A})).apply(this,arguments)}function Ym(h){return kl(h.path,h.collectionGroup,h.orderBy,h.filters,h.limit,"F",h.startAt,h.endAt)}function o0(h){const i=Mi(h);return Mi(Mi(i.localStore).persistence).pn()}function s0(h,i,l,g){return lh.apply(this,arguments)}function lh(){return(lh=(0,Ae.Z)(function*(h,i,l,g){const A=Mi(h);if(A.qo)xe("SyncEngine","Ignoring unexpected query state notification.");else if(A.ko.has(i))switch(l){case"current":case"not-current":{const ee=yield Up(A.localStore),he=Bl.createSynthesizedRemoteEventForCurrentChange(i,"current"===l);yield al(A,ee,he);break}case"rejected":yield ih(A.localStore,i,!0),sl(A,i,g);break;default:Nn()}})).apply(this,arguments)}function a0(h,i,l){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,Ae.Z)(function*(h,i,l){const g=Qm(h);if(g.qo){for(const A of i){if(g.ko.has(A)){xe("SyncEngine","Adding an already active target "+A);continue}const ee=yield Gr(g.localStore,A),he=yield md(g.localStore,ee);yield qp(g,Ym(ee),he.targetId,!1),Li(g.remoteStore,he)}for(const A of l)g.ko.has(A)&&(yield ih(g.localStore,A,!1).then(()=>{Zi(g.remoteStore,A),sl(g,A)}).catch(Bu))}})).apply(this,arguments)}function Qm(h){const i=Mi(h);return i.remoteStore.remoteSyncer.applyRemoteEvent=Dg.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=e0.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=Jy.bind(null,i),i.No.Tr=Gy.bind(null,i.eventManager),i.No.jo=Pv.bind(null,i.eventManager),i}function Jm(h){const i=Mi(h);return i.remoteStore.remoteSyncer.applySuccessfulWrite=$m.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=Ky.bind(null,i),i}class xv{constructor(){this.synchronizeTabs=!1}initialize(i){var l=this;return(0,Ae.Z)(function*(){l.N=B(i.databaseInfo.databaseId),l.sharedClientState=l.Wo(i),l.persistence=l.Go(i),yield l.persistence.start(),l.gcScheduler=l.zo(i),l.localStore=l.Ho(i)})()}zo(i){return null}Ho(i){return vg(this.persistence,new Fp,i.initialUser,this.N)}Go(i){return new su(oh.Ns,this.N)}Wo(i){return new Og}terminate(){var i=this;return(0,Ae.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class Km extends xv{constructor(i,l,g){super(),this.Jo=i,this.cacheSizeBytes=l,this.forceOwnership=g,this.synchronizeTabs=!1}initialize(i){var l=()=>super.initialize,g=this;return(0,Ae.Z)(function*(){yield l().call(g,i),yield function(h){return rh.apply(this,arguments)}(g.localStore),yield g.Jo.initialize(g,i),yield Jm(g.Jo.syncEngine),yield br(g.Jo.remoteStore),yield g.persistence.nn(()=>(g.gcScheduler&&!g.gcScheduler.started&&g.gcScheduler.start(g.localStore),Promise.resolve()))})()}Ho(i){return vg(this.persistence,new Fp,i.initialUser,this.N)}zo(i){return new Sp(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)}Go(i){const l=jf(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),g=void 0!==this.cacheSizeBytes?Oc.withCacheSize(this.cacheSizeBytes):Oc.DEFAULT;return new Rp(this.synchronizeTabs,l,i.clientId,g,i.asyncQueue,w(),p(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(i){return new Og}}class ss extends Km{constructor(i,l){super(i,l,!1),this.Jo=i,this.cacheSizeBytes=l,this.synchronizeTabs=!0}initialize(i){var l=()=>super.initialize,g=this;return(0,Ae.Z)(function*(){yield l().call(g,i);const A=g.Jo.syncEngine;g.sharedClientState instanceof Wf&&(g.sharedClientState.syncEngine={_i:n0.bind(null,A),mi:s0.bind(null,A),gi:a0.bind(null,A),pn:o0.bind(null,A),wi:t0.bind(null,A)},yield g.sharedClientState.start()),yield g.persistence.nn(function(){var ee=(0,Ae.Z)(function*(he){yield function(h,i){return Gm.apply(this,arguments)}(g.Jo.syncEngine,he),g.gcScheduler&&(he&&!g.gcScheduler.started?g.gcScheduler.start(g.localStore):he||g.gcScheduler.stop())});return function(he){return ee.apply(this,arguments)}}())})()}Wo(i){const l=w();if(!Wf.bt(l))throw new ai(Vn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const g=jf(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new Wf(l,i.asyncQueue,g,i.clientId,i.initialUser)}}class Wp{initialize(i,l){var g=this;return(0,Ae.Z)(function*(){g.localStore||(g.localStore=i.localStore,g.sharedClientState=i.sharedClientState,g.datastore=g.createDatastore(l),g.remoteStore=g.createRemoteStore(l),g.eventManager=g.createEventManager(l),g.syncEngine=g.createSyncEngine(l,!i.synchronizeTabs),g.sharedClientState.onlineStateHandler=A=>Vm(g.syncEngine,A,1),g.remoteStore.remoteSyncer.handleCredentialChange=zp.bind(null,g.syncEngine),yield Hh(g.remoteStore,g.syncEngine.isPrimaryClient))})()}createEventManager(i){return new bv}createDatastore(i){const l=B(i.databaseInfo.databaseId),g=new _(i.databaseInfo);return new kt(i.credentials,g,l)}createRemoteStore(i){return l=this.localStore,g=this.datastore,A=i.asyncQueue,ee=Ie=>Vm(this.syncEngine,Ie,0),he=Sm.bt()?new Sm:new Vp,new Ln(l,g,A,ee,he);var l,g,A,ee,he}createSyncEngine(i,l){return function(g,A,ee,he,Ie,at,Vt){const ln=new Yy(g,A,ee,he,Ie,at);return Vt&&(ln.qo=!0),ln}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,l)}terminate(){return(i=(0,Ae.Z)(function*(l){const g=Mi(l);xe("RemoteStore","RemoteStore shutting down."),g.Kr.add(5),yield Hi(g),g.Qr.shutdown(),g.Wr.set("Unknown")}),function(l){return i.apply(this,arguments)})(this.remoteStore);var i}}function c0(h,i=10240){let l=0;return{read:()=>(0,Ae.Z)(function*(){if(l<h.byteLength){const g={value:h.slice(l,l+i),done:!1};return l+=i,g}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Zl{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Yo(this.observer.next,i)}error(i){this.observer.error?this.Yo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}Xo(){this.muted=!0}Yo(i,l){this.muted||setTimeout(()=>{this.muted||i(l)},0)}}class Xm{constructor(i,l){this.Zo=i,this.N=l,this.metadata=new bo,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(g=>{g&&g.ho()?this.metadata.resolve(g.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==g?void 0:g.payload)}`))},g=>this.metadata.reject(g))}close(){return this.Zo.cancel()}getMetadata(){var i=this;return(0,Ae.Z)(function*(){return i.metadata.promise})()}Qo(){var i=this;return(0,Ae.Z)(function*(){return yield i.getMetadata(),i.ea()})()}ea(){var i=this;return(0,Ae.Z)(function*(){const l=yield i.na();if(null===l)return null;const g=i.ta.decode(l),A=Number(g);isNaN(A)&&i.sa(`length string (${g}) is not valid number`);const ee=yield i.ia(A);return new Mv(JSON.parse(ee),l.length+A)})()}ra(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}na(){var i=this;return(0,Ae.Z)(function*(){for(;i.ra()<0&&!(yield i.oa()););if(0===i.buffer.length)return null;const l=i.ra();l<0&&i.sa("Reached the end of bundle when a length string is expected.");const g=i.buffer.slice(0,l);return i.buffer=i.buffer.slice(l),g})()}ia(i){var l=this;return(0,Ae.Z)(function*(){for(;l.buffer.length<i;)(yield l.oa())&&l.sa("Reached the end of bundle when more is expected.");const g=l.ta.decode(l.buffer.slice(0,i));return l.buffer=l.buffer.slice(i),g})()}sa(i){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${i}`)}oa(){var i=this;return(0,Ae.Z)(function*(){const l=yield i.Zo.read();if(!l.done){const g=new Uint8Array(i.buffer.length+l.value.length);g.set(i.buffer),g.set(l.value,i.buffer.length),i.buffer=g}return l.done})()}}class e_{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var l=this;return(0,Ae.Z)(function*(){if(l.ensureCommitNotCalled(),l.mutations.length>0)throw new ai(Vn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const g=yield(A=(0,Ae.Z)(function*(ee,he){const Ie=Mi(ee),at=od(Ie.N)+"/documents",Vt={documents:he.map(Ii=>jl(Ie.N,Ii))},ln=yield Ie.Ki("BatchGetDocuments",at,Vt),Dn=new Map;ln.forEach(Ii=>{const Wi=function(h,i){return"found"in i?function(l,g){vi(!!g.found);const A=nl(l,g.found.name),ee=$s(g.found.updateTime),he=new oc({mapValue:{fields:g.found.fields}});return po.newFoundDocument(A,ee,he)}(h,i):"missing"in i?function(l,g){vi(!!g.missing),vi(!!g.readTime);const A=nl(l,g.missing),ee=$s(g.readTime);return po.newNoDocument(A,ee)}(h,i):Nn()}(Ie.N,Ii);Dn.set(Wi.key.toString(),Wi)});const gi=[];return he.forEach(Ii=>{const Wi=Dn.get(Ii.toString());vi(!!Wi),gi.push(Wi)}),gi}),function(ee,he){return A.apply(this,arguments)})(l.datastore,i);var A;return g.forEach(A=>l.recordVersion(A)),g})()}set(i,l){this.write(l.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,l){try{this.write(l.toMutation(i,this.preconditionForUpdate(i)))}catch(g){this.lastWriteError=g}this.writtenDocs.add(i.toString())}delete(i){this.write(new nd(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,Ae.Z)(function*(){if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const l=i.readVersions;var g;i.mutations.forEach(g=>{l.delete(g.key.toString())}),l.forEach((g,A)=>{const ee=Ir.fromPath(A);i.mutations.push(new Eh(ee,i.precondition(ee)))}),yield(g=(0,Ae.Z)(function*(A,ee){const he=Mi(A),Ie=od(he.N)+"/documents",at={writes:ee.map(Vt=>Su(he.N,Vt))};yield he.Li("Commit",Ie,at)}),function(A,ee){return g.apply(this,arguments)})(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let l;if(i.isFoundDocument())l=i.version;else{if(!i.isNoDocument())throw Nn();l=sr.min()}const g=this.readVersions.get(i.key.toString());if(g){if(!l.isEqual(g))throw new ai(Vn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),l)}precondition(i){const l=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&l?rs.updateTime(l):rs.none()}preconditionForUpdate(i){const l=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&l){if(l.isEqual(sr.min()))throw new ai(Vn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rs.updateTime(l)}return rs.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class tb{constructor(i,l,g,A){this.asyncQueue=i,this.datastore=l,this.updateFunction=g,this.deferred=A,this.aa=5,this.rr=new re(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var i=this;this.rr.Xi((0,Ae.Z)(function*(){const l=new e_(i.datastore),g=i.ua(l);g&&g.then(A=>{i.asyncQueue.enqueueAndForget(()=>l.commit().then(()=>{i.deferred.resolve(A)}).catch(ee=>{i.ha(ee)}))}).catch(A=>{i.ha(A)})}))}ua(i){try{const l=this.updateFunction(i);return!Il(l)&&l.catch&&l.then?l:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(l){return this.deferred.reject(l),null}}ha(i){this.aa>0&&this.la(i)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(i)}la(i){if("FirebaseError"===i.name){const l=i.code;return"aborted"===l||"failed-precondition"===l||!vf(l)}return!1}}class l0{constructor(i,l,g){var A=this;this.credentials=i,this.asyncQueue=l,this.databaseInfo=g,this.user=Os.UNAUTHENTICATED,this.clientId=Jt.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(l,function(){var ee=(0,Ae.Z)(function*(he){xe("FirestoreClient","Received user=",he.uid),yield A.credentialListener(he),A.user=he});return function(he){return ee.apply(this,arguments)}}())}getConfiguration(){var i=this;return(0,Ae.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,credentials:i.credentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.credentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ai(Vn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const l=new bo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.credentials.shutdown(),l.resolve()}catch(g){const A=$p(g,"Failed to shutdown persistence");l.reject(A)}})),l.promise}}function Av(h,i){return kg.apply(this,arguments)}function kg(){return(kg=(0,Ae.Z)(function*(h,i){h.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider");const l=yield h.getConfiguration();yield i.initialize(l);let g=l.initialUser;h.setCredentialChangeListener(function(){var A=(0,Ae.Z)(function*(ee){g.isEqual(ee)||(yield ol(i.localStore,ee),g=ee)});return function(ee){return A.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>h.terminate()),h.offlineComponents=i})).apply(this,arguments)}function t_(h,i){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,Ae.Z)(function*(h,i){h.asyncQueue.verifyOperationInProgress();const l=yield Ug(h);xe("FirestoreClient","Initializing OnlineComponentProvider");const g=yield h.getConfiguration();yield i.initialize(l,g),h.setCredentialChangeListener(A=>{return(ee=(0,Ae.Z)(function*(he,Ie){const at=Mi(he);at.asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials");const Vt=Do(at);at.Kr.add(3),yield Hi(at),Vt&&at.Wr.set("Unknown"),yield at.remoteSyncer.handleCredentialChange(Ie),at.Kr.delete(3),yield Kn(at)}),function(he,Ie){return ee.apply(this,arguments)})(i.remoteStore,A);var ee}),h.onlineComponents=i})).apply(this,arguments)}function Ug(h){return n_.apply(this,arguments)}function n_(){return(n_=(0,Ae.Z)(function*(h){return h.offlineComponents||(xe("FirestoreClient","Using default OfflineComponentProvider"),yield Av(h,new xv)),h.offlineComponents})).apply(this,arguments)}function Bg(h){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,Ae.Z)(function*(h){return h.onlineComponents||(xe("FirestoreClient","Using default OnlineComponentProvider"),yield t_(h,new Wp)),h.onlineComponents})).apply(this,arguments)}function jg(h){return Ug(h).then(i=>i.persistence)}function Vg(h){return Ug(h).then(i=>i.localStore)}function i_(h){return Bg(h).then(i=>i.remoteStore)}function Zg(h){return Bg(h).then(i=>i.syncEngine)}function Wh(h){return r_.apply(this,arguments)}function r_(){return(r_=(0,Ae.Z)(function*(h){const i=yield Bg(h),l=i.eventManager;return l.onListen=Wy.bind(null,i.syncEngine),l.onUnlisten=Qy.bind(null,i.syncEngine),l})).apply(this,arguments)}function o_(h,i,l={}){const g=new bo;return h.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(A,ee,he,Ie,at){const Vt=new Zl({next:Dn=>{ee.enqueueAndForget(()=>Nm(A,ln));const gi=Dn.docs.has(he);!gi&&Dn.fromCache?at.reject(new ai(Vn.UNAVAILABLE,"Failed to get document because the client is offline.")):gi&&Dn.fromCache&&Ie&&"server"===Ie.source?at.reject(new ai(Vn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):at.resolve(Dn)},error:Dn=>at.reject(Dn)}),ln=new Lm(Fl(he.path),Vt,{includeMetadataChanges:!0,uo:!0});return Am(A,ln)}(yield Wh(h),h.asyncQueue,i,l,g)})),g.promise}function s_(h,i,l={}){const g=new bo;return h.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(A,ee,he,Ie,at){const Vt=new Zl({next:Dn=>{ee.enqueueAndForget(()=>Nm(A,ln)),Dn.fromCache&&"server"===Ie.source?at.reject(new ai(Vn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):at.resolve(Dn)},error:Dn=>at.reject(Dn)}),ln=new Lm(he,Vt,{includeMetadataChanges:!0,uo:!0});return Am(A,ln)}(yield Wh(h),h.asyncQueue,i,l,g)})),g.promise}class a_{constructor(i,l,g,A,ee,he,Ie,at){this.databaseId=i,this.appId=l,this.persistenceKey=g,this.host=A,this.ssl=ee,this.forceLongPolling=he,this.autoDetectLongPolling=Ie,this.useFetchStreams=at}}class ep{constructor(i,l){this.projectId=i,this.database=l||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof ep&&i.projectId===this.projectId&&i.database===this.database}}const c_=new Map;function $g(h,i,l){if(!l)throw new ai(Vn.INVALID_ARGUMENT,`Function ${h}() cannot be called with an empty ${i}.`)}function g0(h,i,l,g){if(!0===i&&!0===g)throw new ai(Vn.INVALID_ARGUMENT,`${h} and ${l} cannot be used together.`)}function $l(h){if(!Ir.isDocumentKey(h))throw new ai(Vn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${h} has ${h.length}.`)}function m0(h){if(Ir.isDocumentKey(h))throw new ai(Vn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${h} has ${h.length}.`)}function l_(h){if(void 0===h)return"undefined";if(null===h)return"null";if("string"==typeof h)return h.length>20&&(h=`${h.substring(0,20)}...`),JSON.stringify(h);if("number"==typeof h||"boolean"==typeof h)return""+h;if("object"==typeof h){if(h instanceof Array)return"an array";{const i=function(l){if(l.constructor){const g=/function\s+([^\s(]+)\s*\(/.exec(l.constructor.toString());if(g&&g.length>1)return g[1]}return null}(h);return i?`a custom ${i} object`:"an object"}}return"function"==typeof h?"a function":Nn()}function Ho(h,i){if("_delegate"in h&&(h=h._delegate),!(h instanceof i)){if(i.name===h.constructor.name)throw new ai(Vn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const l=l_(h);throw new ai(Vn.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${l}`)}}return h}function u_(h,i){if(i<=0)throw new ai(Vn.INVALID_ARGUMENT,`Function ${h}() requires a positive number, but it was: ${i}.`)}class d_{constructor(i){var l;if(void 0===i.host){if(void 0!==i.ssl)throw new ai(Vn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(l=i.ssl)||void 0===l||l;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new ai(Vn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,g0("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class tp{constructor(i,l){this._credentials=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d_({}),this._settingsFrozen=!1,i instanceof ep?this._databaseId=i:(this._app=i,this._databaseId=function(g){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ai(Vn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ep(g.options.projectId)}(i))}get app(){if(!this._app)throw new ai(Vn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new ai(Vn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d_(i),void 0!==i.credentials&&(this._credentials=function(l){if(!l)return new ts;switch(l.type){case"gapi":const g=l.client;return vi(!("object"!=typeof g||null===g||!g.auth||!g.auth.getAuthHeaderValueForFirstParty)),new q(g,l.sessionIndex||"0",l.iamToken||null);case"provider":return l.client;default:throw new ai(Vn.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const l=c_.get(i);l&&(xe("ComponentProvider","Removing Datastore"),c_.delete(i),l.terminate())}(this),Promise.resolve()}}class Ls{constructor(i,l,g){this.converter=l,this._key=g,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new Ls(this.firestore,i,this._key)}}class wc{constructor(i,l,g){this.converter=l,this._query=g,this.type="query",this.firestore=i}withConverter(i){return new wc(this.firestore,i,this._query)}}class ql extends wc{constructor(i,l,g){super(i,l,Fl(g)),this._path=g,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new Ls(this.firestore,null,new Ir(i))}withConverter(i){return new ql(this.firestore,i,this._path)}}function Iv(h,i,...l){if(h=(0,Me.m9)(h),$g("collection","path",i),h instanceof tp){const g=to.fromString(i,...l);return m0(g),new ql(h,null,g)}{if(!(h instanceof Ls||h instanceof ql))throw new ai(Vn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const g=h._path.child(to.fromString(i,...l));return m0(g),new ql(h.firestore,null,g)}}function qg(h,i,...l){if(h=(0,Me.m9)(h),1===arguments.length&&(i=Jt.I()),$g("doc","path",i),h instanceof tp){const g=to.fromString(i,...l);return $l(g),new Ls(h,null,new Ir(g))}{if(!(h instanceof Ls||h instanceof ql))throw new ai(Vn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const g=h._path.child(to.fromString(i,...l));return $l(g),new Ls(h.firestore,h instanceof ql?h.converter:null,new Ir(g))}}function Nv(h,i){return h=(0,Me.m9)(h),i=(0,Me.m9)(i),(h instanceof Ls||h instanceof ql)&&(i instanceof Ls||i instanceof ql)&&h.firestore===i.firestore&&h.path===i.path&&h.converter===i.converter}function Rv(h,i){return h=(0,Me.m9)(h),i=(0,Me.m9)(i),h instanceof wc&&i instanceof wc&&h.firestore===i.firestore&&kd(h._query,i._query)&&h.converter===i.converter}class v0{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new re(this,"async_queue_retry"),this.Ea=()=>{const l=p();l&&xe("AsyncQueue","Visibility state changed to "+l.visibilityState),this.rr.tr()};const i=p();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Ta(),this.Ia(i)}enterRestrictedMode(i){if(!this.wa){this.wa=!0,this.ya=i||!1;const l=p();l&&"function"==typeof l.removeEventListener&&l.removeEventListener("visibilitychange",this.Ea)}}enqueue(i){if(this.Ta(),this.wa)return new Promise(()=>{});const l=new bo;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(i().then(l.resolve,l.reject),l.promise)).then(()=>l.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.da.push(i),this.Aa()))}Aa(){var i=this;return(0,Ae.Z)(function*(){if(0!==i.da.length){try{yield i.da[0](),i.da.shift(),i.rr.reset()}catch(l){if(!yl(l))throw l;xe("AsyncQueue","Operation failed with retryable error: "+l)}i.da.length>0&&i.rr.Xi(()=>i.Aa())}})()}Ia(i){const l=this.fa.then(()=>(this.ga=!0,i().catch(g=>{throw this.ma=g,this.ga=!1,ht("INTERNAL UNHANDLED ERROR: ",function(A){let ee=A.message||"";return A.stack&&(ee=A.stack.includes(A.message)?A.stack:A.message+"\n"+A.stack),ee}(g)),g}).then(g=>(this.ga=!1,g))));return this.fa=l,l}enqueueAfterDelay(i,l,g){this.Ta(),this.pa.indexOf(i)>-1&&(l=0);const A=Cv.createAndSchedule(this,i,l,g,ee=>this.Ra(ee));return this._a.push(A),A}Ta(){this.ma&&Nn()}verifyOperationInProgress(){}ba(){var i=this;return(0,Ae.Z)(function*(){let l;do{l=i.fa,yield l}while(l!==i.fa)})()}Pa(i){for(const l of this._a)if(l.timerId===i)return!0;return!1}va(i){return this.ba().then(()=>{this._a.sort((l,g)=>l.targetTimeMs-g.targetTimeMs);for(const l of this._a)if(l.skipDelay(),"all"!==i&&l.timerId===i)break;return this.ba()})}Va(i){this.pa.push(i)}Ra(i){const l=this._a.indexOf(i);this._a.splice(l,1)}}function f_(h){return function(i,l){if("object"!=typeof i||null===i)return!1;const g=i;for(const A of["next","error","complete"])if(A in g&&"function"==typeof g[A])return!0;return!1}(h)}class y0{constructor(){this._progressObserver={},this._taskCompletionResolver=new bo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,l,g){this._progressObserver={next:i,error:l,complete:g}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,l){return this._taskCompletionResolver.promise.then(i,l)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}class ms extends tp{constructor(i,l){super(i,l),this.type="firestore",this._queue=new v0,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Lv(this),this._firestoreClient.terminate()}}function Hs(h){return h._firestoreClient||Lv(h),h._firestoreClient.verifyNotTerminated(),h._firestoreClient}function Lv(h){var i;const l=h._freezeSettings(),g=(ee=(null===(i=h._app)||void 0===i?void 0:i.options.appId)||"",new a_(h._databaseId,ee,h._persistenceKey,(Ie=l).host,Ie.ssl,Ie.experimentalForceLongPolling,Ie.experimentalAutoDetectLongPolling,Ie.useFetchStreams));var ee,Ie;h._firestoreClient=new l0(h._credentials,h._queue,g)}function uu(h,i,l){const g=new bo;return h.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield Av(h,l),yield t_(h,i),g.resolve()}catch(A){if(!("FirebaseError"===(ee=A).name?ee.code===Vn.FAILED_PRECONDITION||ee.code===Vn.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&ee instanceof DOMException)||22===ee.code||20===ee.code||11===ee.code))throw A;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+A),g.reject(A)}var ee})).then(()=>g.promise)}function Jh(h){if(h._initialized||h._terminated)throw new ai(Vn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class cl{constructor(...i){for(let l=0;l<i.length;++l)if(0===i[l].length)throw new ai(Vn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new is(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class Yc{constructor(i){this._byteString=i}static fromBase64String(i){try{return new Yc(as.fromBase64String(i))}catch(l){throw new ai(Vn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+l)}}static fromUint8Array(i){return new Yc(as.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class Hl{constructor(i){this._methodName=i}}class yd{constructor(i,l){if(!isFinite(i)||i<-90||i>90)throw new ai(Vn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(l)||l<-180||l>180)throw new ai(Vn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+l);this._lat=i,this._long=l}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return Mn(this._lat,i._lat)||Mn(this._long,i._long)}}const ip=/^__.*__$/;class rp{constructor(i,l,g){this.data=i,this.fieldMask=l,this.fieldTransforms=g}toMutation(i,l){return null!==this.fieldMask?new Za(i,this.data,this.fieldMask,l,this.fieldTransforms):new ml(i,this.data,l,this.fieldTransforms)}}class m_{constructor(i,l,g){this.data=i,this.fieldMask=l,this.fieldTransforms=g}toMutation(i,l){return new Za(i,this.data,this.fieldMask,l,this.fieldTransforms)}}function __(h){switch(h){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nn()}}class Kp{constructor(i,l,g,A,ee,he){this.settings=i,this.databaseId=l,this.N=g,this.ignoreUndefinedProperties=A,void 0===ee&&this.Sa(),this.fieldTransforms=ee||[],this.fieldMask=he||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(i){return new Kp(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(i){var l;const g=null===(l=this.path)||void 0===l?void 0:l.child(i),A=this.Ca({path:g,xa:!1});return A.ka(i),A}$a(i){var l;const g=null===(l=this.path)||void 0===l?void 0:l.child(i),A=this.Ca({path:g,xa:!1});return A.Sa(),A}Oa(i){return this.Ca({path:void 0,xa:!0})}Fa(i){return P_(i,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(i){return void 0!==this.fieldMask.find(l=>i.isPrefixOf(l))||void 0!==this.fieldTransforms.find(l=>i.isPrefixOf(l.field))}Sa(){if(this.path)for(let i=0;i<this.path.length;i++)this.ka(this.path.get(i))}ka(i){if(0===i.length)throw this.Fa("Document fields must not be empty");if(__(this.Da)&&ip.test(i))throw this.Fa('Document fields cannot begin and end with "__"')}}class kv{constructor(i,l,g){this.databaseId=i,this.ignoreUndefinedProperties=l,this.N=g||B(i)}Ba(i,l,g,A=!1){return new Kp({Da:i,methodName:l,La:g,path:is.emptyPath(),xa:!1,Ma:A},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function uh(h){const i=h._freezeSettings(),l=B(h._databaseId);return new kv(h._databaseId,!!i.ignoreUndefinedProperties,l)}function Xp(h,i,l,g,A,ee={}){const he=h.Ba(ee.merge||ee.mergeFields?2:0,i,l,A);C_("Data must be an object, but it was:",he,g);const Ie=Bv(g,he);let at,Vt;if(ee.merge)at=new To(he.fieldMask),Vt=he.fieldTransforms;else if(ee.mergeFields){const ln=[];for(const Dn of ee.mergeFields){const gi=Qg(i,Dn,l);if(!he.contains(gi))throw new ai(Vn.INVALID_ARGUMENT,`Field '${gi}' is specified in your field mask but missing from your input data.`);jv(ln,gi)||ln.push(gi)}at=new To(ln),Vt=he.fieldTransforms.filter(Dn=>at.covers(Dn.field))}else at=null,Vt=he.fieldTransforms;return new rp(new oc(Ie),at,Vt)}class op extends Hl{_toFieldTransform(i){if(2!==i.Da)throw i.Fa(1===i.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof op}}function v_(h,i,l){return new Kp({Da:3,La:i.settings.La,methodName:h._methodName,xa:l},i.databaseId,i.N,i.ignoreUndefinedProperties)}class zg extends Hl{_toFieldTransform(i){return new Xu(i.path,new el)}isEqual(i){return i instanceof zg}}class P0 extends Hl{constructor(i,l){super(i),this.Ua=l}_toFieldTransform(i){const l=v_(this,i,!0),g=this.Ua.map(ee=>sp(ee,l)),A=new tu(g);return new Xu(i.path,A)}isEqual(i){return this===i}}class Fv extends Hl{constructor(i,l){super(i),this.Ua=l}_toFieldTransform(i){const l=v_(this,i,!0),g=this.Ua.map(ee=>sp(ee,l)),A=new tl(g);return new Xu(i.path,A)}isEqual(i){return this===i}}class M0 extends Hl{constructor(i,l){super(i),this.qa=l}_toFieldTransform(i){const l=new Ku(i.N,Qu(i.N,this.qa));return new Xu(i.path,l)}isEqual(i){return this===i}}function Yg(h,i,l,g){const A=h.Ba(1,i,l);C_("Data must be an object, but it was:",A,g);const ee=[],he=oc.empty();jr(g,(at,Vt)=>{const ln=b_(i,at,l);Vt=(0,Me.m9)(Vt);const Dn=A.$a(ln);if(Vt instanceof op)ee.push(ln);else{const gi=sp(Vt,Dn);null!=gi&&(ee.push(ln),he.set(ln,gi))}});const Ie=new To(ee);return new m_(he,Ie,A.fieldTransforms)}function Wg(h,i,l,g,A,ee){const he=h.Ba(1,i,l),Ie=[Qg(i,g,l)],at=[A];if(ee.length%2!=0)throw new ai(Vn.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let gi=0;gi<ee.length;gi+=2)Ie.push(Qg(i,ee[gi])),at.push(ee[gi+1]);const Vt=[],ln=oc.empty();for(let gi=Ie.length-1;gi>=0;--gi)if(!jv(Vt,Ie[gi])){const Ii=Ie[gi];let Wi=at[gi];Wi=(0,Me.m9)(Wi);const Fr=he.$a(Ii);if(Wi instanceof op)Vt.push(Ii);else{const oo=sp(Wi,Fr);null!=oo&&(Vt.push(Ii),ln.set(Ii,oo))}}const Dn=new To(Vt);return new m_(ln,Dn,he.fieldTransforms)}function Uv(h,i,l,g=!1){return sp(l,h.Ba(g?4:3,i))}function sp(h,i){if(y_(h=(0,Me.m9)(h)))return C_("Unsupported field value:",i,h),Bv(h,i);if(h instanceof Hl)return function(l,g){if(!__(g.Da))throw g.Fa(`${l._methodName}() can only be used with update() and set()`);if(!g.path)throw g.Fa(`${l._methodName}() is not currently supported inside arrays`);const A=l._toFieldTransform(g);A&&g.fieldTransforms.push(A)}(h,i),null;if(void 0===h&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),h instanceof Array){if(i.settings.xa&&4!==i.Da)throw i.Fa("Nested arrays are not supported");return function(l,g){const A=[];let ee=0;for(const he of l){let Ie=sp(he,g.Oa(ee));null==Ie&&(Ie={nullValue:"NULL_VALUE"}),A.push(Ie),ee++}return{arrayValue:{values:A}}}(h,i)}return function(l,g){if(null===(l=(0,Me.m9)(l)))return{nullValue:"NULL_VALUE"};if("number"==typeof l)return Qu(g.N,l);if("boolean"==typeof l)return{booleanValue:l};if("string"==typeof l)return{stringValue:l};if(l instanceof Date){const A=ki.fromDate(l);return{timestampValue:rd(g.N,A)}}if(l instanceof ki){const A=new ki(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:rd(g.N,A)}}if(l instanceof yd)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof Yc)return{bytesValue:Of(g.N,l._byteString)};if(l instanceof Ls){const A=g.databaseId,ee=l.firestore._databaseId;if(!ee.isEqual(A))throw g.Fa(`Document reference is for database ${ee.projectId}/${ee.database} but should be for database ${A.projectId}/${A.database}`);return{referenceValue:vl(l.firestore._databaseId||g.databaseId,l._key.path)}}throw g.Fa(`Unsupported field value: ${l_(l)}`)}(h,i)}function Bv(h,i){const l={};return ns(h)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):jr(h,(g,A)=>{const ee=sp(A,i.Na(g));null!=ee&&(l[g]=ee)}),{mapValue:{fields:l}}}function y_(h){return!("object"!=typeof h||null===h||h instanceof Array||h instanceof Date||h instanceof ki||h instanceof yd||h instanceof Yc||h instanceof Ls||h instanceof Hl)}function C_(h,i,l){if(!y_(l)||"object"!=typeof(g=l)||null===g||Object.getPrototypeOf(g)!==Object.prototype&&null!==Object.getPrototypeOf(g)){const g=l_(l);throw i.Fa("an object"===g?h+" a custom object":h+" "+g)}var g}function Qg(h,i,l){if((i=(0,Me.m9)(i))instanceof cl)return i._internalPath;if("string"==typeof i)return b_(h,i);throw P_("Field path arguments must be of type string or FieldPath.",h,!1,void 0,l)}const O0=new RegExp("[~\\*/\\[\\]]");function b_(h,i,l){if(i.search(O0)>=0)throw P_(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,h,!1,void 0,l);try{return new cl(...i.split("."))._internalPath}catch(g){throw P_(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,h,!1,void 0,l)}}function P_(h,i,l,g,A){const ee=g&&!g.isEmpty(),he=void 0!==A;let Ie=`Function ${i}() called with invalid data`;l&&(Ie+=" (via `toFirestore()`)"),Ie+=". ";let at="";return(ee||he)&&(at+=" (found",ee&&(at+=` in field ${g}`),he&&(at+=` in document ${A}`),at+=")"),new ai(Vn.INVALID_ARGUMENT,Ie+h+at)}function jv(h,i){return h.some(l=>l.isEqual(i))}class ap{constructor(i,l,g,A,ee){this._firestore=i,this._userDataWriter=l,this._key=g,this._document=A,this._converter=ee}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new ob(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const l=this._document.data.field(M_("DocumentSnapshot.get",i));if(null!==l)return this._userDataWriter.convertValue(l)}}}class ob extends ap{data(){return super.data()}}function M_(h,i){return"string"==typeof i?b_(h,i):i instanceof cl?i._internalPath:i._delegate._internalPath}class cp{constructor(i,l){this.hasPendingWrites=i,this.fromCache=l}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class Cd extends ap{constructor(i,l,g,A,ee,he){super(i,l,g,A,he),this._firestore=i,this._firestoreImpl=i,this.metadata=ee}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const l=new Jg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(l,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,l={}){if(this._document){const g=this._document.data.field(M_("DocumentSnapshot.get",i));if(null!==g)return this._userDataWriter.convertValue(g,l.serverTimestamps)}}}class Jg extends Cd{data(i={}){return super.data(i)}}class dh{constructor(i,l,g,A){this._firestore=i,this._userDataWriter=l,this._snapshot=A,this.metadata=new cp(A.hasPendingWrites,A.fromCache),this.query=g}get docs(){const i=[];return this.forEach(l=>i.push(l)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,l){this._snapshot.docs.forEach(g=>{i.call(l,new Jg(this._firestore,this._userDataWriter,g.key,g,new cp(this._snapshot.mutatedKeys.has(g.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const l=!!i.includeMetadataChanges;if(l&&this._snapshot.excludesMetadataChanges)throw new ai(Vn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===l||(this._cachedChanges=function(g,A){if(g._snapshot.oldDocs.isEmpty()){let ee=0;return g._snapshot.docChanges.map(he=>({type:"added",doc:new Jg(g._firestore,g._userDataWriter,he.doc.key,he.doc,new cp(g._snapshot.mutatedKeys.has(he.doc.key),g._snapshot.fromCache),g.query.converter),oldIndex:-1,newIndex:ee++}))}{let ee=g._snapshot.oldDocs;return g._snapshot.docChanges.filter(he=>A||3!==he.type).map(he=>{const Ie=new Jg(g._firestore,g._userDataWriter,he.doc.key,he.doc,new cp(g._snapshot.mutatedKeys.has(he.doc.key),g._snapshot.fromCache),g.query.converter);let at=-1,Vt=-1;return 0!==he.type&&(at=ee.indexOf(he.doc.key),ee=ee.delete(he.doc.key)),1!==he.type&&(ee=ee.add(he.doc),Vt=ee.indexOf(he.doc.key)),{type:w0(he.type),doc:Ie,oldIndex:at,newIndex:Vt}})}}(this,l),this._cachedChangesIncludeMetadataChanges=l),this._cachedChanges}}function w0(h){switch(h){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nn()}}function Kg(h,i){return h instanceof Cd&&i instanceof Cd?h._firestore===i._firestore&&h._key.isEqual(i._key)&&(null===h._document?null===i._document:h._document.isEqual(i._document))&&h._converter===i._converter:h instanceof dh&&i instanceof dh&&h._firestore===i._firestore&&Rv(h.query,i.query)&&h.metadata.isEqual(i.metadata)&&h._snapshot.isEqual(i._snapshot)}function Xg(h){if(Mu(h)&&0===h.explicitOrderBy.length)throw new ai(Vn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eg{}function Kh(h,...i){for(const l of i)h=l._apply(h);return h}class sb extends eg{constructor(i,l,g){super(),this.Ka=i,this.ja=l,this.Qa=g,this.type="where"}_apply(i){const l=uh(i.firestore),g=function(A,ee,he,Ie,at,Vt,ln){let Dn;if(at.isKeyField()){if("array-contains"===Vt||"array-contains-any"===Vt)throw new ai(Vn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Vt}' queries on FieldPath.documentId().`);if("in"===Vt||"not-in"===Vt){Hv(ln,Vt);const Ii=[];for(const Wi of ln)Ii.push(qv(Ie,A,Wi));Dn={arrayValue:{values:Ii}}}else Dn=qv(Ie,A,ln)}else"in"!==Vt&&"not-in"!==Vt&&"array-contains-any"!==Vt||Hv(ln,Vt),Dn=Uv(he,"where",ln,"in"===Vt||"not-in"===Vt);const gi=Pa.create(at,Vt,Dn);return function(Ii,Wi){if(Wi.v()){const oo=Xc(Ii);if(null!==oo&&!oo.isEqual(Wi.field))throw new ai(Vn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${oo.toString()}' and '${Wi.field.toString()}'`);const Gs=Ld(Ii);null!==Gs&&Gv(0,Wi.field,Gs)}const Fr=function(oo,Gs){for(const Bc of oo.filters)if(Gs.indexOf(Bc.op)>=0)return Bc.op;return null}(Ii,function(oo){switch(oo){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Wi.op));if(null!==Fr)throw new ai(Vn.INVALID_ARGUMENT,Fr===Wi.op?`Invalid query. You cannot use more than one '${Wi.op.toString()}' filter.`:`Invalid query. You cannot use '${Wi.op.toString()}' filters with '${Fr.toString()}' filters.`)}(A,gi),gi}(i._query,0,l,i.firestore._databaseId,this.Ka,this.ja,this.Qa);return new wc(i.firestore,i.converter,function(A,ee){const he=A.filters.concat([ee]);return new sc(A.path,A.collectionGroup,A.explicitOrderBy.slice(),he,A.limit,A.limitType,A.startAt,A.endAt)}(i._query,g))}}class E0 extends eg{constructor(i,l){super(),this.Ka=i,this.Wa=l,this.type="orderBy"}_apply(i){const l=function(g,A,ee){if(null!==g.startAt)throw new ai(Vn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==g.endAt)throw new ai(Vn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const he=new Ll(A,ee);return function(Ie,at){if(null===Ld(Ie)){const Vt=Xc(Ie);null!==Vt&&Gv(0,Vt,at.field)}}(g,he),he}(i._query,this.Ka,this.Wa);return new wc(i.firestore,i.converter,function(g,A){const ee=g.explicitOrderBy.concat([A]);return new sc(g.path,g.collectionGroup,ee,g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(i._query,l))}}class T0 extends eg{constructor(i,l,g){super(),this.type=i,this.Ga=l,this.za=g}_apply(i){return new wc(i.firestore,i.converter,Mh(i._query,this.Ga,this.za))}}class Zv extends eg{constructor(i,l,g){super(),this.type=i,this.Ha=l,this.Ja=g}_apply(i){const l=w_(i,this.type,this.Ha,this.Ja);return new wc(i.firestore,i.converter,(A=l,new sc((g=i._query).path,g.collectionGroup,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,A,g.endAt)));var g,A}}class O_ extends eg{constructor(i,l,g){super(),this.type=i,this.Ha=l,this.Ja=g}_apply(i){const l=w_(i,this.type,this.Ha,this.Ja);return new wc(i.firestore,i.converter,(A=l,new sc((g=i._query).path,g.collectionGroup,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,A)));var g,A}}function w_(h,i,l,g){if(l[0]=(0,Me.m9)(l[0]),l[0]instanceof ap)return function(A,ee,he,Ie,at){if(!Ie)throw new ai(Vn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${he}().`);const Vt=[];for(const ln of Jl(A))if(ln.field.isKeyField())Vt.push(Cc(ee,Ie.key));else{const Dn=Ie.data.field(ln.field);if(rf(Dn))throw new ai(Vn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ln.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Dn){const gi=ln.field.canonicalString();throw new ai(Vn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${gi}' (used as the orderBy) does not exist.`)}Vt.push(Dn)}return new Wu(Vt,at)}(h._query,h.firestore._databaseId,i,l[0]._document,g);{const A=uh(h.firestore);return function(ee,he,Ie,at,Vt,ln){const Dn=ee.explicitOrderBy;if(Vt.length>Dn.length)throw new ai(Vn.INVALID_ARGUMENT,`Too many arguments provided to ${at}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const gi=[];for(let Ii=0;Ii<Vt.length;Ii++){const Wi=Vt[Ii];if(Dn[Ii].field.isKeyField()){if("string"!=typeof Wi)throw new ai(Vn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${at}(), but got a ${typeof Wi}`);if(!Ql(ee)&&-1!==Wi.indexOf("/"))throw new ai(Vn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${at}() must be a plain document ID, but '${Wi}' contains a slash.`);const Fr=ee.path.child(to.fromString(Wi));if(!Ir.isDocumentKey(Fr))throw new ai(Vn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${at}() must result in a valid document path, but '${Fr}' is not because it contains an odd number of segments.`);const oo=new Ir(Fr);gi.push(Cc(he,oo))}else{const Fr=Uv(Ie,at,Wi);gi.push(Fr)}}return new Wu(gi,ln)}(h._query,h.firestore._databaseId,A,i,l,g)}}function qv(h,i,l){if("string"==typeof(l=(0,Me.m9)(l))){if(""===l)throw new ai(Vn.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ql(i)&&-1!==l.indexOf("/"))throw new ai(Vn.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${l}' contains a '/' character.`);const g=i.path.child(to.fromString(l));if(!Ir.isDocumentKey(g))throw new ai(Vn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${g}' is not because it has an odd number of segments (${g.length}).`);return Cc(h,new Ir(g))}if(l instanceof Ls)return Cc(h,l._key);throw new ai(Vn.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${l_(l)}.`)}function Hv(h,i){if(!Array.isArray(h)||0===h.length)throw new ai(Vn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(h.length>10)throw new ai(Vn.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function Gv(h,i,l){if(!l.isEqual(i))throw new ai(Vn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${l.toString()}' instead.`)}class E_{convertValue(i,l="none"){switch(qo(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Vs(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,l);case 5:return i.stringValue;case 6:return this.convertBytes(vu(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,l);case 10:return this.convertObject(i.mapValue,l);default:throw Nn()}}convertObject(i,l){const g={};return jr(i.fields,(A,ee)=>{g[A]=this.convertValue(ee,l)}),g}convertGeoPoint(i){return new yd(Vs(i.latitude),Vs(i.longitude))}convertArray(i,l){return(i.values||[]).map(g=>this.convertValue(g,l))}convertServerTimestamp(i,l){switch(l){case"previous":const g=mh(i);return null==g?null:this.convertValue(g,l);case"estimate":return this.convertTimestamp(Sd(i));default:return null}}convertTimestamp(i){const l=fl(i);return new ki(l.seconds,l.nanos)}convertDocumentKey(i,l){const g=to.fromString(i);vi(zd(g));const A=new ep(g.get(1),g.get(3)),ee=new Ir(g.popFirst(5));return A.isEqual(l)||ht(`Document ${ee} contains a document reference within a different database (${A.projectId}/${A.database}) which is not supported. It will be treated as a reference in the current database (${l.projectId}/${l.database}) instead.`),ee}}function tm(h,i,l){let g;return g=h?l&&(l.merge||l.mergeFields)?h.toFirestore(i,l):h.toFirestore(i):i,g}class zv extends E_{constructor(i){super(),this.firestore=i}convertBytes(i){return new Yc(i)}convertReference(i){const l=this.convertDocumentKey(i,this.firestore._databaseId);return new Ls(this.firestore,null,l)}}class Yv{constructor(i,l){this._firestore=i,this._commitHandler=l,this._mutations=[],this._committed=!1,this._dataReader=uh(i)}set(i,l,g){this._verifyNotCommitted();const A=bd(i,this._firestore),ee=tm(A.converter,l,g),he=Xp(this._dataReader,"WriteBatch.set",A._key,ee,null!==A.converter,g);return this._mutations.push(he.toMutation(A._key,rs.none())),this}update(i,l,g,...A){this._verifyNotCommitted();const ee=bd(i,this._firestore);let he;return he="string"==typeof(l=(0,Me.m9)(l))||l instanceof cl?Wg(this._dataReader,"WriteBatch.update",ee._key,l,g,A):Yg(this._dataReader,"WriteBatch.update",ee._key,l),this._mutations.push(he.toMutation(ee._key,rs.exists(!0))),this}delete(i){this._verifyNotCommitted();const l=bd(i,this._firestore);return this._mutations=this._mutations.concat(new nd(l._key,rs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ai(Vn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bd(h,i){if((h=(0,Me.m9)(h)).firestore!==i)throw new ai(Vn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return h}class Pd extends E_{constructor(i){super(),this.firestore=i}convertBytes(i){return new Yc(i)}convertReference(i){const l=this.convertDocumentKey(i,this.firestore._databaseId);return new Ls(this.firestore,null,l)}}function Qv(h,i,l){h=Ho(h,Ls);const g=Ho(h.firestore,ms),A=tm(h.converter,i,l);return Xh(g,[Xp(uh(g),"setDoc",h._key,A,null!==h.converter,l).toMutation(h._key,rs.none())])}function nm(h,i,l,...g){h=Ho(h,Ls);const A=Ho(h.firestore,ms),ee=uh(A);let he;return he="string"==typeof(i=(0,Me.m9)(i))||i instanceof cl?Wg(ee,"updateDoc",h._key,i,l,g):Yg(ee,"updateDoc",h._key,i),Xh(A,[he.toMutation(h._key,rs.exists(!0))])}function im(h,...i){var l,g,A;h=(0,Me.m9)(h);let ee={includeMetadataChanges:!1},he=0;"object"!=typeof i[he]||f_(i[he])||(ee=i[he],he++);const Ie={includeMetadataChanges:ee.includeMetadataChanges};if(f_(i[he])){const Dn=i[he];i[he]=null===(l=Dn.next)||void 0===l?void 0:l.bind(Dn),i[he+1]=null===(g=Dn.error)||void 0===g?void 0:g.bind(Dn),i[he+2]=null===(A=Dn.complete)||void 0===A?void 0:A.bind(Dn)}let at,Vt,ln;if(h instanceof Ls)Vt=Ho(h.firestore,ms),ln=Fl(h._key.path),at={next:Dn=>{i[he]&&i[he](Jv(Vt,h,Dn))},error:i[he+1],complete:i[he+2]};else{const Dn=Ho(h,wc);Vt=Ho(Dn.firestore,ms),ln=Dn._query;const gi=new Pd(Vt);at={next:Ii=>{i[he]&&i[he](new dh(Vt,gi,Dn,Ii))},error:i[he+1],complete:i[he+2]},Xg(h._query)}return function(Dn,gi,Ii,Wi){const Fr=new Zl(Wi),oo=new Lm(gi,Fr,Ii);return Dn.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return Am(yield Wh(Dn),oo)})),()=>{Fr.Xo(),Dn.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return Nm(yield Wh(Dn),oo)}))}}(Hs(Vt),ln,Ie,at)}function Xh(h,i){return function(l,g){const A=new bo;return l.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(h,i,l){return jm.apply(this,arguments)}(yield Zg(l),g,A)})),A.promise}(Hs(h),i)}function Jv(h,i,l){const g=l.docs.get(i._key),A=new Pd(h);return new Cd(h,A,i._key,g,new cp(l.hasPendingWrites,l.fromCache),i.converter)}class N0 extends class{constructor(i,l){this._firestore=i,this._transaction=l,this._dataReader=uh(i)}get(i){const l=bd(i,this._firestore),g=new zv(this._firestore);return this._transaction.lookup([l._key]).then(A=>{if(!A||1!==A.length)return Nn();const ee=A[0];if(ee.isFoundDocument())return new ap(this._firestore,g,ee.key,ee,l.converter);if(ee.isNoDocument())return new ap(this._firestore,g,l._key,null,l.converter);throw Nn()})}set(i,l,g){const A=bd(i,this._firestore),ee=tm(A.converter,l,g),he=Xp(this._dataReader,"Transaction.set",A._key,ee,null!==A.converter,g);return this._transaction.set(A._key,he),this}update(i,l,g,...A){const ee=bd(i,this._firestore);let he;return he="string"==typeof(l=(0,Me.m9)(l))||l instanceof cl?Wg(this._dataReader,"Transaction.update",ee._key,l,g,A):Yg(this._dataReader,"Transaction.update",ee._key,l),this._transaction.update(ee._key,he),this}delete(i){const l=bd(i,this._firestore);return this._transaction.delete(l._key),this}}{constructor(i,l){super(i,l),this._firestore=i}get(i){const l=bd(i,this._firestore),g=new Pd(this._firestore);return super.get(i).then(A=>new Cd(this._firestore,g,l._key,A._document,new cp(!1,!1),l.converter))}}function rm(h,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new ai("invalid-argument",`Invalid options passed to function ${h}(): You cannot specify both "merge" and "mergeFields".`);return i}function R_(){if("undefined"==typeof Uint8Array)throw new ai("unimplemented","Uint8Arrays are not available in this environment.")}function om(){if("undefined"==typeof atob)throw new ai("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(h){be=h})(Mt.SDK_VERSION),(0,Mt._registerComponent)(new ce.wA("firestore",(h,{options:i})=>{const l=h.getProvider("app").getImmediate(),g=new ms(l,new k(h.getProvider("auth-internal")));return i=Object.assign({useFetchStreams:!0},i),g._setSettings(i),g},"PUBLIC")),(0,Mt.registerVersion)("@firebase/firestore","3.0.2",void 0);class up{constructor(i){this._delegate=i}static fromBase64String(i){return om(),new up(Yc.fromBase64String(i))}static fromUint8Array(i){return R_(),new up(Yc.fromUint8Array(i))}toBase64(){return om(),this._delegate.toBase64()}toUint8Array(){return R_(),this._delegate.toUint8Array()}isEqual(i){return this._delegate.isEqual(i._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function L_(h){return function(h,i){if("object"!=typeof h||null===h)return!1;const l=h;for(const g of["next","error","complete"])if(g in l&&"function"==typeof l[g])return!0;return!1}(h)}class ry{enableIndexedDbPersistence(i,l){return function(h,i){Jh(h=Ho(h,ms));const l=Hs(h),g=h._freezeSettings(),A=new Wp;return uu(l,A,new Km(A,g.cacheSizeBytes,null==i?void 0:i.forceOwnership))}(i._delegate,{forceOwnership:l})}enableMultiTabIndexedDbPersistence(i){return function(h){Jh(h=Ho(h,ms));const i=Hs(h),l=h._freezeSettings(),g=new Wp;return uu(i,g,new ss(g,l.cacheSizeBytes))}(i._delegate)}clearIndexedDbPersistence(i){return function(h){if(h._initialized&&!h._terminated)throw new ai(Vn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new bo;return h._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(l=(0,Ae.Z)(function*(g){if(!Ns.bt())return Promise.resolve();const A=g+"main";yield Ns.delete(A)}),function(g){return l.apply(this,arguments)})(jf(h._databaseId,h._persistenceKey)),i.resolve()}catch(l){i.reject(l)}var l})),i.promise}(i._delegate)}}class k_{constructor(i,l,g){this._delegate=l,this._persistenceProvider=g,this.INTERNAL={delete:()=>this.terminate()},i instanceof ep||(this._appCompat=i)}get _databaseId(){return this._delegate._databaseId}settings(i){const l=this._delegate._getSettings();!i.merge&&l.host!==i.host&&rn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},l),i)).merge,this._delegate._setSettings(i)}useEmulator(i,l,g={}){!function(h,i,l,g={}){var A;const ee=(h=Ho(h,tp))._getSettings();if("firestore.googleapis.com"!==ee.host&&ee.host!==i&&rn("Host has been set in both settings() and useEmulator(), emulator host will be used"),h._setSettings(Object.assign(Object.assign({},ee),{host:`${i}:${l}`,ssl:!1})),g.mockUserToken){let he,Ie;if("string"==typeof g.mockUserToken)he=g.mockUserToken,Ie=Os.MOCK_USER;else{he=(0,Me.Sg)(g.mockUserToken,null===(A=h._app)||void 0===A?void 0:A.options.projectId);const at=g.mockUserToken.sub||g.mockUserToken.user_id;if(!at)throw new ai(Vn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Ie=new Os(at)}h._credentials=new rc(new Ws(he,Ie))}}(this._delegate,i,l,g)}enableNetwork(){return function(h){return function(h){return h.asyncQueue.enqueue((0,Ae.Z)(function*(){const i=yield jg(h),l=yield i_(h);return i.setNetworkEnabled(!0),function(g){const A=Mi(g);return A.Kr.delete(0),Kn(A)}(l)}))}(Hs(h=Ho(h,ms)))}(this._delegate)}disableNetwork(){return function(h){return function(h){return h.asyncQueue.enqueue((0,Ae.Z)(function*(){const i=yield jg(h),l=yield i_(h);return i.setNetworkEnabled(!1),(g=(0,Ae.Z)(function*(A){const ee=Mi(A);ee.Kr.add(0),yield Hi(ee),ee.Wr.set("Offline")}),function(A){return g.apply(this,arguments)})(l);var g}))}(Hs(h=Ho(h,ms)))}(this._delegate)}enablePersistence(i){let l=!1,g=!1;return i&&(l=!!i.synchronizeTabs,g=!!i.experimentalForceOwningTab,g0("synchronizeTabs",l,"experimentalForceOwningTab",g)),l?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,g)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(h){return function(i){const l=new bo;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(h,i){return xg.apply(this,arguments)}(yield Zg(i),l)})),l.promise}(Hs(h=Ho(h,ms)))}(this._delegate)}onSnapshotsInSync(i){return function(h,i){return function(h,i){const l=new Zl(i);return h.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return g=yield Wh(h),A=l,Mi(g).Zr.add(A),void A.next();var g,A})),()=>{l.Xo(),h.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return g=yield Wh(h),A=l,void Mi(g).Zr.delete(A);var g,A}))}}(Hs(h=Ho(h,ms)),f_(i)?i:{next:i})}(this._delegate,i)}get app(){if(!this._appCompat)throw new ai("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(i){try{return new ks(this,Iv(this._delegate,i))}catch(l){throw Uc(l,"collection()","Firestore.collection()")}}doc(i){try{return new wl(this,qg(this._delegate,i))}catch(l){throw Uc(l,"doc()","Firestore.doc()")}}collectionGroup(i){try{return new Wc(this,function(h,i){if(h=Ho(h,tp),$g("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new ai(Vn.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new wc(h,null,(l=i,new sc(to.emptyPath(),l)));var l}(this._delegate,i))}catch(l){throw Uc(l,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(i){return function(h,i){return function(h,i){const l=new bo;return h.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const g=yield(A=h,Bg(A).then(ee=>ee.datastore));var A;new tb(h.asyncQueue,g,i,l).run()})),l.promise}(Hs(h),l=>i(new N0(h,l)))}(this._delegate,l=>i(new F_(this,l)))}batch(){return Hs(this._delegate),new U_(new Yv(this._delegate,i=>Xh(this._delegate,i)))}loadBundle(i){return function(h,i){const l=Hs(h=Ho(h,ms)),g=new y0;return function(h,i,l,g){const A=function(ee,he){let Ie;return Ie="string"==typeof ee?(new TextEncoder).encode(ee):ee,at=function(at,Vt){if(at instanceof Uint8Array)return c0(at,void 0);if(at instanceof ArrayBuffer)return c0(new Uint8Array(at),void 0);if(at instanceof ReadableStream)return at.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(Ie),new Xm(at,he);var at}(l,B(i));h.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function(h,i,l){const g=Mi(h);var A;(A=(0,Ae.Z)(function*(ee,he,Ie){try{const at=yield he.getMetadata();if(yield function(gi,Ii){const Wi=Mi(gi),Fr=$s(Ii.createTime);return Wi.persistence.runTransaction("hasNewerBundle","readonly",oo=>Wi.Je.getBundleMetadata(oo,Ii.id)).then(oo=>!!oo&&oo.createTime.compareTo(Fr)>=0)}(ee.localStore,at))return yield he.close(),void Ie._completeWith((gi=at,{taskState:"Success",documentsLoaded:gi.totalDocuments,bytesLoaded:gi.totalBytes,totalDocuments:gi.totalDocuments,totalBytes:gi.totalBytes}));Ie._updateProgress(lu(at));const Vt=new zy(at,ee.localStore,he.N);let ln=yield he.Qo();for(;ln;){const gi=yield Vt.fo(ln);gi&&Ie._updateProgress(gi),ln=yield he.Qo()}const Dn=yield Vt.complete();yield al(ee,Dn.Tn,void 0),yield function(gi,Ii){const Wi=Mi(gi);return Wi.persistence.runTransaction("Save bundle","readwrite",Fr=>Wi.Je.saveBundleMetadata(Fr,Ii))}(ee.localStore,at),Ie._completeWith(Dn.progress)}catch(at){rn("SyncEngine",`Loading bundle failed with ${at}`),Ie._failWith(at)}var gi}),function(ee,he,Ie){return A.apply(this,arguments)})(g,i,l).then(()=>{g.sharedClientState.notifyBundleLoaded()})}(yield Zg(h),A,g)}))}(l,h._databaseId,i,g),g}(this._delegate,i)}namedQuery(i){return function(h,i){return function(h,i){return h.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(l,g){const A=Mi(l);return A.persistence.runTransaction("Get named query","readonly",ee=>A.Je.getNamedQuery(ee,g))}(yield Vg(h),i)}))}(Hs(h=Ho(h,ms)),i).then(l=>l?new wc(h,null,l.query):null)}(this._delegate,i).then(l=>l?new Wc(this,l):null)}}class dp extends E_{constructor(i){super(),this.firestore=i}convertBytes(i){return new up(new Yc(i))}convertReference(i){const l=this.convertDocumentKey(i,this.firestore._databaseId);return wl.forKey(l,this.firestore,null)}}class F_{constructor(i,l){this._firestore=i,this._delegate=l,this._userDataWriter=new dp(i)}get(i){const l=fh(i);return this._delegate.get(l).then(g=>new sm(this._firestore,new Cd(this._firestore._delegate,this._userDataWriter,g._key,g._document,g.metadata,l.converter)))}set(i,l,g){const A=fh(i);return g?(rm("Transaction.set",g),this._delegate.set(A,l,g)):this._delegate.set(A,l),this}update(i,l,g,...A){const ee=fh(i);return 2===arguments.length?this._delegate.update(ee,l):this._delegate.update(ee,l,g,...A),this}delete(i){const l=fh(i);return this._delegate.delete(l),this}}class U_{constructor(i){this._delegate=i}set(i,l,g){const A=fh(i);return g?(rm("WriteBatch.set",g),this._delegate.set(A,l,g)):this._delegate.set(A,l),this}update(i,l,g,...A){const ee=fh(i);return 2===arguments.length?this._delegate.update(ee,l):this._delegate.update(ee,l,g,...A),this}delete(i){const l=fh(i);return this._delegate.delete(l),this}commit(){return this._delegate.commit()}}class hh{constructor(i,l,g){this._firestore=i,this._userDataWriter=l,this._delegate=g}fromFirestore(i,l){const g=new Jg(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new ng(this._firestore,g),null!=l?l:{})}toFirestore(i,l){return l?this._delegate.toFirestore(i,l):this._delegate.toFirestore(i)}static getInstance(i,l){const g=hh.INSTANCES;let A=g.get(i);A||(A=new WeakMap,g.set(i,A));let ee=A.get(l);return ee||(ee=new hh(i,new dp(i),l),A.set(l,ee)),ee}}hh.INSTANCES=new WeakMap;class wl{constructor(i,l){this.firestore=i,this._delegate=l,this._userDataWriter=new dp(i)}static forPath(i,l,g){if(i.length%2!=0)throw new ai("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${i.canonicalString()} has ${i.length}`);return new wl(l,new Ls(l._delegate,g,new Ir(i)))}static forKey(i,l,g){return new wl(l,new Ls(l._delegate,g,i))}get id(){return this._delegate.id}get parent(){return new ks(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(i){try{return new ks(this.firestore,Iv(this._delegate,i))}catch(l){throw Uc(l,"collection()","DocumentReference.collection()")}}isEqual(i){return(i=(0,Me.m9)(i))instanceof Ls&&Nv(this._delegate,i)}set(i,l){l=rm("DocumentReference.set",l);try{return l?Qv(this._delegate,i,l):Qv(this._delegate,i)}catch(g){throw Uc(g,"setDoc()","DocumentReference.set()")}}update(i,l,...g){try{return 1===arguments.length?nm(this._delegate,i):nm(this._delegate,i,l,...g)}catch(A){throw Uc(A,"updateDoc()","DocumentReference.update()")}}delete(){return function(h){return Xh(Ho(h.firestore,ms),[new nd(h._key,rs.none())])}(this._delegate)}onSnapshot(...i){const l=B_(i),g=j_(i,A=>new sm(this.firestore,new Cd(this.firestore._delegate,this._userDataWriter,A._key,A._document,A.metadata,this._delegate.converter)));return im(this._delegate,l,g)}get(i){let l;return l="cache"===(null==i?void 0:i.source)?function(h){h=Ho(h,Ls);const i=Ho(h.firestore,ms),l=Hs(i),g=new Pd(i);return function(h,i){const l=new bo;return h.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(g=(0,Ae.Z)(function*(A,ee,he){try{const Ie=yield function(at,Vt){const ln=Mi(at);return ln.persistence.runTransaction("read document","readonly",Dn=>ln.Qn.An(Dn,Vt))}(A,ee);Ie.isFoundDocument()?he.resolve(Ie):Ie.isNoDocument()?he.resolve(null):he.reject(new ai(Vn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(Ie){const at=$p(Ie,`Failed to get document '${ee} from cache`);he.reject(at)}}),function(A,ee,he){return g.apply(this,arguments)})(yield Vg(h),i,l);var g})),l.promise}(l,h._key).then(A=>new Cd(i,g,h._key,A,new cp(null!==A&&A.hasLocalMutations,!0),h.converter))}(this._delegate):"server"===(null==i?void 0:i.source)?function(h){h=Ho(h,Ls);const i=Ho(h.firestore,ms);return o_(Hs(i),h._key,{source:"server"}).then(l=>Jv(i,h,l))}(this._delegate):function(h){h=Ho(h,Ls);const i=Ho(h.firestore,ms);return o_(Hs(i),h._key).then(l=>Jv(i,h,l))}(this._delegate),l.then(g=>new sm(this.firestore,new Cd(this.firestore._delegate,this._userDataWriter,g._key,g._document,g.metadata,this._delegate.converter)))}withConverter(i){return new wl(this.firestore,this._delegate.withConverter(i?hh.getInstance(this.firestore,i):null))}}function Uc(h,i,l){return h.message=h.message.replace(i,l),h}function B_(h){for(const i of h)if("object"==typeof i&&!L_(i))return i;return{}}function j_(h,i){var l,g;let A;return A=L_(h[0])?h[0]:L_(h[1])?h[1]:"function"==typeof h[0]?{next:h[0],error:h[1],complete:h[2]}:{next:h[1],error:h[2],complete:h[3]},{next:ee=>{A.next&&A.next(i(ee))},error:null===(l=A.error)||void 0===l?void 0:l.bind(A),complete:null===(g=A.complete)||void 0===g?void 0:g.bind(A)}}class sm{constructor(i,l){this._firestore=i,this._delegate=l}get ref(){return new wl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(i){return this._delegate.data(i)}get(i,l){return this._delegate.get(i,l)}isEqual(i){return Kg(this._delegate,i._delegate)}}class ng extends sm{data(i){const l=this._delegate.data(i);return function(h,i){h||Nn()}(void 0!==l),l}}class Wc{constructor(i,l){this.firestore=i,this._delegate=l,this._userDataWriter=new dp(i)}where(i,l,g){try{return new Wc(this.firestore,Kh(this._delegate,function(h,i,l){const g=i,A=M_("where",h);return new sb(A,g,l)}(i,l,g)))}catch(A){throw Uc(A,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(i,l){try{return new Wc(this.firestore,Kh(this._delegate,function(h,i="asc"){const l=i,g=M_("orderBy",h);return new E0(g,l)}(i,l)))}catch(g){throw Uc(g,/(orderBy|where)\(\)/,"Query.$1()")}}limit(i){try{return new Wc(this.firestore,Kh(this._delegate,function(h){return u_("limit",h),new T0("limit",h,"F")}(i)))}catch(l){throw Uc(l,"limit()","Query.limit()")}}limitToLast(i){try{return new Wc(this.firestore,Kh(this._delegate,function(h){return u_("limitToLast",h),new T0("limitToLast",h,"L")}(i)))}catch(l){throw Uc(l,"limitToLast()","Query.limitToLast()")}}startAt(...i){try{return new Wc(this.firestore,Kh(this._delegate,function(...h){return new Zv("startAt",h,!0)}(...i)))}catch(l){throw Uc(l,"startAt()","Query.startAt()")}}startAfter(...i){try{return new Wc(this.firestore,Kh(this._delegate,function(...h){return new Zv("startAfter",h,!1)}(...i)))}catch(l){throw Uc(l,"startAfter()","Query.startAfter()")}}endBefore(...i){try{return new Wc(this.firestore,Kh(this._delegate,function(...h){return new O_("endBefore",h,!0)}(...i)))}catch(l){throw Uc(l,"endBefore()","Query.endBefore()")}}endAt(...i){try{return new Wc(this.firestore,Kh(this._delegate,function(...h){return new O_("endAt",h,!1)}(...i)))}catch(l){throw Uc(l,"endAt()","Query.endAt()")}}isEqual(i){return Rv(this._delegate,i._delegate)}get(i){let l;return l="cache"===(null==i?void 0:i.source)?function(h){h=Ho(h,wc);const i=Ho(h.firestore,ms),l=Hs(i),g=new Pd(i);return function(h,i){const l=new bo;return h.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(g=(0,Ae.Z)(function*(A,ee,he){try{const Ie=yield Zf(A,ee,!0),at=new wv(ee,Ie.Gn),Vt=at.Io(Ie.documents),ln=at.applyChanges(Vt,!1);he.resolve(ln.snapshot)}catch(Ie){const at=$p(Ie,`Failed to execute query '${ee} against cache`);he.reject(at)}}),function(A,ee,he){return g.apply(this,arguments)})(yield Vg(h),i,l);var g})),l.promise}(l,h._query).then(A=>new dh(i,g,h,A))}(this._delegate):"server"===(null==i?void 0:i.source)?function(h){h=Ho(h,wc);const i=Ho(h.firestore,ms),l=Hs(i),g=new Pd(i);return s_(l,h._query,{source:"server"}).then(A=>new dh(i,g,h,A))}(this._delegate):function(h){h=Ho(h,wc);const i=Ho(h.firestore,ms),l=Hs(i),g=new Pd(i);return Xg(h._query),s_(l,h._query).then(A=>new dh(i,g,h,A))}(this._delegate),l.then(g=>new V_(this.firestore,new dh(this.firestore._delegate,this._userDataWriter,this._delegate,g._snapshot)))}onSnapshot(...i){const l=B_(i),g=j_(i,A=>new V_(this.firestore,new dh(this.firestore._delegate,this._userDataWriter,this._delegate,A._snapshot)));return im(this._delegate,l,g)}withConverter(i){return new Wc(this.firestore,this._delegate.withConverter(i?hh.getInstance(this.firestore,i):null))}}class sy{constructor(i,l){this._firestore=i,this._delegate=l}get type(){return this._delegate.type}get doc(){return new ng(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class V_{constructor(i,l){this._firestore=i,this._delegate=l}get query(){return new Wc(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(i=>new ng(this._firestore,i))}docChanges(i){return this._delegate.docChanges(i).map(l=>new sy(this._firestore,l))}forEach(i,l){this._delegate.forEach(g=>{i.call(l,new ng(this._firestore,g))})}isEqual(i){return Kg(this._delegate,i._delegate)}}class ks extends Wc{constructor(i,l){super(i,l),this.firestore=i,this._delegate=l}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const i=this._delegate.parent;return i?new wl(this.firestore,i):null}doc(i){try{return new wl(this.firestore,void 0===i?qg(this._delegate):qg(this._delegate,i))}catch(l){throw Uc(l,"doc()","CollectionReference.doc()")}}add(i){return function(h,i){const l=Ho(h.firestore,ms),g=qg(h),A=tm(h.converter,i);return Xh(l,[Xp(uh(h.firestore),"addDoc",g._key,A,null!==h.converter,{}).toMutation(g._key,rs.exists(!1))]).then(()=>g)}(this._delegate,i).then(l=>new wl(this.firestore,l))}isEqual(i){return Nv(this._delegate,i._delegate)}withConverter(i){return new ks(this.firestore,this._delegate.withConverter(i?hh.getInstance(this.firestore,i):null))}}function fh(h){return Ho(h,Ls)}class Z_{constructor(...i){this._delegate=new cl(...i)}static documentId(){return new Z_(is.keyField().canonicalString())}isEqual(i){return(i=(0,Me.m9)(i))instanceof cl&&this._delegate._internalPath.isEqual(i._internalPath)}}class ef{constructor(i){this._delegate=i}static serverTimestamp(){const i=new zg("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new ef(i)}static delete(){const i=new op("deleteField");return i._methodName="FieldValue.delete",new ef(i)}static arrayUnion(...i){const l=function(...h){return new P0("arrayUnion",h)}(...i);return l._methodName="FieldValue.arrayUnion",new ef(l)}static arrayRemove(...i){const l=function(...h){return new Fv("arrayRemove",h)}(...i);return l._methodName="FieldValue.arrayRemove",new ef(l)}static increment(i){const l=function(h){return new M0("increment",h)}(i);return l._methodName="FieldValue.increment",new ef(l)}isEqual(i){return this._delegate.isEqual(i._delegate)}}const ay={Firestore:k_,GeoPoint:yd,Timestamp:ki,Blob:up,Transaction:F_,WriteBatch:U_,DocumentReference:wl,DocumentSnapshot:sm,Query:Wc,QueryDocumentSnapshot:ng,QuerySnapshot:V_,CollectionReference:ks,FieldPath:Z_,FieldValue:ef,setLogLevel:function(h){!function(h){ge.setLogLevel(h)}(h)},CACHE_SIZE_UNLIMITED:-1};!function(h){(function(h,i){h.INTERNAL.registerComponent(new ce.wA("firestore-compat",l=>((i,l)=>new k_(i,l,new ry))(l.getProvider("app-compat").getImmediate(),l.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},ay)))})(h),h.registerVersion("@firebase/firestore-compat","0.1.2")}(_t.Z);var Md=X(3820);function ly(h,i){return function(h,i=te.z){return new Oe.y(l=>{let g;return null!=i?i.schedule(()=>{g=h.onSnapshot({includeMetadataChanges:!0},l)}):g=h.onSnapshot({includeMetadataChanges:!0},l),()=>{null!=g&&g()}})}(h,i)}function $_(h,i){return ly(h,i).pipe((0,nt.U)(l=>({payload:l,type:"query"})))}function rg(h,i){return $_(h,i).pipe((0,He.O)(void 0),(0,Ne.G)(),(0,nt.U)(([l,g])=>{const A=g.payload.docChanges(),ee=A.map(he=>({type:he.type,payload:he}));return l&&JSON.stringify(l.payload.metadata)!==JSON.stringify(g.payload.metadata)&&g.payload.docs.forEach((he,Ie)=>{const at=A.find(ln=>ln.doc.ref.isEqual(he.ref)),Vt=null==l?void 0:l.payload.docs.find(ln=>ln.ref.isEqual(he.ref));at&&JSON.stringify(at.doc.metadata)===JSON.stringify(he.metadata)||!at&&Vt&&JSON.stringify(Vt.metadata)===JSON.stringify(he.metadata)||ee.push({type:"modified",payload:{oldIndex:Ie,newIndex:Ie,type:"modified",doc:he}})}),ee}))}function F0(h,i,l){return rg(h,l).pipe((0,Be.R)((g,A)=>function(h,i,l){return i.forEach(g=>{l.indexOf(g.type)>-1&&(h=function(h,i){switch(i.type){case"added":if(!h[i.newIndex]||!h[i.newIndex].doc.ref.isEqual(i.doc.ref))return og(h,i.newIndex,0,i);break;case"modified":if(null==h[i.oldIndex]||h[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const l=h.slice();return l.splice(i.oldIndex,1),l.splice(i.newIndex,0,i),l}return og(h,i.newIndex,1,i)}break;case"removed":if(h[i.oldIndex]&&h[i.oldIndex].doc.ref.isEqual(i.doc.ref))return og(h,i.oldIndex,1)}return h}(h,g))}),h}(g,A.map(ee=>ee.payload),i),[]),(0,qe.x)(),(0,nt.U)(g=>g.map(A=>({type:A.type,payload:A}))))}function og(h,i,l,...g){const A=h.slice();return A.splice(i,l,...g),A}function dy(h){return(!h||0===h.length)&&(h=["added","removed","modified"]),h}X(7841);class H_{constructor(i,l,g){this.ref=i,this.query=l,this.afs=g}stateChanges(i){let l=rg(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(l=l.pipe((0,nt.U)(g=>g.filter(A=>i.indexOf(A.type)>-1)))),l.pipe((0,He.O)(void 0),(0,Ne.G)(),(0,$e.h)(([g,A])=>A.length>0||!g),(0,nt.U)(([g,A])=>A),Ue.iC)}auditTrail(i){return this.stateChanges(i).pipe((0,Be.R)((l,g)=>[...l,...g],[]))}snapshotChanges(i){const l=dy(i);return F0(this.query,l,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}valueChanges(i={}){return $_(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(l=>l.payload.docs.map(g=>i.idField?Object.assign(Object.assign({},g.data()),{[i.idField]:g.id}):g.data())),Ue.iC)}get(i){return(0,we.D)(this.query.get(i)).pipe(Ue.iC)}add(i){return this.ref.add(i)}doc(i){return new fu(this.ref.doc(i),this.afs)}}class fu{constructor(i,l){this.ref=i,this.afs=l}set(i,l){return this.ref.set(i,l)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,l){const g=this.ref.collection(i),{ref:A,query:ee}=py(g,l);return new H_(A,ee,this.afs)}snapshotChanges(){return function(h,i){return ly(h,i).pipe((0,He.O)(void 0),(0,Ne.G)(),(0,nt.U)(([l,g])=>g.exists?(null==l?void 0:l.exists)?{payload:g,type:"modified"}:{payload:g,type:"added"}:{payload:g,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}valueChanges(i={}){return this.snapshotChanges().pipe((0,nt.U)(({payload:l})=>i.idField?Object.assign(Object.assign({},l.data()),{[i.idField]:l.id}):l.data()))}get(i){return(0,we.D)(this.ref.get(i)).pipe(Ue.iC)}}class pu{constructor(i,l){this.query=i,this.afs=l}stateChanges(i){return i&&0!==i.length?rg(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(l=>l.filter(g=>i.indexOf(g.type)>-1)),(0,$e.h)(l=>l.length>0),Ue.iC):rg(this.query,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}auditTrail(i){return this.stateChanges(i).pipe((0,Be.R)((l,g)=>[...l,...g],[]))}snapshotChanges(i){const l=dy(i);return F0(this.query,l,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}valueChanges(i={}){return $_(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(g=>g.payload.docs.map(A=>i.idField?Object.assign({[i.idField]:A.id},A.data()):A.data())),Ue.iC)}get(i){return(0,we.D)(this.query.get(i)).pipe(Ue.iC)}}const gu=new n.OlP("angularfire2.enableFirestorePersistence"),hy=new n.OlP("angularfire2.firestore.persistenceSettings"),fy=new n.OlP("angularfire2.firestore.settings"),U0=new n.OlP("angularfire2.firestore.use-emulator");function py(h,i=(l=>l)){return{query:i(h),ref:h}}let B0=(()=>{class h{constructor(l,g,A,ee,he,Ie,at,Vt,ln,Dn,gi,Ii,Wi,Fr,oo,Gs){this.schedulers=at;const Bc=(0,Qe.on)(l,Ie,g),Zu=ln;Dn&&(0,Md.nw)(Bc,Ie,gi,Wi,Fr,oo,Ii,Gs),[this.firestore,this.persistenceEnabled$]=(0,Ue.cc)(`${Bc.name}.firestore`,"AngularFirestore",Bc.name,()=>{const Gl=Ie.runOutsideAngular(()=>Bc.firestore());if(ee&&Gl.settings(ee),Zu&&Gl.useEmulator(...Zu),A&&!(0,Ot.PM)(he)){const sg=()=>{try{return(0,we.D)(Gl.enablePersistence(Vt||void 0).then(()=>!0,()=>!1))}catch(am){return"undefined"!=typeof console&&console.warn(am),(0,Fe.of)(!1)}};return[Gl,Ie.runOutsideAngular(sg)]}return[Gl,(0,Fe.of)(!1)]},[ee,Zu,A])}collection(l,g){let A;A="string"==typeof l?this.firestore.collection(l):l;const{ref:ee,query:he}=py(A,g),Ie=this.schedulers.ngZone.run(()=>ee);return new H_(Ie,he,this)}collectionGroup(l,g){const A=g||(he=>he),ee=this.firestore.collectionGroup(l);return new pu(A(ee),this)}doc(l){let g;g="string"==typeof l?this.firestore.doc(l):l;const A=this.schedulers.ngZone.run(()=>g);return new fu(A,this)}createId(){return this.firestore.collection("_").doc().id}}return h.\u0275fac=function(l){return new(l||h)(n.LFG(Qe.Dh),n.LFG(Qe.xv,8),n.LFG(gu,8),n.LFG(fy,8),n.LFG(n.Lbi),n.LFG(n.R0b),n.LFG(Ue.HU),n.LFG(hy,8),n.LFG(U0,8),n.LFG(Md.zQ,8),n.LFG(Md.Qv,8),n.LFG(Md.L6,8),n.LFG(Md._Q,8),n.LFG(Md.rT,8),n.LFG(Md.lh,8),n.LFG(Md.f7,8))},h.\u0275prov=n.Yz7({token:h,factory:h.\u0275fac,providedIn:"any"}),h})()},7063:(Se,Ze,X)=>{"use strict";X.d(Ze,{Q1:()=>Vr});var n=X(8891),te=X(5917),Oe=X(4402),we=X(4395),Fe=X(8002),Ue=X(3190),He=X(9126),Ne=X(7716),nt=X(8747),Be=X(4486),qe=X(8239),$e=X(5452),Qe=X(4685),Ot=X(6034),Zt=(()=>{return(Ke=Zt||(Zt={}))[Ke.NO_ERROR=0]="NO_ERROR",Ke[Ke.NETWORK_ERROR=1]="NETWORK_ERROR",Ke[Ke.ABORT=2]="ABORT",Zt;var Ke})();const _t="firebasestorage.googleapis.com",Ae="storageBucket";class ve extends Qe.ZR{constructor(ke,xt){super(Me(ke),`Firebase Storage: ${xt} (${Me(ke)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ve.prototype)}_codeEquals(ke){return Me(ke)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(ke){this.customData.serverResponse=ke,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Me(Ke){return"storage/"+Ke}function tt(){return new ve("unknown","An unknown error occurred, please check the error payload for server response.")}function on(){return new ve("canceled","User canceled the upload/download.")}function Yt(){return new ve("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function kn(){return new ve("no-download-url","The given file does not have any download URLs.")}function Zn(Ke){return new ve("invalid-argument",Ke)}function In(){return new ve("app-deleted","The Firebase app was deleted.")}function Hn(Ke){return new ve("invalid-root-operation","The operation '"+Ke+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ni(Ke,ke){return new ve("invalid-format","String does not match format '"+Ke+"': "+ke)}function pi(Ke){throw new ve("internal-error","Internal error: "+Ke)}class Fi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Zt.NO_ERROR,this.sendPromise_=new Promise(ke=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zt.ABORT,ke()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zt.NETWORK_ERROR,ke()}),this.xhr_.addEventListener("load",()=>{ke()})})}send(ke,xt,qt,On){if(this.sent_)throw pi("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(xt,ke,!0),void 0!==On)for(const di in On)On.hasOwnProperty(di)&&this.xhr_.setRequestHeader(di,On[di].toString());return void 0!==qt?this.xhr_.send(qt):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pi("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pi("cannot .getStatus() before sending");try{return this.xhr_.status}catch(ke){return-1}}getResponseText(){if(!this.sent_)throw pi("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(ke){return this.xhr_.getResponseHeader(ke)}addUploadProgressListener(ke){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",ke)}removeUploadProgressListener(ke){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",ke)}}class fi{createConnection(){return new Fi}}class ri{constructor(ke,xt){this.bucket=ke,this.path_=xt}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const ke=encodeURIComponent;return"/b/"+ke(this.bucket)+"/o/"+ke(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(ke,xt){let qt;try{qt=ri.makeFromUrl(ke,xt)}catch(On){return new ri(ke,"")}if(""===qt.path)return qt;throw new ve("invalid-default-bucket","Invalid default bucket '"+ke+"'.")}static makeFromUrl(ke,xt){let qt=null;const On="([A-Za-z0-9.\\-_]+)",xr=new RegExp("^gs://"+On+"(/(.*))?$","i");function Sr(xo){xo.path_=decodeURIComponent(xo.path)}const li=xt.replace(/[.]/g,"\\."),Jo=[{regex:xr,indices:{bucket:1,path:3},postModify:function(xo){"/"===xo.path.charAt(xo.path.length-1)&&(xo.path_=xo.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${li}/v[A-Za-z0-9_]+/b/${On}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Sr},{regex:new RegExp(`^https?://${xt===_t?"(?:storage.googleapis.com|storage.cloud.google.com)":xt}/${On}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Sr}];for(let xo=0;xo<Jo.length;xo++){const Fs=Jo[xo],Zo=Fs.regex.exec(ke);if(Zo){let Kr=Zo[Fs.indices.path];Kr||(Kr=""),qt=new ri(Zo[Fs.indices.bucket],Kr),Fs.postModify(qt);break}}if(null==qt)throw new ve("invalid-url","Invalid URL '"+ke+"'.");return qt}}class zn{constructor(ke){this.promise_=Promise.reject(ke)}getPromise(){return this.promise_}cancel(ke=!1){}}function fr(Ke){return"string"==typeof Ke||Ke instanceof String}function Ji(Ke){return Or()&&Ke instanceof Blob}function Or(){return"undefined"!=typeof Blob}function Qn(Ke,ke,xt,qt){if(qt<ke)throw Zn(`Invalid value for '${Ke}'. Expected ${ke} or greater.`);if(qt>xt)throw Zn(`Invalid value for '${Ke}'. Expected ${xt} or less.`)}function Yi(Ke,ke,xt){let qt=ke;return null==xt&&(qt=`https://${ke}`),`${xt}://${qt}/v0${Ke}`}function yr(Ke){const ke=encodeURIComponent;let xt="?";for(const qt in Ke)Ke.hasOwnProperty(qt)&&(xt=xt+(ke(qt)+"=")+ke(Ke[qt])+"&");return xt=xt.slice(0,-1),xt}class pr{constructor(ke,xt,qt,On,di,Ei,xr,or,Sr,qr,li){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=ke,this.method_=xt,this.headers_=qt,this.body_=On,this.successCodes_=di.slice(),this.additionalRetryCodes_=Ei.slice(),this.callback_=xr,this.errorCallback_=or,this.progressCallback_=qr,this.timeout_=Sr,this.pool_=li,this.promise_=new Promise((hr,Bo)=>{this.resolve_=hr,this.reject_=Bo,this.start_()})}start_(){const ke=this;function qt(On,di){const Ei=ke.resolve_,xr=ke.reject_,or=di.connection;if(di.wasSuccessCode)try{const Sr=ke.callback_(or,or.getResponseText());void 0!==Sr?Ei(Sr):Ei()}catch(Sr){xr(Sr)}else if(null!==or){const Sr=tt();Sr.serverResponse=or.getResponseText(),xr(ke.errorCallback_?ke.errorCallback_(or,Sr):Sr)}else xr(di.canceled?ke.appDelete_?In():on():new ve("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?qt(0,new bn(!1,null,!0)):this.backoffId_=function(Ke,ke,xt){let qt=1,On=null,di=!1,Ei=0;function xr(){return 2===Ei}let or=!1;function Sr(...Ar){or||(or=!0,ke.apply(null,Ar))}function qr(Ar){On=setTimeout(()=>{On=null,Ke(li,xr())},Ar)}function li(Ar,...Ki){if(or)return;if(Ar)return void Sr.call(null,Ar,...Ki);if(xr()||di)return void Sr.call(null,Ar,...Ki);let Lo;qt<64&&(qt*=2),1===Ei?(Ei=2,Lo=0):Lo=1e3*(qt+Math.random()),qr(Lo)}let hr=!1;function Bo(Ar){hr||(hr=!0,!or&&(null!==On?(Ar||(Ei=2),clearTimeout(On),qr(0)):Ar||(Ei=1)))}return qr(0),setTimeout(()=>{di=!0,Bo(!0)},xt),Bo}(function(On,di){if(di)return void On(!1,new bn(!1,null,!0));const Ei=ke.pool_.createConnection();function xr(or){null!==ke.progressCallback_&&ke.progressCallback_(or.loaded,or.lengthComputable?or.total:-1)}ke.pendingConnection_=Ei,null!==ke.progressCallback_&&Ei.addUploadProgressListener(xr),Ei.send(ke.url_,ke.method_,ke.body_,ke.headers_).then(()=>{null!==ke.progressCallback_&&Ei.removeUploadProgressListener(xr),ke.pendingConnection_=null;const or=Ei.getErrorCode()===Zt.NO_ERROR,Sr=Ei.getStatus();if(!or||ke.isRetryStatusCode_(Sr)){const li=Ei.getErrorCode()===Zt.ABORT;return void On(!1,new bn(!1,null,li))}const qr=-1!==ke.successCodes_.indexOf(Sr);On(!0,new bn(qr,Ei))})},qt,this.timeout_)}getPromise(){return this.promise_}cancel(ke){this.canceled_=!0,this.appDelete_=ke||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(ke){const xt=ke>=500&&ke<600,On=-1!==[408,429].indexOf(ke),di=-1!==this.additionalRetryCodes_.indexOf(ke);return xt||On||di}}class bn{constructor(ke,xt,qt){this.wasSuccessCode=ke,this.connection=xt,this.canceled=!!qt}}function mn(...Ke){const ke="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==ke){const xt=new ke;for(let qt=0;qt<Ke.length;qt++)xt.append(Ke[qt]);return xt.getBlob()}if(Or())return new Blob(Ke);throw new ve("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Pn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class En{constructor(ke,xt){this.data=ke,this.contentType=xt||null}}function Jn(Ke,ke){switch(Ke){case Pn.RAW:return new En(Yn(ke));case Pn.BASE64:case Pn.BASE64URL:return new En(Rt(Ke,ke));case Pn.DATA_URL:return new En(function(Ke){const ke=new ut(Ke);return ke.base64?Rt(Pn.BASE64,ke.rest):function(Ke){let ke;try{ke=decodeURIComponent(Ke)}catch(xt){throw ni(Pn.DATA_URL,"Malformed data URL.")}return Yn(ke)}(ke.rest)}(ke),function(Ke){return new ut(Ke).contentType}(ke))}throw tt()}function Yn(Ke){const ke=[];for(let xt=0;xt<Ke.length;xt++){let qt=Ke.charCodeAt(xt);qt<=127?ke.push(qt):qt<=2047?ke.push(192|qt>>6,128|63&qt):55296==(64512&qt)?xt<Ke.length-1&&56320==(64512&Ke.charCodeAt(xt+1))?(qt=65536|(1023&qt)<<10|1023&Ke.charCodeAt(++xt),ke.push(240|qt>>18,128|qt>>12&63,128|qt>>6&63,128|63&qt)):ke.push(239,191,189):56320==(64512&qt)?ke.push(239,191,189):ke.push(224|qt>>12,128|qt>>6&63,128|63&qt)}return new Uint8Array(ke)}function Rt(Ke,ke){switch(Ke){case Pn.BASE64:{const On=-1!==ke.indexOf("-"),di=-1!==ke.indexOf("_");if(On||di)throw ni(Ke,"Invalid character '"+(On?"-":"_")+"' found: is it base64url encoded?");break}case Pn.BASE64URL:{const On=-1!==ke.indexOf("+"),di=-1!==ke.indexOf("/");if(On||di)throw ni(Ke,"Invalid character '"+(On?"+":"/")+"' found: is it base64 encoded?");ke=ke.replace(/-/g,"+").replace(/_/g,"/");break}}let xt;try{xt=function(Ke){return atob(Ke)}(ke)}catch(On){throw ni(Ke,"Invalid character found")}const qt=new Uint8Array(xt.length);for(let On=0;On<xt.length;On++)qt[On]=xt.charCodeAt(On);return qt}class ut{constructor(ke){this.base64=!1,this.contentType=null;const xt=ke.match(/^data:([^,]+)?,/);if(null===xt)throw ni(Pn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const qt=xt[1]||null;null!=qt&&(this.base64=function(Ke,ke){return Ke.length>=ke.length&&Ke.substring(Ke.length-ke.length)===ke}(qt,";base64"),this.contentType=this.base64?qt.substring(0,qt.length-";base64".length):qt),this.rest=ke.substring(ke.indexOf(",")+1)}}class Tn{constructor(ke,xt){let qt=0,On="";Ji(ke)?(this.data_=ke,qt=ke.size,On=ke.type):ke instanceof ArrayBuffer?(xt?this.data_=new Uint8Array(ke):(this.data_=new Uint8Array(ke.byteLength),this.data_.set(new Uint8Array(ke))),qt=this.data_.length):ke instanceof Uint8Array&&(xt?this.data_=ke:(this.data_=new Uint8Array(ke.length),this.data_.set(ke)),qt=ke.length),this.size_=qt,this.type_=On}size(){return this.size_}type(){return this.type_}slice(ke,xt){if(Ji(this.data_)){const On=function(Ke,ke,xt){return Ke.webkitSlice?Ke.webkitSlice(ke,xt):Ke.mozSlice?Ke.mozSlice(ke,xt):Ke.slice?Ke.slice(ke,xt):null}(this.data_,ke,xt);return null===On?null:new Tn(On)}{const qt=new Uint8Array(this.data_.buffer,ke,xt-ke);return new Tn(qt,!0)}}static getBlob(...ke){if(Or()){const xt=ke.map(qt=>qt instanceof Tn?qt.data_:qt);return new Tn(mn.apply(null,xt))}{const xt=ke.map(Ei=>fr(Ei)?Jn(Pn.RAW,Ei).data:Ei.data_);let qt=0;xt.forEach(Ei=>{qt+=Ei.byteLength});const On=new Uint8Array(qt);let di=0;return xt.forEach(Ei=>{for(let xr=0;xr<Ei.length;xr++)On[di++]=Ei[xr]}),new Tn(On,!0)}}uploadData(){return this.data_}}function ti(Ke){let ke;try{ke=JSON.parse(Ke)}catch(xt){return null}return function(Ke){return"object"==typeof Ke&&!Array.isArray(Ke)}(ke)?ke:null}function it(Ke){const ke=Ke.lastIndexOf("/",Ke.length-2);return-1===ke?Ke:Ke.slice(ke+1)}function Ct(Ke,ke){return ke}class dt{constructor(ke,xt,qt,On){this.server=ke,this.local=xt||ke,this.writable=!!qt,this.xform=On||Ct}}let We=null;function Ut(){if(We)return We;const Ke=[];Ke.push(new dt("bucket")),Ke.push(new dt("generation")),Ke.push(new dt("metageneration")),Ke.push(new dt("name","fullPath",!0));const xt=new dt("name");xt.xform=function(di,Ei){return function(Ke){return!fr(Ke)||Ke.length<2?Ke:it(Ke)}(Ei)},Ke.push(xt);const On=new dt("size");return On.xform=function(di,Ei){return void 0!==Ei?Number(Ei):Ei},Ke.push(On),Ke.push(new dt("timeCreated")),Ke.push(new dt("updated")),Ke.push(new dt("md5Hash",null,!0)),Ke.push(new dt("cacheControl",null,!0)),Ke.push(new dt("contentDisposition",null,!0)),Ke.push(new dt("contentEncoding",null,!0)),Ke.push(new dt("contentLanguage",null,!0)),Ke.push(new dt("contentType",null,!0)),Ke.push(new dt("metadata","customMetadata",!0)),We=Ke,We}function yt(Ke,ke,xt){const qt=ti(ke);return null===qt?null:function(Ke,ke,xt){const qt={type:"file"},On=xt.length;for(let di=0;di<On;di++){const Ei=xt[di];qt[Ei.local]=Ei.xform(qt,ke[Ei.server])}return function(Ke,ke){Object.defineProperty(Ke,"ref",{get:function(){const di=new ri(Ke.bucket,Ke.fullPath);return ke._makeStorageReference(di)}})}(qt,Ke),qt}(Ke,qt,xt)}function Cn(Ke,ke){const xt={},qt=ke.length;for(let On=0;On<qt;On++){const di=ke[On];di.writable&&(xt[di.server]=Ke[di.local])}return JSON.stringify(xt)}const wn="prefixes";class Si{constructor(ke,xt,qt,On){this.url=ke,this.method=xt,this.handler=qt,this.timeout=On,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function si(Ke){if(!Ke)throw tt()}function Ri(Ke,ke){return function(qt,On){const di=yt(Ke,On,ke);return si(null!==di),di}}function Vi(Ke){return function(xt,qt){let On;return On=401===xt.getStatus()?xt.getResponseText().includes("Firebase App Check token is invalid")?new ve("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ve("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===xt.getStatus()?function(Ke){return new ve("quota-exceeded","Quota for bucket '"+Ke+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Ke.bucket):403===xt.getStatus()?function(Ke){return new ve("unauthorized","User does not have permission to access '"+Ke+"'.")}(Ke.path):qt,On.serverResponse=qt.serverResponse,On}}function lr(Ke){const ke=Vi(Ke);return function(qt,On){let di=ke(qt,On);return 404===qt.getStatus()&&(di=function(Ke){return new ve("object-not-found","Object '"+Ke+"' does not exist.")}(Ke.path)),di.serverResponse=On.serverResponse,di}}function Yr(Ke,ke,xt){const On=Yi(ke.fullServerUrl(),Ke.host,Ke._protocol),Ei=Ke.maxOperationRetryTime,xr=new Si(On,"GET",Ri(Ke,xt),Ei);return xr.errorHandler=lr(ke),xr}function Ur(Ke,ke,xt,qt,On){const di={};di.prefix=ke.isRoot?"":ke.path+"/",xt&&xt.length>0&&(di.delimiter=xt),qt&&(di.pageToken=qt),On&&(di.maxResults=On);const xr=Yi(ke.bucketOnlyServerUrl(),Ke.host,Ke._protocol),Sr=Ke.maxOperationRetryTime,qr=new Si(xr,"GET",function(Ke,ke){return function(qt,On){const di=function(Ke,ke,xt){const qt=ti(xt);return null===qt?null:function(Ke,ke,xt){const qt={prefixes:[],items:[],nextPageToken:xt.nextPageToken};if(xt[wn])for(const On of xt[wn]){const di=On.replace(/\/$/,""),Ei=Ke._makeStorageReference(new ri(ke,di));qt.prefixes.push(Ei)}if(xt.items)for(const On of xt.items){const di=Ke._makeStorageReference(new ri(ke,On.name));qt.items.push(di)}return qt}(Ke,ke,qt)}(Ke,ke,On);return si(null!==di),di}}(Ke,ke.bucket),Sr);return qr.urlParams=di,qr.errorHandler=Vi(ke),qr}function ao(Ke,ke,xt){const On=Yi(ke.fullServerUrl(),Ke.host,Ke._protocol),Ei=Ke.maxOperationRetryTime,xr=new Si(On,"GET",function(Ke,ke){return function(qt,On){const di=yt(Ke,On,ke);return si(null!==di),function(Ke,ke,xt,qt){const On=ti(ke);if(null===On||!fr(On.downloadTokens))return null;const di=On.downloadTokens;if(0===di.length)return null;const Ei=encodeURIComponent;return di.split(",").map(Sr=>{const li=Ke.fullPath;return Yi("/b/"+Ei(Ke.bucket)+"/o/"+Ei(li),xt,qt)+yr({alt:"media",token:Sr})})[0]}(di,On,Ke.host,Ke._protocol)}}(Ke,xt),Ei);return xr.errorHandler=lr(ke),xr}function ct(Ke,ke,xt,qt){const di=Yi(ke.fullServerUrl(),Ke.host,Ke._protocol),xr=Cn(xt,qt),Sr=Ke.maxOperationRetryTime,qr=new Si(di,"PATCH",Ri(Ke,qt),Sr);return qr.headers={"Content-Type":"application/json; charset=utf-8"},qr.body=xr,qr.errorHandler=lr(ke),qr}function lt(Ke,ke){const qt=Yi(ke.fullServerUrl(),Ke.host,Ke._protocol),xr=new Si(qt,"DELETE",function(or,Sr){},Ke.maxOperationRetryTime);return xr.successCodes=[200,204],xr.errorHandler=lr(ke),xr}function ue(Ke,ke,xt){const qt=Object.assign({},xt);return qt.fullPath=Ke.path,qt.size=ke.size(),qt.contentType||(qt.contentType=function(Ke,ke){return ke&&ke.type()||"application/octet-stream"}(0,ke)),qt}class Le{constructor(ke,xt,qt,On){this.current=ke,this.total=xt,this.finalized=!!qt,this.metadata=On||null}}function Xe(Ke,ke){let xt=null;try{xt=Ke.getResponseHeader("X-Goog-Upload-Status")}catch(On){si(!1)}return si(!!xt&&-1!==(ke||["active"]).indexOf(xt)),xt}const Je={STATE_CHANGED:"state_changed"},Nt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function mt(Ke){switch(Ke){case"running":case"pausing":case"canceling":return Nt.RUNNING;case"paused":return Nt.PAUSED;case"success":return Nt.SUCCESS;case"canceled":return Nt.CANCELED;case"error":default:return Nt.ERROR}}class Qt{constructor(ke,xt,qt){if("function"==typeof ke||null!=xt||null!=qt)this.next=ke,this.error=null!=xt?xt:void 0,this.complete=null!=qt?qt:void 0;else{const di=ke;this.next=di.next,this.error=di.error,this.complete=di.complete}}}function un(Ke){return(...ke)=>{Promise.resolve().then(()=>Ke(...ke))}}class hn{constructor(ke,xt,qt=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=ke,this._blob=xt,this._metadata=qt,this._mappings=Ut(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=On=>{this._request=void 0,this._chunkMultiplier=1,On._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=On,this._transition("error"))},this._metadataErrorHandler=On=>{this._request=void 0,On._codeEquals("canceled")?this.completeTransitions_():(this._error=On,this._transition("error"))},this._promise=new Promise((On,di)=>{this._resolve=On,this._reject=di,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const ke=this._transferred;return xt=>this._updateProgress(ke+xt)}_shouldDoResumable(ke){return ke.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(ke){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([xt,qt])=>{switch(this._state){case"running":ke(xt,qt);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((ke,xt)=>{const qt=function(Ke,ke,xt,qt,On){const di=ke.bucketOnlyServerUrl(),Ei=ue(ke,qt,On),xr={name:Ei.fullPath},or=Yi(di,Ke.host,Ke._protocol),qr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${qt.size()}`,"X-Goog-Upload-Header-Content-Type":Ei.contentType,"Content-Type":"application/json; charset=utf-8"},li=Cn(Ei,xt),Ar=new Si(or,"POST",function(Ki){let jo;Xe(Ki);try{jo=Ki.getResponseHeader("X-Goog-Upload-URL")}catch(Lo){si(!1)}return si(fr(jo)),jo},Ke.maxUploadRetryTime);return Ar.urlParams=xr,Ar.headers=qr,Ar.body=li,Ar.errorHandler=Vi(ke),Ar}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),On=this._ref.storage._makeRequest(qt,ke,xt);this._request=On,On.getPromise().then(di=>{this._request=void 0,this._uploadUrl=di,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const ke=this._uploadUrl;this._resolveToken((xt,qt)=>{const On=function(Ke,ke,xt,qt){const or=new Si(xt,"POST",function(Sr){const qr=Xe(Sr,["active","final"]);let li=null;try{li=Sr.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Bo){si(!1)}li||si(!1);const hr=Number(li);return si(!isNaN(hr)),new Le(hr,qt.size(),"final"===qr)},Ke.maxUploadRetryTime);return or.headers={"X-Goog-Upload-Command":"query"},or.errorHandler=Vi(ke),or}(this._ref.storage,this._ref._location,ke,this._blob),di=this._ref.storage._makeRequest(On,xt,qt);this._request=di,di.getPromise().then(Ei=>{Ei=Ei,this._request=void 0,this._updateProgress(Ei.current),this._needToFetchStatus=!1,Ei.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const ke=262144*this._chunkMultiplier,xt=new Le(this._transferred,this._blob.size()),qt=this._uploadUrl;this._resolveToken((On,di)=>{let Ei;try{Ei=function(Ke,ke,xt,qt,On,di,Ei,xr){const or=new Le(0,0);if(Ei?(or.current=Ei.current,or.total=Ei.total):(or.current=0,or.total=qt.size()),qt.size()!==or.total)throw new ve("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const Sr=or.total-or.current;let qr=Sr;On>0&&(qr=Math.min(qr,On));const li=or.current,Ar={"X-Goog-Upload-Command":qr===Sr?"upload, finalize":"upload","X-Goog-Upload-Offset":`${or.current}`},Ki=qt.slice(li,li+qr);if(null===Ki)throw Yt();const Jo=new Si(xt,"POST",function(xo,Fs){const Zo=Xe(xo,["active","final"]),Ds=or.current+qr,Kr=qt.size();let vs;return vs="final"===Zo?Ri(ke,di)(xo,Fs):null,new Le(Ds,Kr,"final"===Zo,vs)},ke.maxUploadRetryTime);return Jo.headers=Ar,Jo.body=Ki.uploadData(),Jo.progressCallback=xr||null,Jo.errorHandler=Vi(Ke),Jo}(this._ref._location,this._ref.storage,qt,this._blob,ke,this._mappings,xt,this._makeProgressCallback())}catch(or){return this._error=or,void this._transition("error")}const xr=this._ref.storage._makeRequest(Ei,On,di);this._request=xr,xr.getPromise().then(or=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(or.current),or.finalized?(this._metadata=or.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((ke,xt)=>{const qt=Yr(this._ref.storage,this._ref._location,this._mappings),On=this._ref.storage._makeRequest(qt,ke,xt);this._request=On,On.getPromise().then(di=>{this._request=void 0,this._metadata=di,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((ke,xt)=>{const qt=function(Ke,ke,xt,qt,On){const di=ke.bucketOnlyServerUrl(),Ei={"X-Goog-Upload-Protocol":"multipart"},or=function(){let Jo="";for(let xo=0;xo<2;xo++)Jo+=Math.random().toString().slice(2);return Jo}();Ei["Content-Type"]="multipart/related; boundary="+or;const Sr=ue(ke,qt,On),qr=Cn(Sr,xt),Bo=Tn.getBlob("--"+or+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+qr+"\r\n--"+or+"\r\nContent-Type: "+Sr.contentType+"\r\n\r\n",qt,"\r\n--"+or+"--");if(null===Bo)throw Yt();const Ar={name:Sr.fullPath},Ki=Yi(di,Ke.host,Ke._protocol),Lo=Ke.maxUploadRetryTime,ko=new Si(Ki,"POST",Ri(Ke,xt),Lo);return ko.urlParams=Ar,ko.headers=Ei,ko.body=Bo.uploadData(),ko.errorHandler=Vi(ke),ko}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),On=this._ref.storage._makeRequest(qt,ke,xt);this._request=On,On.getPromise().then(di=>{this._request=void 0,this._metadata=di,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(ke){const xt=this._transferred;this._transferred=ke,this._transferred!==xt&&this._notifyObservers()}_transition(ke){if(this._state!==ke)switch(ke){case"canceling":case"pausing":this._state=ke,void 0!==this._request&&this._request.cancel();break;case"running":const xt="paused"===this._state;this._state=ke,xt&&(this._notifyObservers(),this._start());break;case"paused":this._state=ke,this._notifyObservers();break;case"canceled":this._error=on(),this._state=ke,this._notifyObservers();break;case"error":case"success":this._state=ke,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const ke=mt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:ke,metadata:this._metadata,task:this,ref:this._ref}}on(ke,xt,qt,On){const di=new Qt(xt||void 0,qt||void 0,On||void 0);return this._addObserver(di),()=>{this._removeObserver(di)}}then(ke,xt){return this._promise.then(ke,xt)}catch(ke){return this.then(null,ke)}_addObserver(ke){this._observers.push(ke),this._notifyObserver(ke)}_removeObserver(ke){const xt=this._observers.indexOf(ke);-1!==xt&&this._observers.splice(xt,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(xt=>{this._notifyObserver(xt)})}_finishPromise(){if(void 0!==this._resolve){let ke=!0;switch(mt(this._state)){case Nt.SUCCESS:un(this._resolve.bind(null,this.snapshot))();break;case Nt.CANCELED:case Nt.ERROR:un(this._reject.bind(null,this._error))();break;default:ke=!1}ke&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(ke){switch(mt(this._state)){case Nt.RUNNING:case Nt.PAUSED:ke.next&&un(ke.next.bind(ke,this.snapshot))();break;case Nt.SUCCESS:ke.complete&&un(ke.complete.bind(ke))();break;case Nt.CANCELED:case Nt.ERROR:ke.error&&un(ke.error.bind(ke,this._error))();break;default:ke.error&&un(ke.error.bind(ke,this._error))()}}resume(){const ke="paused"===this._state||"pausing"===this._state;return ke&&this._transition("running"),ke}pause(){const ke="running"===this._state;return ke&&this._transition("pausing"),ke}cancel(){const ke="running"===this._state||"pausing"===this._state;return ke&&this._transition("canceling"),ke}}class $n{constructor(ke,xt){this._service=ke,this._location=xt instanceof ri?xt:ri.makeFromUrl(xt,ke.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(ke,xt){return new $n(ke,xt)}get root(){const ke=new ri(this._location.bucket,"");return this._newRef(this._service,ke)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return it(this._location.path)}get storage(){return this._service}get parent(){const ke=function(Ke){if(0===Ke.length)return null;const ke=Ke.lastIndexOf("/");return-1===ke?"":Ke.slice(0,ke)}(this._location.path);if(null===ke)return null;const xt=new ri(this._location.bucket,ke);return new $n(this._service,xt)}_throwIfRoot(ke){if(""===this._location.path)throw Hn(ke)}}function Ui(Ke,ke,xt){return ar.apply(this,arguments)}function ar(){return(ar=(0,qe.Z)(function*(Ke,ke,xt){const On=yield ur(Ke,{pageToken:xt});ke.prefixes.push(...On.prefixes),ke.items.push(...On.items),null!=On.nextPageToken&&(yield Ui(Ke,ke,On.nextPageToken))})).apply(this,arguments)}function ur(Ke,ke){return gr.apply(this,arguments)}function gr(){return(gr=(0,qe.Z)(function*(Ke,ke){null!=ke&&"number"==typeof ke.maxResults&&Qn("options.maxResults",1,1e3,ke.maxResults);const xt=ke||{},qt=Ur(Ke.storage,Ke._location,"/",xt.pageToken,xt.maxResults);return(yield Ke.storage.makeRequestWithTokens(qt)).getPromise()})).apply(this,arguments)}function Wr(){return(Wr=(0,qe.Z)(function*(Ke){Ke._throwIfRoot("getMetadata");const ke=Yr(Ke.storage,Ke._location,Ut());return(yield Ke.storage.makeRequestWithTokens(ke)).getPromise()})).apply(this,arguments)}function co(){return(co=(0,qe.Z)(function*(Ke,ke){Ke._throwIfRoot("updateMetadata");const xt=ct(Ke.storage,Ke._location,ke,Ut());return(yield Ke.storage.makeRequestWithTokens(xt)).getPromise()})).apply(this,arguments)}function Io(){return(Io=(0,qe.Z)(function*(Ke){Ke._throwIfRoot("getDownloadURL");const ke=ao(Ke.storage,Ke._location,Ut());return(yield Ke.storage.makeRequestWithTokens(ke)).getPromise().then(xt=>{if(null===xt)throw kn();return xt})})).apply(this,arguments)}function Qr(){return(Qr=(0,qe.Z)(function*(Ke){Ke._throwIfRoot("deleteObject");const ke=lt(Ke.storage,Ke._location);return(yield Ke.storage.makeRequestWithTokens(ke)).getPromise()})).apply(this,arguments)}function _s(Ke,ke){const xt=function(Ke,ke){const xt=ke.split("/").filter(qt=>qt.length>0).join("/");return 0===Ke.length?xt:Ke+"/"+xt}(Ke._location.path,ke),qt=new ri(Ke._location.bucket,xt);return new $n(Ke.storage,qt)}function Ts(Ke,ke){if(Ke instanceof So){const xt=Ke;if(null==xt._bucket)throw new ve("no-default-bucket","No default bucket found. Did you set the '"+Ae+"' property when initializing the app?");const qt=new $n(xt,xt._bucket);return null!=ke?Ts(qt,ke):qt}return void 0!==ke?_s(Ke,ke):Ke}function No(Ke,ke){if(ke&&function(Ke){return/^[A-Za-z]+:\/\//.test(Ke)}(ke)){if(Ke instanceof So)return function(Ke,ke){return new $n(Ke,ke)}(Ke,ke);throw Zn("To use ref(service, url), the first argument must be a Storage instance.")}return Ts(Ke,ke)}function Uo(Ke,ke){const xt=null==ke?void 0:ke[Ae];return null==xt?null:ri.makeFromBucketSpec(xt,Ke)}class So{constructor(ke,xt,qt,On,di,Ei){this.app=ke,this._authProvider=xt,this._appCheckProvider=qt,this._pool=On,this._url=di,this._firebaseVersion=Ei,this._bucket=null,this._host=_t,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=di?ri.makeFromBucketSpec(di,this._host):Uo(this._host,this.app.options)}get host(){return this._host}set host(ke){this._host=ke,this._bucket=null!=this._url?ri.makeFromBucketSpec(this._url,ke):Uo(ke,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(ke){Qn("time",0,Number.POSITIVE_INFINITY,ke),this._maxUploadRetryTime=ke}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(ke){Qn("time",0,Number.POSITIVE_INFINITY,ke),this._maxOperationRetryTime=ke}_getAuthToken(){var ke=this;return(0,qe.Z)(function*(){if(ke._overrideAuthToken)return ke._overrideAuthToken;const xt=ke._authProvider.getImmediate({optional:!0});if(xt){const qt=yield xt.getToken();if(null!==qt)return qt.accessToken}return null})()}_getAppCheckToken(){var ke=this;return(0,qe.Z)(function*(){const xt=ke._appCheckProvider.getImmediate({optional:!0});return xt?(yield xt.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(ke=>ke.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(ke){return new $n(this,ke)}_makeRequest(ke,xt,qt){if(this._deleted)return new zn(In());{const On=function(Ke,ke,xt,qt,On,di){const Ei=yr(Ke.urlParams),xr=Ke.url+Ei,or=Object.assign({},Ke.headers);return function(Ke,ke){ke&&(Ke["X-Firebase-GMPID"]=ke)}(or,ke),function(Ke,ke){null!==ke&&ke.length>0&&(Ke.Authorization="Firebase "+ke)}(or,xt),function(Ke,ke){Ke["X-Firebase-Storage-Version"]="webjs/"+(null!=ke?ke:"AppManager")}(or,di),function(Ke,ke){null!==ke&&(Ke["X-Firebase-AppCheck"]=ke)}(or,qt),new pr(xr,Ke.method,or,Ke.body,Ke.successCodes,Ke.additionalRetryCodes,Ke.handler,Ke.errorHandler,Ke.timeout,Ke.progressCallback,On)}(ke,this._appId,xt,qt,this._pool,this._firebaseVersion);return this._requests.add(On),On.getPromise().then(()=>this._requests.delete(On),()=>this._requests.delete(On)),On}}makeRequestWithTokens(ke){var xt=this;return(0,qe.Z)(function*(){const[qt,On]=yield Promise.all([xt._getAuthToken(),xt._getAppCheckToken()]);return xt._makeRequest(ke,qt,On)})()}}function an(Ke,ke){return No(Ke=(0,Qe.m9)(Ke),ke)}(0,$e._registerComponent)(new Ot.wA("storage",function(Ke,{instanceIdentifier:ke}){const xt=Ke.getProvider("app").getImmediate(),qt=Ke.getProvider("auth-internal"),On=Ke.getProvider("app-check-internal");return new So(xt,qt,On,new fi,ke,$e.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,$e.registerVersion)("@firebase/storage","0.8.2");class nr{constructor(ke,xt,qt){this._delegate=ke,this.task=xt,this.ref=qt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class dr{constructor(ke,xt){this._delegate=ke,this._ref=xt,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new nr(this._delegate.snapshot,this,this._ref)}then(ke,xt){return this._delegate.then(qt=>{if(ke)return ke(new nr(qt,this,this._ref))},xt)}on(ke,xt,qt,On){let di;return xt&&(di="function"==typeof xt?Ei=>xt(new nr(Ei,this,this._ref)):{next:xt.next?Ei=>xt.next(new nr(Ei,this,this._ref)):void 0,complete:xt.complete||void 0,error:xt.error||void 0}),this._delegate.on(ke,di,qt||void 0,On||void 0)}}class Rr{constructor(ke,xt){this._delegate=ke,this._service=xt}get prefixes(){return this._delegate.prefixes.map(ke=>new cr(ke,this._service))}get items(){return this._delegate.items.map(ke=>new cr(ke,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class cr{constructor(ke,xt){this._delegate=ke,this.storage=xt}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(ke){const xt=function(Ke,ke){return _s(Ke,ke)}(this._delegate,ke);return new cr(xt,this.storage)}get root(){return new cr(this._delegate.root,this.storage)}get parent(){const ke=this._delegate.parent;return null==ke?null:new cr(ke,this.storage)}put(ke,xt){return this._throwIfRoot("put"),new dr(function(Ke,ke,xt){return function(Ke,ke,xt){return Ke._throwIfRoot("uploadBytesResumable"),new hn(Ke,new Tn(ke),xt)}(Ke=(0,Qe.m9)(Ke),ke,xt)}(this._delegate,ke,xt),this)}putString(ke,xt=Pn.RAW,qt){this._throwIfRoot("putString");const On=Jn(xt,ke),di=Object.assign({},qt);return null==di.contentType&&null!=On.contentType&&(di.contentType=On.contentType),new dr(new hn(this._delegate,new Tn(On.data,!0),di),this)}listAll(){return(Ke=this._delegate,function(Ke){const ke={prefixes:[],items:[]};return Ui(Ke,ke).then(()=>ke)}(Ke=(0,Qe.m9)(Ke))).then(ke=>new Rr(ke,this.storage));var Ke}list(ke){return function(Ke,ke){return ur(Ke=(0,Qe.m9)(Ke),ke)}(this._delegate,ke||void 0).then(xt=>new Rr(xt,this.storage))}getMetadata(){return function(Ke){return Wr.apply(this,arguments)}((0,Qe.m9)(this._delegate))}updateMetadata(ke){return function(Ke,ke){return function(Ke,ke){return co.apply(this,arguments)}(Ke=(0,Qe.m9)(Ke),ke)}(this._delegate,ke)}getDownloadURL(){return function(Ke){return Io.apply(this,arguments)}((0,Qe.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function(Ke){return Qr.apply(this,arguments)}((0,Qe.m9)(this._delegate))}_throwIfRoot(ke){if(""===this._delegate._location.path)throw Hn(ke)}}class yo{constructor(ke,xt){this.app=ke,this._delegate=xt}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(ke){if(mo(ke))throw Zn("ref() expected a child path but got a URL, use refFromURL instead.");return new cr(an(this._delegate,ke),this)}refFromURL(ke){if(!mo(ke))throw Zn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ri.makeFromUrl(ke,this._delegate.host)}catch(xt){throw Zn("refFromUrl() expected a valid full URL but got an invalid one.")}return new cr(an(this._delegate,ke),this)}setMaxUploadRetryTime(ke){this._delegate.maxUploadRetryTime=ke}setMaxOperationRetryTime(ke){this._delegate.maxOperationRetryTime=ke}useEmulator(ke,xt,qt={}){!function(Ke,ke,xt,qt={}){!function(Ke,ke,xt,qt={}){Ke.host=`${ke}:${xt}`,Ke._protocol="http";const{mockUserToken:On}=qt;On&&(Ke._overrideAuthToken="string"==typeof On?On:(0,Qe.Sg)(On,Ke.app.options.projectId))}(Ke,ke,xt,qt)}(this._delegate,ke,xt,qt)}}function mo(Ke){return/^[A-Za-z]+:\/\//.test(Ke)}function fe(Ke,{instanceIdentifier:ke}){const xt=Ke.getProvider("app-compat").getImmediate(),qt=Ke.getProvider("storage").getImmediate({identifier:ke});return new yo(xt,qt)}function Re(Ke){const ke=function(Ke){return new n.y(ke=>{const xt=Ei=>ke.next(Ei);xt(Ke.snapshot);const di=Ke.on("state_changed",xt);return Ke.then(Ei=>{xt(Ei),ke.complete()},Ei=>{xt(Ke.snapshot),(Ei=>{ke.error(Ei)})(Ei)}),function(){di()}}).pipe((0,we.b)(0))}(Ke);return{task:Ke,then:Ke.then.bind(Ke),catch:Ke.catch.bind(Ke),pause:Ke.pause.bind(Ke),cancel:Ke.cancel.bind(Ke),resume:Ke.resume.bind(Ke),snapshotChanges:()=>ke,percentageChanges:()=>ke.pipe((0,Fe.U)(xt=>xt.bytesTransferred/xt.totalBytes*100))}}function en(Ke){return{getDownloadURL:()=>(0,te.of)(void 0).pipe(He.fc,(0,Ue.w)(()=>Ke.getDownloadURL()),He.iC),getMetadata:()=>(0,te.of)(void 0).pipe(He.fc,(0,Ue.w)(()=>Ke.getMetadata()),He.iC),delete:()=>(0,Oe.D)(Ke.delete()),child:ke=>en(Ke.child(ke)),updateMetadata:ke=>(0,Oe.D)(Ke.updateMetadata(ke)),put:(ke,xt)=>Re(Ke.put(ke,xt)),putString:(ke,xt,qt)=>Re(Ke.putString(ke,xt,qt)),listAll:()=>(0,Oe.D)(Ke.listAll())}}!function(Ke){const ke={TaskState:Nt,TaskEvent:Je,StringFormat:Pn,Storage:yo,Reference:cr};Ke.INTERNAL.registerComponent(new Ot.wA("storage-compat",fe,"PUBLIC").setServiceProps(ke).setMultipleInstances(!0)),Ke.registerVersion("@firebase/storage-compat","0.1.2")}(Be.Z),X(7841);const Gn=new Ne.OlP("angularfire2.storageBucket"),zi=new Ne.OlP("angularfire2.storage.maxUploadRetryTime"),Pr=new Ne.OlP("angularfire2.storage.maxOperationRetryTime"),Tr=new Ne.OlP("angularfire2.storage.use-emulator");let Vr=(()=>{class Ke{constructor(xt,qt,On,di,Ei,xr,or,Sr,qr){const li=(0,nt.on)(xt,Ei,qt);this.storage=(0,He.cc)(`${li.name}.storage.${On}`,"AngularFireStorage",li.name,()=>{const hr=Ei.runOutsideAngular(()=>li.storage(On||void 0)),Bo=qr;return Bo&&hr.useEmulator(...Bo),or&&hr.setMaxUploadRetryTime(or),Sr&&hr.setMaxOperationRetryTime(Sr),hr},[or,Sr])}ref(xt){return en(this.storage.ref(xt))}refFromURL(xt){return en(this.storage.refFromURL(xt))}upload(xt,qt,On){return en(this.storage.ref(xt)).put(qt,On)}}return Ke.\u0275fac=function(xt){return new(xt||Ke)(Ne.LFG(nt.Dh),Ne.LFG(nt.xv,8),Ne.LFG(Gn,8),Ne.LFG(Ne.Lbi),Ne.LFG(Ne.R0b),Ne.LFG(He.HU),Ne.LFG(zi,8),Ne.LFG(Pr,8),Ne.LFG(Tr,8))},Ke.\u0275prov=Ne.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"any"}),Ke})()},8747:(Se,Ze,X)=>{"use strict";X.d(Ze,{hO:()=>Qe,xv:()=>nt,Dh:()=>Ne,Ot:()=>He,GT:()=>Ue,on:()=>Be,pX:()=>Fe});var n=X(7716),te=X(7841),Oe=X(9126);Se=X.hmd(Se);const we=["ngOnDestroy"],Fe=(Ot,Zt,_t,Ae={})=>new Proxy(Ot,{get:(Mt,ce)=>_t.runOutsideAngular(()=>{var ve;if(Ot[ce])return(null===(ve=null==Ae?void 0:Ae.spy)||void 0===ve?void 0:ve.get)&&Ae.spy.get(ce,Ot[ce]),Ot[ce];if(we.indexOf(ce)>-1)return()=>{};const Me=Zt.toPromise().then(tt=>{const bt=tt&&tt[ce];return"function"==typeof bt?bt.bind(tt):bt&&bt.then?bt.then(Dt=>_t.run(()=>Dt)):_t.run(()=>bt)});return new Proxy(()=>{},{get:(tt,bt)=>Me[bt],apply:(tt,bt,Dt)=>Me.then(cn=>{var gt;const Ht=cn&&cn(...Dt);return(null===(gt=null==Ae?void 0:Ae.spy)||void 0===gt?void 0:gt.apply)&&Ae.spy.apply(ce,Dt,Ht),Ht})})})}),Ue=(Ot,Zt)=>{Zt.forEach(_t=>{Object.getOwnPropertyNames(_t.prototype||_t).forEach(Ae=>{Object.defineProperty(Ot.prototype,Ae,Object.getOwnPropertyDescriptor(_t.prototype||_t,Ae))})})};class He{constructor(Zt){return Zt}}const Ne=new n.OlP("angularfire2.app.options"),nt=new n.OlP("angularfire2.app.name");function Be(Ot,Zt,_t){const Mt="object"==typeof _t&&_t||{};Mt.name=Mt.name||"string"==typeof _t&&_t||"[DEFAULT]";const ve=te.Z.apps.filter(Me=>Me&&Me.name===Mt.name)[0]||Zt.runOutsideAngular(()=>te.Z.initializeApp(Ot,Mt));try{JSON.stringify(Ot)!==JSON.stringify(ve.options)&&qe("error",`${ve.name} Firebase App already initialized with different options${Se.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Me){}return new He(ve)}const qe=(Ot,...Zt)=>{(0,n.X6Q)()&&"undefined"!=typeof console&&console[Ot](...Zt)},$e={provide:He,useFactory:Be,deps:[Ne,n.R0b,[new n.FiY,nt]]};let Qe=(()=>{class Ot{constructor(_t){te.Z.registerVersion("angularfire",Oe.q4.full,"core"),te.Z.registerVersion("angularfire",Oe.q4.full,"app-compat"),te.Z.registerVersion("angular",n.q4F.full,_t.toString())}static initializeApp(_t,Ae){return{ngModule:Ot,providers:[{provide:Ne,useValue:_t},{provide:nt,useValue:Ae}]}}}return Ot.\u0275fac=function(_t){return new(_t||Ot)(n.LFG(n.Lbi))},Ot.\u0275mod=n.oAB({type:Ot}),Ot.\u0275inj=n.cJS({providers:[$e]}),Ot})()},9126:(Se,Ze,X)=>{"use strict";X.d(Ze,{q4:()=>Be,iC:()=>Ht,fc:()=>cn,HU:()=>Me,cc:()=>Qe});var n=X(7716);(0,X(5452).registerVersion)("firebase","9.0.2","app");var Fe=X(7771),Ue=X(3637),He=X(8307),Ne=X(9746),nt=X(3101);Se=X.hmd(Se);const Be=new n.GfV("7.0.4"),qe=!!Se.hot,$e=(pn,...wt)=>{(0,n.X6Q)()&&"undefined"!=typeof console&&console[pn](...wt)};function Qe(pn,wt,Yt,gn,kn){const[,Zn,In]=globalThis.\u0275AngularfireInstanceCache.find(Hn=>Hn[0]===pn)||[];if(Zn)return function(pn,wt){try{return pn.toString()===wt.toString()}catch(Yt){return pn===wt}}(kn,In)||($e("error",`${wt} was already initialized on the ${Yt} Firebase App with different settings.${qe?" You may need to reload as Firebase is not HMR aware.":""}`),$e("warn",{is:kn,was:In})),Zn;{const Hn=gn();return globalThis.\u0275AngularfireInstanceCache.push([pn,Hn,kn]),Hn}}function Mt(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class ce{constructor(wt,Yt=Fe.N){this.zone=wt,this.delegate=Yt}now(){return this.delegate.now()}schedule(wt,Yt,gn){const kn=this.zone;return this.delegate.schedule(function(In){kn.runGuarded(()=>{wt.apply(this,[In])})},Yt,gn)}}class ve{constructor(wt){this.zone=wt,this.task=null}call(wt,Yt){const gn=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mt,{},Mt,Mt)),Yt.pipe((0,He.b)({next:gn,complete:gn,error:gn})).subscribe(wt).add(gn)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Me=(()=>{class pn{constructor(Yt){this.ngZone=Yt,this.outsideAngular=Yt.runOutsideAngular(()=>new ce(Zone.current)),this.insideAngular=Yt.run(()=>new ce(Zone.current,Ue.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return pn.\u0275fac=function(Yt){return new(Yt||pn)(n.LFG(n.R0b))},pn.\u0275prov=n.Yz7({token:pn,factory:pn.\u0275fac,providedIn:"root"}),pn})();function tt(){const pn=globalThis.\u0275AngularFireScheduler;if(!pn)throw new Error("AngularFireModule has not been provided");return pn}function cn(pn){return pn.pipe((0,Ne.QV)(tt().outsideAngular))}function Ht(pn){return tt(),function(pn){return function(Yt){return(Yt=Yt.lift(new ve(pn.ngZone))).pipe((0,nt.R)(pn.outsideAngular),(0,Ne.QV)(pn.insideAngular))}}(tt())(pn)}},3679:(Se,Ze,X)=>{"use strict";X.d(Ze,{Wl:()=>Be,Fj:()=>Ot,qu:()=>Ce,NI:()=>Ri,u:()=>Io,sg:()=>ur,u5:()=>mo,JU:()=>Ne,JJ:()=>Or,JL:()=>Qn,On:()=>Wt,YN:()=>hs,wV:()=>Nt,UX:()=>io,EJ:()=>_o,kI:()=>ve,_Y:()=>nn,Kr:()=>Ro});var n=X(7716),te=X(8583),Oe=X(4402),we=X(5758),Fe=X(8002);let Ue=(()=>{class ne{constructor(ae,Re){this._renderer=ae,this._elementRef=Re,this.onChange=en=>{},this.onTouched=()=>{}}setProperty(ae,Re){this._renderer.setProperty(this._elementRef.nativeElement,ae,Re)}registerOnTouched(ae){this.onTouched=ae}registerOnChange(ae){this.onChange=ae}setDisabledState(ae){this.setProperty("disabled",ae)}}return ne.\u0275fac=function(ae){return new(ae||ne)(n.Y36(n.Qsj),n.Y36(n.SBq))},ne.\u0275dir=n.lG2({type:ne}),ne})(),He=(()=>{class ne extends Ue{}return ne.\u0275fac=function(){let se;return function(Re){return(se||(se=n.n5z(ne)))(Re||ne)}}(),ne.\u0275dir=n.lG2({type:ne,features:[n.qOj]}),ne})();const Ne=new n.OlP("NgValueAccessor"),nt={provide:Ne,useExisting:(0,n.Gpc)(()=>Be),multi:!0};let Be=(()=>{class ne extends He{writeValue(ae){this.setProperty("checked",ae)}}return ne.\u0275fac=function(){let se;return function(Re){return(se||(se=n.n5z(ne)))(Re||ne)}}(),ne.\u0275dir=n.lG2({type:ne,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ae,Re){1&ae&&n.NdJ("change",function(Gn){return Re.onChange(Gn.target.checked)})("blur",function(){return Re.onTouched()})},features:[n._Bn([nt]),n.qOj]}),ne})();const qe={provide:Ne,useExisting:(0,n.Gpc)(()=>Ot),multi:!0},Qe=new n.OlP("CompositionEventMode");let Ot=(()=>{class ne extends Ue{constructor(ae,Re,en){super(ae,Re),this._compositionMode=en,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const ne=(0,te.q)()?(0,te.q)().getUserAgent():"";return/android (\d+)/.test(ne.toLowerCase())}())}writeValue(ae){this.setProperty("value",null==ae?"":ae)}_handleInput(ae){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ae)}_compositionStart(){this._composing=!0}_compositionEnd(ae){this._composing=!1,this._compositionMode&&this.onChange(ae)}}return ne.\u0275fac=function(ae){return new(ae||ne)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(Qe,8))},ne.\u0275dir=n.lG2({type:ne,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ae,Re){1&ae&&n.NdJ("input",function(Gn){return Re._handleInput(Gn.target.value)})("blur",function(){return Re.onTouched()})("compositionstart",function(){return Re._compositionStart()})("compositionend",function(Gn){return Re._compositionEnd(Gn.target.value)})},features:[n._Bn([qe]),n.qOj]}),ne})();function Zt(ne){return null==ne||0===ne.length}function _t(ne){return null!=ne&&"number"==typeof ne.length}const Ae=new n.OlP("NgValidators"),Mt=new n.OlP("NgAsyncValidators"),ce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ve{static min(se){return ne=se,se=>{if(Zt(se.value)||Zt(ne))return null;const ae=parseFloat(se.value);return!isNaN(ae)&&ae<ne?{min:{min:ne,actual:se.value}}:null};var ne}static max(se){return ne=se,se=>{if(Zt(se.value)||Zt(ne))return null;const ae=parseFloat(se.value);return!isNaN(ae)&&ae>ne?{max:{max:ne,actual:se.value}}:null};var ne}static required(se){return Zt(se.value)?{required:!0}:null}static requiredTrue(se){return!0===se.value?null:{required:!0}}static email(se){return Zt((ne=se).value)||ce.test(ne.value)?null:{email:!0};var ne}static minLength(se){return ne=se,se=>Zt(se.value)||!_t(se.value)?null:se.value.length<ne?{minlength:{requiredLength:ne,actualLength:se.value.length}}:null;var ne}static maxLength(se){return ne=se,se=>_t(se.value)&&se.value.length>ne?{maxlength:{requiredLength:ne,actualLength:se.value.length}}:null;var ne}static pattern(se){return function(ne){if(!ne)return on;let se,ae;return"string"==typeof ne?(ae="","^"!==ne.charAt(0)&&(ae+="^"),ae+=ne,"$"!==ne.charAt(ne.length-1)&&(ae+="$"),se=new RegExp(ae)):(ae=ne.toString(),se=ne),Re=>{if(Zt(Re.value))return null;const en=Re.value;return se.test(en)?null:{pattern:{requiredPattern:ae,actualValue:en}}}}(se)}static nullValidator(se){return null}static compose(se){return Zn(se)}static composeAsync(se){return Hn(se)}}function on(ne){return null}function sn(ne){return null!=ne}function pn(ne){const se=(0,n.QGY)(ne)?(0,Oe.D)(ne):ne;return(0,n.CqO)(se),se}function wt(ne){let se={};return ne.forEach(ae=>{se=null!=ae?Object.assign(Object.assign({},se),ae):se}),0===Object.keys(se).length?null:se}function Yt(ne,se){return se.map(ae=>ae(ne))}function kn(ne){return ne.map(se=>function(ne){return!ne.validate}(se)?se:ae=>se.validate(ae))}function Zn(ne){if(!ne)return null;const se=ne.filter(sn);return 0==se.length?null:function(ae){return wt(Yt(ae,se))}}function In(ne){return null!=ne?Zn(kn(ne)):null}function Hn(ne){if(!ne)return null;const se=ne.filter(sn);return 0==se.length?null:function(ae){const Re=Yt(ae,se).map(pn);return(0,we.D)(Re).pipe((0,Fe.U)(wt))}}function ni(ne){return null!=ne?Hn(kn(ne)):null}function pi(ne,se){return null===ne?[se]:Array.isArray(ne)?[...ne,se]:[ne,se]}function Fi(ne){return ne._rawValidators}function bi(ne){return ne._rawAsyncValidators}function fi(ne){return ne?Array.isArray(ne)?ne:[ne]:[]}function ri(ne,se){return Array.isArray(ne)?ne.includes(se):ne===se}function zn(ne,se){const ae=fi(se);return fi(ne).forEach(en=>{ri(ae,en)||ae.push(en)}),ae}function Un(ne,se){return fi(se).filter(ae=>!ri(ne,ae))}let _i=(()=>{class ne{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ae){this._rawValidators=ae||[],this._composedValidatorFn=In(this._rawValidators)}_setAsyncValidators(ae){this._rawAsyncValidators=ae||[],this._composedAsyncValidatorFn=ni(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ae){this._onDestroyCallbacks.push(ae)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ae=>ae()),this._onDestroyCallbacks=[]}reset(ae){this.control&&this.control.reset(ae)}hasError(ae,Re){return!!this.control&&this.control.hasError(ae,Re)}getError(ae,Re){return this.control?this.control.getError(ae,Re):null}}return ne.\u0275fac=function(ae){return new(ae||ne)},ne.\u0275dir=n.lG2({type:ne}),ne})(),mi=(()=>{class ne extends _i{get formDirective(){return null}get path(){return null}}return ne.\u0275fac=function(){let se;return function(Re){return(se||(se=n.n5z(ne)))(Re||ne)}}(),ne.\u0275dir=n.lG2({type:ne,features:[n.qOj]}),ne})();class ji extends _i{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class er{constructor(se){this._cd=se}is(se){var ae,Re,en;return"submitted"===se?!!(null===(ae=this._cd)||void 0===ae?void 0:ae.submitted):!!(null===(en=null===(Re=this._cd)||void 0===Re?void 0:Re.control)||void 0===en?void 0:en[se])}}let Or=(()=>{class ne extends er{constructor(ae){super(ae)}}return ne.\u0275fac=function(ae){return new(ae||ne)(n.Y36(ji,2))},ne.\u0275dir=n.lG2({type:ne,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ae,Re){2&ae&&n.ekj("ng-untouched",Re.is("untouched"))("ng-touched",Re.is("touched"))("ng-pristine",Re.is("pristine"))("ng-dirty",Re.is("dirty"))("ng-valid",Re.is("valid"))("ng-invalid",Re.is("invalid"))("ng-pending",Re.is("pending"))},features:[n.qOj]}),ne})(),Qn=(()=>{class ne extends er{constructor(ae){super(ae)}}return ne.\u0275fac=function(ae){return new(ae||ne)(n.Y36(mi,10))},ne.\u0275dir=n.lG2({type:ne,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ae,Re){2&ae&&n.ekj("ng-untouched",Re.is("untouched"))("ng-touched",Re.is("touched"))("ng-pristine",Re.is("pristine"))("ng-dirty",Re.is("dirty"))("ng-valid",Re.is("valid"))("ng-invalid",Re.is("invalid"))("ng-pending",Re.is("pending"))("ng-submitted",Re.is("submitted"))},features:[n.qOj]}),ne})();function _n(ne,se){return[...se.path,ne]}function Pn(ne,se){ii(ne,se),se.valueAccessor.writeValue(ne.value),function(ne,se){se.valueAccessor.registerOnChange(ae=>{ne._pendingValue=ae,ne._pendingChange=!0,ne._pendingDirty=!0,"change"===ne.updateOn&&zt(ne,se)})}(ne,se),function(ne,se){const ae=(Re,en)=>{se.valueAccessor.writeValue(Re),en&&se.viewToModelUpdate(Re)};ne.registerOnChange(ae),se._registerOnDestroy(()=>{ne._unregisterOnChange(ae)})}(ne,se),function(ne,se){se.valueAccessor.registerOnTouched(()=>{ne._pendingTouched=!0,"blur"===ne.updateOn&&ne._pendingChange&&zt(ne,se),"submit"!==ne.updateOn&&ne.markAsTouched()})}(ne,se),function(ne,se){if(se.valueAccessor.setDisabledState){const ae=Re=>{se.valueAccessor.setDisabledState(Re)};ne.registerOnDisabledChange(ae),se._registerOnDestroy(()=>{ne._unregisterOnDisabledChange(ae)})}}(ne,se)}function En(ne,se,ae=!0){const Re=()=>{};se.valueAccessor&&(se.valueAccessor.registerOnChange(Re),se.valueAccessor.registerOnTouched(Re)),Rt(ne,se),ne&&(se._invokeOnDestroyCallbacks(),ne._registerOnCollectionChange(()=>{}))}function Jn(ne,se){ne.forEach(ae=>{ae.registerOnValidatorChange&&ae.registerOnValidatorChange(se)})}function ii(ne,se){const ae=Fi(ne);null!==se.validator?ne.setValidators(pi(ae,se.validator)):"function"==typeof ae&&ne.setValidators([ae]);const Re=bi(ne);null!==se.asyncValidator?ne.setAsyncValidators(pi(Re,se.asyncValidator)):"function"==typeof Re&&ne.setAsyncValidators([Re]);const en=()=>ne.updateValueAndValidity();Jn(se._rawValidators,en),Jn(se._rawAsyncValidators,en)}function Rt(ne,se){let ae=!1;if(null!==ne){if(null!==se.validator){const en=Fi(ne);if(Array.isArray(en)&&en.length>0){const Gn=en.filter(zi=>zi!==se.validator);Gn.length!==en.length&&(ae=!0,ne.setValidators(Gn))}}if(null!==se.asyncValidator){const en=bi(ne);if(Array.isArray(en)&&en.length>0){const Gn=en.filter(zi=>zi!==se.asyncValidator);Gn.length!==en.length&&(ae=!0,ne.setAsyncValidators(Gn))}}}const Re=()=>{};return Jn(se._rawValidators,Re),Jn(se._rawAsyncValidators,Re),ae}function zt(ne,se){ne._pendingDirty&&ne.markAsDirty(),ne.setValue(ne._pendingValue,{emitModelToViewChange:!1}),se.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1}function it(ne,se){if(!ne.hasOwnProperty("model"))return!1;const ae=ne.model;return!!ae.isFirstChange()||!Object.is(se,ae.currentValue)}function We(ne,se){if(!se)return null;let ae,Re,en;return Array.isArray(se),se.forEach(Gn=>{Gn.constructor===Ot?ae=Gn:function(ne){return Object.getPrototypeOf(ne.constructor)===He}(Gn)?Re=Gn:en=Gn}),en||Re||ae||null}function pt(ne,se){const ae=ne.indexOf(se);ae>-1&&ne.splice(ae,1)}const st="VALID",Ge="INVALID",yt="PENDING",Bt="DISABLED";function wn(ne){return(Si(ne)?ne.validators:ne)||null}function ei(ne){return Array.isArray(ne)?In(ne):ne||null}function Pi(ne,se){return(Si(se)?se.asyncValidators:ne)||null}function wi(ne){return Array.isArray(ne)?ni(ne):ne||null}function Si(ne){return null!=ne&&!Array.isArray(ne)&&"object"==typeof ne}class si{constructor(se,ae){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=se,this._rawAsyncValidators=ae,this._composedValidatorFn=ei(this._rawValidators),this._composedAsyncValidatorFn=wi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(se){this._rawValidators=this._composedValidatorFn=se}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(se){this._rawAsyncValidators=this._composedAsyncValidatorFn=se}get parent(){return this._parent}get valid(){return this.status===st}get invalid(){return this.status===Ge}get pending(){return this.status==yt}get disabled(){return this.status===Bt}get enabled(){return this.status!==Bt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(se){this._rawValidators=se,this._composedValidatorFn=ei(se)}setAsyncValidators(se){this._rawAsyncValidators=se,this._composedAsyncValidatorFn=wi(se)}addValidators(se){this.setValidators(zn(se,this._rawValidators))}addAsyncValidators(se){this.setAsyncValidators(zn(se,this._rawAsyncValidators))}removeValidators(se){this.setValidators(Un(se,this._rawValidators))}removeAsyncValidators(se){this.setAsyncValidators(Un(se,this._rawAsyncValidators))}hasValidator(se){return ri(this._rawValidators,se)}hasAsyncValidator(se){return ri(this._rawAsyncValidators,se)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(se={}){this.touched=!0,this._parent&&!se.onlySelf&&this._parent.markAsTouched(se)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(se=>se.markAllAsTouched())}markAsUntouched(se={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ae=>{ae.markAsUntouched({onlySelf:!0})}),this._parent&&!se.onlySelf&&this._parent._updateTouched(se)}markAsDirty(se={}){this.pristine=!1,this._parent&&!se.onlySelf&&this._parent.markAsDirty(se)}markAsPristine(se={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ae=>{ae.markAsPristine({onlySelf:!0})}),this._parent&&!se.onlySelf&&this._parent._updatePristine(se)}markAsPending(se={}){this.status=yt,!1!==se.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!se.onlySelf&&this._parent.markAsPending(se)}disable(se={}){const ae=this._parentMarkedDirty(se.onlySelf);this.status=Bt,this.errors=null,this._forEachChild(Re=>{Re.disable(Object.assign(Object.assign({},se),{onlySelf:!0}))}),this._updateValue(),!1!==se.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},se),{skipPristineCheck:ae})),this._onDisabledChange.forEach(Re=>Re(!0))}enable(se={}){const ae=this._parentMarkedDirty(se.onlySelf);this.status=st,this._forEachChild(Re=>{Re.enable(Object.assign(Object.assign({},se),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:se.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},se),{skipPristineCheck:ae})),this._onDisabledChange.forEach(Re=>Re(!1))}_updateAncestors(se){this._parent&&!se.onlySelf&&(this._parent.updateValueAndValidity(se),se.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(se){this._parent=se}updateValueAndValidity(se={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===st||this.status===yt)&&this._runAsyncValidator(se.emitEvent)),!1!==se.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!se.onlySelf&&this._parent.updateValueAndValidity(se)}_updateTreeValidity(se={emitEvent:!0}){this._forEachChild(ae=>ae._updateTreeValidity(se)),this.updateValueAndValidity({onlySelf:!0,emitEvent:se.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bt:st}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(se){if(this.asyncValidator){this.status=yt,this._hasOwnPendingAsyncValidator=!0;const ae=pn(this.asyncValidator(this));this._asyncValidationSubscription=ae.subscribe(Re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Re,{emitEvent:se})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(se,ae={}){this.errors=se,this._updateControlsErrors(!1!==ae.emitEvent)}get(se){return function(ne,se,ae){if(null==se||(Array.isArray(se)||(se=se.split(".")),Array.isArray(se)&&0===se.length))return null;let Re=ne;return se.forEach(en=>{Re=Re instanceof tr?Re.controls.hasOwnProperty(en)?Re.controls[en]:null:Re instanceof rr&&Re.at(en)||null}),Re}(this,se)}getError(se,ae){const Re=ae?this.get(ae):this;return Re&&Re.errors?Re.errors[se]:null}hasError(se,ae){return!!this.getError(se,ae)}get root(){let se=this;for(;se._parent;)se=se._parent;return se}_updateControlsErrors(se){this.status=this._calculateStatus(),se&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(se)}_initObservables(){this.valueChanges=new n.vpe,this.statusChanges=new n.vpe}_calculateStatus(){return this._allControlsDisabled()?Bt:this.errors?Ge:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yt)?yt:this._anyControlsHaveStatus(Ge)?Ge:st}_anyControlsHaveStatus(se){return this._anyControls(ae=>ae.status===se)}_anyControlsDirty(){return this._anyControls(se=>se.dirty)}_anyControlsTouched(){return this._anyControls(se=>se.touched)}_updatePristine(se={}){this.pristine=!this._anyControlsDirty(),this._parent&&!se.onlySelf&&this._parent._updatePristine(se)}_updateTouched(se={}){this.touched=this._anyControlsTouched(),this._parent&&!se.onlySelf&&this._parent._updateTouched(se)}_isBoxedValue(se){return"object"==typeof se&&null!==se&&2===Object.keys(se).length&&"value"in se&&"disabled"in se}_registerOnCollectionChange(se){this._onCollectionChange=se}_setUpdateStrategy(se){Si(se)&&null!=se.updateOn&&(this._updateOn=se.updateOn)}_parentMarkedDirty(se){return!se&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ri extends si{constructor(se=null,ae,Re){super(wn(ae),Pi(Re,ae)),this._onChange=[],this._applyFormState(se),this._setUpdateStrategy(ae),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(se,ae={}){this.value=this._pendingValue=se,this._onChange.length&&!1!==ae.emitModelToViewChange&&this._onChange.forEach(Re=>Re(this.value,!1!==ae.emitViewToModelChange)),this.updateValueAndValidity(ae)}patchValue(se,ae={}){this.setValue(se,ae)}reset(se=null,ae={}){this._applyFormState(se),this.markAsPristine(ae),this.markAsUntouched(ae),this.setValue(this.value,ae),this._pendingChange=!1}_updateValue(){}_anyControls(se){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(se){this._onChange.push(se)}_unregisterOnChange(se){pt(this._onChange,se)}registerOnDisabledChange(se){this._onDisabledChange.push(se)}_unregisterOnDisabledChange(se){pt(this._onDisabledChange,se)}_forEachChild(se){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(se){this._isBoxedValue(se)?(this.value=this._pendingValue=se.value,se.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=se}}class tr extends si{constructor(se,ae,Re){super(wn(ae),Pi(Re,ae)),this.controls=se,this._initObservables(),this._setUpdateStrategy(ae),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(se,ae){return this.controls[se]?this.controls[se]:(this.controls[se]=ae,ae.setParent(this),ae._registerOnCollectionChange(this._onCollectionChange),ae)}addControl(se,ae,Re={}){this.registerControl(se,ae),this.updateValueAndValidity({emitEvent:Re.emitEvent}),this._onCollectionChange()}removeControl(se,ae={}){this.controls[se]&&this.controls[se]._registerOnCollectionChange(()=>{}),delete this.controls[se],this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}setControl(se,ae,Re={}){this.controls[se]&&this.controls[se]._registerOnCollectionChange(()=>{}),delete this.controls[se],ae&&this.registerControl(se,ae),this.updateValueAndValidity({emitEvent:Re.emitEvent}),this._onCollectionChange()}contains(se){return this.controls.hasOwnProperty(se)&&this.controls[se].enabled}setValue(se,ae={}){this._checkAllValuesPresent(se),Object.keys(se).forEach(Re=>{this._throwIfControlMissing(Re),this.controls[Re].setValue(se[Re],{onlySelf:!0,emitEvent:ae.emitEvent})}),this.updateValueAndValidity(ae)}patchValue(se,ae={}){null!=se&&(Object.keys(se).forEach(Re=>{this.controls[Re]&&this.controls[Re].patchValue(se[Re],{onlySelf:!0,emitEvent:ae.emitEvent})}),this.updateValueAndValidity(ae))}reset(se={},ae={}){this._forEachChild((Re,en)=>{Re.reset(se[en],{onlySelf:!0,emitEvent:ae.emitEvent})}),this._updatePristine(ae),this._updateTouched(ae),this.updateValueAndValidity(ae)}getRawValue(){return this._reduceChildren({},(se,ae,Re)=>(se[Re]=ae instanceof Ri?ae.value:ae.getRawValue(),se))}_syncPendingControls(){let se=this._reduceChildren(!1,(ae,Re)=>!!Re._syncPendingControls()||ae);return se&&this.updateValueAndValidity({onlySelf:!0}),se}_throwIfControlMissing(se){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[se])throw new Error(`Cannot find form control with name: ${se}.`)}_forEachChild(se){Object.keys(this.controls).forEach(ae=>{const Re=this.controls[ae];Re&&se(Re,ae)})}_setUpControls(){this._forEachChild(se=>{se.setParent(this),se._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(se){for(const ae of Object.keys(this.controls)){const Re=this.controls[ae];if(this.contains(ae)&&se(Re))return!0}return!1}_reduceValue(){return this._reduceChildren({},(se,ae,Re)=>((ae.enabled||this.disabled)&&(se[Re]=ae.value),se))}_reduceChildren(se,ae){let Re=se;return this._forEachChild((en,Gn)=>{Re=ae(Re,en,Gn)}),Re}_allControlsDisabled(){for(const se of Object.keys(this.controls))if(this.controls[se].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(se){this._forEachChild((ae,Re)=>{if(void 0===se[Re])throw new Error(`Must supply a value for form control with name: '${Re}'.`)})}}class rr extends si{constructor(se,ae,Re){super(wn(ae),Pi(Re,ae)),this.controls=se,this._initObservables(),this._setUpdateStrategy(ae),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(se){return this.controls[se]}push(se,ae={}){this.controls.push(se),this._registerControl(se),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}insert(se,ae,Re={}){this.controls.splice(se,0,ae),this._registerControl(ae),this.updateValueAndValidity({emitEvent:Re.emitEvent})}removeAt(se,ae={}){this.controls[se]&&this.controls[se]._registerOnCollectionChange(()=>{}),this.controls.splice(se,1),this.updateValueAndValidity({emitEvent:ae.emitEvent})}setControl(se,ae,Re={}){this.controls[se]&&this.controls[se]._registerOnCollectionChange(()=>{}),this.controls.splice(se,1),ae&&(this.controls.splice(se,0,ae),this._registerControl(ae)),this.updateValueAndValidity({emitEvent:Re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(se,ae={}){this._checkAllValuesPresent(se),se.forEach((Re,en)=>{this._throwIfControlMissing(en),this.at(en).setValue(Re,{onlySelf:!0,emitEvent:ae.emitEvent})}),this.updateValueAndValidity(ae)}patchValue(se,ae={}){null!=se&&(se.forEach((Re,en)=>{this.at(en)&&this.at(en).patchValue(Re,{onlySelf:!0,emitEvent:ae.emitEvent})}),this.updateValueAndValidity(ae))}reset(se=[],ae={}){this._forEachChild((Re,en)=>{Re.reset(se[en],{onlySelf:!0,emitEvent:ae.emitEvent})}),this._updatePristine(ae),this._updateTouched(ae),this.updateValueAndValidity(ae)}getRawValue(){return this.controls.map(se=>se instanceof Ri?se.value:se.getRawValue())}clear(se={}){this.controls.length<1||(this._forEachChild(ae=>ae._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:se.emitEvent}))}_syncPendingControls(){let se=this.controls.reduce((ae,Re)=>!!Re._syncPendingControls()||ae,!1);return se&&this.updateValueAndValidity({onlySelf:!0}),se}_throwIfControlMissing(se){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(se))throw new Error(`Cannot find form control at index ${se}`)}_forEachChild(se){this.controls.forEach((ae,Re)=>{se(ae,Re)})}_updateValue(){this.value=this.controls.filter(se=>se.enabled||this.disabled).map(se=>se.value)}_anyControls(se){return this.controls.some(ae=>ae.enabled&&se(ae))}_setUpControls(){this._forEachChild(se=>this._registerControl(se))}_checkAllValuesPresent(se){this._forEachChild((ae,Re)=>{if(void 0===se[Re])throw new Error(`Must supply a value for form control at index: ${Re}.`)})}_allControlsDisabled(){for(const se of this.controls)if(se.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(se){se.setParent(this),se._registerOnCollectionChange(this._onCollectionChange)}}const Xe={provide:ji,useExisting:(0,n.Gpc)(()=>Wt)},Pt=(()=>Promise.resolve(null))();let Wt=(()=>{class ne extends ji{constructor(ae,Re,en,Gn){super(),this.control=new Ri,this._registered=!1,this.update=new n.vpe,this._parent=ae,this._setValidators(Re),this._setAsyncValidators(en),this.valueAccessor=We(0,Gn)}ngOnChanges(ae){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in ae&&this._updateDisabled(ae),it(ae,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?_n(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ae){this.viewModel=ae,this.update.emit(ae)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ae){Pt.then(()=>{this.control.setValue(ae,{emitViewToModelChange:!1})})}_updateDisabled(ae){const Re=ae.isDisabled.currentValue,en=""===Re||Re&&"false"!==Re;Pt.then(()=>{en&&!this.control.disabled?this.control.disable():!en&&this.control.disabled&&this.control.enable()})}}return ne.\u0275fac=function(ae){return new(ae||ne)(n.Y36(mi,9),n.Y36(Ae,10),n.Y36(Mt,10),n.Y36(Ne,10))},ne.\u0275dir=n.lG2({type:ne,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[n._Bn([Xe]),n.qOj,n.TTD]}),ne})(),nn=(()=>{class ne{}return ne.\u0275fac=function(ae){return new(ae||ne)},ne.\u0275dir=n.lG2({type:ne,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ne})();const Je={provide:Ne,useExisting:(0,n.Gpc)(()=>Nt),multi:!0};let Nt=(()=>{class ne extends He{writeValue(ae){this.setProperty("value",null==ae?"":ae)}registerOnChange(ae){this.onChange=Re=>{ae(""==Re?null:parseFloat(Re))}}}return ne.\u0275fac=function(){let se;return function(Re){return(se||(se=n.n5z(ne)))(Re||ne)}}(),ne.\u0275dir=n.lG2({type:ne,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ae,Re){1&ae&&n.NdJ("input",function(Gn){return Re.onChange(Gn.target.value)})("blur",function(){return Re.onTouched()})},features:[n._Bn([Je]),n.qOj]}),ne})(),un=(()=>{class ne{}return ne.\u0275fac=function(ae){return new(ae||ne)},ne.\u0275mod=n.oAB({type:ne}),ne.\u0275inj=n.cJS({}),ne})();const ui=new n.OlP("NgModelWithFormControlWarning"),ar={provide:mi,useExisting:(0,n.Gpc)(()=>ur)};let ur=(()=>{class ne extends mi{constructor(ae,Re){super(),this.validators=ae,this.asyncValidators=Re,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new n.vpe,this._setValidators(ae),this._setAsyncValidators(Re)}ngOnChanges(ae){this._checkFormPresent(),ae.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ae){const Re=this.form.get(ae.path);return Pn(Re,ae),Re.updateValueAndValidity({emitEvent:!1}),this.directives.push(ae),Re}getControl(ae){return this.form.get(ae.path)}removeControl(ae){En(ae.control||null,ae,!1),pt(this.directives,ae)}addFormGroup(ae){this._setUpFormContainer(ae)}removeFormGroup(ae){this._cleanUpFormContainer(ae)}getFormGroup(ae){return this.form.get(ae.path)}addFormArray(ae){this._setUpFormContainer(ae)}removeFormArray(ae){this._cleanUpFormContainer(ae)}getFormArray(ae){return this.form.get(ae.path)}updateModel(ae,Re){this.form.get(ae.path).setValue(Re)}onSubmit(ae){return this.submitted=!0,function(ne,se){ne._syncPendingControls(),se.forEach(ae=>{const Re=ae.control;"submit"===Re.updateOn&&Re._pendingChange&&(ae.viewToModelUpdate(Re._pendingValue),Re._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(ae),!1}onReset(){this.resetForm()}resetForm(ae){this.form.reset(ae),this.submitted=!1}_updateDomValue(){this.directives.forEach(ae=>{const Re=ae.control,en=this.form.get(ae.path);Re!==en&&(En(Re||null,ae),en instanceof Ri&&(Pn(en,ae),ae.control=en))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ae){const Re=this.form.get(ae.path);(function(ne,se){ii(ne,se)})(Re,ae),Re.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ae){if(this.form){const Re=this.form.get(ae.path);Re&&function(ne,se){return Rt(ne,se)}(Re,ae)&&Re.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ii(this.form,this),this._oldForm&&Rt(this._oldForm,this)}_checkFormPresent(){}}return ne.\u0275fac=function(ae){return new(ae||ne)(n.Y36(Ae,10),n.Y36(Mt,10))},ne.\u0275dir=n.lG2({type:ne,selectors:[["","formGroup",""]],hostBindings:function(ae,Re){1&ae&&n.NdJ("submit",function(Gn){return Re.onSubmit(Gn)})("reset",function(){return Re.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n._Bn([ar]),n.qOj,n.TTD]}),ne})();const vo={provide:ji,useExisting:(0,n.Gpc)(()=>Io)};let Io=(()=>{class ne extends ji{constructor(ae,Re,en,Gn,zi){super(),this._ngModelWarningConfig=zi,this._added=!1,this.update=new n.vpe,this._ngModelWarningSent=!1,this._parent=ae,this._setValidators(Re),this._setAsyncValidators(en),this.valueAccessor=We(0,Gn)}set isDisabled(ae){}ngOnChanges(ae){this._added||this._setUpControl(),it(ae,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ae){this.viewModel=ae,this.update.emit(ae)}get path(){return _n(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return ne.\u0275fac=function(ae){return new(ae||ne)(n.Y36(mi,13),n.Y36(Ae,10),n.Y36(Mt,10),n.Y36(Ne,10),n.Y36(ui,8))},ne.\u0275dir=n.lG2({type:ne,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[n._Bn([vo]),n.qOj,n.TTD]}),ne._ngModelWarningSentOnce=!1,ne})();const zo={provide:Ne,useExisting:(0,n.Gpc)(()=>_o),multi:!0};function Qr(ne,se){return null==ne?`${se}`:(se&&"object"==typeof se&&(se="Object"),`${ne}: ${se}`.slice(0,50))}let _o=(()=>{class ne extends He{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ae){this._compareWith=ae}writeValue(ae){this.value=ae;const Re=this._getOptionId(ae);null==Re&&this.setProperty("selectedIndex",-1);const en=Qr(Re,ae);this.setProperty("value",en)}registerOnChange(ae){this.onChange=Re=>{this.value=this._getOptionValue(Re),ae(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(ae){for(const Re of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Re),ae))return Re;return null}_getOptionValue(ae){const Re=function(ne){return ne.split(":")[0]}(ae);return this._optionMap.has(Re)?this._optionMap.get(Re):ae}}return ne.\u0275fac=function(){let se;return function(Re){return(se||(se=n.n5z(ne)))(Re||ne)}}(),ne.\u0275dir=n.lG2({type:ne,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ae,Re){1&ae&&n.NdJ("change",function(Gn){return Re.onChange(Gn.target.value)})("blur",function(){return Re.onTouched()})},inputs:{compareWith:"compareWith"},features:[n._Bn([zo]),n.qOj]}),ne})(),hs=(()=>{class ne{constructor(ae,Re,en){this._element=ae,this._renderer=Re,this._select=en,this._select&&(this.id=this._select._registerOption())}set ngValue(ae){null!=this._select&&(this._select._optionMap.set(this.id,ae),this._setElementValue(Qr(this.id,ae)),this._select.writeValue(this._select.value))}set value(ae){this._setElementValue(ae),this._select&&this._select.writeValue(this._select.value)}_setElementValue(ae){this._renderer.setProperty(this._element.nativeElement,"value",ae)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return ne.\u0275fac=function(ae){return new(ae||ne)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(_o,9))},ne.\u0275dir=n.lG2({type:ne,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),ne})();const Ts={provide:Ne,useExisting:(0,n.Gpc)(()=>So),multi:!0};function No(ne,se){return null==ne?`${se}`:("string"==typeof se&&(se=`'${se}'`),se&&"object"==typeof se&&(se="Object"),`${ne}: ${se}`.slice(0,50))}let So=(()=>{class ne extends He{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ae){this._compareWith=ae}writeValue(ae){let Re;if(this.value=ae,Array.isArray(ae)){const en=ae.map(Gn=>this._getOptionId(Gn));Re=(Gn,zi)=>{Gn._setSelected(en.indexOf(zi.toString())>-1)}}else Re=(en,Gn)=>{en._setSelected(!1)};this._optionMap.forEach(Re)}registerOnChange(ae){this.onChange=Re=>{const en=[];if(void 0!==Re.selectedOptions){const Gn=Re.selectedOptions;for(let zi=0;zi<Gn.length;zi++){const Pr=Gn.item(zi),Tr=this._getOptionValue(Pr.value);en.push(Tr)}}else{const Gn=Re.options;for(let zi=0;zi<Gn.length;zi++){const Pr=Gn.item(zi);if(Pr.selected){const Tr=this._getOptionValue(Pr.value);en.push(Tr)}}}this.value=en,ae(en)}}_registerOption(ae){const Re=(this._idCounter++).toString();return this._optionMap.set(Re,ae),Re}_getOptionId(ae){for(const Re of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Re)._value,ae))return Re;return null}_getOptionValue(ae){const Re=function(ne){return ne.split(":")[0]}(ae);return this._optionMap.has(Re)?this._optionMap.get(Re)._value:ae}}return ne.\u0275fac=function(){let se;return function(Re){return(se||(se=n.n5z(ne)))(Re||ne)}}(),ne.\u0275dir=n.lG2({type:ne,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ae,Re){1&ae&&n.NdJ("change",function(Gn){return Re.onChange(Gn.target)})("blur",function(){return Re.onTouched()})},inputs:{compareWith:"compareWith"},features:[n._Bn([Ts]),n.qOj]}),ne})(),Ro=(()=>{class ne{constructor(ae,Re,en){this._element=ae,this._renderer=Re,this._select=en,this._select&&(this.id=this._select._registerOption(this))}set ngValue(ae){null!=this._select&&(this._value=ae,this._setElementValue(No(this.id,ae)),this._select.writeValue(this._select.value))}set value(ae){this._select?(this._value=ae,this._setElementValue(No(this.id,ae)),this._select.writeValue(this._select.value)):this._setElementValue(ae)}_setElementValue(ae){this._renderer.setProperty(this._element.nativeElement,"value",ae)}_setSelected(ae){this._renderer.setProperty(this._element.nativeElement,"selected",ae)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return ne.\u0275fac=function(ae){return new(ae||ne)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(So,9))},ne.\u0275dir=n.lG2({type:ne,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),ne})(),yo=(()=>{class ne{}return ne.\u0275fac=function(ae){return new(ae||ne)},ne.\u0275mod=n.oAB({type:ne}),ne.\u0275inj=n.cJS({imports:[[un]]}),ne})(),mo=(()=>{class ne{}return ne.\u0275fac=function(ae){return new(ae||ne)},ne.\u0275mod=n.oAB({type:ne}),ne.\u0275inj=n.cJS({imports:[yo]}),ne})(),io=(()=>{class ne{static withConfig(ae){return{ngModule:ne,providers:[{provide:ui,useValue:ae.warnOnNgModelWithFormControl}]}}}return ne.\u0275fac=function(ae){return new(ae||ne)},ne.\u0275mod=n.oAB({type:ne}),ne.\u0275inj=n.cJS({imports:[yo]}),ne})(),Ce=(()=>{class ne{group(ae,Re=null){const en=this._reduceControls(ae);let Pr,Gn=null,zi=null;return null!=Re&&(function(ne){return void 0!==ne.asyncValidators||void 0!==ne.validators||void 0!==ne.updateOn}(Re)?(Gn=null!=Re.validators?Re.validators:null,zi=null!=Re.asyncValidators?Re.asyncValidators:null,Pr=null!=Re.updateOn?Re.updateOn:void 0):(Gn=null!=Re.validator?Re.validator:null,zi=null!=Re.asyncValidator?Re.asyncValidator:null)),new tr(en,{asyncValidators:zi,updateOn:Pr,validators:Gn})}control(ae,Re,en){return new Ri(ae,Re,en)}array(ae,Re,en){const Gn=ae.map(zi=>this._createControl(zi));return new rr(Gn,Re,en)}_reduceControls(ae){const Re={};return Object.keys(ae).forEach(en=>{Re[en]=this._createControl(ae[en])}),Re}_createControl(ae){return ae instanceof Ri||ae instanceof tr||ae instanceof rr?ae:Array.isArray(ae)?this.control(ae[0],ae.length>1?ae[1]:null,ae.length>2?ae[2]:null):this.control(ae)}}return ne.\u0275fac=function(ae){return new(ae||ne)},ne.\u0275prov=(0,n.Yz7)({factory:function(){return new ne},token:ne,providedIn:io}),ne})()},9075:(Se,Ze,X)=>{"use strict";X.d(Ze,{b2:()=>Ut,H7:()=>ut,h_:()=>Ge,Dx:()=>Cn,q6:()=>We,se:()=>Un});var n=X(8583),te=X(7716);class Oe extends n.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class we extends Oe{static makeCurrent(){(0,n.HT)(new we)}onAndCancel(ue,_e,Le){return ue.addEventListener(_e,Le,!1),()=>{ue.removeEventListener(_e,Le,!1)}}dispatchEvent(ue,_e){ue.dispatchEvent(_e)}remove(ue){ue.parentNode&&ue.parentNode.removeChild(ue)}createElement(ue,_e){return(_e=_e||this.getDefaultDocument()).createElement(ue)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ue){return ue.nodeType===Node.ELEMENT_NODE}isShadowRoot(ue){return ue instanceof DocumentFragment}getGlobalEventTarget(ue,_e){return"window"===_e?window:"document"===_e?ue:"body"===_e?ue.body:null}getBaseHref(ue){const _e=(Fe=Fe||document.querySelector("base"),Fe?Fe.getAttribute("href"):null);return null==_e?null:function($){He=He||document.createElement("a"),He.setAttribute("href",$);const ue=He.pathname;return"/"===ue.charAt(0)?ue:`/${ue}`}(_e)}resetBaseElement(){Fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(ue){return(0,n.Mx)(document.cookie,ue)}}let He,Fe=null;const nt=new te.OlP("TRANSITION_ID"),qe=[{provide:te.ip1,useFactory:function($,ue,_e){return()=>{_e.get(te.CZH).donePromise.then(()=>{const Le=(0,n.q)(),Xe=ue.querySelectorAll(`style[ng-transition="${$}"]`);for(let ft=0;ft<Xe.length;ft++)Le.remove(Xe[ft])})}},deps:[nt,n.K0,te.zs3],multi:!0}];class $e{static init(){(0,te.VLi)(new $e)}addToWindow(ue){te.dqk.getAngularTestability=(Le,Xe=!0)=>{const ft=ue.findTestabilityInTree(Le,Xe);if(null==ft)throw new Error("Could not find testability for element.");return ft},te.dqk.getAllAngularTestabilities=()=>ue.getAllTestabilities(),te.dqk.getAllAngularRootElements=()=>ue.getAllRootElements(),te.dqk.frameworkStabilizers||(te.dqk.frameworkStabilizers=[]),te.dqk.frameworkStabilizers.push(Le=>{const Xe=te.dqk.getAllAngularTestabilities();let ft=Xe.length,Pt=!1;const Wt=function(nn){Pt=Pt||nn,ft--,0==ft&&Le(Pt)};Xe.forEach(function(nn){nn.whenStable(Wt)})})}findTestabilityInTree(ue,_e,Le){if(null==_e)return null;const Xe=ue.getTestability(_e);return null!=Xe?Xe:Le?(0,n.q)().isShadowRoot(_e)?this.findTestabilityInTree(ue,_e.host,!0):this.findTestabilityInTree(ue,_e.parentElement,!0):null}}let Qe=(()=>{class ${build(){return new XMLHttpRequest}}return $.\u0275fac=function(_e){return new(_e||$)},$.\u0275prov=te.Yz7({token:$,factory:$.\u0275fac}),$})();const on=new te.OlP("EventManagerPlugins");let sn=(()=>{class ${constructor(_e,Le){this._zone=Le,this._eventNameToPlugin=new Map,_e.forEach(Xe=>Xe.manager=this),this._plugins=_e.slice().reverse()}addEventListener(_e,Le,Xe){return this._findPluginFor(Le).addEventListener(_e,Le,Xe)}addGlobalEventListener(_e,Le,Xe){return this._findPluginFor(Le).addGlobalEventListener(_e,Le,Xe)}getZone(){return this._zone}_findPluginFor(_e){const Le=this._eventNameToPlugin.get(_e);if(Le)return Le;const Xe=this._plugins;for(let ft=0;ft<Xe.length;ft++){const Pt=Xe[ft];if(Pt.supports(_e))return this._eventNameToPlugin.set(_e,Pt),Pt}throw new Error(`No event manager plugin found for event ${_e}`)}}return $.\u0275fac=function(_e){return new(_e||$)(te.LFG(on),te.LFG(te.R0b))},$.\u0275prov=te.Yz7({token:$,factory:$.\u0275fac}),$})();class pn{constructor(ue){this._doc=ue}addGlobalEventListener(ue,_e,Le){const Xe=(0,n.q)().getGlobalEventTarget(this._doc,ue);if(!Xe)throw new Error(`Unsupported event target ${Xe} for event ${_e}`);return this.addEventListener(Xe,_e,Le)}}let wt=(()=>{class ${constructor(){this._stylesSet=new Set}addStyles(_e){const Le=new Set;_e.forEach(Xe=>{this._stylesSet.has(Xe)||(this._stylesSet.add(Xe),Le.add(Xe))}),this.onStylesAdded(Le)}onStylesAdded(_e){}getAllStyles(){return Array.from(this._stylesSet)}}return $.\u0275fac=function(_e){return new(_e||$)},$.\u0275prov=te.Yz7({token:$,factory:$.\u0275fac}),$})(),Yt=(()=>{class $ extends wt{constructor(_e){super(),this._doc=_e,this._hostNodes=new Map,this._hostNodes.set(_e.head,[])}_addStylesToHost(_e,Le,Xe){_e.forEach(ft=>{const Pt=this._doc.createElement("style");Pt.textContent=ft,Xe.push(Le.appendChild(Pt))})}addHost(_e){const Le=[];this._addStylesToHost(this._stylesSet,_e,Le),this._hostNodes.set(_e,Le)}removeHost(_e){const Le=this._hostNodes.get(_e);Le&&Le.forEach(gn),this._hostNodes.delete(_e)}onStylesAdded(_e){this._hostNodes.forEach((Le,Xe)=>{this._addStylesToHost(_e,Xe,Le)})}ngOnDestroy(){this._hostNodes.forEach(_e=>_e.forEach(gn))}}return $.\u0275fac=function(_e){return new(_e||$)(te.LFG(n.K0))},$.\u0275prov=te.Yz7({token:$,factory:$.\u0275fac}),$})();function gn($){(0,n.q)().remove($)}const kn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Zn=/%COMP%/g;function fi($,ue,_e){for(let Le=0;Le<ue.length;Le++){let Xe=ue[Le];Array.isArray(Xe)?fi($,Xe,_e):(Xe=Xe.replace(Zn,$),_e.push(Xe))}return _e}function ri($){return ue=>{if("__ngUnwrap__"===ue)return $;!1===$(ue)&&(ue.preventDefault(),ue.returnValue=!1)}}let Un=(()=>{class ${constructor(_e,Le,Xe){this.eventManager=_e,this.sharedStylesHost=Le,this.appId=Xe,this.rendererByCompId=new Map,this.defaultRenderer=new _i(_e)}createRenderer(_e,Le){if(!_e||!Le)return this.defaultRenderer;switch(Le.encapsulation){case te.ifc.Emulated:{let Xe=this.rendererByCompId.get(Le.id);return Xe||(Xe=new fr(this.eventManager,this.sharedStylesHost,Le,this.appId),this.rendererByCompId.set(Le.id,Xe)),Xe.applyToHost(_e),Xe}case 1:case te.ifc.ShadowDom:return new Ji(this.eventManager,this.sharedStylesHost,_e,Le);default:if(!this.rendererByCompId.has(Le.id)){const Xe=fi(Le.id,Le.styles,[]);this.sharedStylesHost.addStyles(Xe),this.rendererByCompId.set(Le.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return $.\u0275fac=function(_e){return new(_e||$)(te.LFG(sn),te.LFG(Yt),te.LFG(te.AFp))},$.\u0275prov=te.Yz7({token:$,factory:$.\u0275fac}),$})();class _i{constructor(ue){this.eventManager=ue,this.data=Object.create(null)}destroy(){}createElement(ue,_e){return _e?document.createElementNS(kn[_e]||_e,ue):document.createElement(ue)}createComment(ue){return document.createComment(ue)}createText(ue){return document.createTextNode(ue)}appendChild(ue,_e){ue.appendChild(_e)}insertBefore(ue,_e,Le){ue&&ue.insertBefore(_e,Le)}removeChild(ue,_e){ue&&ue.removeChild(_e)}selectRootElement(ue,_e){let Le="string"==typeof ue?document.querySelector(ue):ue;if(!Le)throw new Error(`The selector "${ue}" did not match any elements`);return _e||(Le.textContent=""),Le}parentNode(ue){return ue.parentNode}nextSibling(ue){return ue.nextSibling}setAttribute(ue,_e,Le,Xe){if(Xe){_e=Xe+":"+_e;const ft=kn[Xe];ft?ue.setAttributeNS(ft,_e,Le):ue.setAttribute(_e,Le)}else ue.setAttribute(_e,Le)}removeAttribute(ue,_e,Le){if(Le){const Xe=kn[Le];Xe?ue.removeAttributeNS(Xe,_e):ue.removeAttribute(`${Le}:${_e}`)}else ue.removeAttribute(_e)}addClass(ue,_e){ue.classList.add(_e)}removeClass(ue,_e){ue.classList.remove(_e)}setStyle(ue,_e,Le,Xe){Xe&(te.JOm.DashCase|te.JOm.Important)?ue.style.setProperty(_e,Le,Xe&te.JOm.Important?"important":""):ue.style[_e]=Le}removeStyle(ue,_e,Le){Le&te.JOm.DashCase?ue.style.removeProperty(_e):ue.style[_e]=""}setProperty(ue,_e,Le){ue[_e]=Le}setValue(ue,_e){ue.nodeValue=_e}listen(ue,_e,Le){return"string"==typeof ue?this.eventManager.addGlobalEventListener(ue,_e,ri(Le)):this.eventManager.addEventListener(ue,_e,ri(Le))}}class fr extends _i{constructor(ue,_e,Le,Xe){super(ue),this.component=Le;const ft=fi(Xe+"-"+Le.id,Le.styles,[]);_e.addStyles(ft),this.contentAttr="_ngcontent-%COMP%".replace(Zn,Xe+"-"+Le.id),this.hostAttr="_nghost-%COMP%".replace(Zn,Xe+"-"+Le.id)}applyToHost(ue){super.setAttribute(ue,this.hostAttr,"")}createElement(ue,_e){const Le=super.createElement(ue,_e);return super.setAttribute(Le,this.contentAttr,""),Le}}class Ji extends _i{constructor(ue,_e,Le,Xe){super(ue),this.sharedStylesHost=_e,this.hostEl=Le,this.shadowRoot=Le.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ft=fi(Xe.id,Xe.styles,[]);for(let Pt=0;Pt<ft.length;Pt++){const Wt=document.createElement("style");Wt.textContent=ft[Pt],this.shadowRoot.appendChild(Wt)}}nodeOrShadowRoot(ue){return ue===this.hostEl?this.shadowRoot:ue}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ue,_e){return super.appendChild(this.nodeOrShadowRoot(ue),_e)}insertBefore(ue,_e,Le){return super.insertBefore(this.nodeOrShadowRoot(ue),_e,Le)}removeChild(ue,_e){return super.removeChild(this.nodeOrShadowRoot(ue),_e)}parentNode(ue){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ue)))}}let Or=(()=>{class $ extends pn{constructor(_e){super(_e)}supports(_e){return!0}addEventListener(_e,Le,Xe){return _e.addEventListener(Le,Xe,!1),()=>this.removeEventListener(_e,Le,Xe)}removeEventListener(_e,Le,Xe){return _e.removeEventListener(Le,Xe)}}return $.\u0275fac=function(_e){return new(_e||$)(te.LFG(n.K0))},$.\u0275prov=te.Yz7({token:$,factory:$.\u0275fac}),$})();const It=["alt","control","meta","shift"],mn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yn={alt:$=>$.altKey,control:$=>$.ctrlKey,meta:$=>$.metaKey,shift:$=>$.shiftKey};let ii=(()=>{class $ extends pn{constructor(_e){super(_e)}supports(_e){return null!=$.parseEventName(_e)}addEventListener(_e,Le,Xe){const ft=$.parseEventName(Le),Pt=$.eventCallback(ft.fullKey,Xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,n.q)().onAndCancel(_e,ft.domEventName,Pt))}static parseEventName(_e){const Le=_e.toLowerCase().split("."),Xe=Le.shift();if(0===Le.length||"keydown"!==Xe&&"keyup"!==Xe)return null;const ft=$._normalizeKey(Le.pop());let Pt="";if(It.forEach(nn=>{const Je=Le.indexOf(nn);Je>-1&&(Le.splice(Je,1),Pt+=nn+".")}),Pt+=ft,0!=Le.length||0===ft.length)return null;const Wt={};return Wt.domEventName=Xe,Wt.fullKey=Pt,Wt}static getEventFullKey(_e){let Le="",Xe=function($){let ue=$.key;if(null==ue){if(ue=$.keyIdentifier,null==ue)return"Unidentified";ue.startsWith("U+")&&(ue=String.fromCharCode(parseInt(ue.substring(2),16)),3===$.location&&Rn.hasOwnProperty(ue)&&(ue=Rn[ue]))}return mn[ue]||ue}(_e);return Xe=Xe.toLowerCase()," "===Xe?Xe="space":"."===Xe&&(Xe="dot"),It.forEach(ft=>{ft!=Xe&&Yn[ft](_e)&&(Le+=ft+".")}),Le+=Xe,Le}static eventCallback(_e,Le,Xe){return ft=>{$.getEventFullKey(ft)===_e&&Xe.runGuarded(()=>Le(ft))}}static _normalizeKey(_e){switch(_e){case"esc":return"escape";default:return _e}}}return $.\u0275fac=function(_e){return new(_e||$)(te.LFG(n.K0))},$.\u0275prov=te.Yz7({token:$,factory:$.\u0275fac}),$})(),ut=(()=>{class ${}return $.\u0275fac=function(_e){return new(_e||$)},$.\u0275prov=(0,te.Yz7)({factory:function(){return(0,te.LFG)(zt)},token:$,providedIn:"root"}),$})(),zt=(()=>{class $ extends ut{constructor(_e){super(),this._doc=_e}sanitize(_e,Le){if(null==Le)return null;switch(_e){case te.q3G.NONE:return Le;case te.q3G.HTML:return(0,te.qzn)(Le,"HTML")?(0,te.z3N)(Le):(0,te.EiD)(this._doc,String(Le)).toString();case te.q3G.STYLE:return(0,te.qzn)(Le,"Style")?(0,te.z3N)(Le):Le;case te.q3G.SCRIPT:if((0,te.qzn)(Le,"Script"))return(0,te.z3N)(Le);throw new Error("unsafe value used in a script context");case te.q3G.URL:return(0,te.yhl)(Le),(0,te.qzn)(Le,"URL")?(0,te.z3N)(Le):(0,te.mCW)(String(Le));case te.q3G.RESOURCE_URL:if((0,te.qzn)(Le,"ResourceURL"))return(0,te.z3N)(Le);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${_e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(_e){return(0,te.JVY)(_e)}bypassSecurityTrustStyle(_e){return(0,te.L6k)(_e)}bypassSecurityTrustScript(_e){return(0,te.eBb)(_e)}bypassSecurityTrustUrl(_e){return(0,te.LAX)(_e)}bypassSecurityTrustResourceUrl(_e){return(0,te.pB0)(_e)}}return $.\u0275fac=function(_e){return new(_e||$)(te.LFG(n.K0))},$.\u0275prov=(0,te.Yz7)({factory:function(){return function($){return new zt($.get(n.K0))}((0,te.LFG)(te.gxx))},token:$,providedIn:"root"}),$})();const We=(0,te.eFA)(te._c5,"browser",[{provide:te.Lbi,useValue:n.bD},{provide:te.g9A,useValue:function(){we.makeCurrent(),$e.init()},multi:!0},{provide:n.K0,useFactory:function(){return(0,te.RDi)(document),document},deps:[]}]),pt=[[],{provide:te.zSh,useValue:"root"},{provide:te.qLn,useFactory:function(){return new te.qLn},deps:[]},{provide:on,useClass:Or,multi:!0,deps:[n.K0,te.R0b,te.Lbi]},{provide:on,useClass:ii,multi:!0,deps:[n.K0]},[],{provide:Un,useClass:Un,deps:[sn,Yt,te.AFp]},{provide:te.FYo,useExisting:Un},{provide:wt,useExisting:Yt},{provide:Yt,useClass:Yt,deps:[n.K0]},{provide:te.dDg,useClass:te.dDg,deps:[te.R0b]},{provide:sn,useClass:sn,deps:[on,te.R0b]},{provide:n.JF,useClass:Qe,deps:[]},[]];let Ut=(()=>{class ${constructor(_e){if(_e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(_e){return{ngModule:$,providers:[{provide:te.AFp,useValue:_e.appId},{provide:nt,useExisting:te.AFp},qe]}}}return $.\u0275fac=function(_e){return new(_e||$)(te.LFG($,12))},$.\u0275mod=te.oAB({type:$}),$.\u0275inj=te.cJS({providers:pt,imports:[n.ez,te.hGG]}),$})();function st(){return new Ge((0,te.LFG)(n.K0))}let Ge=(()=>{class ${constructor(_e){this._doc=_e,this._dom=(0,n.q)()}addTag(_e,Le=!1){return _e?this._getOrCreateElement(_e,Le):null}addTags(_e,Le=!1){return _e?_e.reduce((Xe,ft)=>(ft&&Xe.push(this._getOrCreateElement(ft,Le)),Xe),[]):[]}getTag(_e){return _e&&this._doc.querySelector(`meta[${_e}]`)||null}getTags(_e){if(!_e)return[];const Le=this._doc.querySelectorAll(`meta[${_e}]`);return Le?[].slice.call(Le):[]}updateTag(_e,Le){if(!_e)return null;Le=Le||this._parseSelector(_e);const Xe=this.getTag(Le);return Xe?this._setMetaElementAttributes(_e,Xe):this._getOrCreateElement(_e,!0)}removeTag(_e){this.removeTagElement(this.getTag(_e))}removeTagElement(_e){_e&&this._dom.remove(_e)}_getOrCreateElement(_e,Le=!1){if(!Le){const Pt=this._parseSelector(_e),Wt=this.getTags(Pt).filter(nn=>this._containsAttributes(_e,nn))[0];if(void 0!==Wt)return Wt}const Xe=this._dom.createElement("meta");return this._setMetaElementAttributes(_e,Xe),this._doc.getElementsByTagName("head")[0].appendChild(Xe),Xe}_setMetaElementAttributes(_e,Le){return Object.keys(_e).forEach(Xe=>Le.setAttribute(this._getMetaKeyMap(Xe),_e[Xe])),Le}_parseSelector(_e){const Le=_e.name?"name":"property";return`${Le}="${_e[Le]}"`}_containsAttributes(_e,Le){return Object.keys(_e).every(Xe=>Le.getAttribute(this._getMetaKeyMap(Xe))===_e[Xe])}_getMetaKeyMap(_e){return yt[_e]||_e}}return $.\u0275fac=function(_e){return new(_e||$)(te.LFG(n.K0))},$.\u0275prov=(0,te.Yz7)({factory:st,token:$,providedIn:"root"}),$})();const yt={httpEquiv:"http-equiv"};function Bt(){return new Cn((0,te.LFG)(n.K0))}let Cn=(()=>{class ${constructor(_e){this._doc=_e}getTitle(){return this._doc.title}setTitle(_e){this._doc.title=_e||""}}return $.\u0275fac=function(_e){return new(_e||$)(te.LFG(n.K0))},$.\u0275prov=(0,te.Yz7)({factory:Bt,token:$,providedIn:"root"}),$})();"undefined"!=typeof window&&window},5987:(Se,Ze,X)=>{"use strict";X.d(Ze,{gz:()=>ft,jw:()=>Ji,m2:()=>ni,GH:()=>mi,xV:()=>_i,F0:()=>eo,Bz:()=>_a,lC:()=>hc,fw:()=>ot});var n=X(8583),te=X(7716),Oe=X(4402),we=X(5917),Fe=X(6215),Ue=X(739),He=X(8891),Ne=X(3410),nt=X(8071),Be=X(1439),qe=X(9193),$e=X(2441),Qe=X(9765),Ot=X(5435),Zt=X(7393),_t=X(7108);function Ae(be){return function(le){return 0===be?(0,qe.c)():le.lift(new Mt(be))}}class Mt{constructor(ge){if(this.total=ge,this.total<0)throw new _t.W}call(ge,le){return le.subscribe(new ce(ge,this.total))}}class ce extends Zt.L{constructor(ge,le){super(ge),this.total=le,this.ring=new Array,this.count=0}_next(ge){const le=this.ring,De=this.total,xe=this.count++;le.length<De?le.push(ge):le[xe%De]=ge}_complete(){const ge=this.destination;let le=this.count;if(le>0){const De=this.count>=this.total?this.total:this.count,xe=this.ring;for(let ht=0;ht<De;ht++){const rn=le++%De;ge.next(xe[rn])}}ge.complete()}}var ve=X(4635),Me=X(5242),tt=X(4487),Dt=X(8002),cn=X(3190),gt=X(5257),Ht=X(9761),Lt=X(2145),on=X(5304),sn=X(4612),pn=X(8049),wt=X(9773),Yt=X(8307),gn=X(1307),kn=X(8939),Zn=X(3282);class In{constructor(ge,le){this.id=ge,this.url=le}}class Hn extends In{constructor(ge,le,De="imperative",xe=null){super(ge,le),this.navigationTrigger=De,this.restoredState=xe}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ni extends In{constructor(ge,le,De){super(ge,le),this.urlAfterRedirects=De}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pi extends In{constructor(ge,le,De){super(ge,le),this.reason=De}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fi extends In{constructor(ge,le,De){super(ge,le),this.error=De}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bi extends In{constructor(ge,le,De,xe){super(ge,le),this.urlAfterRedirects=De,this.state=xe}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fi extends In{constructor(ge,le,De,xe){super(ge,le),this.urlAfterRedirects=De,this.state=xe}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ri extends In{constructor(ge,le,De,xe,ht){super(ge,le),this.urlAfterRedirects=De,this.state=xe,this.shouldActivate=ht}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zn extends In{constructor(ge,le,De,xe){super(ge,le),this.urlAfterRedirects=De,this.state=xe}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Un extends In{constructor(ge,le,De,xe){super(ge,le),this.urlAfterRedirects=De,this.state=xe}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _i{constructor(ge){this.route=ge}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mi{constructor(ge){this.route=ge}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ji{constructor(ge){this.snapshot=ge}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class er{constructor(ge){this.snapshot=ge}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fr{constructor(ge){this.snapshot=ge}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ji{constructor(ge){this.snapshot=ge}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Or{constructor(ge,le,De){this.routerEvent=ge,this.position=le,this.anchor=De}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Qn="primary";class Yi{constructor(ge){this.params=ge||{}}has(ge){return Object.prototype.hasOwnProperty.call(this.params,ge)}get(ge){if(this.has(ge)){const le=this.params[ge];return Array.isArray(le)?le[0]:le}return null}getAll(ge){if(this.has(ge)){const le=this.params[ge];return Array.isArray(le)?le:[le]}return[]}get keys(){return Object.keys(this.params)}}function yr(be){return new Yi(be)}const pr="ngNavigationCancelingError";function bn(be){const ge=Error("NavigationCancelingError: "+be);return ge[pr]=!0,ge}function tn(be,ge,le){const De=le.path.split("/");if(De.length>be.length||"full"===le.pathMatch&&(ge.hasChildren()||De.length<be.length))return null;const xe={};for(let ht=0;ht<De.length;ht++){const rn=De[ht],yn=be[ht];if(rn.startsWith(":"))xe[rn.substring(1)]=yn;else if(rn!==yn.path)return null}return{consumed:be.slice(0,De.length),posParams:xe}}function Ve(be,ge){const le=be?Object.keys(be):void 0,De=ge?Object.keys(ge):void 0;if(!le||!De||le.length!=De.length)return!1;let xe;for(let ht=0;ht<le.length;ht++)if(xe=le[ht],!It(be[xe],ge[xe]))return!1;return!0}function It(be,ge){if(Array.isArray(be)&&Array.isArray(ge)){if(be.length!==ge.length)return!1;const le=[...be].sort(),De=[...ge].sort();return le.every((xe,ht)=>De[ht]===xe)}return be===ge}function vt(be){return Array.prototype.concat.apply([],be)}function mn(be){return be.length>0?be[be.length-1]:null}function _n(be,ge){for(const le in be)be.hasOwnProperty(le)&&ge(be[le],le)}function Pn(be){return(0,te.CqO)(be)?be:(0,te.QGY)(be)?(0,Oe.D)(Promise.resolve(be)):(0,we.of)(be)}const Jn={exact:function ut(be,ge,le){if(!Ct(be.segments,ge.segments)||!Tn(be.segments,ge.segments,le)||be.numberOfChildren!==ge.numberOfChildren)return!1;for(const De in ge.children)if(!be.children[De]||!ut(be.children[De],ge.children[De],le))return!1;return!0},subset:zt},Yn={exact:function(be,ge){return Ve(be,ge)},subset:function(be,ge){return Object.keys(ge).length<=Object.keys(be).length&&Object.keys(ge).every(le=>It(be[le],ge[le]))},ignored:()=>!0};function ii(be,ge,le){return Jn[le.paths](be.root,ge.root,le.matrixParams)&&Yn[le.queryParams](be.queryParams,ge.queryParams)&&!("exact"===le.fragment&&be.fragment!==ge.fragment)}function zt(be,ge,le){return Gt(be,ge,ge.segments,le)}function Gt(be,ge,le,De){if(be.segments.length>le.length){const xe=be.segments.slice(0,le.length);return!(!Ct(xe,le)||ge.hasChildren()||!Tn(xe,le,De))}if(be.segments.length===le.length){if(!Ct(be.segments,le)||!Tn(be.segments,le,De))return!1;for(const xe in ge.children)if(!be.children[xe]||!zt(be.children[xe],ge.children[xe],De))return!1;return!0}{const xe=le.slice(0,be.segments.length),ht=le.slice(be.segments.length);return!!(Ct(be.segments,xe)&&Tn(be.segments,xe,De)&&be.children[Qn])&&Gt(be.children[Qn],ge,ht,De)}}function Tn(be,ge,le){return ge.every((De,xe)=>Yn[le](be[xe].parameters,De.parameters))}class ti{constructor(ge,le,De){this.root=ge,this.queryParams=le,this.fragment=De}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yr(this.queryParams)),this._queryParamMap}toString(){return Ut.serialize(this)}}class Fn{constructor(ge,le){this.segments=ge,this.children=le,this.parent=null,_n(le,(De,xe)=>De.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return st(this)}}class Ni{constructor(ge,le){this.path=ge,this.parameters=le}get parameterMap(){return this._parameterMap||(this._parameterMap=yr(this.parameters)),this._parameterMap}toString(){return wi(this)}}function Ct(be,ge){return be.length===ge.length&&be.every((le,De)=>le.path===ge[De].path)}class We{}class pt{parse(ge){const le=new Ur(ge);return new ti(le.parseRootSegment(),le.parseQueryParams(),le.parseFragment())}serialize(ge){var be;return`${`/${Ge(ge.root,!0)}`}${function(be){const ge=Object.keys(be).map(le=>{const De=be[le];return Array.isArray(De)?De.map(xe=>`${Bt(le)}=${Bt(xe)}`).join("&"):`${Bt(le)}=${Bt(De)}`}).filter(le=>!!le);return ge.length?`?${ge.join("&")}`:""}(ge.queryParams)}${"string"==typeof ge.fragment?`#${be=ge.fragment,encodeURI(be)}`:""}`}}const Ut=new pt;function st(be){return be.segments.map(ge=>wi(ge)).join("/")}function Ge(be,ge){if(!be.hasChildren())return st(be);if(ge){const le=be.children[Qn]?Ge(be.children[Qn],!1):"",De=[];return _n(be.children,(xe,ht)=>{ht!==Qn&&De.push(`${ht}:${Ge(xe,!1)}`)}),De.length>0?`${le}(${De.join("//")})`:le}{const le=function(be,ge){let le=[];return _n(be.children,(De,xe)=>{xe===Qn&&(le=le.concat(ge(De,xe)))}),_n(be.children,(De,xe)=>{xe!==Qn&&(le=le.concat(ge(De,xe)))}),le}(be,(De,xe)=>xe===Qn?[Ge(be.children[Qn],!1)]:[`${xe}:${Ge(De,!1)}`]);return 1===Object.keys(be.children).length&&null!=be.children[Qn]?`${st(be)}/${le[0]}`:`${st(be)}/(${le.join("//")})`}}function yt(be){return encodeURIComponent(be).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bt(be){return yt(be).replace(/%3B/gi,";")}function wn(be){return yt(be).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ei(be){return decodeURIComponent(be)}function Pi(be){return ei(be.replace(/\+/g,"%20"))}function wi(be){return`${wn(be.path)}${function(be){return Object.keys(be).map(ge=>`;${wn(ge)}=${wn(be[ge])}`).join("")}(be.parameters)}`}const Ri=/^[^\/()?;=#]+/;function tr(be){const ge=be.match(Ri);return ge?ge[0]:""}const rr=/^[^=?&#]+/,lr=/^[^?&#]+/;class Ur{constructor(ge){this.url=ge,this.remaining=ge}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fn([],{}):new Fn([],this.parseChildren())}parseQueryParams(){const ge={};if(this.consumeOptional("?"))do{this.parseQueryParam(ge)}while(this.consumeOptional("&"));return ge}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ge=[];for(this.peekStartsWith("(")||ge.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ge.push(this.parseSegment());let le={};this.peekStartsWith("/(")&&(this.capture("/"),le=this.parseParens(!0));let De={};return this.peekStartsWith("(")&&(De=this.parseParens(!1)),(ge.length>0||Object.keys(le).length>0)&&(De[Qn]=new Fn(ge,le)),De}parseSegment(){const ge=tr(this.remaining);if(""===ge&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(ge),new Ni(ei(ge),this.parseMatrixParams())}parseMatrixParams(){const ge={};for(;this.consumeOptional(";");)this.parseParam(ge);return ge}parseParam(ge){const le=tr(this.remaining);if(!le)return;this.capture(le);let De="";if(this.consumeOptional("=")){const xe=tr(this.remaining);xe&&(De=xe,this.capture(De))}ge[ei(le)]=ei(De)}parseQueryParam(ge){const le=function(be){const ge=be.match(rr);return ge?ge[0]:""}(this.remaining);if(!le)return;this.capture(le);let De="";if(this.consumeOptional("=")){const rn=function(be){const ge=be.match(lr);return ge?ge[0]:""}(this.remaining);rn&&(De=rn,this.capture(De))}const xe=Pi(le),ht=Pi(De);if(ge.hasOwnProperty(xe)){let rn=ge[xe];Array.isArray(rn)||(rn=[rn],ge[xe]=rn),rn.push(ht)}else ge[xe]=ht}parseParens(ge){const le={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const De=tr(this.remaining),xe=this.remaining[De.length];if("/"!==xe&&")"!==xe&&";"!==xe)throw new Error(`Cannot parse url '${this.url}'`);let ht;De.indexOf(":")>-1?(ht=De.substr(0,De.indexOf(":")),this.capture(ht),this.capture(":")):ge&&(ht=Qn);const rn=this.parseChildren();le[ht]=1===Object.keys(rn).length?rn[Qn]:new Fn([],rn),this.consumeOptional("//")}return le}peekStartsWith(ge){return this.remaining.startsWith(ge)}consumeOptional(ge){return!!this.peekStartsWith(ge)&&(this.remaining=this.remaining.substring(ge.length),!0)}capture(ge){if(!this.consumeOptional(ge))throw new Error(`Expected "${ge}".`)}}class ao{constructor(ge){this._root=ge}get root(){return this._root.value}parent(ge){const le=this.pathFromRoot(ge);return le.length>1?le[le.length-2]:null}children(ge){const le=ct(ge,this._root);return le?le.children.map(De=>De.value):[]}firstChild(ge){const le=ct(ge,this._root);return le&&le.children.length>0?le.children[0].value:null}siblings(ge){const le=lt(ge,this._root);return le.length<2?[]:le[le.length-2].children.map(xe=>xe.value).filter(xe=>xe!==ge)}pathFromRoot(ge){return lt(ge,this._root).map(le=>le.value)}}function ct(be,ge){if(be===ge.value)return ge;for(const le of ge.children){const De=ct(be,le);if(De)return De}return null}function lt(be,ge){if(be===ge.value)return[ge];for(const le of ge.children){const De=lt(be,le);if(De.length)return De.unshift(ge),De}return[]}class ${constructor(ge,le){this.value=ge,this.children=le}toString(){return`TreeNode(${this.value})`}}function ue(be){const ge={};return be&&be.children.forEach(le=>ge[le.value.outlet]=le),ge}class _e extends ao{constructor(ge,le){super(ge),this.snapshot=le,Nt(this,ge)}toString(){return this.snapshot.toString()}}function Le(be,ge){const le=function(be,ge){const rn=new nn([],{},{},"",{},Qn,ge,null,be.root,-1,{});return new Je("",new $(rn,[]))}(be,ge),De=new Fe.X([new Ni("",{})]),xe=new Fe.X({}),ht=new Fe.X({}),rn=new Fe.X({}),yn=new Fe.X(""),Nn=new ft(De,xe,rn,yn,ht,Qn,ge,le.root);return Nn.snapshot=le.root,new _e(new $(Nn,[]),le)}class ft{constructor(ge,le,De,xe,ht,rn,yn,Nn){this.url=ge,this.params=le,this.queryParams=De,this.fragment=xe,this.data=ht,this.outlet=rn,this.component=yn,this._futureSnapshot=Nn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(ge=>yr(ge)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(ge=>yr(ge)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pt(be,ge="emptyOnly"){const le=be.pathFromRoot;let De=0;if("always"!==ge)for(De=le.length-1;De>=1;){const xe=le[De],ht=le[De-1];if(xe.routeConfig&&""===xe.routeConfig.path)De--;else{if(ht.component)break;De--}}return function(be){return be.reduce((ge,le)=>({params:Object.assign(Object.assign({},ge.params),le.params),data:Object.assign(Object.assign({},ge.data),le.data),resolve:Object.assign(Object.assign({},ge.resolve),le._resolvedData)}),{params:{},data:{},resolve:{}})}(le.slice(De))}class nn{constructor(ge,le,De,xe,ht,rn,yn,Nn,vi,wr,Mi){this.url=ge,this.params=le,this.queryParams=De,this.fragment=xe,this.data=ht,this.outlet=rn,this.component=yn,this.routeConfig=Nn,this._urlSegment=vi,this._lastPathIndex=wr,this._resolve=Mi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(De=>De.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Je extends ao{constructor(ge,le){super(le),this.url=ge,Nt(this,le)}toString(){return mt(this._root)}}function Nt(be,ge){ge.value._routerState=be,ge.children.forEach(le=>Nt(be,le))}function mt(be){const ge=be.children.length>0?` { ${be.children.map(mt).join(", ")} } `:"";return`${be.value}${ge}`}function Qt(be){if(be.snapshot){const ge=be.snapshot,le=be._futureSnapshot;be.snapshot=le,Ve(ge.queryParams,le.queryParams)||be.queryParams.next(le.queryParams),ge.fragment!==le.fragment&&be.fragment.next(le.fragment),Ve(ge.params,le.params)||be.params.next(le.params),function(be,ge){if(be.length!==ge.length)return!1;for(let le=0;le<be.length;++le)if(!Ve(be[le],ge[le]))return!1;return!0}(ge.url,le.url)||be.url.next(le.url),Ve(ge.data,le.data)||be.data.next(le.data)}else be.snapshot=be._futureSnapshot,be.data.next(be._futureSnapshot.data)}function un(be,ge){return Ve(be.params,ge.params)&&function(be,ge){return Ct(be,ge)&&be.every((le,De)=>Ve(le.parameters,ge[De].parameters))}(be.url,ge.url)&&!(!be.parent!=!ge.parent)&&(!be.parent||un(be.parent,ge.parent))}function $n(be,ge,le){if(le&&be.shouldReuseRoute(ge.value,le.value.snapshot)){const De=le.value;De._futureSnapshot=ge.value;const xe=function(be,ge,le){return ge.children.map(De=>{for(const xe of le.children)if(be.shouldReuseRoute(De.value,xe.value.snapshot))return $n(be,De,xe);return $n(be,De)})}(be,ge,le);return new $(De,xe)}{if(be.shouldAttach(ge.value)){const ht=be.retrieve(ge.value);if(null!==ht){const rn=ht.route;return Xn(ge,rn),rn}}const De=function(be){return new ft(new Fe.X(be.url),new Fe.X(be.params),new Fe.X(be.queryParams),new Fe.X(be.fragment),new Fe.X(be.data),be.outlet,be.component,be)}(ge.value),xe=ge.children.map(ht=>$n(be,ht));return new $(De,xe)}}function Xn(be,ge){if(be.value.routeConfig!==ge.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(be.children.length!==ge.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");ge.value._futureSnapshot=be.value;for(let le=0;le<be.children.length;++le)Xn(be.children[le],ge.children[le])}function Ui(be){return"object"==typeof be&&null!=be&&!be.outlets&&!be.segmentPath}function ar(be){return"object"==typeof be&&null!=be&&be.outlets}function ur(be,ge,le,De,xe){let ht={};return De&&_n(De,(rn,yn)=>{ht[yn]=Array.isArray(rn)?rn.map(Nn=>`${Nn}`):`${rn}`}),new ti(le.root===be?ge:gr(le.root,be,ge),ht,xe)}function gr(be,ge,le){const De={};return _n(be.children,(xe,ht)=>{De[ht]=xe===ge?le:gr(xe,ge,le)}),new Fn(be.segments,De)}class mr{constructor(ge,le,De){if(this.isAbsolute=ge,this.numberOfDoubleDots=le,this.commands=De,ge&&De.length>0&&Ui(De[0]))throw new Error("Root segment cannot have matrix parameters");const xe=De.find(ar);if(xe&&xe!==mn(De))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xr{constructor(ge,le,De){this.segmentGroup=ge,this.processChildren=le,this.index=De}}function zo(be,ge,le){if(be||(be=new Fn([],{})),0===be.segments.length&&be.hasChildren())return Qr(be,ge,le);const De=function(be,ge,le){let De=0,xe=ge;const ht={match:!1,pathIndex:0,commandIndex:0};for(;xe<be.segments.length;){if(De>=le.length)return ht;const rn=be.segments[xe],yn=le[De];if(ar(yn))break;const Nn=`${yn}`,vi=De<le.length-1?le[De+1]:null;if(xe>0&&void 0===Nn)break;if(Nn&&vi&&"object"==typeof vi&&void 0===vi.outlets){if(!No(Nn,vi,rn))return ht;De+=2}else{if(!No(Nn,{},rn))return ht;De++}xe++}return{match:!0,pathIndex:xe,commandIndex:De}}(be,ge,le),xe=le.slice(De.commandIndex);if(De.match&&De.pathIndex<be.segments.length){const ht=new Fn(be.segments.slice(0,De.pathIndex),{});return ht.children[Qn]=new Fn(be.segments.slice(De.pathIndex),be.children),Qr(ht,0,xe)}return De.match&&0===xe.length?new Fn(be.segments,{}):De.match&&!be.hasChildren()?_o(be,ge,le):De.match?Qr(be,0,xe):_o(be,ge,le)}function Qr(be,ge,le){if(0===le.length)return new Fn(be.segments,{});{const De=function(be){return ar(be[0])?be[0].outlets:{[Qn]:be}}(le),xe={};return _n(De,(ht,rn)=>{"string"==typeof ht&&(ht=[ht]),null!==ht&&(xe[rn]=zo(be.children[rn],ge,ht))}),_n(be.children,(ht,rn)=>{void 0===De[rn]&&(xe[rn]=ht)}),new Fn(be.segments,xe)}}function _o(be,ge,le){const De=be.segments.slice(0,ge);let xe=0;for(;xe<le.length;){const ht=le[xe];if(ar(ht)){const Nn=hs(ht.outlets);return new Fn(De,Nn)}if(0===xe&&Ui(le[0])){De.push(new Ni(be.segments[ge].path,Ts(le[0]))),xe++;continue}const rn=ar(ht)?ht.outlets[Qn]:`${ht}`,yn=xe<le.length-1?le[xe+1]:null;rn&&yn&&Ui(yn)?(De.push(new Ni(rn,Ts(yn))),xe+=2):(De.push(new Ni(rn,{})),xe++)}return new Fn(De,{})}function hs(be){const ge={};return _n(be,(le,De)=>{"string"==typeof le&&(le=[le]),null!==le&&(ge[De]=_o(new Fn([],{}),0,le))}),ge}function Ts(be){const ge={};return _n(be,(le,De)=>ge[De]=`${le}`),ge}function No(be,ge,le){return be==le.path&&Ve(ge,le.parameters)}class wo{constructor(ge,le,De,xe){this.routeReuseStrategy=ge,this.futureState=le,this.currState=De,this.forwardEvent=xe}activate(ge){const le=this.futureState._root,De=this.currState?this.currState._root:null;this.deactivateChildRoutes(le,De,ge),Qt(this.futureState.root),this.activateChildRoutes(le,De,ge)}deactivateChildRoutes(ge,le,De){const xe=ue(le);ge.children.forEach(ht=>{const rn=ht.value.outlet;this.deactivateRoutes(ht,xe[rn],De),delete xe[rn]}),_n(xe,(ht,rn)=>{this.deactivateRouteAndItsChildren(ht,De)})}deactivateRoutes(ge,le,De){const xe=ge.value,ht=le?le.value:null;if(xe===ht)if(xe.component){const rn=De.getContext(xe.outlet);rn&&this.deactivateChildRoutes(ge,le,rn.children)}else this.deactivateChildRoutes(ge,le,De);else ht&&this.deactivateRouteAndItsChildren(le,De)}deactivateRouteAndItsChildren(ge,le){this.routeReuseStrategy.shouldDetach(ge.value.snapshot)?this.detachAndStoreRouteSubtree(ge,le):this.deactivateRouteAndOutlet(ge,le)}detachAndStoreRouteSubtree(ge,le){const De=le.getContext(ge.value.outlet);if(De&&De.outlet){const xe=De.outlet.detach(),ht=De.children.onOutletDeactivated();this.routeReuseStrategy.store(ge.value.snapshot,{componentRef:xe,route:ge,contexts:ht})}}deactivateRouteAndOutlet(ge,le){const De=le.getContext(ge.value.outlet),xe=De&&ge.value.component?De.children:le,ht=ue(ge);for(const rn of Object.keys(ht))this.deactivateRouteAndItsChildren(ht[rn],xe);De&&De.outlet&&(De.outlet.deactivate(),De.children.onOutletDeactivated(),De.attachRef=null,De.resolver=null,De.route=null)}activateChildRoutes(ge,le,De){const xe=ue(le);ge.children.forEach(ht=>{this.activateRoutes(ht,xe[ht.value.outlet],De),this.forwardEvent(new Ji(ht.value.snapshot))}),ge.children.length&&this.forwardEvent(new er(ge.value.snapshot))}activateRoutes(ge,le,De){const xe=ge.value,ht=le?le.value:null;if(Qt(xe),xe===ht)if(xe.component){const rn=De.getOrCreateContext(xe.outlet);this.activateChildRoutes(ge,le,rn.children)}else this.activateChildRoutes(ge,le,De);else if(xe.component){const rn=De.getOrCreateContext(xe.outlet);if(this.routeReuseStrategy.shouldAttach(xe.snapshot)){const yn=this.routeReuseStrategy.retrieve(xe.snapshot);this.routeReuseStrategy.store(xe.snapshot,null),rn.children.onOutletReAttached(yn.contexts),rn.attachRef=yn.componentRef,rn.route=yn.route.value,rn.outlet&&rn.outlet.attach(yn.componentRef,yn.route.value),So(yn.route)}else{const yn=function(be){for(let ge=be.parent;ge;ge=ge.parent){const le=ge.routeConfig;if(le&&le._loadedConfig)return le._loadedConfig;if(le&&le.component)return null}return null}(xe.snapshot),Nn=yn?yn.module.componentFactoryResolver:null;rn.attachRef=null,rn.route=xe,rn.resolver=Nn,rn.outlet&&rn.outlet.activateWith(xe,Nn),this.activateChildRoutes(ge,null,rn.children)}}else this.activateChildRoutes(ge,null,De)}}function So(be){Qt(be.value),be.children.forEach(So)}class fn{constructor(ge,le){this.routes=ge,this.module=le}}function Kt(be){return"function"==typeof be}function Sn(be){return be instanceof ti}const _r=Symbol("INITIAL_VALUE");function Dr(){return(0,cn.w)(be=>(0,Ue.aj)(be.map(ge=>ge.pipe((0,gt.q)(1),(0,Ht.O)(_r)))).pipe((0,Lt.R)((ge,le)=>{let De=!1;return le.reduce((xe,ht,rn)=>xe!==_r?xe:(ht===_r&&(De=!0),De||!1!==ht&&rn!==le.length-1&&!Sn(ht)?xe:ht),ge)},_r),(0,Ot.h)(ge=>ge!==_r),(0,Dt.U)(ge=>Sn(ge)?ge:!0===ge),(0,gt.q)(1)))}let ot=(()=>{class be{}return be.\u0275fac=function(le){return new(le||be)},be.\u0275cmp=te.Xpm({type:be,selectors:[["ng-component"]],decls:1,vars:0,template:function(le,De){1&le&&te._UZ(0,"router-outlet")},directives:function(){return[hc]},encapsulation:2}),be})();function an(be,ge=""){for(let le=0;le<be.length;le++){const De=be[le];Et(De,Xt(ge,De))}}function Et(be,ge){be.children&&an(be.children,ge)}function Xt(be,ge){return ge?be||ge.path?be&&!ge.path?`${be}/`:!be&&ge.path?ge.path:`${be}/${ge.path}`:"":be}function Bn(be){const ge=be.children&&be.children.map(Bn),le=ge?Object.assign(Object.assign({},be),{children:ge}):Object.assign({},be);return!le.component&&(ge||le.loadChildren)&&le.outlet&&le.outlet!==Qn&&(le.component=ot),le}function oi(be){return be.outlet||Qn}function Gi(be,ge){const le=be.filter(De=>oi(De)===ge);return le.push(...be.filter(De=>oi(De)!==ge)),le}const nr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function dr(be,ge,le){var De;if(""===ge.path)return"full"===ge.pathMatch&&(be.hasChildren()||le.length>0)?Object.assign({},nr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const ht=(ge.matcher||tn)(le,be,ge);if(!ht)return Object.assign({},nr);const rn={};_n(ht.posParams,(Nn,vi)=>{rn[vi]=Nn.path});const yn=ht.consumed.length>0?Object.assign(Object.assign({},rn),ht.consumed[ht.consumed.length-1].parameters):rn;return{matched:!0,consumedSegments:ht.consumed,lastChild:ht.consumed.length,parameters:yn,positionalParamSegments:null!==(De=ht.posParams)&&void 0!==De?De:{}}}function Rr(be,ge,le,De,xe="corrected"){if(le.length>0&&function(be,ge,le){return le.some(De=>Te(be,ge,De)&&oi(De)!==Qn)}(be,le,De)){const rn=new Fn(ge,function(be,ge,le,De){const xe={};xe[Qn]=De,De._sourceSegment=be,De._segmentIndexShift=ge.length;for(const ht of le)if(""===ht.path&&oi(ht)!==Qn){const rn=new Fn([],{});rn._sourceSegment=be,rn._segmentIndexShift=ge.length,xe[oi(ht)]=rn}return xe}(be,ge,De,new Fn(le,be.children)));return rn._sourceSegment=be,rn._segmentIndexShift=ge.length,{segmentGroup:rn,slicedSegments:[]}}if(0===le.length&&function(be,ge,le){return le.some(De=>Te(be,ge,De))}(be,le,De)){const rn=new Fn(be.segments,function(be,ge,le,De,xe,ht){const rn={};for(const yn of De)if(Te(be,le,yn)&&!xe[oi(yn)]){const Nn=new Fn([],{});Nn._sourceSegment=be,Nn._segmentIndexShift="legacy"===ht?be.segments.length:ge.length,rn[oi(yn)]=Nn}return Object.assign(Object.assign({},xe),rn)}(be,ge,le,De,be.children,xe));return rn._sourceSegment=be,rn._segmentIndexShift=ge.length,{segmentGroup:rn,slicedSegments:le}}const ht=new Fn(be.segments,be.children);return ht._sourceSegment=be,ht._segmentIndexShift=ge.length,{segmentGroup:ht,slicedSegments:le}}function Te(be,ge,le){return(!(be.hasChildren()||ge.length>0)||"full"!==le.pathMatch)&&""===le.path}function Ce(be,ge,le,De){return!!(oi(be)===De||De!==Qn&&Te(ge,le,be))&&("**"===be.path||dr(ge,be,le).matched)}function fe(be,ge,le){return 0===ge.length&&!be.children[le]}class ne{constructor(ge){this.segmentGroup=ge||null}}class se{constructor(ge){this.urlTree=ge}}function ae(be){return new He.y(ge=>ge.error(new ne(be)))}function Re(be){return new He.y(ge=>ge.error(new se(be)))}function en(be){return new He.y(ge=>ge.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${be}'`)))}class Pr{constructor(ge,le,De,xe,ht){this.configLoader=le,this.urlSerializer=De,this.urlTree=xe,this.config=ht,this.allowRedirects=!0,this.ngModule=ge.get(te.h0i)}apply(){const ge=Rr(this.urlTree.root,[],[],this.config).segmentGroup,le=new Fn(ge.segments,ge.children);return this.expandSegmentGroup(this.ngModule,this.config,le,Qn).pipe((0,Dt.U)(ht=>this.createUrlTree(Vr(ht),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,on.K)(ht=>{if(ht instanceof se)return this.allowRedirects=!1,this.match(ht.urlTree);throw ht instanceof ne?this.noMatchError(ht):ht}))}match(ge){return this.expandSegmentGroup(this.ngModule,this.config,ge.root,Qn).pipe((0,Dt.U)(xe=>this.createUrlTree(Vr(xe),ge.queryParams,ge.fragment))).pipe((0,on.K)(xe=>{throw xe instanceof ne?this.noMatchError(xe):xe}))}noMatchError(ge){return new Error(`Cannot match any routes. URL Segment: '${ge.segmentGroup}'`)}createUrlTree(ge,le,De){const xe=ge.segments.length>0?new Fn([],{[Qn]:ge}):ge;return new ti(xe,le,De)}expandSegmentGroup(ge,le,De,xe){return 0===De.segments.length&&De.hasChildren()?this.expandChildren(ge,le,De).pipe((0,Dt.U)(ht=>new Fn([],ht))):this.expandSegment(ge,De,le,De.segments,xe,!0)}expandChildren(ge,le,De){const xe=[];for(const ht of Object.keys(De.children))"primary"===ht?xe.unshift(ht):xe.push(ht);return(0,Oe.D)(xe).pipe((0,sn.b)(ht=>{const rn=De.children[ht],yn=Gi(le,ht);return this.expandSegmentGroup(ge,yn,rn,ht).pipe((0,Dt.U)(Nn=>({segment:Nn,outlet:ht})))}),(0,Lt.R)((ht,rn)=>(ht[rn.outlet]=rn.segment,ht),{}),function(be,ge){const le=arguments.length>=2;return De=>De.pipe(be?(0,Ot.h)((xe,ht)=>be(xe,ht,De)):tt.y,Ae(1),le?(0,Me.d)(ge):(0,ve.T)(()=>new Ne.K))}())}expandSegment(ge,le,De,xe,ht,rn){return(0,Oe.D)(De).pipe((0,sn.b)(yn=>this.expandSegmentAgainstRoute(ge,le,De,yn,xe,ht,rn).pipe((0,on.K)(vi=>{if(vi instanceof ne)return(0,we.of)(null);throw vi}))),(0,pn.P)(yn=>!!yn),(0,on.K)((yn,Nn)=>{if(yn instanceof Ne.K||"EmptyError"===yn.name){if(fe(le,xe,ht))return(0,we.of)(new Fn([],{}));throw new ne(le)}throw yn}))}expandSegmentAgainstRoute(ge,le,De,xe,ht,rn,yn){return Ce(xe,le,ht,rn)?void 0===xe.redirectTo?this.matchSegmentAgainstRoute(ge,le,xe,ht,rn):yn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ge,le,De,xe,ht,rn):ae(le):ae(le)}expandSegmentAgainstRouteUsingRedirect(ge,le,De,xe,ht,rn){return"**"===xe.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ge,De,xe,rn):this.expandRegularSegmentAgainstRouteUsingRedirect(ge,le,De,xe,ht,rn)}expandWildCardWithParamsAgainstRouteUsingRedirect(ge,le,De,xe){const ht=this.applyRedirectCommands([],De.redirectTo,{});return De.redirectTo.startsWith("/")?Re(ht):this.lineralizeSegments(De,ht).pipe((0,wt.zg)(rn=>{const yn=new Fn(rn,{});return this.expandSegment(ge,yn,le,rn,xe,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(ge,le,De,xe,ht,rn){const{matched:yn,consumedSegments:Nn,lastChild:vi,positionalParamSegments:wr}=dr(le,xe,ht);if(!yn)return ae(le);const Mi=this.applyRedirectCommands(Nn,xe.redirectTo,wr);return xe.redirectTo.startsWith("/")?Re(Mi):this.lineralizeSegments(xe,Mi).pipe((0,wt.zg)(Vn=>this.expandSegment(ge,le,De,Vn.concat(ht.slice(vi)),rn,!1)))}matchSegmentAgainstRoute(ge,le,De,xe,ht){if("**"===De.path)return De.loadChildren?(De._loadedConfig?(0,we.of)(De._loadedConfig):this.configLoader.load(ge.injector,De)).pipe((0,Dt.U)(Vn=>(De._loadedConfig=Vn,new Fn(xe,{})))):(0,we.of)(new Fn(xe,{}));const{matched:rn,consumedSegments:yn,lastChild:Nn}=dr(le,De,xe);if(!rn)return ae(le);const vi=xe.slice(Nn);return this.getChildConfig(ge,De,xe).pipe((0,wt.zg)(Mi=>{const Vn=Mi.module,ai=Mi.routes,{segmentGroup:bo,slicedSegments:Ws}=Rr(le,yn,vi,ai),ts=new Fn(bo.segments,bo.children);if(0===Ws.length&&ts.hasChildren())return this.expandChildren(Vn,ai,ts).pipe((0,Dt.U)(q=>new Fn(yn,q)));if(0===ai.length&&0===Ws.length)return(0,we.of)(new Fn(yn,{}));const rc=oi(De)===ht;return this.expandSegment(Vn,ts,ai,Ws,rc?Qn:ht,!0).pipe((0,Dt.U)(ye=>new Fn(yn.concat(ye.segments),ye.children)))}))}getChildConfig(ge,le,De){return le.children?(0,we.of)(new fn(le.children,ge)):le.loadChildren?void 0!==le._loadedConfig?(0,we.of)(le._loadedConfig):this.runCanLoadGuards(ge.injector,le,De).pipe((0,wt.zg)(xe=>{return xe?this.configLoader.load(ge.injector,le).pipe((0,Dt.U)(ht=>(le._loadedConfig=ht,ht))):(be=le,new He.y(ge=>ge.error(bn(`Cannot load children because the guard of the route "path: '${be.path}'" returned false`))));var be})):(0,we.of)(new fn([],ge))}runCanLoadGuards(ge,le,De){const xe=le.canLoad;if(!xe||0===xe.length)return(0,we.of)(!0);const ht=xe.map(rn=>{const yn=ge.get(rn);let Nn;if((be=yn)&&Kt(be.canLoad))Nn=yn.canLoad(le,De);else{if(!Kt(yn))throw new Error("Invalid CanLoad guard");Nn=yn(le,De)}var be;return Pn(Nn)});return(0,we.of)(ht).pipe(Dr(),(0,Yt.b)(rn=>{if(!Sn(rn))return;const yn=bn(`Redirecting to "${this.urlSerializer.serialize(rn)}"`);throw yn.url=rn,yn}),(0,Dt.U)(rn=>!0===rn))}lineralizeSegments(ge,le){let De=[],xe=le.root;for(;;){if(De=De.concat(xe.segments),0===xe.numberOfChildren)return(0,we.of)(De);if(xe.numberOfChildren>1||!xe.children[Qn])return en(ge.redirectTo);xe=xe.children[Qn]}}applyRedirectCommands(ge,le,De){return this.applyRedirectCreatreUrlTree(le,this.urlSerializer.parse(le),ge,De)}applyRedirectCreatreUrlTree(ge,le,De,xe){const ht=this.createSegmentGroup(ge,le.root,De,xe);return new ti(ht,this.createQueryParams(le.queryParams,this.urlTree.queryParams),le.fragment)}createQueryParams(ge,le){const De={};return _n(ge,(xe,ht)=>{if("string"==typeof xe&&xe.startsWith(":")){const yn=xe.substring(1);De[ht]=le[yn]}else De[ht]=xe}),De}createSegmentGroup(ge,le,De,xe){const ht=this.createSegments(ge,le.segments,De,xe);let rn={};return _n(le.children,(yn,Nn)=>{rn[Nn]=this.createSegmentGroup(ge,yn,De,xe)}),new Fn(ht,rn)}createSegments(ge,le,De,xe){return le.map(ht=>ht.path.startsWith(":")?this.findPosParam(ge,ht,xe):this.findOrReturn(ht,De))}findPosParam(ge,le,De){const xe=De[le.path.substring(1)];if(!xe)throw new Error(`Cannot redirect to '${ge}'. Cannot find '${le.path}'.`);return xe}findOrReturn(ge,le){let De=0;for(const xe of le){if(xe.path===ge.path)return le.splice(De),xe;De++}return ge}}function Vr(be){const ge={};for(const De of Object.keys(be.children)){const ht=Vr(be.children[De]);(ht.segments.length>0||ht.hasChildren())&&(ge[De]=ht)}return function(be){if(1===be.numberOfChildren&&be.children[Qn]){const ge=be.children[Qn];return new Fn(be.segments.concat(ge.segments),ge.children)}return be}(new Fn(be.segments,ge))}class fo{constructor(ge){this.path=ge,this.route=this.path[this.path.length-1]}}class fs{constructor(ge,le){this.component=ge,this.route=le}}function Ke(be,ge,le){const De=be._root;return On(De,ge?ge._root:null,le,[De.value])}function xt(be,ge,le){const De=function(be){if(!be)return null;for(let ge=be.parent;ge;ge=ge.parent){const le=ge.routeConfig;if(le&&le._loadedConfig)return le._loadedConfig}return null}(ge);return(De?De.module.injector:le).get(be)}function On(be,ge,le,De,xe={canDeactivateChecks:[],canActivateChecks:[]}){const ht=ue(ge);return be.children.forEach(rn=>{(function(be,ge,le,De,xe={canDeactivateChecks:[],canActivateChecks:[]}){const ht=be.value,rn=ge?ge.value:null,yn=le?le.getContext(be.value.outlet):null;if(rn&&ht.routeConfig===rn.routeConfig){const Nn=function(be,ge,le){if("function"==typeof le)return le(be,ge);switch(le){case"pathParamsChange":return!Ct(be.url,ge.url);case"pathParamsOrQueryParamsChange":return!Ct(be.url,ge.url)||!Ve(be.queryParams,ge.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!un(be,ge)||!Ve(be.queryParams,ge.queryParams);case"paramsChange":default:return!un(be,ge)}}(rn,ht,ht.routeConfig.runGuardsAndResolvers);Nn?xe.canActivateChecks.push(new fo(De)):(ht.data=rn.data,ht._resolvedData=rn._resolvedData),On(be,ge,ht.component?yn?yn.children:null:le,De,xe),Nn&&yn&&yn.outlet&&yn.outlet.isActivated&&xe.canDeactivateChecks.push(new fs(yn.outlet.component,rn))}else rn&&xr(ge,yn,xe),xe.canActivateChecks.push(new fo(De)),On(be,null,ht.component?yn?yn.children:null:le,De,xe)})(rn,ht[rn.value.outlet],le,De.concat([rn.value]),xe),delete ht[rn.value.outlet]}),_n(ht,(rn,yn)=>xr(rn,le.getContext(yn),xe)),xe}function xr(be,ge,le){const De=ue(be),xe=be.value;_n(De,(ht,rn)=>{xr(ht,xe.component?ge?ge.children.getContext(rn):null:ge,le)}),le.canDeactivateChecks.push(new fs(xe.component&&ge&&ge.outlet&&ge.outlet.isActivated?ge.outlet.component:null,xe))}class jo{}function Lo(be){return new He.y(ge=>ge.error(be))}class Jo{constructor(ge,le,De,xe,ht,rn){this.rootComponentType=ge,this.config=le,this.urlTree=De,this.url=xe,this.paramsInheritanceStrategy=ht,this.relativeLinkResolution=rn}recognize(){const ge=Rr(this.urlTree.root,[],[],this.config.filter(rn=>void 0===rn.redirectTo),this.relativeLinkResolution).segmentGroup,le=this.processSegmentGroup(this.config,ge,Qn);if(null===le)return null;const De=new nn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qn,this.rootComponentType,null,this.urlTree.root,-1,{}),xe=new $(De,le),ht=new Je(this.url,xe);return this.inheritParamsAndData(ht._root),ht}inheritParamsAndData(ge){const le=ge.value,De=Pt(le,this.paramsInheritanceStrategy);le.params=Object.freeze(De.params),le.data=Object.freeze(De.data),ge.children.forEach(xe=>this.inheritParamsAndData(xe))}processSegmentGroup(ge,le,De){return 0===le.segments.length&&le.hasChildren()?this.processChildren(ge,le):this.processSegment(ge,le,le.segments,De)}processChildren(ge,le){const De=[];for(const ht of Object.keys(le.children)){const rn=le.children[ht],yn=Gi(ge,ht),Nn=this.processSegmentGroup(yn,rn,ht);if(null===Nn)return null;De.push(...Nn)}const xe=Ds(De);return xe.sort((ge,le)=>ge.value.outlet===Qn?-1:le.value.outlet===Qn?1:ge.value.outlet.localeCompare(le.value.outlet)),xe}processSegment(ge,le,De,xe){for(const ht of ge){const rn=this.processSegmentAgainstRoute(ht,le,De,xe);if(null!==rn)return rn}return fe(le,De,xe)?[]:null}processSegmentAgainstRoute(ge,le,De,xe){if(ge.redirectTo||!Ce(ge,le,De,xe))return null;let ht,rn=[],yn=[];if("**"===ge.path){const ai=De.length>0?mn(De).parameters:{};ht=new nn(De,ai,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xs(ge),oi(ge),ge.component,ge,vs(le),Us(le)+De.length,ys(ge))}else{const ai=dr(le,ge,De);if(!ai.matched)return null;rn=ai.consumedSegments,yn=De.slice(ai.lastChild),ht=new nn(rn,ai.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xs(ge),oi(ge),ge.component,ge,vs(le),Us(le)+rn.length,ys(ge))}const Nn=(be=ge).children?be.children:be.loadChildren?be._loadedConfig.routes:[],{segmentGroup:vi,slicedSegments:wr}=Rr(le,rn,yn,Nn.filter(ai=>void 0===ai.redirectTo),this.relativeLinkResolution);var be;if(0===wr.length&&vi.hasChildren()){const ai=this.processChildren(Nn,vi);return null===ai?null:[new $(ht,ai)]}if(0===Nn.length&&0===wr.length)return[new $(ht,[])];const Mi=oi(ge)===xe,Vn=this.processSegment(Nn,vi,wr,Mi?Qn:xe);return null===Vn?null:[new $(ht,Vn)]}}function Zo(be){const ge=be.value.routeConfig;return ge&&""===ge.path&&void 0===ge.redirectTo}function Ds(be){const ge=[],le=new Set;for(const De of be){if(!Zo(De)){ge.push(De);continue}const xe=ge.find(ht=>De.value.routeConfig===ht.value.routeConfig);void 0!==xe?(xe.children.push(...De.children),le.add(xe)):ge.push(De)}for(const De of le){const xe=Ds(De.children);ge.push(new $(De.value,xe))}return ge.filter(De=>!le.has(De))}function vs(be){let ge=be;for(;ge._sourceSegment;)ge=ge._sourceSegment;return ge}function Us(be){let ge=be,le=ge._segmentIndexShift?ge._segmentIndexShift:0;for(;ge._sourceSegment;)ge=ge._sourceSegment,le+=ge._segmentIndexShift?ge._segmentIndexShift:0;return le-1}function Xs(be){return be.data||{}}function ys(be){return be.resolve||{}}function bs(be){return(0,cn.w)(ge=>{const le=be(ge);return le?(0,Oe.D)(le).pipe((0,Dt.U)(()=>ge)):(0,we.of)(ge)})}class Eo extends class{shouldDetach(ge){return!1}store(ge,le){}shouldAttach(ge){return!1}retrieve(ge){return null}shouldReuseRoute(ge,le){return ge.routeConfig===le.routeConfig}}{}const Ko=new te.OlP("ROUTES");class vc{constructor(ge,le,De,xe){this.loader=ge,this.compiler=le,this.onLoadStartListener=De,this.onLoadEndListener=xe}load(ge,le){if(le._loader$)return le._loader$;this.onLoadStartListener&&this.onLoadStartListener(le);const xe=this.loadModuleFactory(le.loadChildren).pipe((0,Dt.U)(ht=>{this.onLoadEndListener&&this.onLoadEndListener(le);const rn=ht.create(ge);return new fn(vt(rn.injector.get(Ko,void 0,te.XFs.Self|te.XFs.Optional)).map(Bn),rn)}),(0,on.K)(ht=>{throw le._loader$=void 0,ht}));return le._loader$=new $e.c(xe,()=>new Qe.xQ).pipe((0,gn.x)()),le._loader$}loadModuleFactory(ge){return"string"==typeof ge?(0,Oe.D)(this.loader.load(ge)):Pn(ge()).pipe((0,wt.zg)(le=>le instanceof te.YKP?(0,we.of)(le):(0,Oe.D)(this.compiler.compileModuleAsync(le))))}}class $o{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qa,this.attachRef=null}}class Qa{constructor(){this.contexts=new Map}onChildOutletCreated(ge,le){const De=this.getOrCreateContext(ge);De.outlet=le,this.contexts.set(ge,De)}onChildOutletDestroyed(ge){const le=this.getContext(ge);le&&(le.outlet=null)}onOutletDeactivated(){const ge=this.contexts;return this.contexts=new Map,ge}onOutletReAttached(ge){this.contexts=ge}getOrCreateContext(ge){let le=this.getContext(ge);return le||(le=new $o,this.contexts.set(ge,le)),le}getContext(ge){return this.contexts.get(ge)||null}}class Dc{shouldProcessUrl(ge){return!0}extract(ge){return ge}merge(ge,le){return ge}}function Ss(be){throw be}function Sl(be,ge,le){return ge.parse("/")}function Qc(be,ge){return(0,we.of)(null)}const Xo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let eo=(()=>{class be{constructor(le,De,xe,ht,rn,yn,Nn,vi){this.rootComponentType=le,this.urlSerializer=De,this.rootContexts=xe,this.location=ht,this.config=vi,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qe.xQ,this.errorHandler=Ss,this.malformedUriErrorHandler=Sl,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qc,afterPreactivation:Qc},this.urlHandlingStrategy=new Dc,this.routeReuseStrategy=new Eo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=rn.get(te.h0i),this.console=rn.get(te.c2e);const Vn=rn.get(te.R0b);this.isNgZoneEnabled=Vn instanceof te.R0b&&te.R0b.isInAngularZone(),this.resetConfig(vi),this.currentUrlTree=new ti(new Fn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vc(yn,Nn,ai=>this.triggerEvent(new _i(ai)),ai=>this.triggerEvent(new mi(ai))),this.routerState=Le(this.currentUrlTree,this.rootComponentType),this.transitions=new Fe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var le;return null===(le=this.location.getState())||void 0===le?void 0:le.\u0275routerPageId}setupNavigations(le){const De=this.events;return le.pipe((0,Ot.h)(xe=>0!==xe.id),(0,Dt.U)(xe=>Object.assign(Object.assign({},xe),{extractedUrl:this.urlHandlingStrategy.extract(xe.rawUrl)})),(0,cn.w)(xe=>{let ht=!1,rn=!1;return(0,we.of)(xe).pipe((0,Yt.b)(yn=>{this.currentNavigation={id:yn.id,initialUrl:yn.currentRawUrl,extractedUrl:yn.extractedUrl,trigger:yn.source,extras:yn.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,cn.w)(yn=>{const Nn=!this.navigated||yn.extractedUrl.toString()!==this.browserUrlTree.toString(),vi=("reload"===this.onSameUrlNavigation||Nn)&&this.urlHandlingStrategy.shouldProcessUrl(yn.rawUrl);if(hl(yn.source)&&(this.browserUrlTree=yn.rawUrl),vi)return(0,we.of)(yn).pipe((0,cn.w)(wr=>{const Mi=this.transitions.getValue();return De.next(new Hn(wr.id,this.serializeUrl(wr.extractedUrl),wr.source,wr.restoredState)),Mi!==this.transitions.getValue()?qe.E:Promise.resolve(wr)}),function(be,ge,le,De){return(0,cn.w)(xe=>function(be,ge,le,De,xe){return new Pr(be,ge,le,De,xe).apply()}(be,ge,le,xe.extractedUrl,De).pipe((0,Dt.U)(ht=>Object.assign(Object.assign({},xe),{urlAfterRedirects:ht}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yt.b)(wr=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:wr.urlAfterRedirects})}),function(be,ge,le,De,xe){return(0,wt.zg)(ht=>function(be,ge,le,De,xe="emptyOnly",ht="legacy"){try{const rn=new Jo(be,ge,le,De,xe,ht).recognize();return null===rn?Lo(new jo):(0,we.of)(rn)}catch(rn){return Lo(rn)}}(be,ge,ht.urlAfterRedirects,le(ht.urlAfterRedirects),De,xe).pipe((0,Dt.U)(rn=>Object.assign(Object.assign({},ht),{targetSnapshot:rn}))))}(this.rootComponentType,this.config,wr=>this.serializeUrl(wr),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yt.b)(wr=>{"eager"===this.urlUpdateStrategy&&(wr.extras.skipLocationChange||this.setBrowserUrl(wr.urlAfterRedirects,wr),this.browserUrlTree=wr.urlAfterRedirects);const Mi=new bi(wr.id,this.serializeUrl(wr.extractedUrl),this.serializeUrl(wr.urlAfterRedirects),wr.targetSnapshot);De.next(Mi)}));if(Nn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Mi,extractedUrl:Vn,source:ai,restoredState:bo,extras:Ws}=yn,ts=new Hn(Mi,this.serializeUrl(Vn),ai,bo);De.next(ts);const rc=Le(Vn,this.rootComponentType).snapshot;return(0,we.of)(Object.assign(Object.assign({},yn),{targetSnapshot:rc,urlAfterRedirects:Vn,extras:Object.assign(Object.assign({},Ws),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=yn.rawUrl,this.browserUrlTree=yn.urlAfterRedirects,yn.resolve(null),qe.E}),bs(yn=>{const{targetSnapshot:Nn,id:vi,extractedUrl:wr,rawUrl:Mi,extras:{skipLocationChange:Vn,replaceUrl:ai}}=yn;return this.hooks.beforePreactivation(Nn,{navigationId:vi,appliedUrlTree:wr,rawUrlTree:Mi,skipLocationChange:!!Vn,replaceUrl:!!ai})}),(0,Yt.b)(yn=>{const Nn=new fi(yn.id,this.serializeUrl(yn.extractedUrl),this.serializeUrl(yn.urlAfterRedirects),yn.targetSnapshot);this.triggerEvent(Nn)}),(0,Dt.U)(yn=>Object.assign(Object.assign({},yn),{guards:Ke(yn.targetSnapshot,yn.currentSnapshot,this.rootContexts)})),function(be,ge){return(0,wt.zg)(le=>{const{targetSnapshot:De,currentSnapshot:xe,guards:{canActivateChecks:ht,canDeactivateChecks:rn}}=le;return 0===rn.length&&0===ht.length?(0,we.of)(Object.assign(Object.assign({},le),{guardsResult:!0})):function(be,ge,le,De){return(0,Oe.D)(be).pipe((0,wt.zg)(xe=>function(be,ge,le,De,xe){const ht=ge&&ge.routeConfig?ge.routeConfig.canDeactivate:null;if(!ht||0===ht.length)return(0,we.of)(!0);const rn=ht.map(yn=>{const Nn=xt(yn,ge,xe);let vi;if(function(be){return be&&Kt(be.canDeactivate)}(Nn))vi=Pn(Nn.canDeactivate(be,ge,le,De));else{if(!Kt(Nn))throw new Error("Invalid CanDeactivate guard");vi=Pn(Nn(be,ge,le,De))}return vi.pipe((0,pn.P)())});return(0,we.of)(rn).pipe(Dr())}(xe.component,xe.route,le,ge,De)),(0,pn.P)(xe=>!0!==xe,!0))}(rn,De,xe,be).pipe((0,wt.zg)(yn=>yn&&function(be){return"boolean"==typeof be}(yn)?function(be,ge,le,De){return(0,Oe.D)(ge).pipe((0,sn.b)(xe=>(0,nt.z)(function(be,ge){return null!==be&&ge&&ge(new ji(be)),(0,we.of)(!0)}(xe.route.parent,De),function(be,ge){return null!==be&&ge&&ge(new fr(be)),(0,we.of)(!0)}(xe.route,De),function(be,ge,le){const De=ge[ge.length-1],ht=ge.slice(0,ge.length-1).reverse().map(rn=>function(be){const ge=be.routeConfig?be.routeConfig.canActivateChild:null;return ge&&0!==ge.length?{node:be,guards:ge}:null}(rn)).filter(rn=>null!==rn).map(rn=>(0,Be.P)(()=>{const yn=rn.guards.map(Nn=>{const vi=xt(Nn,rn.node,le);let wr;if(function(be){return be&&Kt(be.canActivateChild)}(vi))wr=Pn(vi.canActivateChild(De,be));else{if(!Kt(vi))throw new Error("Invalid CanActivateChild guard");wr=Pn(vi(De,be))}return wr.pipe((0,pn.P)())});return(0,we.of)(yn).pipe(Dr())}));return(0,we.of)(ht).pipe(Dr())}(be,xe.path,le),function(be,ge,le){const De=ge.routeConfig?ge.routeConfig.canActivate:null;if(!De||0===De.length)return(0,we.of)(!0);const xe=De.map(ht=>(0,Be.P)(()=>{const rn=xt(ht,ge,le);let yn;if(function(be){return be&&Kt(be.canActivate)}(rn))yn=Pn(rn.canActivate(ge,be));else{if(!Kt(rn))throw new Error("Invalid CanActivate guard");yn=Pn(rn(ge,be))}return yn.pipe((0,pn.P)())}));return(0,we.of)(xe).pipe(Dr())}(be,xe.route,le))),(0,pn.P)(xe=>!0!==xe,!0))}(De,ht,be,ge):(0,we.of)(yn)),(0,Dt.U)(yn=>Object.assign(Object.assign({},le),{guardsResult:yn})))})}(this.ngModule.injector,yn=>this.triggerEvent(yn)),(0,Yt.b)(yn=>{if(Sn(yn.guardsResult)){const vi=bn(`Redirecting to "${this.serializeUrl(yn.guardsResult)}"`);throw vi.url=yn.guardsResult,vi}const Nn=new ri(yn.id,this.serializeUrl(yn.extractedUrl),this.serializeUrl(yn.urlAfterRedirects),yn.targetSnapshot,!!yn.guardsResult);this.triggerEvent(Nn)}),(0,Ot.h)(yn=>!!yn.guardsResult||(this.restoreHistory(yn),this.cancelNavigationTransition(yn,""),!1)),bs(yn=>{if(yn.guards.canActivateChecks.length)return(0,we.of)(yn).pipe((0,Yt.b)(Nn=>{const vi=new zn(Nn.id,this.serializeUrl(Nn.extractedUrl),this.serializeUrl(Nn.urlAfterRedirects),Nn.targetSnapshot);this.triggerEvent(vi)}),(0,cn.w)(Nn=>{let vi=!1;return(0,we.of)(Nn).pipe(function(be,ge){return(0,wt.zg)(le=>{const{targetSnapshot:De,guards:{canActivateChecks:xe}}=le;if(!xe.length)return(0,we.of)(le);let ht=0;return(0,Oe.D)(xe).pipe((0,sn.b)(rn=>function(be,ge,le,De){return function(be,ge,le,De){const xe=Object.keys(be);if(0===xe.length)return(0,we.of)({});const ht={};return(0,Oe.D)(xe).pipe((0,wt.zg)(rn=>function(be,ge,le,De){const xe=xt(be,ge,De);return Pn(xe.resolve?xe.resolve(ge,le):xe(ge,le))}(be[rn],ge,le,De).pipe((0,Yt.b)(yn=>{ht[rn]=yn}))),Ae(1),(0,wt.zg)(()=>Object.keys(ht).length===xe.length?(0,we.of)(ht):qe.E))}(be._resolve,be,ge,De).pipe((0,Dt.U)(ht=>(be._resolvedData=ht,be.data=Object.assign(Object.assign({},be.data),Pt(be,le).resolve),null)))}(rn.route,De,be,ge)),(0,Yt.b)(()=>ht++),Ae(1),(0,wt.zg)(rn=>ht===xe.length?(0,we.of)(le):qe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yt.b)({next:()=>vi=!0,complete:()=>{vi||(this.restoreHistory(Nn),this.cancelNavigationTransition(Nn,"At least one route resolver didn't emit any value."))}}))}),(0,Yt.b)(Nn=>{const vi=new Un(Nn.id,this.serializeUrl(Nn.extractedUrl),this.serializeUrl(Nn.urlAfterRedirects),Nn.targetSnapshot);this.triggerEvent(vi)}))}),bs(yn=>{const{targetSnapshot:Nn,id:vi,extractedUrl:wr,rawUrl:Mi,extras:{skipLocationChange:Vn,replaceUrl:ai}}=yn;return this.hooks.afterPreactivation(Nn,{navigationId:vi,appliedUrlTree:wr,rawUrlTree:Mi,skipLocationChange:!!Vn,replaceUrl:!!ai})}),(0,Dt.U)(yn=>{const Nn=function(be,ge,le){const De=$n(be,ge._root,le?le._root:void 0);return new _e(De,ge)}(this.routeReuseStrategy,yn.targetSnapshot,yn.currentRouterState);return Object.assign(Object.assign({},yn),{targetRouterState:Nn})}),(0,Yt.b)(yn=>{this.currentUrlTree=yn.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,yn.rawUrl),this.routerState=yn.targetRouterState,"deferred"===this.urlUpdateStrategy&&(yn.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,yn),this.browserUrlTree=yn.urlAfterRedirects)}),((be,ge,le)=>(0,Dt.U)(De=>(new wo(ge,De.targetRouterState,De.currentRouterState,le).activate(be),De)))(this.rootContexts,this.routeReuseStrategy,yn=>this.triggerEvent(yn)),(0,Yt.b)({next(){ht=!0},complete(){ht=!0}}),(0,kn.x)(()=>{if(!ht&&!rn){const yn=`Navigation ID ${xe.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(xe),this.cancelNavigationTransition(xe,yn)):this.cancelNavigationTransition(xe,yn)}this.currentNavigation=null}),(0,on.K)(yn=>{if(rn=!0,function(be){return be&&be[pr]}(yn)){const Nn=Sn(yn.url);Nn||(this.navigated=!0,this.restoreHistory(xe,!0));const vi=new pi(xe.id,this.serializeUrl(xe.extractedUrl),yn.message);De.next(vi),Nn?setTimeout(()=>{const wr=this.urlHandlingStrategy.merge(yn.url,this.rawUrlTree),Mi={skipLocationChange:xe.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hl(xe.source)};this.scheduleNavigation(wr,"imperative",null,Mi,{resolve:xe.resolve,reject:xe.reject,promise:xe.promise})},0):xe.resolve(!1)}else{this.restoreHistory(xe,!0);const Nn=new Fi(xe.id,this.serializeUrl(xe.extractedUrl),yn);De.next(Nn);try{xe.resolve(this.errorHandler(yn))}catch(vi){xe.reject(vi)}}return qe.E}))}))}resetRootComponentType(le){this.rootComponentType=le,this.routerState.root.component=this.rootComponentType}getTransition(){const le=this.transitions.value;return le.urlAfterRedirects=this.browserUrlTree,le}setTransition(le){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),le))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(le=>{const De=this.extractLocationChangeInfoFromEvent(le);this.shouldScheduleNavigation(this.lastLocationChangeInfo,De)&&setTimeout(()=>{const{source:xe,state:ht,urlTree:rn}=De,yn={replaceUrl:!0};if(ht){const Nn=Object.assign({},ht);delete Nn.navigationId,delete Nn.\u0275routerPageId,0!==Object.keys(Nn).length&&(yn.state=Nn)}this.scheduleNavigation(rn,xe,ht,yn)},0),this.lastLocationChangeInfo=De}))}extractLocationChangeInfoFromEvent(le){var De;return{source:"popstate"===le.type?"popstate":"hashchange",urlTree:this.parseUrl(le.url),state:(null===(De=le.state)||void 0===De?void 0:De.navigationId)?le.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(le,De){if(!le)return!0;const xe=De.urlTree.toString()===le.urlTree.toString();return De.transitionId!==le.transitionId||!xe||!("hashchange"===De.source&&"popstate"===le.source||"popstate"===De.source&&"hashchange"===le.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(le){this.events.next(le)}resetConfig(le){an(le),this.config=le.map(Bn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(le,De={}){const{relativeTo:xe,queryParams:ht,fragment:rn,queryParamsHandling:yn,preserveFragment:Nn}=De,vi=xe||this.routerState.root,wr=Nn?this.currentUrlTree.fragment:rn;let Mi=null;switch(yn){case"merge":Mi=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ht);break;case"preserve":Mi=this.currentUrlTree.queryParams;break;default:Mi=ht||null}return null!==Mi&&(Mi=this.removeEmptyProps(Mi)),function(be,ge,le,De,xe){if(0===le.length)return ur(ge.root,ge.root,ge,De,xe);const ht=function(be){if("string"==typeof be[0]&&1===be.length&&"/"===be[0])return new mr(!0,0,be);let ge=0,le=!1;const De=be.reduce((xe,ht,rn)=>{if("object"==typeof ht&&null!=ht){if(ht.outlets){const yn={};return _n(ht.outlets,(Nn,vi)=>{yn[vi]="string"==typeof Nn?Nn.split("/"):Nn}),[...xe,{outlets:yn}]}if(ht.segmentPath)return[...xe,ht.segmentPath]}return"string"!=typeof ht?[...xe,ht]:0===rn?(ht.split("/").forEach((yn,Nn)=>{0==Nn&&"."===yn||(0==Nn&&""===yn?le=!0:".."===yn?ge++:""!=yn&&xe.push(yn))}),xe):[...xe,ht]},[]);return new mr(le,ge,De)}(le);if(ht.toRoot())return ur(ge.root,new Fn([],{}),ge,De,xe);const rn=function(be,ge,le){if(be.isAbsolute)return new Xr(ge.root,!0,0);if(-1===le.snapshot._lastPathIndex){const ht=le.snapshot._urlSegment;return new Xr(ht,ht===ge.root,0)}const De=Ui(be.commands[0])?0:1;return function(be,ge,le){let De=be,xe=ge,ht=le;for(;ht>xe;){if(ht-=xe,De=De.parent,!De)throw new Error("Invalid number of '../'");xe=De.segments.length}return new Xr(De,!1,xe-ht)}(le.snapshot._urlSegment,le.snapshot._lastPathIndex+De,be.numberOfDoubleDots)}(ht,ge,be),yn=rn.processChildren?Qr(rn.segmentGroup,rn.index,ht.commands):zo(rn.segmentGroup,rn.index,ht.commands);return ur(rn.segmentGroup,yn,ge,De,xe)}(vi,this.currentUrlTree,le,Mi,null!=wr?wr:null)}navigateByUrl(le,De={skipLocationChange:!1}){const xe=Sn(le)?le:this.parseUrl(le),ht=this.urlHandlingStrategy.merge(xe,this.rawUrlTree);return this.scheduleNavigation(ht,"imperative",null,De)}navigate(le,De={skipLocationChange:!1}){return function(be){for(let ge=0;ge<be.length;ge++){const le=be[ge];if(null==le)throw new Error(`The requested path contains ${le} segment at index ${ge}`)}}(le),this.navigateByUrl(this.createUrlTree(le,De),De)}serializeUrl(le){return this.urlSerializer.serialize(le)}parseUrl(le){let De;try{De=this.urlSerializer.parse(le)}catch(xe){De=this.malformedUriErrorHandler(xe,this.urlSerializer,le)}return De}isActive(le,De){let xe;if(xe=!0===De?Object.assign({},Xo):!1===De?Object.assign({},dc):De,Sn(le))return ii(this.currentUrlTree,le,xe);const ht=this.parseUrl(le);return ii(this.currentUrlTree,ht,xe)}removeEmptyProps(le){return Object.keys(le).reduce((De,xe)=>{const ht=le[xe];return null!=ht&&(De[xe]=ht),De},{})}processNavigations(){this.navigations.subscribe(le=>{this.navigated=!0,this.lastSuccessfulId=le.id,this.currentPageId=le.targetPageId,this.events.next(new ni(le.id,this.serializeUrl(le.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,le.resolve(!0)},le=>{this.console.warn(`Unhandled Navigation Error: ${le}`)})}scheduleNavigation(le,De,xe,ht,rn){var yn,Nn;if(this.disposed)return Promise.resolve(!1);const vi=this.getTransition(),wr=hl(De)&&vi&&!hl(vi.source),ai=(this.lastSuccessfulId===vi.id||this.currentNavigation?vi.rawUrl:vi.urlAfterRedirects).toString()===le.toString();if(wr&&ai)return Promise.resolve(!0);let bo,Ws,ts;rn?(bo=rn.resolve,Ws=rn.reject,ts=rn.promise):ts=new Promise((ye,q)=>{bo=ye,Ws=q});const rc=++this.navigationId;let k;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(xe=this.location.getState()),k=xe&&xe.\u0275routerPageId?xe.\u0275routerPageId:ht.replaceUrl||ht.skipLocationChange?null!==(yn=this.browserPageId)&&void 0!==yn?yn:0:(null!==(Nn=this.browserPageId)&&void 0!==Nn?Nn:0)+1):k=0,this.setTransition({id:rc,targetPageId:k,source:De,restoredState:xe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:le,extras:ht,resolve:bo,reject:Ws,promise:ts,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ts.catch(ye=>Promise.reject(ye))}setBrowserUrl(le,De){const xe=this.urlSerializer.serialize(le),ht=Object.assign(Object.assign({},De.extras.state),this.generateNgRouterState(De.id,De.targetPageId));this.location.isCurrentPathEqualTo(xe)||De.extras.replaceUrl?this.location.replaceState(xe,"",ht):this.location.go(xe,"",ht)}restoreHistory(le,De=!1){var xe,ht;if("computed"===this.canceledNavigationResolution){const rn=this.currentPageId-le.targetPageId;"popstate"!==le.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(xe=this.currentNavigation)||void 0===xe?void 0:xe.finalUrl)||0===rn?this.currentUrlTree===(null===(ht=this.currentNavigation)||void 0===ht?void 0:ht.finalUrl)&&0===rn&&(this.resetState(le),this.browserUrlTree=le.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(rn)}else"replace"===this.canceledNavigationResolution&&(De&&this.resetState(le),this.resetUrlToCurrentUrlTree())}resetState(le){this.routerState=le.currentRouterState,this.currentUrlTree=le.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,le.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(le,De){const xe=new pi(le.id,this.serializeUrl(le.extractedUrl),De);this.triggerEvent(xe),le.resolve(!1)}generateNgRouterState(le,De){return"computed"===this.canceledNavigationResolution?{navigationId:le,\u0275routerPageId:De}:{navigationId:le}}}return be.\u0275fac=function(le){return new(le||be)(te.LFG(te.DyG),te.LFG(We),te.LFG(Qa),te.LFG(n.Ye),te.LFG(te.zs3),te.LFG(te.v3s),te.LFG(te.Sil),te.LFG(void 0))},be.\u0275prov=te.Yz7({token:be,factory:be.\u0275fac}),be})();function hl(be){return"imperative"!==be}let hc=(()=>{class be{constructor(le,De,xe,ht,rn){this.parentContexts=le,this.location=De,this.resolver=xe,this.changeDetector=rn,this.activated=null,this._activatedRoute=null,this.activateEvents=new te.vpe,this.deactivateEvents=new te.vpe,this.name=ht||Qn,le.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const le=this.parentContexts.getContext(this.name);le&&le.route&&(le.attachRef?this.attach(le.attachRef,le.route):this.activateWith(le.route,le.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const le=this.activated;return this.activated=null,this._activatedRoute=null,le}attach(le,De){this.activated=le,this._activatedRoute=De,this.location.insert(le.hostView)}deactivate(){if(this.activated){const le=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(le)}}activateWith(le,De){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=le;const rn=(De=De||this.resolver).resolveComponentFactory(le._futureSnapshot.routeConfig.component),yn=this.parentContexts.getOrCreateContext(this.name).children,Nn=new Xa(le,yn,this.location.injector);this.activated=this.location.createComponent(rn,this.location.length,Nn),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return be.\u0275fac=function(le){return new(le||be)(te.Y36(Qa),te.Y36(te.s_b),te.Y36(te._Vd),te.$8M("name"),te.Y36(te.sBO))},be.\u0275dir=te.lG2({type:be,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),be})();class Xa{constructor(ge,le,De){this.route=ge,this.childContexts=le,this.parent=De}get(ge,le){return ge===ft?this.route:ge===Qa?this.childContexts:this.parent.get(ge,le)}}class yc{}class qc{preload(ge,le){return(0,we.of)(null)}}let Wo=(()=>{class be{constructor(le,De,xe,ht,rn){this.router=le,this.injector=ht,this.preloadingStrategy=rn,this.loader=new vc(De,xe,vi=>le.triggerEvent(new _i(vi)),vi=>le.triggerEvent(new mi(vi)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ot.h)(le=>le instanceof ni),(0,sn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const le=this.injector.get(te.h0i);return this.processRoutes(le,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(le,De){const xe=[];for(const ht of De)if(ht.loadChildren&&!ht.canLoad&&ht._loadedConfig){const rn=ht._loadedConfig;xe.push(this.processRoutes(rn.module,rn.routes))}else ht.loadChildren&&!ht.canLoad?xe.push(this.preloadConfig(le,ht)):ht.children&&xe.push(this.processRoutes(le,ht.children));return(0,Oe.D)(xe).pipe((0,Zn.J)(),(0,Dt.U)(ht=>{}))}preloadConfig(le,De){return this.preloadingStrategy.preload(De,()=>(De._loadedConfig?(0,we.of)(De._loadedConfig):this.loader.load(le.injector,De)).pipe((0,wt.zg)(ht=>(De._loadedConfig=ht,this.processRoutes(ht.module,ht.routes)))))}}return be.\u0275fac=function(le){return new(le||be)(te.LFG(eo),te.LFG(te.v3s),te.LFG(te.Sil),te.LFG(te.zs3),te.LFG(yc))},be.\u0275prov=te.Yz7({token:be,factory:be.\u0275fac}),be})(),tc=(()=>{class be{constructor(le,De,xe={}){this.router=le,this.viewportScroller=De,this.options=xe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},xe.scrollPositionRestoration=xe.scrollPositionRestoration||"disabled",xe.anchorScrolling=xe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(le=>{le instanceof Hn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=le.navigationTrigger,this.restoredId=le.restoredState?le.restoredState.navigationId:0):le instanceof ni&&(this.lastId=le.id,this.scheduleScrollEvent(le,this.router.parseUrl(le.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(le=>{le instanceof Or&&(le.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(le.position):le.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(le.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(le,De){this.router.triggerEvent(new Or(le,"popstate"===this.lastSource?this.store[this.restoredId]:null,De))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return be.\u0275fac=function(le){return new(le||be)(te.LFG(eo),te.LFG(n.EM),te.LFG(void 0))},be.\u0275prov=te.Yz7({token:be,factory:be.\u0275fac}),be})();const pa=new te.OlP("ROUTER_CONFIGURATION"),ga=new te.OlP("ROUTER_FORROOT_GUARD"),es=[n.Ye,{provide:We,useClass:pt},{provide:eo,useFactory:function(be,ge,le,De,xe,ht,rn,yn={},Nn,vi){const wr=new eo(null,be,ge,le,De,xe,ht,vt(rn));return Nn&&(wr.urlHandlingStrategy=Nn),vi&&(wr.routeReuseStrategy=vi),function(be,ge){be.errorHandler&&(ge.errorHandler=be.errorHandler),be.malformedUriErrorHandler&&(ge.malformedUriErrorHandler=be.malformedUriErrorHandler),be.onSameUrlNavigation&&(ge.onSameUrlNavigation=be.onSameUrlNavigation),be.paramsInheritanceStrategy&&(ge.paramsInheritanceStrategy=be.paramsInheritanceStrategy),be.relativeLinkResolution&&(ge.relativeLinkResolution=be.relativeLinkResolution),be.urlUpdateStrategy&&(ge.urlUpdateStrategy=be.urlUpdateStrategy)}(yn,wr),yn.enableTracing&&wr.events.subscribe(Mi=>{var Vn,ai;null===(Vn=console.group)||void 0===Vn||Vn.call(console,`Router Event: ${Mi.constructor.name}`),console.log(Mi.toString()),console.log(Mi),null===(ai=console.groupEnd)||void 0===ai||ai.call(console)}),wr},deps:[We,Qa,n.Ye,te.zs3,te.v3s,te.Sil,Ko,pa,[class{},new te.FiY],[class{},new te.FiY]]},Qa,{provide:ft,useFactory:function(be){return be.routerState.root},deps:[eo]},{provide:te.v3s,useClass:te.EAV},Wo,qc,class{preload(ge,le){return le().pipe((0,on.K)(()=>(0,we.of)(null)))}},{provide:pa,useValue:{enableTracing:!1}}];function Al(){return new te.PXZ("Router",eo)}let _a=(()=>{class be{constructor(le,De){}static forRoot(le,De){return{ngModule:be,providers:[es,Cr(le),{provide:ga,useFactory:Vo,deps:[[eo,new te.FiY,new te.tp0]]},{provide:pa,useValue:De||{}},{provide:n.S$,useFactory:js,deps:[n.lw,[new te.tBr(n.mr),new te.FiY],pa]},{provide:tc,useFactory:Bs,deps:[eo,n.EM,pa]},{provide:yc,useExisting:De&&De.preloadingStrategy?De.preloadingStrategy:qc},{provide:te.PXZ,multi:!0,useFactory:Al},[Mo,{provide:te.ip1,multi:!0,useFactory:xs,deps:[Mo]},{provide:Co,useFactory:ic,deps:[Mo]},{provide:te.tb,multi:!0,useExisting:Co}]]}}static forChild(le){return{ngModule:be,providers:[Cr(le)]}}}return be.\u0275fac=function(le){return new(le||be)(te.LFG(ga,8),te.LFG(eo,8))},be.\u0275mod=te.oAB({type:be}),be.\u0275inj=te.cJS({}),be})();function Bs(be,ge,le){return le.scrollOffset&&ge.setOffset(le.scrollOffset),new tc(be,ge,le)}function js(be,ge,le={}){return le.useHash?new n.Do(be,ge):new n.b0(be,ge)}function Vo(be){return"guarded"}function Cr(be){return[{provide:te.deG,multi:!0,useValue:be},{provide:Ko,multi:!0,useValue:be}]}let Mo=(()=>{class be{constructor(le){this.injector=le,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Qe.xQ}appInitializer(){return this.injector.get(n.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let De=null;const xe=new Promise(yn=>De=yn),ht=this.injector.get(eo),rn=this.injector.get(pa);return"disabled"===rn.initialNavigation?(ht.setUpLocationChangeListener(),De(!0)):"enabled"===rn.initialNavigation||"enabledBlocking"===rn.initialNavigation?(ht.hooks.afterPreactivation=()=>this.initNavigation?(0,we.of)(null):(this.initNavigation=!0,De(!0),this.resultOfPreactivationDone),ht.initialNavigation()):De(!0),xe})}bootstrapListener(le){const De=this.injector.get(pa),xe=this.injector.get(Wo),ht=this.injector.get(tc),rn=this.injector.get(eo),yn=this.injector.get(te.z2F);le===yn.components[0]&&(("enabledNonBlocking"===De.initialNavigation||void 0===De.initialNavigation)&&rn.initialNavigation(),xe.setUpPreloading(),ht.init(),rn.resetRootComponentType(yn.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return be.\u0275fac=function(le){return new(le||be)(te.LFG(te.zs3))},be.\u0275prov=te.Yz7({token:be,factory:be.\u0275fac}),be})();function xs(be){return be.appInitializer.bind(be)}function ic(be){return be.bootstrapListener.bind(be)}const Co=new te.OlP("Router Initializer")},9534:(Se,Ze,X)=>{"use strict";X.d(Ze,{Gb:()=>oi,Kz:()=>yo,EI:()=>cr,lT:()=>nr,Iv:()=>dr,xP:()=>Rr,Xd:()=>fn});var n=X(8239),te=X(5452),Oe=X(300),we=X(4685),Fe=X(6034),Ue=X(6676);const Be="w:0.5.0",qe="FIS_v2",Ae=new we.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Mt(Ce){return Ce instanceof we.ZR&&Ce.code.includes("request-failed")}function ce({projectId:Ce}){return`https://firebaseinstallations.googleapis.com/v1/projects/${Ce}/installations`}function ve(Ce){return{token:Ce.token,requestStatus:2,expiresIn:Ht(Ce.expiresIn),creationTime:Date.now()}}function Me(Ce,fe){return tt.apply(this,arguments)}function tt(){return(tt=(0,n.Z)(function*(Ce,fe){const se=(yield fe.json()).error;return Ae.create("request-failed",{requestName:Ce,serverCode:se.code,serverMessage:se.message,serverStatus:se.status})})).apply(this,arguments)}function bt({apiKey:Ce}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ce})}function Dt(Ce,{refreshToken:fe}){const ne=bt(Ce);return ne.append("Authorization",function(Ce){return`${qe} ${Ce}`}(fe)),ne}function cn(Ce){return gt.apply(this,arguments)}function gt(){return(gt=(0,n.Z)(function*(Ce){const fe=yield Ce();return fe.status>=500&&fe.status<600?Ce():fe})).apply(this,arguments)}function Ht(Ce){return Number(Ce.replace("s","000"))}function on(Ce,fe){return sn.apply(this,arguments)}function sn(){return(sn=(0,n.Z)(function*(Ce,{fid:fe}){const ne=ce(Ce),Re={method:"POST",headers:bt(Ce),body:JSON.stringify({fid:fe,authVersion:qe,appId:Ce.appId,sdkVersion:Be})},en=yield cn(()=>fetch(ne,Re));if(en.ok){const Gn=yield en.json();return{fid:Gn.fid||fe,registrationStatus:2,refreshToken:Gn.refreshToken,authToken:ve(Gn.authToken)}}throw yield Me("Create Installation",en)})).apply(this,arguments)}function pn(Ce){return new Promise(fe=>{setTimeout(fe,Ce)})}const Yt=/^[cdef][\w-]{21}$/;function kn(){try{const Ce=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Ce),Ce[0]=112+Ce[0]%16;const ne=function(Ce){return function(Ce){return btoa(String.fromCharCode(...Ce)).replace(/\+/g,"-").replace(/\//g,"_")}(Ce).substr(0,22)}(Ce);return Yt.test(ne)?ne:""}catch(Ce){return""}}function In(Ce){return`${Ce.appName}!${Ce.appId}`}const Hn=new Map;function ni(Ce,fe){const ne=In(Ce);bi(ne,fe),function(Ce,fe){const ne=(!ri&&"BroadcastChannel"in self&&(ri=new BroadcastChannel("[Firebase] FID Change"),ri.onmessage=Ce=>{bi(Ce.data.key,Ce.data.fid)}),ri);ne&&ne.postMessage({key:Ce,fid:fe}),0===Hn.size&&ri&&(ri.close(),ri=null)}(ne,fe)}function bi(Ce,fe){const ne=Hn.get(Ce);if(ne)for(const se of ne)se(fe)}let ri=null;const ji="firebase-installations-store";let er=null;function fr(){return er||(er=(0,Ue.openDb)("firebase-installations-database",1,Ce=>{switch(Ce.oldVersion){case 0:Ce.createObjectStore(ji)}})),er}function Ji(Ce,fe){return Or.apply(this,arguments)}function Or(){return(Or=(0,n.Z)(function*(Ce,fe){const ne=In(Ce),ae=(yield fr()).transaction(ji,"readwrite"),Re=ae.objectStore(ji),en=yield Re.get(ne);return yield Re.put(fe,ne),yield ae.complete,(!en||en.fid!==fe.fid)&&ni(Ce,fe.fid),fe})).apply(this,arguments)}function Qn(Ce){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,n.Z)(function*(Ce){const fe=In(Ce),se=(yield fr()).transaction(ji,"readwrite");yield se.objectStore(ji).delete(fe),yield se.complete})).apply(this,arguments)}function yr(Ce,fe){return pr.apply(this,arguments)}function pr(){return(pr=(0,n.Z)(function*(Ce,fe){const ne=In(Ce),ae=(yield fr()).transaction(ji,"readwrite"),Re=ae.objectStore(ji),en=yield Re.get(ne),Gn=fe(en);return void 0===Gn?yield Re.delete(ne):yield Re.put(Gn,ne),yield ae.complete,Gn&&(!en||en.fid!==Gn.fid)&&ni(Ce,Gn.fid),Gn})).apply(this,arguments)}function bn(Ce){return jt.apply(this,arguments)}function jt(){return(jt=(0,n.Z)(function*(Ce){let fe;const ne=yield yr(Ce,se=>{const ae=tn(se),Re=jn(Ce,ae);return fe=Re.registrationPromise,Re.installationEntry});return""===ne.fid?{installationEntry:yield fe}:{installationEntry:ne,registrationPromise:fe}})).apply(this,arguments)}function tn(Ce){return _n(Ce||{fid:kn(),registrationStatus:0})}function jn(Ce,fe){if(0===fe.registrationStatus){if(!navigator.onLine)return{installationEntry:fe,registrationPromise:Promise.reject(Ae.create("app-offline"))};const ne={fid:fe.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:ne,registrationPromise:function(Ce,fe){return It.apply(this,arguments)}(Ce,ne)}}return 1===fe.registrationStatus?{installationEntry:fe,registrationPromise:vt(Ce)}:{installationEntry:fe}}function It(){return(It=(0,n.Z)(function*(Ce,fe){try{return Ji(Ce,yield on(Ce,fe))}catch(ne){throw Mt(ne)&&409===ne.customData.serverCode?yield Qn(Ce):yield Ji(Ce,{fid:fe.fid,registrationStatus:0}),ne}})).apply(this,arguments)}function vt(Ce){return mn.apply(this,arguments)}function mn(){return(mn=(0,n.Z)(function*(Ce){let fe=yield Rn(Ce);for(;1===fe.registrationStatus;)yield pn(100),fe=yield Rn(Ce);if(0===fe.registrationStatus){const{installationEntry:ne,registrationPromise:se}=yield bn(Ce);return se||ne}return fe})).apply(this,arguments)}function Rn(Ce){return yr(Ce,fe=>{if(!fe)throw Ae.create("installation-not-found");return _n(fe)})}function _n(Ce){return function(Ce){return 1===Ce.registrationStatus&&Ce.registrationTime+1e4<Date.now()}(Ce)?{fid:Ce.fid,registrationStatus:0}:Ce}function En(Ce,fe){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,n.Z)(function*({appConfig:Ce,platformLoggerProvider:fe},ne){const se=Yn(Ce,ne),ae=Dt(Ce,ne),Re=fe.getImmediate({optional:!0});Re&&ae.append("x-firebase-client",Re.getPlatformInfoString());const Gn={method:"POST",headers:ae,body:JSON.stringify({installation:{sdkVersion:Be}})},zi=yield cn(()=>fetch(se,Gn));if(zi.ok)return ve(yield zi.json());throw yield Me("Generate Auth Token",zi)})).apply(this,arguments)}function Yn(Ce,{fid:fe}){return`${ce(Ce)}/${fe}/authTokens:generate`}function ii(Ce){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,n.Z)(function*(Ce,fe=!1){let ne;const se=yield yr(Ce.appConfig,Re=>{if(!ti(Re))throw Ae.create("not-registered");const en=Re.authToken;if(!fe&&Fn(en))return Re;if(1===en.requestStatus)return ne=ut(Ce,fe),Re;{if(!navigator.onLine)throw Ae.create("app-offline");const Gn=it(Re);return ne=Gt(Ce,Gn),Gn}});return ne?yield ne:se.authToken})).apply(this,arguments)}function ut(Ce,fe){return $t.apply(this,arguments)}function $t(){return($t=(0,n.Z)(function*(Ce,fe){let ne=yield zt(Ce.appConfig);for(;1===ne.authToken.requestStatus;)yield pn(100),ne=yield zt(Ce.appConfig);const se=ne.authToken;return 0===se.requestStatus?ii(Ce,fe):se})).apply(this,arguments)}function zt(Ce){return yr(Ce,fe=>{if(!ti(fe))throw Ae.create("not-registered");return function(Ce){return 1===Ce.requestStatus&&Ce.requestTime+1e4<Date.now()}(fe.authToken)?Object.assign(Object.assign({},fe),{authToken:{requestStatus:0}}):fe})}function Gt(Ce,fe){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,n.Z)(function*(Ce,fe){try{const ne=yield En(Ce,fe),se=Object.assign(Object.assign({},fe),{authToken:ne});return yield Ji(Ce.appConfig,se),ne}catch(ne){if(!Mt(ne)||401!==ne.customData.serverCode&&404!==ne.customData.serverCode){const se=Object.assign(Object.assign({},fe),{authToken:{requestStatus:0}});yield Ji(Ce.appConfig,se)}else yield Qn(Ce.appConfig);throw ne}})).apply(this,arguments)}function ti(Ce){return void 0!==Ce&&2===Ce.registrationStatus}function Fn(Ce){return 2===Ce.requestStatus&&!function(Ce){const fe=Date.now();return fe<Ce.creationTime||Ce.creationTime+Ce.expiresIn<fe+36e5}(Ce)}function it(Ce){const fe={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Ce),{authToken:fe})}function We(){return(We=(0,n.Z)(function*(Ce){const fe=Ce,{installationEntry:ne,registrationPromise:se}=yield bn(fe.appConfig);return se?se.catch(console.error):ii(fe).catch(console.error),ne.fid})).apply(this,arguments)}function Ut(){return(Ut=(0,n.Z)(function*(Ce,fe=!1){const ne=Ce;return yield st(ne.appConfig),(yield ii(ne,fe)).token})).apply(this,arguments)}function st(Ce){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,n.Z)(function*(Ce){const{registrationPromise:fe}=yield bn(Ce);fe&&(yield fe)})).apply(this,arguments)}function si(Ce){return Ae.create("missing-app-config-values",{valueName:Ce})}const Ri="installations";(0,te._registerComponent)(new Fe.wA(Ri,Ce=>{const fe=Ce.getProvider("app").getImmediate();return{app:fe,appConfig:function(Ce){if(!Ce||!Ce.options)throw si("App Configuration");if(!Ce.name)throw si("App Name");const fe=["projectId","apiKey","appId"];for(const ne of fe)if(!Ce.options[ne])throw si(ne);return{appName:Ce.name,projectId:Ce.options.projectId,apiKey:Ce.options.apiKey,appId:Ce.options.appId}}(fe),platformLoggerProvider:(0,te._getProvider)(fe,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,te._registerComponent)(new Fe.wA("installations-internal",Ce=>{const fe=Ce.getProvider("app").getImmediate(),ne=(0,te._getProvider)(fe,Ri).getImmediate();return{getId:()=>function(Ce){return We.apply(this,arguments)}(ne),getToken:ae=>function(Ce){return Ut.apply(this,arguments)}(ne,ae)}},"PRIVATE")),(0,te.registerVersion)("@firebase/installations","0.5.0");const Yr="analytics",Ur="firebase_id",lt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$="https://www.googletagmanager.com/gtag/js",ue=new Oe.Yd("@firebase/analytics");function _e(Ce){return Promise.all(Ce.map(fe=>fe.catch(ne=>ne)))}function Le(Ce,fe){const ne=document.createElement("script");ne.src=`${$}?l=${Ce}&id=${fe}`,ne.async=!0,document.head.appendChild(ne)}function ft(Ce,fe,ne,se,ae,Re){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,n.Z)(function*(Ce,fe,ne,se,ae,Re){const en=se[ae];try{if(en)yield fe[en];else{const zi=(yield _e(ne)).find(Pr=>Pr.measurementId===ae);zi&&(yield fe[zi.appId])}}catch(Gn){ue.error(Gn)}Ce("config",ae,Re)})).apply(this,arguments)}function Wt(Ce,fe,ne,se,ae){return nn.apply(this,arguments)}function nn(){return(nn=(0,n.Z)(function*(Ce,fe,ne,se,ae){try{let Re=[];if(ae&&ae.send_to){let en=ae.send_to;Array.isArray(en)||(en=[en]);const Gn=yield _e(ne);for(const zi of en){const Pr=Gn.find(Vr=>Vr.measurementId===zi),Tr=Pr&&fe[Pr.appId];if(!Tr){Re=[];break}Re.push(Tr)}}0===Re.length&&(Re=Object.values(fe)),yield Promise.all(Re),Ce("event",se,ae||{})}catch(Re){ue.error(Re)}})).apply(this,arguments)}function mt(){const Ce=window.document.getElementsByTagName("script");for(const fe of Object.values(Ce))if(fe.src&&fe.src.includes($))return fe;return null}const un=new we.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ci=new class{constructor(fe={},ne=1e3){this.throttleMetadata=fe,this.intervalMillis=ne}getThrottleMetadata(fe){return this.throttleMetadata[fe]}setThrottleMetadata(fe,ne){this.throttleMetadata[fe]=ne}deleteThrottleMetadata(fe){delete this.throttleMetadata[fe]}};function ui(Ce){return new Headers({Accept:"application/json","x-goog-api-key":Ce})}function yi(Ce){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,n.Z)(function*(Ce){var fe;const{appId:ne,apiKey:se}=Ce,ae={method:"GET",headers:ui(se)},Re=lt.replace("{app-id}",ne),en=yield fetch(Re,ae);if(200!==en.status&&304!==en.status){let Gn="";try{const zi=yield en.json();(null===(fe=zi.error)||void 0===fe?void 0:fe.message)&&(Gn=zi.error.message)}catch(zi){}throw un.create("config-fetch-failed",{httpStatus:en.status,responseMessage:Gn})}return en.json()})).apply(this,arguments)}function ar(Ce){return ur.apply(this,arguments)}function ur(){return(ur=(0,n.Z)(function*(Ce,fe=Ci,ne){const{appId:se,apiKey:ae,measurementId:Re}=Ce.options;if(!se)throw un.create("no-app-id");if(!ae){if(Re)return{measurementId:Re,appId:se};throw un.create("no-api-key")}const en=fe.getThrottleMetadata(se)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Gn=new co;return setTimeout((0,n.Z)(function*(){Gn.abort()}),void 0!==ne?ne:6e4),gr({appId:se,apiKey:ae,measurementId:Re},en,Gn,fe)})).apply(this,arguments)}function gr(Ce,fe,ne){return mr.apply(this,arguments)}function mr(){return(mr=(0,n.Z)(function*(Ce,{throttleEndTimeMillis:fe,backoffCount:ne},se,ae=Ci){const{appId:Re,measurementId:en}=Ce;try{yield Wr(se,fe)}catch(Gn){if(en)return ue.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${en} provided in the "measurementId" field in the local Firebase config. [${Gn.message}]`),{appId:Re,measurementId:en};throw Gn}try{const Gn=yield yi(Ce);return ae.deleteThrottleMetadata(Re),Gn}catch(Gn){if(!Xr(Gn)){if(ae.deleteThrottleMetadata(Re),en)return ue.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${en} provided in the "measurementId" field in the local Firebase config. [${Gn.message}]`),{appId:Re,measurementId:en};throw Gn}const zi=503===Number(Gn.customData.httpStatus)?(0,we.$s)(ne,ae.intervalMillis,30):(0,we.$s)(ne,ae.intervalMillis),Pr={throttleEndTimeMillis:Date.now()+zi,backoffCount:ne+1};return ae.setThrottleMetadata(Re,Pr),ue.debug(`Calling attemptFetch again in ${zi} millis`),gr(Ce,Pr,se,ae)}})).apply(this,arguments)}function Wr(Ce,fe){return new Promise((ne,se)=>{const ae=Math.max(fe-Date.now(),0),Re=setTimeout(ne,ae);Ce.addEventListener(()=>{clearTimeout(Re),se(un.create("fetch-throttle",{throttleEndTimeMillis:fe}))})})}function Xr(Ce){if(!(Ce instanceof we.ZR&&Ce.customData))return!1;const fe=Number(Ce.customData.httpStatus);return 429===fe||500===fe||503===fe||504===fe}class co{constructor(){this.listeners=[]}addEventListener(fe){this.listeners.push(fe)}abort(){this.listeners.forEach(fe=>fe())}}function vo(){return Io.apply(this,arguments)}function Io(){return(Io=(0,n.Z)(function*(){if(!(0,we.hl)())return ue.warn(un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,we.eu)()}catch(Ce){return ue.warn(un.create("indexeddb-unavailable",{errorInfo:Ce}).message),!1}return!0})).apply(this,arguments)}function Qr(){return(Qr=(0,n.Z)(function*(Ce,fe,ne,se,ae,Re,en){var Gn;const zi=ar(Ce);zi.then(fo=>{ne[fo.measurementId]=fo.appId,Ce.options.measurementId&&fo.measurementId!==Ce.options.measurementId&&ue.warn(`The measurement ID in the local Firebase config (${Ce.options.measurementId}) does not match the measurement ID fetched from the server (${fo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fo=>ue.error(fo)),fe.push(zi);const Pr=vo().then(fo=>{if(fo)return se.getId()}),[Tr,Vr]=yield Promise.all([zi,Pr]);mt()||Le(Re,Tr.measurementId),ae("js",new Date);const ro=null!==(Gn=null==en?void 0:en.config)&&void 0!==Gn?Gn:{};return ro.origin="firebase",ro.update=!0,null!=Vr&&(ro[Ur]=Vr),ae("config",Tr.measurementId,ro),Tr.measurementId})).apply(this,arguments)}class _s{constructor(fe){this.app=fe}_delete(){return delete _o[this.app.options.appId],Promise.resolve()}}let _o={},hs=[];const Ts={};let wo,So,No="dataLayer",Uo="gtag",Ro=!1;function fn(Ce){if(Ro)throw un.create("already-initialized");Ce.dataLayerName&&(No=Ce.dataLayerName),Ce.gtagName&&(Uo=Ce.gtagName)}function St(Ce,fe,ne){!function(){const Ce=[];if((0,we.ru)()&&Ce.push("This is a browser extension environment."),(0,we.zI)()||Ce.push("Cookies are not available."),Ce.length>0){const fe=Ce.map((se,ae)=>`(${ae+1}) ${se}`).join(" "),ne=un.create("invalid-analytics-context",{errorInfo:fe});ue.warn(ne.message)}}();const se=Ce.options.appId;if(!se)throw un.create("no-app-id");if(!Ce.options.apiKey){if(!Ce.options.measurementId)throw un.create("no-api-key");ue.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Ce.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_o[se])throw un.create("already-exists",{id:se});if(!Ro){!function(Ce){let fe=[];Array.isArray(window[Ce])?fe=window[Ce]:window[Ce]=fe}(No);const{wrappedGtag:Re,gtagCore:en}=function(Ce,fe,ne,se,ae){let Re=function(...en){window[se].push(arguments)};return window[ae]&&"function"==typeof window[ae]&&(Re=window[ae]),window[ae]=function(Ce,fe,ne,se){function Re(){return(Re=(0,n.Z)(function*(en,Gn,zi){try{"event"===en?yield Wt(Ce,fe,ne,Gn,zi):"config"===en?yield ft(Ce,fe,ne,se,Gn,zi):Ce("set",Gn)}catch(Pr){ue.error(Pr)}})).apply(this,arguments)}return function(en,Gn,zi){return Re.apply(this,arguments)}}(Re,Ce,fe,ne),{gtagCore:Re,wrappedGtag:window[ae]}}(_o,hs,Ts,No,Uo);So=Re,wo=en,Ro=!0}return _o[se]=function(Ce,fe,ne,se,ae,Re,en){return Qr.apply(this,arguments)}(Ce,hs,Ts,fe,wo,No,ne),new _s(Ce)}function Ai(){return(Ai=(0,n.Z)(function*(Ce,fe,ne,se,ae){if(ae&&ae.global)Ce("event",ne,se);else{const Re=yield fe;Ce("event",ne,Object.assign(Object.assign({},se),{send_to:Re}))}})).apply(this,arguments)}function xi(){return(xi=(0,n.Z)(function*(Ce,fe,ne,se){if(se&&se.global)return Ce("set",{screen_name:ne}),Promise.resolve();Ce("config",yield fe,{update:!0,screen_name:ne})})).apply(this,arguments)}function _r(){return(_r=(0,n.Z)(function*(Ce,fe,ne,se){if(se&&se.global)return Ce("set",{user_id:ne}),Promise.resolve();Ce("config",yield fe,{update:!0,user_id:ne})})).apply(this,arguments)}function ot(){return(ot=(0,n.Z)(function*(Ce,fe,ne,se){if(se&&se.global){const ae={};for(const Re of Object.keys(ne))ae[`user_properties.${Re}`]=ne[Re];return Ce("set",ae),Promise.resolve()}Ce("config",yield fe,{update:!0,user_properties:ne})})).apply(this,arguments)}function Et(){return(Et=(0,n.Z)(function*(Ce,fe){const ne=yield Ce;window[`ga-disable-${ne}`]=!fe})).apply(this,arguments)}function oi(){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,n.Z)(function*(){if((0,we.ru)()||!(0,we.zI)()||!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch(Ce){return!1}})).apply(this,arguments)}function nr(Ce,fe,ne){Ce=(0,we.m9)(Ce),function(Ce,fe,ne,se){return xi.apply(this,arguments)}(So,_o[Ce.app.options.appId],fe,ne).catch(se=>ue.error(se))}function dr(Ce,fe,ne){Ce=(0,we.m9)(Ce),function(Ce,fe,ne,se){return _r.apply(this,arguments)}(So,_o[Ce.app.options.appId],fe,ne).catch(se=>ue.error(se))}function Rr(Ce,fe,ne){Ce=(0,we.m9)(Ce),function(Ce,fe,ne,se){return ot.apply(this,arguments)}(So,_o[Ce.app.options.appId],fe,ne).catch(se=>ue.error(se))}function cr(Ce,fe){Ce=(0,we.m9)(Ce),function(Ce,fe){return Et.apply(this,arguments)}(_o[Ce.app.options.appId],fe).catch(ne=>ue.error(ne))}function yo(Ce,fe,ne,se){Ce=(0,we.m9)(Ce),function(Ce,fe,ne,se,ae){return Ai.apply(this,arguments)}(So,_o[Ce.app.options.appId],fe,ne,se).catch(ae=>ue.error(ae))}(0,te._registerComponent)(new Fe.wA(Yr,(fe,{options:ne})=>St(fe.getProvider("app").getImmediate(),fe.getProvider("installations-internal").getImmediate(),ne),"PUBLIC")),(0,te._registerComponent)(new Fe.wA("analytics-internal",function(fe){try{const ne=fe.getProvider(Yr).getImmediate();return{logEvent:(se,ae,Re)=>yo(ne,se,ae,Re)}}catch(ne){throw un.create("interop-component-reg-failed",{reason:ne})}},"PRIVATE")),(0,te.registerVersion)("@firebase/analytics","0.7.0")},4486:(Se,Ze,X)=>{"use strict";X.d(Ze,{Z:()=>_t});var n=X(4685),te=X(6034),Oe=X(5452),we=X(300);class Fe{constructor(Mt,ce){this._delegate=Mt,this.firebase=ce,(0,Oe._addComponent)(Mt,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=Mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Mt){this._delegate.automaticDataCollectionEnabled=Mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Mt=>{this._delegate.checkDestroyed(),Mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Oe.deleteApp)(this._delegate)))}_getService(Mt,ce=Oe._DEFAULT_ENTRY_NAME){var ve;this._delegate.checkDestroyed();const Me=this._delegate.container.getProvider(Mt);return!Me.isInitialized()&&"EXPLICIT"===(null===(ve=Me.getComponent())||void 0===ve?void 0:ve.instantiationMode)&&Me.initialize(),Me.getImmediate({identifier:ce})}_removeServiceInstance(Mt,ce=Oe._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Mt).clearInstance(ce)}_addComponent(Mt){(0,Oe._addComponent)(this._delegate,Mt)}_addOrOverwriteComponent(Mt){(0,Oe._addOrOverwriteComponent)(this._delegate,Mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const He=new n.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Be=function nt(){const Ae=function(Ae){const Mt={},ce={__esModule:!0,initializeApp:function(gt,Ht={}){const Lt=Oe.initializeApp(gt,Ht);if((0,n.r3)(Mt,Lt.name))return Mt[Lt.name];const on=new Ae(Lt,ce);return Mt[Lt.name]=on,on},app:Me,registerVersion:Oe.registerVersion,setLogLevel:Oe.setLogLevel,onLog:Oe.onLog,apps:null,SDK_VERSION:Oe.SDK_VERSION,INTERNAL:{registerComponent:function(gt){const Ht=gt.name,Lt=Ht.replace("-compat","");if(Oe._registerComponent(gt)&&"PUBLIC"===gt.type){const on=(sn=Me())=>{if("function"!=typeof sn[Lt])throw He.create("invalid-app-argument",{appName:Ht});return sn[Lt]()};void 0!==gt.serviceProps&&(0,n.ZB)(on,gt.serviceProps),ce[Lt]=on,Ae.prototype[Lt]=function(...sn){return this._getService.bind(this,Ht).apply(this,gt.multipleInstances?sn:[])}}return"PUBLIC"===gt.type?ce[Lt]:null},removeApp:function(gt){delete Mt[gt]},useAsService:function(gt,Ht){return"serverAuth"===Ht?null:Ht},modularAPIs:Oe}};function Me(gt){if(!(0,n.r3)(Mt,gt=gt||Oe._DEFAULT_ENTRY_NAME))throw He.create("no-app",{appName:gt});return Mt[gt]}return ce.default=ce,Object.defineProperty(ce,"apps",{get:function(){return Object.keys(Mt).map(gt=>Mt[gt])}}),Me.App=Ae,ce}(Fe);return Ae.INTERNAL=Object.assign(Object.assign({},Ae.INTERNAL),{createFirebaseNamespace:nt,extendNamespace:function(ce){(0,n.ZB)(Ae,ce)},createSubscribe:n.ne,ErrorFactory:n.LL,deepExtend:n.ZB}),Ae}(),qe=new we.Yd("@firebase/app-compat");if((0,n.jU)()&&void 0!==self.firebase){qe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ae=self.firebase.SDK_VERSION;Ae&&Ae.indexOf("LITE")>=0&&qe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Zt=Be;(0,Oe.registerVersion)("@firebase/app-compat","0.1.1",undefined);const _t=Zt},5452:(Se,Ze,X)=>{"use strict";X.r(Ze),X.d(Ze,{FirebaseError:()=>we.ZR,SDK_VERSION:()=>mi,_DEFAULT_ENTRY_NAME:()=>kn,_addComponent:()=>ni,_addOrOverwriteComponent:()=>pi,_apps:()=>In,_clearComponents:()=>ri,_components:()=>Hn,_getProvider:()=>bi,_registerComponent:()=>Fi,_removeServiceInstance:()=>fi,deleteApp:()=>Ji,getApp:()=>er,getApps:()=>fr,initializeApp:()=>ji,onLog:()=>Yi,registerVersion:()=>Qn,setLogLevel:()=>yr});var n=X(8239),te=X(6034),Oe=X(300),we=X(4685);class Fe{constructor(jt){this.container=jt}getPlatformInfoString(){return this.container.getProviders().map(tn=>{if(function(bn){const jt=bn.getComponent();return"VERSION"===(null==jt?void 0:jt.type)}(tn)){const jn=tn.getImmediate();return`${jn.library}/${jn.version}`}return null}).filter(tn=>tn).join(" ")}}const He="@firebase/app",nt=new Oe.Yd("@firebase/app"),kn="[DEFAULT]",Zn={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},In=new Map,Hn=new Map;function ni(bn,jt){try{bn.container.addComponent(jt)}catch(tn){nt.debug(`Component ${jt.name} failed to register with FirebaseApp ${bn.name}`,tn)}}function pi(bn,jt){bn.container.addOrOverwriteComponent(jt)}function Fi(bn){const jt=bn.name;if(Hn.has(jt))return nt.debug(`There were multiple attempts to register component ${jt}.`),!1;Hn.set(jt,bn);for(const tn of In.values())ni(tn,bn);return!0}function bi(bn,jt){return bn.container.getProvider(jt)}function fi(bn,jt,tn=kn){bi(bn,jt).clearInstance(tn)}function ri(){Hn.clear()}const Un=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class _i{constructor(jt,tn,jn){this._isDeleted=!1,this._options=Object.assign({},jt),this._config=Object.assign({},tn),this._name=tn.name,this._automaticDataCollectionEnabled=tn.automaticDataCollectionEnabled,this._container=jn,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(jt){this.checkDestroyed(),this._automaticDataCollectionEnabled=jt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(jt){this._isDeleted=jt}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const mi="9.0.0";function ji(bn,jt={}){"object"!=typeof jt&&(jt={name:jt});const tn=Object.assign({name:kn,automaticDataCollectionEnabled:!1},jt),jn=tn.name;if("string"!=typeof jn||!jn)throw Un.create("bad-app-name",{appName:String(jn)});const Ve=In.get(jn);if(Ve){if((0,we.vZ)(bn,Ve.options)&&(0,we.vZ)(tn,Ve.config))return Ve;throw Un.create("duplicate-app",{appName:jn})}const It=new te.H0(jn);for(const mn of Hn.values())It.addComponent(mn);const vt=new _i(bn,tn,It);return In.set(jn,vt),vt}function er(bn=kn){const jt=In.get(bn);if(!jt)throw Un.create("no-app",{appName:bn});return jt}function fr(){return Array.from(In.values())}function Ji(bn){return Or.apply(this,arguments)}function Or(){return(Or=(0,n.Z)(function*(bn){const jt=bn.name;In.has(jt)&&(In.delete(jt),yield Promise.all(bn.container.getProviders().map(tn=>tn.delete())),bn.isDeleted=!0)})).apply(this,arguments)}function Qn(bn,jt,tn){var jn;let Ve=null!==(jn=Zn[bn])&&void 0!==jn?jn:bn;tn&&(Ve+=`-${tn}`);const It=Ve.match(/\s|\//),vt=jt.match(/\s|\//);if(It||vt){const mn=[`Unable to register library "${Ve}" with version "${jt}":`];return It&&mn.push(`library name "${Ve}" contains illegal characters (whitespace or "/")`),It&&vt&&mn.push("and"),vt&&mn.push(`version name "${jt}" contains illegal characters (whitespace or "/")`),void nt.warn(mn.join(" "))}Fi(new te.wA(`${Ve}-version`,()=>({library:Ve,version:jt}),"VERSION"))}function Yi(bn,jt){if(null!==bn&&"function"!=typeof bn)throw Un.create("invalid-log-argument");(0,Oe.Am)(bn,jt)}function yr(bn){(0,Oe.Ub)(bn)}Fi(new te.wA("platform-logger",jt=>new Fe(jt),"PRIVATE")),Qn(He,"0.7.0",undefined),Qn("fire-js","")},6034:(Se,Ze,X)=>{"use strict";X.d(Ze,{wA:()=>Oe,H0:()=>Ne});var n=X(4762),te=X(4685),Oe=function(){function nt(Be,qe,$e){this.name=Be,this.instanceFactory=qe,this.type=$e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return nt.prototype.setInstantiationMode=function(Be){return this.instantiationMode=Be,this},nt.prototype.setMultipleInstances=function(Be){return this.multipleInstances=Be,this},nt.prototype.setServiceProps=function(Be){return this.serviceProps=Be,this},nt.prototype.setInstanceCreatedCallback=function(Be){return this.onInstanceCreated=Be,this},nt}(),we="[DEFAULT]",Fe=function(){function nt(Be,qe){this.name=Be,this.container=qe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return nt.prototype.get=function(Be){var qe=this.normalizeInstanceIdentifier(Be);if(!this.instancesDeferred.has(qe)){var $e=new te.BH;if(this.instancesDeferred.set(qe,$e),this.isInitialized(qe)||this.shouldAutoInitialize())try{var Qe=this.getOrInitializeService({instanceIdentifier:qe});Qe&&$e.resolve(Qe)}catch(Ot){}}return this.instancesDeferred.get(qe).promise},nt.prototype.getImmediate=function(Be){var qe,$e=this.normalizeInstanceIdentifier(null==Be?void 0:Be.identifier),Qe=null!==(qe=null==Be?void 0:Be.optional)&&void 0!==qe&&qe;if(!this.isInitialized($e)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:$e})}catch(Ot){if(Qe)return null;throw Ot}},nt.prototype.getComponent=function(){return this.component},nt.prototype.setComponent=function(Be){var qe,$e;if(Be.name!==this.name)throw Error("Mismatching Component "+Be.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=Be,this.shouldAutoInitialize()){if(function(nt){return"EAGER"===nt.instantiationMode}(Be))try{this.getOrInitializeService({instanceIdentifier:we})}catch(ve){}try{for(var Qe=(0,n.XA)(this.instancesDeferred.entries()),Ot=Qe.next();!Ot.done;Ot=Qe.next()){var Zt=(0,n.CR)(Ot.value,2),Ae=Zt[1],Mt=this.normalizeInstanceIdentifier(Zt[0]);try{var ce=this.getOrInitializeService({instanceIdentifier:Mt});Ae.resolve(ce)}catch(ve){}}}catch(ve){qe={error:ve}}finally{try{Ot&&!Ot.done&&($e=Qe.return)&&$e.call(Qe)}finally{if(qe)throw qe.error}}}},nt.prototype.clearInstance=function(Be){void 0===Be&&(Be=we),this.instancesDeferred.delete(Be),this.instancesOptions.delete(Be),this.instances.delete(Be)},nt.prototype.delete=function(){return(0,n.mG)(this,void 0,void 0,function(){var Be;return(0,n.Jh)(this,function(qe){switch(qe.label){case 0:return Be=Array.from(this.instances.values()),[4,Promise.all((0,n.ev)((0,n.ev)([],(0,n.CR)(Be.filter(function($e){return"INTERNAL"in $e}).map(function($e){return $e.INTERNAL.delete()}))),(0,n.CR)(Be.filter(function($e){return"_delete"in $e}).map(function($e){return $e._delete()}))))];case 1:return qe.sent(),[2]}})})},nt.prototype.isComponentSet=function(){return null!=this.component},nt.prototype.isInitialized=function(Be){return void 0===Be&&(Be=we),this.instances.has(Be)},nt.prototype.getOptions=function(Be){return void 0===Be&&(Be=we),this.instancesOptions.get(Be)||{}},nt.prototype.initialize=function(Be){var qe,$e;void 0===Be&&(Be={});var Qe=Be.options,Ot=void 0===Qe?{}:Qe,Zt=this.normalizeInstanceIdentifier(Be.instanceIdentifier);if(this.isInitialized(Zt))throw Error(this.name+"("+Zt+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var _t=this.getOrInitializeService({instanceIdentifier:Zt,options:Ot});try{for(var Ae=(0,n.XA)(this.instancesDeferred.entries()),Mt=Ae.next();!Mt.done;Mt=Ae.next()){var ce=(0,n.CR)(Mt.value,2),Me=ce[1];Zt===this.normalizeInstanceIdentifier(ce[0])&&Me.resolve(_t)}}catch(bt){qe={error:bt}}finally{try{Mt&&!Mt.done&&($e=Ae.return)&&$e.call(Ae)}finally{if(qe)throw qe.error}}return _t},nt.prototype.onInit=function(Be,qe){var $e,Qe=this.normalizeInstanceIdentifier(qe),Ot=null!==($e=this.onInitCallbacks.get(Qe))&&void 0!==$e?$e:new Set;Ot.add(Be),this.onInitCallbacks.set(Qe,Ot);var Zt=this.instances.get(Qe);return Zt&&Be(Zt,Qe),function(){Ot.delete(Be)}},nt.prototype.invokeOnInitCallbacks=function(Be,qe){var $e,Qe,Ot=this.onInitCallbacks.get(qe);if(Ot)try{for(var Zt=(0,n.XA)(Ot),_t=Zt.next();!_t.done;_t=Zt.next()){var Ae=_t.value;try{Ae(Be,qe)}catch(Mt){}}}catch(Mt){$e={error:Mt}}finally{try{_t&&!_t.done&&(Qe=Zt.return)&&Qe.call(Zt)}finally{if($e)throw $e.error}}},nt.prototype.getOrInitializeService=function(Be){var qe=Be.instanceIdentifier,$e=Be.options,Qe=void 0===$e?{}:$e,Ot=this.instances.get(qe);if(!Ot&&this.component&&(Ot=this.component.instanceFactory(this.container,{instanceIdentifier:Ue(qe),options:Qe}),this.instances.set(qe,Ot),this.instancesOptions.set(qe,Qe),this.invokeOnInitCallbacks(Ot,qe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,qe,Ot)}catch(Zt){}return Ot||null},nt.prototype.normalizeInstanceIdentifier=function(Be){return void 0===Be&&(Be=we),this.component?this.component.multipleInstances?Be:we:Be},nt.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},nt}();function Ue(nt){return nt===we?void 0:nt}var Ne=function(){function nt(Be){this.name=Be,this.providers=new Map}return nt.prototype.addComponent=function(Be){var qe=this.getProvider(Be.name);if(qe.isComponentSet())throw new Error("Component "+Be.name+" has already been registered with "+this.name);qe.setComponent(Be)},nt.prototype.addOrOverwriteComponent=function(Be){this.getProvider(Be.name).isComponentSet()&&this.providers.delete(Be.name),this.addComponent(Be)},nt.prototype.getProvider=function(Be){if(this.providers.has(Be))return this.providers.get(Be);var qe=new Fe(Be,this);return this.providers.set(Be,qe),qe},nt.prototype.getProviders=function(){return Array.from(this.providers.values())},nt}()},300:(Se,Ze,X)=>{"use strict";function n(){for(var $e=0,Qe=0,Ot=arguments.length;Qe<Ot;Qe++)$e+=arguments[Qe].length;var Zt=Array($e),_t=0;for(Qe=0;Qe<Ot;Qe++)for(var Ae=arguments[Qe],Mt=0,ce=Ae.length;Mt<ce;Mt++,_t++)Zt[_t]=Ae[Mt];return Zt}X.d(Ze,{in:()=>we,Yd:()=>nt,Ub:()=>Be,Am:()=>qe});var te,Oe=[],we=(()=>{return($e=we||(we={}))[$e.DEBUG=0]="DEBUG",$e[$e.VERBOSE=1]="VERBOSE",$e[$e.INFO=2]="INFO",$e[$e.WARN=3]="WARN",$e[$e.ERROR=4]="ERROR",$e[$e.SILENT=5]="SILENT",we;var $e})(),Fe={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Ue=we.INFO,He=((te={})[we.DEBUG]="log",te[we.VERBOSE]="log",te[we.INFO]="info",te[we.WARN]="warn",te[we.ERROR]="error",te),Ne=function($e,Qe){for(var Ot=[],Zt=2;Zt<arguments.length;Zt++)Ot[Zt-2]=arguments[Zt];if(!(Qe<$e.logLevel)){var _t=(new Date).toISOString(),Ae=He[Qe];if(!Ae)throw new Error("Attempted to log a message with an invalid logType (value: "+Qe+")");console[Ae].apply(console,n(["["+_t+"]  "+$e.name+":"],Ot))}},nt=function(){function $e(Qe){this.name=Qe,this._logLevel=Ue,this._logHandler=Ne,this._userLogHandler=null,Oe.push(this)}return Object.defineProperty($e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Qe){if(!(Qe in we))throw new TypeError('Invalid value "'+Qe+'" assigned to `logLevel`');this._logLevel=Qe},enumerable:!1,configurable:!0}),$e.prototype.setLogLevel=function(Qe){this._logLevel="string"==typeof Qe?Fe[Qe]:Qe},Object.defineProperty($e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Qe){if("function"!=typeof Qe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Qe},enumerable:!1,configurable:!0}),Object.defineProperty($e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Qe){this._userLogHandler=Qe},enumerable:!1,configurable:!0}),$e.prototype.debug=function(){for(var Qe=[],Ot=0;Ot<arguments.length;Ot++)Qe[Ot]=arguments[Ot];this._userLogHandler&&this._userLogHandler.apply(this,n([this,we.DEBUG],Qe)),this._logHandler.apply(this,n([this,we.DEBUG],Qe))},$e.prototype.log=function(){for(var Qe=[],Ot=0;Ot<arguments.length;Ot++)Qe[Ot]=arguments[Ot];this._userLogHandler&&this._userLogHandler.apply(this,n([this,we.VERBOSE],Qe)),this._logHandler.apply(this,n([this,we.VERBOSE],Qe))},$e.prototype.info=function(){for(var Qe=[],Ot=0;Ot<arguments.length;Ot++)Qe[Ot]=arguments[Ot];this._userLogHandler&&this._userLogHandler.apply(this,n([this,we.INFO],Qe)),this._logHandler.apply(this,n([this,we.INFO],Qe))},$e.prototype.warn=function(){for(var Qe=[],Ot=0;Ot<arguments.length;Ot++)Qe[Ot]=arguments[Ot];this._userLogHandler&&this._userLogHandler.apply(this,n([this,we.WARN],Qe)),this._logHandler.apply(this,n([this,we.WARN],Qe))},$e.prototype.error=function(){for(var Qe=[],Ot=0;Ot<arguments.length;Ot++)Qe[Ot]=arguments[Ot];this._userLogHandler&&this._userLogHandler.apply(this,n([this,we.ERROR],Qe)),this._logHandler.apply(this,n([this,we.ERROR],Qe))},$e}();function Be($e){Oe.forEach(function(Qe){Qe.setLogLevel($e)})}function qe($e,Qe){for(var Ot=function(Mt){var ce=null;Qe&&Qe.level&&(ce=Fe[Qe.level]),Mt.userLogHandler=null===$e?null:function(ve,Me){for(var tt=[],bt=2;bt<arguments.length;bt++)tt[bt-2]=arguments[bt];var Dt=tt.map(function(cn){if(null==cn)return null;if("string"==typeof cn)return cn;if("number"==typeof cn||"boolean"==typeof cn)return cn.toString();if(cn instanceof Error)return cn.message;try{return JSON.stringify(cn)}catch(gt){return null}}).filter(function(cn){return cn}).join(" ");Me>=(null!=ce?ce:ve.logLevel)&&$e({level:we[Me].toLowerCase(),message:Dt,args:tt,type:ve.name})}},Zt=0,_t=Oe;Zt<_t.length;Zt++)Ot(_t[Zt])}},4685:(Se,Ze,X)=>{"use strict";X.d(Ze,{BH:()=>Ot,LL:()=>Yt,ZR:()=>wt,zI:()=>on,tV:()=>Be,$s:()=>En,r3:()=>fi,Sg:()=>Zt,ne:()=>Or,vZ:()=>_i,ZB:()=>$e,pd:()=>fr,m9:()=>ii,z$:()=>_t,jU:()=>ce,ru:()=>ve,d:()=>tt,xb:()=>zn,w1:()=>bt,hl:()=>Ht,uI:()=>Ae,UG:()=>Mt,b$:()=>Me,G6:()=>gt,Mn:()=>Dt,xO:()=>ji,zd:()=>er,eu:()=>Lt});var n=X(4762),Fe=function(Rt){for(var ut=[],$t=0,zt=0;zt<Rt.length;zt++){var Gt=Rt.charCodeAt(zt);Gt<128?ut[$t++]=Gt:Gt<2048?(ut[$t++]=Gt>>6|192,ut[$t++]=63&Gt|128):55296==(64512&Gt)&&zt+1<Rt.length&&56320==(64512&Rt.charCodeAt(zt+1))?(Gt=65536+((1023&Gt)<<10)+(1023&Rt.charCodeAt(++zt)),ut[$t++]=Gt>>18|240,ut[$t++]=Gt>>12&63|128,ut[$t++]=Gt>>6&63|128,ut[$t++]=63&Gt|128):(ut[$t++]=Gt>>12|224,ut[$t++]=Gt>>6&63|128,ut[$t++]=63&Gt|128)}return ut},He={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Rt,ut){if(!Array.isArray(Rt))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var $t=ut?this.byteToCharMapWebSafe_:this.byteToCharMap_,zt=[],Gt=0;Gt<Rt.length;Gt+=3){var Tn=Rt[Gt],ti=Gt+1<Rt.length,Fn=ti?Rt[Gt+1]:0,Ni=Gt+2<Rt.length,it=Ni?Rt[Gt+2]:0,We=(15&Fn)<<2|it>>6,pt=63&it;Ni||(pt=64,ti||(We=64)),zt.push($t[Tn>>2],$t[(3&Tn)<<4|Fn>>4],$t[We],$t[pt])}return zt.join("")},encodeString:function(Rt,ut){return this.HAS_NATIVE_SUPPORT&&!ut?btoa(Rt):this.encodeByteArray(Fe(Rt),ut)},decodeString:function(Rt,ut){return this.HAS_NATIVE_SUPPORT&&!ut?atob(Rt):function(Rt){for(var ut=[],$t=0,zt=0;$t<Rt.length;){var Gt=Rt[$t++];if(Gt<128)ut[zt++]=String.fromCharCode(Gt);else if(Gt>191&&Gt<224){var Tn=Rt[$t++];ut[zt++]=String.fromCharCode((31&Gt)<<6|63&Tn)}else if(Gt>239&&Gt<365){var Ni=((7&Gt)<<18|(63&(Tn=Rt[$t++]))<<12|(63&(ti=Rt[$t++]))<<6|63&Rt[$t++])-65536;ut[zt++]=String.fromCharCode(55296+(Ni>>10)),ut[zt++]=String.fromCharCode(56320+(1023&Ni))}else{Tn=Rt[$t++];var ti=Rt[$t++];ut[zt++]=String.fromCharCode((15&Gt)<<12|(63&Tn)<<6|63&ti)}}return ut.join("")}(this.decodeStringToByteArray(Rt,ut))},decodeStringToByteArray:function(Rt,ut){this.init_();for(var $t=ut?this.charToByteMapWebSafe_:this.charToByteMap_,zt=[],Gt=0;Gt<Rt.length;){var Tn=$t[Rt.charAt(Gt++)],Fn=Gt<Rt.length?$t[Rt.charAt(Gt)]:0,it=++Gt<Rt.length?$t[Rt.charAt(Gt)]:64,dt=++Gt<Rt.length?$t[Rt.charAt(Gt)]:64;if(++Gt,null==Tn||null==Fn||null==it||null==dt)throw Error();zt.push(Tn<<2|Fn>>4),64!==it&&(zt.push(Fn<<4&240|it>>2),64!==dt&&zt.push(it<<6&192|dt))}return zt},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Rt=0;Rt<this.ENCODED_VALS.length;Rt++)this.byteToCharMap_[Rt]=this.ENCODED_VALS.charAt(Rt),this.charToByteMap_[this.byteToCharMap_[Rt]]=Rt,this.byteToCharMapWebSafe_[Rt]=this.ENCODED_VALS_WEBSAFE.charAt(Rt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Rt]]=Rt,Rt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Rt)]=Rt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Rt)]=Rt)}}},nt=function(Rt){return function(Rt){var ut=Fe(Rt);return He.encodeByteArray(ut,!0)}(Rt).replace(/\./g,"")},Be=function(Rt){try{return He.decodeString(Rt,!0)}catch(ut){console.error("base64Decode failed: ",ut)}return null};function $e(Rt,ut){if(!(ut instanceof Object))return ut;switch(ut.constructor){case Date:return new Date(ut.getTime());case Object:void 0===Rt&&(Rt={});break;case Array:Rt=[];break;default:return ut}for(var zt in ut)!ut.hasOwnProperty(zt)||!Qe(zt)||(Rt[zt]=$e(Rt[zt],ut[zt]));return Rt}function Qe(Rt){return"__proto__"!==Rt}var Ot=function(){function Rt(){var ut=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function($t,zt){ut.resolve=$t,ut.reject=zt})}return Rt.prototype.wrapCallback=function(ut){var $t=this;return function(zt,Gt){zt?$t.reject(zt):$t.resolve(Gt),"function"==typeof ut&&($t.promise.catch(function(){}),1===ut.length?ut(zt):ut(zt,Gt))}},Rt}();function Zt(Rt,ut){if(Rt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var zt=ut||"demo-project",Gt=Rt.iat||0,Tn=Rt.sub||Rt.user_id;if(!Tn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var ti=(0,n.pi)({iss:"https://securetoken.google.com/"+zt,aud:zt,iat:Gt,exp:Gt+3600,auth_time:Gt,sub:Tn,user_id:Tn,firebase:{sign_in_provider:"custom",identities:{}}},Rt);return[nt(JSON.stringify({alg:"none",type:"JWT"})),nt(JSON.stringify(ti)),""].join(".")}function _t(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function Mt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Rt){return!1}}function ce(){return"object"==typeof self&&self.self===self}function ve(){var Rt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Rt&&void 0!==Rt.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function tt(){return _t().indexOf("Electron/")>=0}function bt(){var Rt=_t();return Rt.indexOf("MSIE ")>=0||Rt.indexOf("Trident/")>=0}function Dt(){return _t().indexOf("MSAppHost/")>=0}function gt(){return!Mt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ht(){return"indexedDB"in self&&null!=indexedDB}function Lt(){return new Promise(function(Rt,ut){try{var $t=!0,zt="validate-browser-context-for-indexeddb-analytics-module",Gt=self.indexedDB.open(zt);Gt.onsuccess=function(){Gt.result.close(),$t||self.indexedDB.deleteDatabase(zt),Rt(!0)},Gt.onupgradeneeded=function(){$t=!1},Gt.onerror=function(){var Tn;ut((null===(Tn=Gt.error)||void 0===Tn?void 0:Tn.message)||"")}}catch(Tn){ut(Tn)}})}function on(){return!(!navigator||!navigator.cookieEnabled)}var wt=function(Rt){function ut($t,zt,Gt){var Tn=Rt.call(this,zt)||this;return Tn.code=$t,Tn.customData=Gt,Tn.name="FirebaseError",Object.setPrototypeOf(Tn,ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(Tn,Yt.prototype.create),Tn}return(0,n.ZT)(ut,Rt),ut}(Error),Yt=function(){function Rt(ut,$t,zt){this.service=ut,this.serviceName=$t,this.errors=zt}return Rt.prototype.create=function(ut){for(var $t=[],zt=1;zt<arguments.length;zt++)$t[zt-1]=arguments[zt];var Gt=$t[0]||{},Tn=this.service+"/"+ut,ti=this.errors[ut],Fn=ti?gn(ti,Gt):"Error",Ni=this.serviceName+": "+Fn+" ("+Tn+").",it=new wt(Tn,Ni,Gt);return it},Rt}();function gn(Rt,ut){return Rt.replace(kn,function($t,zt){var Gt=ut[zt];return null!=Gt?String(Gt):"<"+zt+"?>"})}var kn=/\{\$([^}]+)}/g;function fi(Rt,ut){return Object.prototype.hasOwnProperty.call(Rt,ut)}function zn(Rt){for(var ut in Rt)if(Object.prototype.hasOwnProperty.call(Rt,ut))return!1;return!0}function _i(Rt,ut){if(Rt===ut)return!0;for(var $t=Object.keys(Rt),zt=Object.keys(ut),Gt=0,Tn=$t;Gt<Tn.length;Gt++){if(!zt.includes(ti=Tn[Gt]))return!1;var Fn=Rt[ti],Ni=ut[ti];if(mi(Fn)&&mi(Ni)){if(!_i(Fn,Ni))return!1}else if(Fn!==Ni)return!1}for(var it=0,Ct=zt;it<Ct.length;it++){var ti;if(!$t.includes(ti=Ct[it]))return!1}return!0}function mi(Rt){return null!==Rt&&"object"==typeof Rt}function ji(Rt){for(var ut=[],$t=function(Ni,it){Array.isArray(it)?it.forEach(function(Ct){ut.push(encodeURIComponent(Ni)+"="+encodeURIComponent(Ct))}):ut.push(encodeURIComponent(Ni)+"="+encodeURIComponent(it))},zt=0,Gt=Object.entries(Rt);zt<Gt.length;zt++){var Tn=Gt[zt];$t(Tn[0],Tn[1])}return ut.length?"&"+ut.join("&"):""}function er(Rt){var ut={};return Rt.replace(/^\?/,"").split("&").forEach(function(zt){if(zt){var Gt=zt.split("="),ti=Gt[1];ut[decodeURIComponent(Gt[0])]=decodeURIComponent(ti)}}),ut}function fr(Rt){var ut=Rt.indexOf("?");if(!ut)return"";var $t=Rt.indexOf("#",ut);return Rt.substring(ut,$t>0?$t:void 0)}function Or(Rt,ut){var $t=new Qn(Rt,ut);return $t.subscribe.bind($t)}!function(){function Rt(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var ut=1;ut<this.blockSize;++ut)this.pad_[ut]=0;this.reset()}Rt.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Rt.prototype.compress_=function(ut,$t){$t||($t=0);var zt=this.W_;if("string"==typeof ut)for(var Gt=0;Gt<16;Gt++)zt[Gt]=ut.charCodeAt($t)<<24|ut.charCodeAt($t+1)<<16|ut.charCodeAt($t+2)<<8|ut.charCodeAt($t+3),$t+=4;else for(Gt=0;Gt<16;Gt++)zt[Gt]=ut[$t]<<24|ut[$t+1]<<16|ut[$t+2]<<8|ut[$t+3],$t+=4;for(Gt=16;Gt<80;Gt++)zt[Gt]=4294967295&((Tn=zt[Gt-3]^zt[Gt-8]^zt[Gt-14]^zt[Gt-16])<<1|Tn>>>31);var dt,We,ti=this.chain_[0],Fn=this.chain_[1],Ni=this.chain_[2],it=this.chain_[3],Ct=this.chain_[4];for(Gt=0;Gt<80;Gt++){Gt<40?Gt<20?(dt=it^Fn&(Ni^it),We=1518500249):(dt=Fn^Ni^it,We=1859775393):Gt<60?(dt=Fn&Ni|it&(Fn|Ni),We=2400959708):(dt=Fn^Ni^it,We=3395469782);var Tn=(ti<<5|ti>>>27)+dt+Ct+We+zt[Gt]&4294967295;Ct=it,it=Ni,Ni=4294967295&(Fn<<30|Fn>>>2),Fn=ti,ti=Tn}this.chain_[0]=this.chain_[0]+ti&4294967295,this.chain_[1]=this.chain_[1]+Fn&4294967295,this.chain_[2]=this.chain_[2]+Ni&4294967295,this.chain_[3]=this.chain_[3]+it&4294967295,this.chain_[4]=this.chain_[4]+Ct&4294967295},Rt.prototype.update=function(ut,$t){if(null!=ut){void 0===$t&&($t=ut.length);for(var zt=$t-this.blockSize,Gt=0,Tn=this.buf_,ti=this.inbuf_;Gt<$t;){if(0===ti)for(;Gt<=zt;)this.compress_(ut,Gt),Gt+=this.blockSize;if("string"==typeof ut){for(;Gt<$t;)if(Tn[ti]=ut.charCodeAt(Gt),++Gt,++ti===this.blockSize){this.compress_(Tn),ti=0;break}}else for(;Gt<$t;)if(Tn[ti]=ut[Gt],++Gt,++ti===this.blockSize){this.compress_(Tn),ti=0;break}}this.inbuf_=ti,this.total_+=$t}},Rt.prototype.digest=function(){var ut=[],$t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var zt=this.blockSize-1;zt>=56;zt--)this.buf_[zt]=255&$t,$t/=256;this.compress_(this.buf_);var Gt=0;for(zt=0;zt<5;zt++)for(var Tn=24;Tn>=0;Tn-=8)ut[Gt]=this.chain_[zt]>>Tn&255,++Gt;return ut}}();var Qn=function(){function Rt(ut,$t){var zt=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$t,this.task.then(function(){ut(zt)}).catch(function(Gt){zt.error(Gt)})}return Rt.prototype.next=function(ut){this.forEachObserver(function($t){$t.next(ut)})},Rt.prototype.error=function(ut){this.forEachObserver(function($t){$t.error(ut)}),this.close(ut)},Rt.prototype.complete=function(){this.forEachObserver(function(ut){ut.complete()}),this.close()},Rt.prototype.subscribe=function(ut,$t,zt){var Tn,Gt=this;if(void 0===ut&&void 0===$t&&void 0===zt)throw new Error("Missing Observer.");void 0===(Tn=function(Rt,ut){if("object"!=typeof Rt||null===Rt)return!1;for(var $t=0,zt=["next","error","complete"];$t<zt.length;$t++){var Gt=zt[$t];if(Gt in Rt&&"function"==typeof Rt[Gt])return!0}return!1}(ut)?ut:{next:ut,error:$t,complete:zt}).next&&(Tn.next=pr),void 0===Tn.error&&(Tn.error=pr),void 0===Tn.complete&&(Tn.complete=pr);var ti=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Gt.finalError?Tn.error(Gt.finalError):Tn.complete()}catch(Fn){}}),this.observers.push(Tn),ti},Rt.prototype.unsubscribeOne=function(ut){void 0===this.observers||void 0===this.observers[ut]||(delete this.observers[ut],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Rt.prototype.forEachObserver=function(ut){if(!this.finalized)for(var $t=0;$t<this.observers.length;$t++)this.sendOne($t,ut)},Rt.prototype.sendOne=function(ut,$t){var zt=this;this.task.then(function(){if(void 0!==zt.observers&&void 0!==zt.observers[ut])try{$t(zt.observers[ut])}catch(Gt){"undefined"!=typeof console&&console.error&&console.error(Gt)}})},Rt.prototype.close=function(ut){var $t=this;this.finalized||(this.finalized=!0,void 0!==ut&&(this.finalError=ut),this.task.then(function(){$t.observers=void 0,$t.onNoObservers=void 0}))},Rt}();function pr(){}function En(Rt,ut,$t){void 0===ut&&(ut=1e3),void 0===$t&&($t=2);var zt=ut*Math.pow($t,Rt),Gt=Math.round(.5*zt*(Math.random()-.5)*2);return Math.min(144e5,zt+Gt)}function ii(Rt){return Rt&&Rt._delegate?Rt._delegate:Rt}},1344:(Se,Ze,X)=>{"use strict";X.d(Ze,{zz:()=>Bh,Gt:()=>rl,Fe:()=>jh,vs:()=>Rp,WX:()=>Nf});var n=X(7716),te=X(9075);class Oe{}const Fe="*";function Ue(_,w){return{type:7,name:_,definitions:w,options:{}}}function He(_,w=null){return{type:4,styles:w,timings:_}}function nt(_,w=null){return{type:2,steps:_,options:w}}function Be(_){return{type:6,styles:_,offset:null}}function qe(_,w,p){return{type:0,name:_,styles:w,options:p}}function Qe(_,w,p=null){return{type:1,expr:_,animation:w,options:p}}function ce(_){Promise.resolve(null).then(_)}class ve{constructor(w=0,p=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=w+p}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(w=>w()),this._onDoneFns=[])}onStart(w){this._onStartFns.push(w)}onDone(w){this._onDoneFns.push(w)}onDestroy(w){this._onDestroyFns.push(w)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ce(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(w=>w()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(w=>w()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(w){this._position=this.totalTime?w*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(w){const p="start"==w?this._onStartFns:this._onDoneFns;p.forEach(B=>B()),p.length=0}}class Me{constructor(w){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=w;let p=0,B=0,re=0;const me=this.players.length;0==me?ce(()=>this._onFinish()):this.players.forEach(je=>{je.onDone(()=>{++p==me&&this._onFinish()}),je.onDestroy(()=>{++B==me&&this._onDestroy()}),je.onStart(()=>{++re==me&&this._onStart()})}),this.totalTime=this.players.reduce((je,et)=>Math.max(je,et.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(w=>w()),this._onDoneFns=[])}init(){this.players.forEach(w=>w.init())}onStart(w){this._onStartFns.push(w)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(w=>w()),this._onStartFns=[])}onDone(w){this._onDoneFns.push(w)}onDestroy(w){this._onDestroyFns.push(w)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(w=>w.play())}pause(){this.players.forEach(w=>w.pause())}restart(){this.players.forEach(w=>w.restart())}finish(){this._onFinish(),this.players.forEach(w=>w.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(w=>w.destroy()),this._onDestroyFns.forEach(w=>w()),this._onDestroyFns=[])}reset(){this.players.forEach(w=>w.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(w){const p=w*this.totalTime;this.players.forEach(B=>{const re=B.totalTime?Math.min(1,p/B.totalTime):1;B.setPosition(re)})}getPosition(){const w=this.players.reduce((p,B)=>null===p||B.totalTime>p.totalTime?B:p,null);return null!=w?w.getPosition():0}beforeDestroy(){this.players.forEach(w=>{w.beforeDestroy&&w.beforeDestroy()})}triggerCallback(w){const p="start"==w?this._onStartFns:this._onDoneFns;p.forEach(B=>B()),p.length=0}}function bt(){return"undefined"!=typeof window&&void 0!==window.document}function Dt(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function cn(_){switch(_.length){case 0:return new ve;case 1:return _[0];default:return new Me(_)}}function gt(_,w,p,B,re={},me={}){const je=[],et=[];let kt=-1,dn=null;if(B.forEach(Ln=>{const Kn=Ln.offset,Ti=Kn==kt,Hi=Ti&&dn||{};Object.keys(Ln).forEach(Oi=>{let Li=Oi,Zi=Ln[Oi];if("offset"!==Oi)switch(Li=w.normalizePropertyName(Li,je),Zi){case"!":Zi=re[Oi];break;case Fe:Zi=me[Oi];break;default:Zi=w.normalizeStyleValue(Oi,Li,Zi,je)}Hi[Li]=Zi}),Ti||et.push(Hi),dn=Hi,kt=Kn}),je.length){const Ln="\n - ";throw new Error(`Unable to animate due to the following errors:${Ln}${je.join(Ln)}`)}return et}function Ht(_,w,p,B){switch(w){case"start":_.onStart(()=>B(p&&Lt(p,"start",_)));break;case"done":_.onDone(()=>B(p&&Lt(p,"done",_)));break;case"destroy":_.onDestroy(()=>B(p&&Lt(p,"destroy",_)))}}function Lt(_,w,p){const B=p.totalTime,me=on(_.element,_.triggerName,_.fromState,_.toState,w||_.phaseName,null==B?_.totalTime:B,!!p.disabled),je=_._data;return null!=je&&(me._data=je),me}function on(_,w,p,B,re="",me=0,je){return{element:_,triggerName:w,fromState:p,toState:B,phaseName:re,totalTime:me,disabled:!!je}}function sn(_,w,p){let B;return _ instanceof Map?(B=_.get(w),B||_.set(w,B=p)):(B=_[w],B||(B=_[w]=p)),B}function pn(_){const w=_.indexOf(":");return[_.substring(1,w),_.substr(w+1)]}let wt=(_,w)=>!1,gn=(_,w)=>!1,Zn=(_,w,p)=>[];const Hn=Dt();(Hn||"undefined"!=typeof Element)&&(wt=bt()?(_,w)=>{for(;w&&w!==document.documentElement;){if(w===_)return!0;w=w.parentNode||w.host}return!1}:(_,w)=>_.contains(w),gn=(()=>{if(Hn||Element.prototype.matches)return(_,w)=>_.matches(w);{const _=Element.prototype,w=_.matchesSelector||_.mozMatchesSelector||_.msMatchesSelector||_.oMatchesSelector||_.webkitMatchesSelector;return w?(p,B)=>w.apply(p,[B]):gn}})(),Zn=(_,w,p)=>{let B=[];if(p){const re=_.querySelectorAll(w);for(let me=0;me<re.length;me++)B.push(re[me])}else{const re=_.querySelector(w);re&&B.push(re)}return B});let pi=null,Fi=!1;function bi(_){pi||(pi=("undefined"!=typeof document?document.body:null)||{},Fi=!!pi.style&&"WebkitAppearance"in pi.style);let w=!0;return pi.style&&!function(_){return"ebkit"==_.substring(1,6)}(_)&&(w=_ in pi.style,!w&&Fi&&(w="Webkit"+_.charAt(0).toUpperCase()+_.substr(1)in pi.style)),w}const ri=gn,zn=wt,Un=Zn;function _i(_){const w={};return Object.keys(_).forEach(p=>{const B=p.replace(/([a-z])([A-Z])/g,"$1-$2");w[B]=_[p]}),w}let mi=(()=>{class _{validateStyleProperty(p){return bi(p)}matchesElement(p,B){return ri(p,B)}containsElement(p,B){return zn(p,B)}query(p,B,re){return Un(p,B,re)}computeStyle(p,B,re){return re||""}animate(p,B,re,me,je,et=[],kt){return new ve(re,me)}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac}),_})();class ji{}ji.NOOP=new mi;const Or="ng-enter",Qn="ng-leave",pr="ng-trigger",bn=".ng-trigger",jt="ng-animating",tn=".ng-animating";function jn(_){if("number"==typeof _)return _;const w=_.match(/^(-?[\.\d]+)(m?s)/);return!w||w.length<2?0:Ve(parseFloat(w[1]),w[2])}function Ve(_,w){switch(w){case"s":return 1e3*_;default:return _}}function It(_,w,p){return _.hasOwnProperty("duration")?_:function(_,w,p){let re,me=0,je="";if("string"==typeof _){const et=_.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===et)return w.push(`The provided timing value "${_}" is invalid.`),{duration:0,delay:0,easing:""};re=Ve(parseFloat(et[1]),et[2]);const kt=et[3];null!=kt&&(me=Ve(parseFloat(kt),et[4]));const dn=et[5];dn&&(je=dn)}else re=_;if(!p){let et=!1,kt=w.length;re<0&&(w.push("Duration values below 0 are not allowed for this animation step."),et=!0),me<0&&(w.push("Delay values below 0 are not allowed for this animation step."),et=!0),et&&w.splice(kt,0,`The provided timing value "${_}" is invalid.`)}return{duration:re,delay:me,easing:je}}(_,w,p)}function mn(_,w={}){return Object.keys(_).forEach(p=>{w[p]=_[p]}),w}function _n(_,w,p={}){if(w)for(let B in _)p[B]=_[B];else mn(_,p);return p}function Pn(_,w,p){return p?w+":"+p+";":""}function En(_){let w="";for(let p=0;p<_.style.length;p++){const B=_.style.item(p);w+=Pn(0,B,_.style.getPropertyValue(B))}for(const p in _.style)_.style.hasOwnProperty(p)&&!p.startsWith("_")&&(w+=Pn(0,Fn(p),_.style[p]));_.setAttribute("style",w)}function Jn(_,w,p){_.style&&(Object.keys(w).forEach(B=>{const re=ti(B);p&&!p.hasOwnProperty(B)&&(p[B]=_.style[re]),_.style[re]=w[B]}),Dt()&&En(_))}function Yn(_,w){_.style&&(Object.keys(w).forEach(p=>{const B=ti(p);_.style[B]=""}),Dt()&&En(_))}function ii(_){return Array.isArray(_)?1==_.length?_[0]:nt(_):_}const ut=new RegExp("{{\\s*(.+?)\\s*}}","g");function $t(_){let w=[];if("string"==typeof _){let p;for(;p=ut.exec(_);)w.push(p[1]);ut.lastIndex=0}return w}function zt(_,w,p){const B=_.toString(),re=B.replace(ut,(me,je)=>{let et=w[je];return w.hasOwnProperty(je)||(p.push(`Please provide a value for the animation param ${je}`),et=""),et.toString()});return re==B?_:re}function Gt(_){const w=[];let p=_.next();for(;!p.done;)w.push(p.value),p=_.next();return w}const Tn=/-+([a-z0-9])/g;function ti(_){return _.replace(Tn,(...w)=>w[1].toUpperCase())}function Fn(_){return _.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ni(_,w){return 0===_||0===w}function it(_,w,p){const B=Object.keys(p);if(B.length&&w.length){let me=w[0],je=[];if(B.forEach(et=>{me.hasOwnProperty(et)||je.push(et),me[et]=p[et]}),je.length)for(var re=1;re<w.length;re++){let et=w[re];je.forEach(function(kt){et[kt]=dt(_,kt)})}}return w}function Ct(_,w,p){switch(w.type){case 7:return _.visitTrigger(w,p);case 0:return _.visitState(w,p);case 1:return _.visitTransition(w,p);case 2:return _.visitSequence(w,p);case 3:return _.visitGroup(w,p);case 4:return _.visitAnimate(w,p);case 5:return _.visitKeyframes(w,p);case 6:return _.visitStyle(w,p);case 8:return _.visitReference(w,p);case 9:return _.visitAnimateChild(w,p);case 10:return _.visitAnimateRef(w,p);case 11:return _.visitQuery(w,p);case 12:return _.visitStagger(w,p);default:throw new Error(`Unable to resolve animation metadata node #${w.type}`)}}function dt(_,w){return window.getComputedStyle(_)[w]}function pt(_,w){const p=[];return"string"==typeof _?_.split(/\s*,\s*/).forEach(B=>function(_,w,p){if(":"==_[0]){const kt=function(_,w){switch(_){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(p,B)=>parseFloat(B)>parseFloat(p);case":decrement":return(p,B)=>parseFloat(B)<parseFloat(p);default:return w.push(`The transition alias value "${_}" is not supported`),"* => *"}}(_,p);if("function"==typeof kt)return void w.push(kt);_=kt}const B=_.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==B||B.length<4)return p.push(`The provided transition expression "${_}" is not supported`),w;const re=B[1],me=B[2],je=B[3];w.push(Bt(re,je));"<"==me[0]&&!("*"==re&&"*"==je)&&w.push(Bt(je,re))}(B,p,w)):p.push(_),p}const Ge=new Set(["true","1"]),yt=new Set(["false","0"]);function Bt(_,w){const p=Ge.has(_)||yt.has(_),B=Ge.has(w)||yt.has(w);return(re,me)=>{let je="*"==_||_==re,et="*"==w||w==me;return!je&&p&&"boolean"==typeof re&&(je=re?Ge.has(_):yt.has(_)),!et&&B&&"boolean"==typeof me&&(et=me?Ge.has(w):yt.has(w)),je&&et}}const wn=new RegExp("s*:selfs*,?","g");function ei(_,w,p){return new wi(_).build(w,p)}class wi{constructor(w){this._driver=w}build(w,p){const B=new Ri(p);return this._resetContextStyleTimingState(B),Ct(this,ii(w),B)}_resetContextStyleTimingState(w){w.currentQuerySelector="",w.collectedStyles={},w.collectedStyles[""]={},w.currentTime=0}visitTrigger(w,p){let B=p.queryCount=0,re=p.depCount=0;const me=[],je=[];return"@"==w.name.charAt(0)&&p.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),w.definitions.forEach(et=>{if(this._resetContextStyleTimingState(p),0==et.type){const kt=et,dn=kt.name;dn.toString().split(/\s*,\s*/).forEach(Ln=>{kt.name=Ln,me.push(this.visitState(kt,p))}),kt.name=dn}else if(1==et.type){const kt=this.visitTransition(et,p);B+=kt.queryCount,re+=kt.depCount,je.push(kt)}else p.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:w.name,states:me,transitions:je,queryCount:B,depCount:re,options:null}}visitState(w,p){const B=this.visitStyle(w.styles,p),re=w.options&&w.options.params||null;if(B.containsDynamicStyles){const me=new Set,je=re||{};if(B.styles.forEach(et=>{if(rr(et)){const kt=et;Object.keys(kt).forEach(dn=>{$t(kt[dn]).forEach(Ln=>{je.hasOwnProperty(Ln)||me.add(Ln)})})}}),me.size){const et=Gt(me.values());p.errors.push(`state("${w.name}", ...) must define default values for all the following style substitutions: ${et.join(", ")}`)}}return{type:0,name:w.name,style:B,options:re?{params:re}:null}}visitTransition(w,p){p.queryCount=0,p.depCount=0;const B=Ct(this,ii(w.animation),p);return{type:1,matchers:pt(w.expr,p.errors),animation:B,queryCount:p.queryCount,depCount:p.depCount,options:lr(w.options)}}visitSequence(w,p){return{type:2,steps:w.steps.map(B=>Ct(this,B,p)),options:lr(w.options)}}visitGroup(w,p){const B=p.currentTime;let re=0;const me=w.steps.map(je=>{p.currentTime=B;const et=Ct(this,je,p);return re=Math.max(re,p.currentTime),et});return p.currentTime=re,{type:3,steps:me,options:lr(w.options)}}visitAnimate(w,p){const B=function(_,w){let p=null;if(_.hasOwnProperty("duration"))p=_;else if("number"==typeof _)return Yr(It(_,w).duration,0,"");const B=_;if(B.split(/\s+/).some(me=>"{"==me.charAt(0)&&"{"==me.charAt(1))){const me=Yr(0,0,"");return me.dynamic=!0,me.strValue=B,me}return p=p||It(B,w),Yr(p.duration,p.delay,p.easing)}(w.timings,p.errors);p.currentAnimateTimings=B;let re,me=w.styles?w.styles:Be({});if(5==me.type)re=this.visitKeyframes(me,p);else{let je=w.styles,et=!1;if(!je){et=!0;const dn={};B.easing&&(dn.easing=B.easing),je=Be(dn)}p.currentTime+=B.duration+B.delay;const kt=this.visitStyle(je,p);kt.isEmptyStep=et,re=kt}return p.currentAnimateTimings=null,{type:4,timings:B,style:re,options:null}}visitStyle(w,p){const B=this._makeStyleAst(w,p);return this._validateStyleAst(B,p),B}_makeStyleAst(w,p){const B=[];Array.isArray(w.styles)?w.styles.forEach(je=>{"string"==typeof je?je==Fe?B.push(je):p.errors.push(`The provided style string value ${je} is not allowed.`):B.push(je)}):B.push(w.styles);let re=!1,me=null;return B.forEach(je=>{if(rr(je)){const et=je,kt=et.easing;if(kt&&(me=kt,delete et.easing),!re)for(let dn in et)if(et[dn].toString().indexOf("{{")>=0){re=!0;break}}}),{type:6,styles:B,easing:me,offset:w.offset,containsDynamicStyles:re,options:null}}_validateStyleAst(w,p){const B=p.currentAnimateTimings;let re=p.currentTime,me=p.currentTime;B&&me>0&&(me-=B.duration+B.delay),w.styles.forEach(je=>{"string"!=typeof je&&Object.keys(je).forEach(et=>{if(!this._driver.validateStyleProperty(et))return void p.errors.push(`The provided animation property "${et}" is not a supported CSS property for animations`);const kt=p.collectedStyles[p.currentQuerySelector],dn=kt[et];let Ln=!0;dn&&(me!=re&&me>=dn.startTime&&re<=dn.endTime&&(p.errors.push(`The CSS property "${et}" that exists between the times of "${dn.startTime}ms" and "${dn.endTime}ms" is also being animated in a parallel animation between the times of "${me}ms" and "${re}ms"`),Ln=!1),me=dn.startTime),Ln&&(kt[et]={startTime:me,endTime:re}),p.options&&function(_,w,p){const B=w.params||{},re=$t(_);re.length&&re.forEach(me=>{B.hasOwnProperty(me)||p.push(`Unable to resolve the local animation param ${me} in the given list of values`)})}(je[et],p.options,p.errors)})})}visitKeyframes(w,p){const B={type:5,styles:[],options:null};if(!p.currentAnimateTimings)return p.errors.push("keyframes() must be placed inside of a call to animate()"),B;let me=0;const je=[];let et=!1,kt=!1,dn=0;const Ln=w.steps.map(Lr=>{const $r=this._makeStyleAst(Lr,p);let Nr=null!=$r.offset?$r.offset:function(_){if("string"==typeof _)return null;let w=null;if(Array.isArray(_))_.forEach(p=>{if(rr(p)&&p.hasOwnProperty("offset")){const B=p;w=parseFloat(B.offset),delete B.offset}});else if(rr(_)&&_.hasOwnProperty("offset")){const p=_;w=parseFloat(p.offset),delete p.offset}return w}($r.styles),Hr=0;return null!=Nr&&(me++,Hr=$r.offset=Nr),kt=kt||Hr<0||Hr>1,et=et||Hr<dn,dn=Hr,je.push(Hr),$r});kt&&p.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),et&&p.errors.push("Please ensure that all keyframe offsets are in order");const Kn=w.steps.length;let Ti=0;me>0&&me<Kn?p.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==me&&(Ti=1/(Kn-1));const Hi=Kn-1,Oi=p.currentTime,Li=p.currentAnimateTimings,Zi=Li.duration;return Ln.forEach((Lr,$r)=>{const Nr=Ti>0?$r==Hi?1:Ti*$r:je[$r],Hr=Nr*Zi;p.currentTime=Oi+Li.delay+Hr,Li.duration=Hr,this._validateStyleAst(Lr,p),Lr.offset=Nr,B.styles.push(Lr)}),B}visitReference(w,p){return{type:8,animation:Ct(this,ii(w.animation),p),options:lr(w.options)}}visitAnimateChild(w,p){return p.depCount++,{type:9,options:lr(w.options)}}visitAnimateRef(w,p){return{type:10,animation:this.visitReference(w.animation,p),options:lr(w.options)}}visitQuery(w,p){const B=p.currentQuerySelector,re=w.options||{};p.queryCount++,p.currentQuery=w;const[me,je]=function(_){const w=!!_.split(/\s*,\s*/).find(p=>":self"==p);return w&&(_=_.replace(wn,"")),[_=_.replace(/@\*/g,bn).replace(/@\w+/g,p=>bn+"-"+p.substr(1)).replace(/:animating/g,tn),w]}(w.selector);p.currentQuerySelector=B.length?B+" "+me:me,sn(p.collectedStyles,p.currentQuerySelector,{});const et=Ct(this,ii(w.animation),p);return p.currentQuery=null,p.currentQuerySelector=B,{type:11,selector:me,limit:re.limit||0,optional:!!re.optional,includeSelf:je,animation:et,originalSelector:w.selector,options:lr(w.options)}}visitStagger(w,p){p.currentQuery||p.errors.push("stagger() can only be used inside of query()");const B="full"===w.timings?{duration:0,delay:0,easing:"full"}:It(w.timings,p.errors,!0);return{type:12,animation:Ct(this,ii(w.animation),p),timings:B,options:null}}}class Ri{constructor(w){this.errors=w,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function rr(_){return!Array.isArray(_)&&"object"==typeof _}function lr(_){return _?(_=mn(_)).params&&(_.params=function(_){return _?mn(_):null}(_.params)):_={},_}function Yr(_,w,p){return{duration:_,delay:w,easing:p}}function Ur(_,w,p,B,re,me,je=null,et=!1){return{type:1,element:_,keyframes:w,preStyleProps:p,postStyleProps:B,duration:re,delay:me,totalTime:re+me,easing:je,subTimeline:et}}class ao{constructor(){this._map=new Map}consume(w){let p=this._map.get(w);return p?this._map.delete(w):p=[],p}append(w,p){let B=this._map.get(w);B||this._map.set(w,B=[]),B.push(...p)}has(w){return this._map.has(w)}clear(){this._map.clear()}}const $=new RegExp(":enter","g"),_e=new RegExp(":leave","g");function Le(_,w,p,B,re,me={},je={},et,kt,dn=[]){return(new Xe).buildKeyframes(_,w,p,B,re,me,je,et,kt,dn)}class Xe{buildKeyframes(w,p,B,re,me,je,et,kt,dn,Ln=[]){dn=dn||new ao;const Kn=new Pt(w,p,dn,re,me,Ln,[]);Kn.options=kt,Kn.currentTimeline.setStyles([je],null,Kn.errors,kt),Ct(this,B,Kn);const Ti=Kn.timelines.filter(Hi=>Hi.containsAnimation());if(Ti.length&&Object.keys(et).length){const Hi=Ti[Ti.length-1];Hi.allowOnlyTimelineStyles()||Hi.setStyles([et],null,Kn.errors,kt)}return Ti.length?Ti.map(Hi=>Hi.buildKeyframes()):[Ur(p,[],[],[],0,0,"",!1)]}visitTrigger(w,p){}visitState(w,p){}visitTransition(w,p){}visitAnimateChild(w,p){const B=p.subInstructions.consume(p.element);if(B){const re=p.createSubContext(w.options),me=p.currentTimeline.currentTime,je=this._visitSubInstructions(B,re,re.options);me!=je&&p.transformIntoNewTimeline(je)}p.previousNode=w}visitAnimateRef(w,p){const B=p.createSubContext(w.options);B.transformIntoNewTimeline(),this.visitReference(w.animation,B),p.transformIntoNewTimeline(B.currentTimeline.currentTime),p.previousNode=w}_visitSubInstructions(w,p,B){let me=p.currentTimeline.currentTime;const je=null!=B.duration?jn(B.duration):null,et=null!=B.delay?jn(B.delay):null;return 0!==je&&w.forEach(kt=>{const dn=p.appendInstructionToTimeline(kt,je,et);me=Math.max(me,dn.duration+dn.delay)}),me}visitReference(w,p){p.updateOptions(w.options,!0),Ct(this,w.animation,p),p.previousNode=w}visitSequence(w,p){const B=p.subContextCount;let re=p;const me=w.options;if(me&&(me.params||me.delay)&&(re=p.createSubContext(me),re.transformIntoNewTimeline(),null!=me.delay)){6==re.previousNode.type&&(re.currentTimeline.snapshotCurrentStyles(),re.previousNode=ft);const je=jn(me.delay);re.delayNextStep(je)}w.steps.length&&(w.steps.forEach(je=>Ct(this,je,re)),re.currentTimeline.applyStylesToKeyframe(),re.subContextCount>B&&re.transformIntoNewTimeline()),p.previousNode=w}visitGroup(w,p){const B=[];let re=p.currentTimeline.currentTime;const me=w.options&&w.options.delay?jn(w.options.delay):0;w.steps.forEach(je=>{const et=p.createSubContext(w.options);me&&et.delayNextStep(me),Ct(this,je,et),re=Math.max(re,et.currentTimeline.currentTime),B.push(et.currentTimeline)}),B.forEach(je=>p.currentTimeline.mergeTimelineCollectedStyles(je)),p.transformIntoNewTimeline(re),p.previousNode=w}_visitTiming(w,p){if(w.dynamic){const B=w.strValue;return It(p.params?zt(B,p.params,p.errors):B,p.errors)}return{duration:w.duration,delay:w.delay,easing:w.easing}}visitAnimate(w,p){const B=p.currentAnimateTimings=this._visitTiming(w.timings,p),re=p.currentTimeline;B.delay&&(p.incrementTime(B.delay),re.snapshotCurrentStyles());const me=w.style;5==me.type?this.visitKeyframes(me,p):(p.incrementTime(B.duration),this.visitStyle(me,p),re.applyStylesToKeyframe()),p.currentAnimateTimings=null,p.previousNode=w}visitStyle(w,p){const B=p.currentTimeline,re=p.currentAnimateTimings;!re&&B.getCurrentStyleProperties().length&&B.forwardFrame();const me=re&&re.easing||w.easing;w.isEmptyStep?B.applyEmptyStep(me):B.setStyles(w.styles,me,p.errors,p.options),p.previousNode=w}visitKeyframes(w,p){const B=p.currentAnimateTimings,re=p.currentTimeline.duration,me=B.duration,et=p.createSubContext().currentTimeline;et.easing=B.easing,w.styles.forEach(kt=>{et.forwardTime((kt.offset||0)*me),et.setStyles(kt.styles,kt.easing,p.errors,p.options),et.applyStylesToKeyframe()}),p.currentTimeline.mergeTimelineCollectedStyles(et),p.transformIntoNewTimeline(re+me),p.previousNode=w}visitQuery(w,p){const B=p.currentTimeline.currentTime,re=w.options||{},me=re.delay?jn(re.delay):0;me&&(6===p.previousNode.type||0==B&&p.currentTimeline.getCurrentStyleProperties().length)&&(p.currentTimeline.snapshotCurrentStyles(),p.previousNode=ft);let je=B;const et=p.invokeQuery(w.selector,w.originalSelector,w.limit,w.includeSelf,!!re.optional,p.errors);p.currentQueryTotal=et.length;let kt=null;et.forEach((dn,Ln)=>{p.currentQueryIndex=Ln;const Kn=p.createSubContext(w.options,dn);me&&Kn.delayNextStep(me),dn===p.element&&(kt=Kn.currentTimeline),Ct(this,w.animation,Kn),Kn.currentTimeline.applyStylesToKeyframe(),je=Math.max(je,Kn.currentTimeline.currentTime)}),p.currentQueryIndex=0,p.currentQueryTotal=0,p.transformIntoNewTimeline(je),kt&&(p.currentTimeline.mergeTimelineCollectedStyles(kt),p.currentTimeline.snapshotCurrentStyles()),p.previousNode=w}visitStagger(w,p){const B=p.parentContext,re=p.currentTimeline,me=w.timings,je=Math.abs(me.duration),et=je*(p.currentQueryTotal-1);let kt=je*p.currentQueryIndex;switch(me.duration<0?"reverse":me.easing){case"reverse":kt=et-kt;break;case"full":kt=B.currentStaggerTime}const Ln=p.currentTimeline;kt&&Ln.delayNextStep(kt);const Kn=Ln.currentTime;Ct(this,w.animation,p),p.previousNode=w,B.currentStaggerTime=re.currentTime-Kn+(re.startTime-B.currentTimeline.startTime)}}const ft={};class Pt{constructor(w,p,B,re,me,je,et,kt){this._driver=w,this.element=p,this.subInstructions=B,this._enterClassName=re,this._leaveClassName=me,this.errors=je,this.timelines=et,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ft,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=kt||new Wt(this._driver,p,0),et.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(w,p){if(!w)return;const B=w;let re=this.options;null!=B.duration&&(re.duration=jn(B.duration)),null!=B.delay&&(re.delay=jn(B.delay));const me=B.params;if(me){let je=re.params;je||(je=this.options.params={}),Object.keys(me).forEach(et=>{(!p||!je.hasOwnProperty(et))&&(je[et]=zt(me[et],je,this.errors))})}}_copyOptions(){const w={};if(this.options){const p=this.options.params;if(p){const B=w.params={};Object.keys(p).forEach(re=>{B[re]=p[re]})}}return w}createSubContext(w=null,p,B){const re=p||this.element,me=new Pt(this._driver,re,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(re,B||0));return me.previousNode=this.previousNode,me.currentAnimateTimings=this.currentAnimateTimings,me.options=this._copyOptions(),me.updateOptions(w),me.currentQueryIndex=this.currentQueryIndex,me.currentQueryTotal=this.currentQueryTotal,me.parentContext=this,this.subContextCount++,me}transformIntoNewTimeline(w){return this.previousNode=ft,this.currentTimeline=this.currentTimeline.fork(this.element,w),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(w,p,B){const re={duration:null!=p?p:w.duration,delay:this.currentTimeline.currentTime+(null!=B?B:0)+w.delay,easing:""},me=new nn(this._driver,w.element,w.keyframes,w.preStyleProps,w.postStyleProps,re,w.stretchStartingKeyframe);return this.timelines.push(me),re}incrementTime(w){this.currentTimeline.forwardTime(this.currentTimeline.duration+w)}delayNextStep(w){w>0&&this.currentTimeline.delayNextStep(w)}invokeQuery(w,p,B,re,me,je){let et=[];if(re&&et.push(this.element),w.length>0){w=(w=w.replace($,"."+this._enterClassName)).replace(_e,"."+this._leaveClassName);let dn=this._driver.query(this.element,w,1!=B);0!==B&&(dn=B<0?dn.slice(dn.length+B,dn.length):dn.slice(0,B)),et.push(...dn)}return!me&&0==et.length&&je.push(`\`query("${p}")\` returned zero elements. (Use \`query("${p}", { optional: true })\` if you wish to allow this.)`),et}}class Wt{constructor(w,p,B,re){this._driver=w,this.element=p,this.startTime=B,this._elementTimelineStylesLookup=re,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(p),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(p,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(w){const p=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||p?(this.forwardTime(this.currentTime+w),p&&this.snapshotCurrentStyles()):this.startTime+=w}fork(w,p){return this.applyStylesToKeyframe(),new Wt(this._driver,w,p||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(w){this.applyStylesToKeyframe(),this.duration=w,this._loadKeyframe()}_updateStyle(w,p){this._localTimelineStyles[w]=p,this._globalTimelineStyles[w]=p,this._styleSummary[w]={time:this.currentTime,value:p}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(w){w&&(this._previousKeyframe.easing=w),Object.keys(this._globalTimelineStyles).forEach(p=>{this._backFill[p]=this._globalTimelineStyles[p]||Fe,this._currentKeyframe[p]=Fe}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(w,p,B,re){p&&(this._previousKeyframe.easing=p);const me=re&&re.params||{},je=function(_,w){const p={};let B;return _.forEach(re=>{"*"===re?(B=B||Object.keys(w),B.forEach(me=>{p[me]=Fe})):_n(re,!1,p)}),p}(w,this._globalTimelineStyles);Object.keys(je).forEach(et=>{const kt=zt(je[et],me,B);this._pendingStyles[et]=kt,this._localTimelineStyles.hasOwnProperty(et)||(this._backFill[et]=this._globalTimelineStyles.hasOwnProperty(et)?this._globalTimelineStyles[et]:Fe),this._updateStyle(et,kt)})}applyStylesToKeyframe(){const w=this._pendingStyles,p=Object.keys(w);0!=p.length&&(this._pendingStyles={},p.forEach(B=>{this._currentKeyframe[B]=w[B]}),Object.keys(this._localTimelineStyles).forEach(B=>{this._currentKeyframe.hasOwnProperty(B)||(this._currentKeyframe[B]=this._localTimelineStyles[B])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(w=>{const p=this._localTimelineStyles[w];this._pendingStyles[w]=p,this._updateStyle(w,p)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const w=[];for(let p in this._currentKeyframe)w.push(p);return w}mergeTimelineCollectedStyles(w){Object.keys(w._styleSummary).forEach(p=>{const B=this._styleSummary[p],re=w._styleSummary[p];(!B||re.time>B.time)&&this._updateStyle(p,re.value)})}buildKeyframes(){this.applyStylesToKeyframe();const w=new Set,p=new Set,B=1===this._keyframes.size&&0===this.duration;let re=[];this._keyframes.forEach((et,kt)=>{const dn=_n(et,!0);Object.keys(dn).forEach(Ln=>{const Kn=dn[Ln];"!"==Kn?w.add(Ln):Kn==Fe&&p.add(Ln)}),B||(dn.offset=kt/this.duration),re.push(dn)});const me=w.size?Gt(w.values()):[],je=p.size?Gt(p.values()):[];if(B){const et=re[0],kt=mn(et);et.offset=0,kt.offset=1,re=[et,kt]}return Ur(this.element,re,me,je,this.duration,this.startTime,this.easing,!1)}}class nn extends Wt{constructor(w,p,B,re,me,je,et=!1){super(w,p,je.delay),this.keyframes=B,this.preStyleProps=re,this.postStyleProps=me,this._stretchStartingKeyframe=et,this.timings={duration:je.duration,delay:je.delay,easing:je.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let w=this.keyframes,{delay:p,duration:B,easing:re}=this.timings;if(this._stretchStartingKeyframe&&p){const me=[],je=B+p,et=p/je,kt=_n(w[0],!1);kt.offset=0,me.push(kt);const dn=_n(w[0],!1);dn.offset=Je(et),me.push(dn);const Ln=w.length-1;for(let Kn=1;Kn<=Ln;Kn++){let Ti=_n(w[Kn],!1);Ti.offset=Je((p+Ti.offset*B)/je),me.push(Ti)}B=je,p=0,re="",w=me}return Ur(this.element,w,this.preStyleProps,this.postStyleProps,B,p,re,!0)}}function Je(_,w=3){const p=Math.pow(10,w-1);return Math.round(_*p)/p}class Qt{}class hn extends Qt{normalizePropertyName(w,p){return ti(w)}normalizeStyleValue(w,p,B,re){let me="";const je=B.toString().trim();if(Xn[p]&&0!==B&&"0"!==B)if("number"==typeof B)me="px";else{const et=B.match(/^[+-]?[\d\.]+([a-z]*)$/);et&&0==et[1].length&&re.push(`Please provide a CSS unit value for ${w}:${B}`)}return je+me}}const Xn=(()=>function(_){const w={};return _.forEach(p=>w[p]=!0),w}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ui(_,w,p,B,re,me,je,et,kt,dn,Ln,Kn,Ti){return{type:0,element:_,triggerName:w,isRemovalTransition:re,fromState:p,fromStyles:me,toState:B,toStyles:je,timelines:et,queriedElements:kt,preStyleProps:dn,postStyleProps:Ln,totalTime:Kn,errors:Ti}}const yi={};class Ui{constructor(w,p,B){this._triggerName=w,this.ast=p,this._stateStyles=B}match(w,p,B,re){return function(_,w,p,B,re){return _.some(me=>me(w,p,B,re))}(this.ast.matchers,w,p,B,re)}buildStyles(w,p,B){const re=this._stateStyles["*"],me=this._stateStyles[w],je=re?re.buildStyles(p,B):{};return me?me.buildStyles(p,B):je}build(w,p,B,re,me,je,et,kt,dn,Ln){const Kn=[],Ti=this.ast.options&&this.ast.options.params||yi,Oi=this.buildStyles(B,et&&et.params||yi,Kn),Li=kt&&kt.params||yi,Zi=this.buildStyles(re,Li,Kn),Lr=new Set,$r=new Map,Nr=new Map,Hr="void"===re,Do={params:Object.assign(Object.assign({},Ti),Li)},Po=Ln?[]:Le(w,p,this.ast.animation,me,je,Oi,Zi,Do,dn,Kn);let Fo=0;if(Po.forEach(uc=>{Fo=Math.max(uc.duration+uc.delay,Fo)}),Kn.length)return ui(p,this._triggerName,B,re,Hr,Oi,Zi,[],[],$r,Nr,Fo,Kn);Po.forEach(uc=>{const Ra=uc.element,sh=sn($r,Ra,{});uc.preStyleProps.forEach(Lc=>sh[Lc]=!0);const _c=sn(Nr,Ra,{});uc.postStyleProps.forEach(Lc=>_c[Lc]=!0),Ra!==p&&Lr.add(Ra)});const Rs=Gt(Lr.values());return ui(p,this._triggerName,B,re,Hr,Oi,Zi,Po,Rs,$r,Nr,Fo)}}class ur{constructor(w,p,B){this.styles=w,this.defaultParams=p,this.normalizer=B}buildStyles(w,p){const B={},re=mn(this.defaultParams);return Object.keys(w).forEach(me=>{const je=w[me];null!=je&&(re[me]=je)}),this.styles.styles.forEach(me=>{if("string"!=typeof me){const je=me;Object.keys(je).forEach(et=>{let kt=je[et];kt.length>1&&(kt=zt(kt,re,p));const dn=this.normalizer.normalizePropertyName(et,p);kt=this.normalizer.normalizeStyleValue(et,dn,kt,p),B[dn]=kt})}}),B}}class mr{constructor(w,p,B){this.name=w,this.ast=p,this._normalizer=B,this.transitionFactories=[],this.states={},p.states.forEach(re=>{this.states[re.name]=new ur(re.style,re.options&&re.options.params||{},B)}),Xr(this.states,"true","1"),Xr(this.states,"false","0"),p.transitions.forEach(re=>{this.transitionFactories.push(new Ui(w,re,this.states))}),this.fallbackTransition=function(_,w,p){return new Ui(_,{type:1,animation:{type:2,steps:[],options:null},matchers:[(je,et)=>!0],options:null,queryCount:0,depCount:0},w)}(w,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(w,p,B,re){return this.transitionFactories.find(je=>je.match(w,p,B,re))||null}matchStyles(w,p,B){return this.fallbackTransition.buildStyles(w,p,B)}}function Xr(_,w,p){_.hasOwnProperty(w)?_.hasOwnProperty(p)||(_[p]=_[w]):_.hasOwnProperty(p)&&(_[w]=_[p])}const co=new ao;class vo{constructor(w,p,B){this.bodyNode=w,this._driver=p,this._normalizer=B,this._animations={},this._playersById={},this.players=[]}register(w,p){const B=[],re=ei(this._driver,p,B);if(B.length)throw new Error(`Unable to build the animation due to the following errors: ${B.join("\n")}`);this._animations[w]=re}_buildPlayer(w,p,B){const re=w.element,me=gt(0,this._normalizer,0,w.keyframes,p,B);return this._driver.animate(re,me,w.duration,w.delay,w.easing,[],!0)}create(w,p,B={}){const re=[],me=this._animations[w];let je;const et=new Map;if(me?(je=Le(this._driver,p,me,Or,Qn,{},{},B,co,re),je.forEach(Ln=>{const Kn=sn(et,Ln.element,{});Ln.postStyleProps.forEach(Ti=>Kn[Ti]=null)})):(re.push("The requested animation doesn't exist or has already been destroyed"),je=[]),re.length)throw new Error(`Unable to create the animation due to the following errors: ${re.join("\n")}`);et.forEach((Ln,Kn)=>{Object.keys(Ln).forEach(Ti=>{Ln[Ti]=this._driver.computeStyle(Kn,Ti,Fe)})});const dn=cn(je.map(Ln=>{const Kn=et.get(Ln.element);return this._buildPlayer(Ln,{},Kn)}));return this._playersById[w]=dn,dn.onDestroy(()=>this.destroy(w)),this.players.push(dn),dn}destroy(w){const p=this._getPlayer(w);p.destroy(),delete this._playersById[w];const B=this.players.indexOf(p);B>=0&&this.players.splice(B,1)}_getPlayer(w){const p=this._playersById[w];if(!p)throw new Error(`Unable to find the timeline player referenced by ${w}`);return p}listen(w,p,B,re){const me=on(p,"","","");return Ht(this._getPlayer(w),B,me,re),()=>{}}command(w,p,B,re){if("register"==B)return void this.register(w,re[0]);if("create"==B)return void this.create(w,p,re[0]||{});const me=this._getPlayer(w);switch(B){case"play":me.play();break;case"pause":me.pause();break;case"reset":me.reset();break;case"restart":me.restart();break;case"finish":me.finish();break;case"init":me.init();break;case"setPosition":me.setPosition(parseFloat(re[0]));break;case"destroy":this.destroy(w)}}}const Io="ng-animate-queued",Qr="ng-animate-disabled",_s=".ng-animate-disabled",Ts=[],No={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Uo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wo="__ng_removed";class So{constructor(w,p=""){this.namespaceId=p;const B=w&&w.hasOwnProperty("value");if(this.value=null!=(_=B?w.value:w)?_:null,B){const me=mn(w);delete me.value,this.options=me}else this.options={};var _;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(w){const p=w.params;if(p){const B=this.options.params;Object.keys(p).forEach(re=>{null==B[re]&&(B[re]=p[re])})}}}const Ro="void",fn=new So(Ro);class Kt{constructor(w,p,B){this.id=w,this.hostElement=p,this._engine=B,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+w,Xt(p,this._hostClassName)}listen(w,p,B,re){if(!this._triggers.hasOwnProperty(p))throw new Error(`Unable to listen on the animation trigger event "${B}" because the animation trigger "${p}" doesn't exist!`);if(null==B||0==B.length)throw new Error(`Unable to listen on the animation trigger "${p}" because the provided event is undefined!`);if("start"!=(_=B)&&"done"!=_)throw new Error(`The provided animation trigger event "${B}" for the animation trigger "${p}" is not supported!`);var _;const me=sn(this._elementListeners,w,[]),je={name:p,phase:B,callback:re};me.push(je);const et=sn(this._engine.statesByElement,w,{});return et.hasOwnProperty(p)||(Xt(w,pr),Xt(w,pr+"-"+p),et[p]=fn),()=>{this._engine.afterFlush(()=>{const kt=me.indexOf(je);kt>=0&&me.splice(kt,1),this._triggers[p]||delete et[p]})}}register(w,p){return!this._triggers[w]&&(this._triggers[w]=p,!0)}_getTrigger(w){const p=this._triggers[w];if(!p)throw new Error(`The provided animation trigger "${w}" has not been registered!`);return p}trigger(w,p,B,re=!0){const me=this._getTrigger(p),je=new Sn(this.id,p,w);let et=this._engine.statesByElement.get(w);et||(Xt(w,pr),Xt(w,pr+"-"+p),this._engine.statesByElement.set(w,et={}));let kt=et[p];const dn=new So(B,this.id);if(!(B&&B.hasOwnProperty("value"))&&kt&&dn.absorbOptions(kt.options),et[p]=dn,kt||(kt=fn),dn.value!==Ro&&kt.value===dn.value){if(!function(_,w){const p=Object.keys(_),B=Object.keys(w);if(p.length!=B.length)return!1;for(let re=0;re<p.length;re++){const me=p[re];if(!w.hasOwnProperty(me)||_[me]!==w[me])return!1}return!0}(kt.params,dn.params)){const Li=[],Zi=me.matchStyles(kt.value,kt.params,Li),Lr=me.matchStyles(dn.value,dn.params,Li);Li.length?this._engine.reportError(Li):this._engine.afterFlush(()=>{Yn(w,Zi),Jn(w,Lr)})}return}const Ti=sn(this._engine.playersByElement,w,[]);Ti.forEach(Li=>{Li.namespaceId==this.id&&Li.triggerName==p&&Li.queued&&Li.destroy()});let Hi=me.matchTransition(kt.value,dn.value,w,dn.params),Oi=!1;if(!Hi){if(!re)return;Hi=me.fallbackTransition,Oi=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:w,triggerName:p,transition:Hi,fromState:kt,toState:dn,player:je,isFallbackTransition:Oi}),Oi||(Xt(w,Io),je.onStart(()=>{Bn(w,Io)})),je.onDone(()=>{let Li=this.players.indexOf(je);Li>=0&&this.players.splice(Li,1);const Zi=this._engine.playersByElement.get(w);if(Zi){let Lr=Zi.indexOf(je);Lr>=0&&Zi.splice(Lr,1)}}),this.players.push(je),Ti.push(je),je}deregister(w){delete this._triggers[w],this._engine.statesByElement.forEach((p,B)=>{delete p[w]}),this._elementListeners.forEach((p,B)=>{this._elementListeners.set(B,p.filter(re=>re.name!=w))})}clearElementCache(w){this._engine.statesByElement.delete(w),this._elementListeners.delete(w);const p=this._engine.playersByElement.get(w);p&&(p.forEach(B=>B.destroy()),this._engine.playersByElement.delete(w))}_signalRemovalForInnerTriggers(w,p){const B=this._engine.driver.query(w,bn,!0);B.forEach(re=>{if(re[wo])return;const me=this._engine.fetchNamespacesByElement(re);me.size?me.forEach(je=>je.triggerLeaveAnimation(re,p,!1,!0)):this.clearElementCache(re)}),this._engine.afterFlushAnimationsDone(()=>B.forEach(re=>this.clearElementCache(re)))}triggerLeaveAnimation(w,p,B,re){const me=this._engine.statesByElement.get(w);if(me){const je=[];if(Object.keys(me).forEach(et=>{if(this._triggers[et]){const kt=this.trigger(w,et,Ro,re);kt&&je.push(kt)}}),je.length)return this._engine.markElementAsRemoved(this.id,w,!0,p),B&&cn(je).onDone(()=>this._engine.processLeaveNode(w)),!0}return!1}prepareLeaveAnimationListeners(w){const p=this._elementListeners.get(w),B=this._engine.statesByElement.get(w);if(p&&B){const re=new Set;p.forEach(me=>{const je=me.name;if(re.has(je))return;re.add(je);const kt=this._triggers[je].fallbackTransition,dn=B[je]||fn,Ln=new So(Ro),Kn=new Sn(this.id,je,w);this._engine.totalQueuedPlayers++,this._queue.push({element:w,triggerName:je,transition:kt,fromState:dn,toState:Ln,player:Kn,isFallbackTransition:!0})})}}removeNode(w,p){const B=this._engine;if(w.childElementCount&&this._signalRemovalForInnerTriggers(w,p),this.triggerLeaveAnimation(w,p,!0))return;let re=!1;if(B.totalAnimations){const me=B.players.length?B.playersByQueriedElement.get(w):[];if(me&&me.length)re=!0;else{let je=w;for(;je=je.parentNode;)if(B.statesByElement.get(je)){re=!0;break}}}if(this.prepareLeaveAnimationListeners(w),re)B.markElementAsRemoved(this.id,w,!1,p);else{const me=w[wo];(!me||me===No)&&(B.afterFlush(()=>this.clearElementCache(w)),B.destroyInnerAnimations(w),B._onRemovalComplete(w,p))}}insertNode(w,p){Xt(w,this._hostClassName)}drainQueuedTransitions(w){const p=[];return this._queue.forEach(B=>{const re=B.player;if(re.destroyed)return;const me=B.element,je=this._elementListeners.get(me);je&&je.forEach(et=>{if(et.name==B.triggerName){const kt=on(me,B.triggerName,B.fromState.value,B.toState.value);kt._data=w,Ht(B.player,et.phase,kt,et.callback)}}),re.markedForDestroy?this._engine.afterFlush(()=>{re.destroy()}):p.push(B)}),this._queue=[],p.sort((B,re)=>{const me=B.transition.ast.depCount,je=re.transition.ast.depCount;return 0==me||0==je?me-je:this._engine.driver.containsElement(B.element,re.element)?1:-1})}destroy(w){this.players.forEach(p=>p.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,w)}elementContainsData(w){let p=!1;return this._elementListeners.has(w)&&(p=!0),p=!!this._queue.find(B=>B.element===w)||p,p}}class St{constructor(w,p,B){this.bodyNode=w,this.driver=p,this._normalizer=B,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(re,me)=>{}}_onRemovalComplete(w,p){this.onRemovalComplete(w,p)}get queuedPlayers(){const w=[];return this._namespaceList.forEach(p=>{p.players.forEach(B=>{B.queued&&w.push(B)})}),w}createNamespace(w,p){const B=new Kt(w,p,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,p)?this._balanceNamespaceList(B,p):(this.newHostElements.set(p,B),this.collectEnterElement(p)),this._namespaceLookup[w]=B}_balanceNamespaceList(w,p){const B=this._namespaceList.length-1;if(B>=0){let re=!1;for(let me=B;me>=0;me--)if(this.driver.containsElement(this._namespaceList[me].hostElement,p)){this._namespaceList.splice(me+1,0,w),re=!0;break}re||this._namespaceList.splice(0,0,w)}else this._namespaceList.push(w);return this.namespacesByHostElement.set(p,w),w}register(w,p){let B=this._namespaceLookup[w];return B||(B=this.createNamespace(w,p)),B}registerTrigger(w,p,B){let re=this._namespaceLookup[w];re&&re.register(p,B)&&this.totalAnimations++}destroy(w,p){if(!w)return;const B=this._fetchNamespace(w);this.afterFlush(()=>{this.namespacesByHostElement.delete(B.hostElement),delete this._namespaceLookup[w];const re=this._namespaceList.indexOf(B);re>=0&&this._namespaceList.splice(re,1)}),this.afterFlushAnimationsDone(()=>B.destroy(p))}_fetchNamespace(w){return this._namespaceLookup[w]}fetchNamespacesByElement(w){const p=new Set,B=this.statesByElement.get(w);if(B){const re=Object.keys(B);for(let me=0;me<re.length;me++){const je=B[re[me]].namespaceId;if(je){const et=this._fetchNamespace(je);et&&p.add(et)}}}return p}trigger(w,p,B,re){if(xi(p)){const me=this._fetchNamespace(w);if(me)return me.trigger(p,B,re),!0}return!1}insertNode(w,p,B,re){if(!xi(p))return;const me=p[wo];if(me&&me.setForRemoval){me.setForRemoval=!1,me.setForMove=!0;const je=this.collectedLeaveElements.indexOf(p);je>=0&&this.collectedLeaveElements.splice(je,1)}if(w){const je=this._fetchNamespace(w);je&&je.insertNode(p,B)}re&&this.collectEnterElement(p)}collectEnterElement(w){this.collectedEnterElements.push(w)}markElementAsDisabled(w,p){p?this.disabledNodes.has(w)||(this.disabledNodes.add(w),Xt(w,Qr)):this.disabledNodes.has(w)&&(this.disabledNodes.delete(w),Bn(w,Qr))}removeNode(w,p,B,re){if(xi(p)){const me=w?this._fetchNamespace(w):null;if(me?me.removeNode(p,re):this.markElementAsRemoved(w,p,!1,re),B){const je=this.namespacesByHostElement.get(p);je&&je.id!==w&&je.removeNode(p,re)}}else this._onRemovalComplete(p,re)}markElementAsRemoved(w,p,B,re){this.collectedLeaveElements.push(p),p[wo]={namespaceId:w,setForRemoval:re,hasAnimation:B,removedBeforeQueried:!1}}listen(w,p,B,re,me){return xi(p)?this._fetchNamespace(w).listen(p,B,re,me):()=>{}}_buildInstruction(w,p,B,re,me){return w.transition.build(this.driver,w.element,w.fromState.value,w.toState.value,B,re,w.fromState.options,w.toState.options,p,me)}destroyInnerAnimations(w){let p=this.driver.query(w,bn,!0);p.forEach(B=>this.destroyActiveAnimationsForElement(B)),0!=this.playersByQueriedElement.size&&(p=this.driver.query(w,tn,!0),p.forEach(B=>this.finishActiveQueriedAnimationOnElement(B)))}destroyActiveAnimationsForElement(w){const p=this.playersByElement.get(w);p&&p.forEach(B=>{B.queued?B.markedForDestroy=!0:B.destroy()})}finishActiveQueriedAnimationOnElement(w){const p=this.playersByQueriedElement.get(w);p&&p.forEach(B=>B.finish())}whenRenderingDone(){return new Promise(w=>{if(this.players.length)return cn(this.players).onDone(()=>w());w()})}processLeaveNode(w){const p=w[wo];if(p&&p.setForRemoval){if(w[wo]=No,p.namespaceId){this.destroyInnerAnimations(w);const B=this._fetchNamespace(p.namespaceId);B&&B.clearElementCache(w)}this._onRemovalComplete(w,p.setForRemoval)}this.driver.matchesElement(w,_s)&&this.markElementAsDisabled(w,!1),this.driver.query(w,_s,!0).forEach(B=>{this.markElementAsDisabled(B,!1)})}flush(w=-1){let p=[];if(this.newHostElements.size&&(this.newHostElements.forEach((B,re)=>this._balanceNamespaceList(B,re)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let B=0;B<this.collectedEnterElements.length;B++)Xt(this.collectedEnterElements[B],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const B=[];try{p=this._flushAnimations(B,w)}finally{for(let re=0;re<B.length;re++)B[re]()}}else for(let B=0;B<this.collectedLeaveElements.length;B++)this.processLeaveNode(this.collectedLeaveElements[B]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(B=>B()),this._flushFns=[],this._whenQuietFns.length){const B=this._whenQuietFns;this._whenQuietFns=[],p.length?cn(p).onDone(()=>{B.forEach(re=>re())}):B.forEach(re=>re())}}reportError(w){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${w.join("\n")}`)}_flushAnimations(w,p){const B=new ao,re=[],me=new Map,je=[],et=new Map,kt=new Map,dn=new Map,Ln=new Set;this.disabledNodes.forEach(br=>{Ln.add(br);const kr=this.driver.query(br,".ng-animate-queued",!0);for(let Jr=0;Jr<kr.length;Jr++)Ln.add(kr[Jr])});const Kn=this.bodyNode,Ti=Array.from(this.statesByElement.keys()),Hi=ot(Ti,this.collectedEnterElements),Oi=new Map;let Li=0;Hi.forEach((br,kr)=>{const Jr=Or+Li++;Oi.set(kr,Jr),br.forEach(Oo=>Xt(Oo,Jr))});const Zi=[],Lr=new Set,$r=new Set;for(let br=0;br<this.collectedLeaveElements.length;br++){const kr=this.collectedLeaveElements[br],Jr=kr[wo];Jr&&Jr.setForRemoval&&(Zi.push(kr),Lr.add(kr),Jr.hasAnimation?this.driver.query(kr,".ng-star-inserted",!0).forEach(Oo=>Lr.add(Oo)):$r.add(kr))}const Nr=new Map,Hr=ot(Ti,Array.from(Lr));Hr.forEach((br,kr)=>{const Jr=Qn+Li++;Nr.set(kr,Jr),br.forEach(Oo=>Xt(Oo,Jr))}),w.push(()=>{Hi.forEach((br,kr)=>{const Jr=Oi.get(kr);br.forEach(Oo=>Bn(Oo,Jr))}),Hr.forEach((br,kr)=>{const Jr=Nr.get(kr);br.forEach(Oo=>Bn(Oo,Jr))}),Zi.forEach(br=>{this.processLeaveNode(br)})});const Do=[],Po=[];for(let br=this._namespaceList.length-1;br>=0;br--)this._namespaceList[br].drainQueuedTransitions(p).forEach(Jr=>{const Oo=Jr.player,Ks=Jr.element;if(Do.push(Oo),this.collectedEnterElements.length){const Ol=Ks[wo];if(Ol&&Ol.setForMove)return void Oo.destroy()}const kc=!Kn||!this.driver.containsElement(Kn,Ks),Gc=Nr.get(Ks),Ml=Oi.get(Ks),qs=this._buildInstruction(Jr,B,Ml,Gc,kc);if(qs.errors&&qs.errors.length)Po.push(qs);else{if(kc)return Oo.onStart(()=>Yn(Ks,qs.fromStyles)),Oo.onDestroy(()=>Jn(Ks,qs.toStyles)),void re.push(Oo);if(Jr.isFallbackTransition)return Oo.onStart(()=>Yn(Ks,qs.fromStyles)),Oo.onDestroy(()=>Jn(Ks,qs.toStyles)),void re.push(Oo);qs.timelines.forEach(Ol=>Ol.stretchStartingKeyframe=!0),B.append(Ks,qs.timelines),je.push({instruction:qs,player:Oo,element:Ks}),qs.queriedElements.forEach(Ol=>sn(et,Ol,[]).push(Oo)),qs.preStyleProps.forEach((Ol,vd)=>{const qh=Object.keys(Ol);if(qh.length){let cu=kt.get(vd);cu||kt.set(vd,cu=new Set),qh.forEach(Hh=>cu.add(Hh))}}),qs.postStyleProps.forEach((Ol,vd)=>{const qh=Object.keys(Ol);let cu=dn.get(vd);cu||dn.set(vd,cu=new Set),qh.forEach(Hh=>cu.add(Hh))})}});if(Po.length){const br=[];Po.forEach(kr=>{br.push(`@${kr.triggerName} has failed due to:\n`),kr.errors.forEach(Jr=>br.push(`- ${Jr}\n`))}),Do.forEach(kr=>kr.destroy()),this.reportError(br)}const Fo=new Map,Rs=new Map;je.forEach(br=>{const kr=br.element;B.has(kr)&&(Rs.set(kr,kr),this._beforeAnimationBuild(br.player.namespaceId,br.instruction,Fo))}),re.forEach(br=>{const kr=br.element;this._getPreviousPlayers(kr,!1,br.namespaceId,br.triggerName,null).forEach(Oo=>{sn(Fo,kr,[]).push(Oo),Oo.destroy()})});const uc=Zi.filter(br=>Rr(br,kt,dn)),Ra=new Map;Dr(Ra,this.driver,$r,dn,Fe).forEach(br=>{Rr(br,kt,dn)&&uc.push(br)});const _c=new Map;Hi.forEach((br,kr)=>{Dr(_c,this.driver,new Set(br),kt,"!")}),uc.forEach(br=>{const kr=Ra.get(br),Jr=_c.get(br);Ra.set(br,Object.assign(Object.assign({},kr),Jr))});const Lc=[],au=[],Zp={};je.forEach(br=>{const{element:kr,player:Jr,instruction:Oo}=br;if(B.has(kr)){if(Ln.has(kr))return Jr.onDestroy(()=>Jn(kr,Oo.toStyles)),Jr.disabled=!0,Jr.overrideTotalTime(Oo.totalTime),void re.push(Jr);let Ks=Zp;if(Rs.size>1){let Gc=kr;const Ml=[];for(;Gc=Gc.parentNode;){const qs=Rs.get(Gc);if(qs){Ks=qs;break}Ml.push(Gc)}Ml.forEach(qs=>Rs.set(qs,Ks))}const kc=this._buildAnimation(Jr.namespaceId,Oo,Fo,me,_c,Ra);if(Jr.setRealPlayer(kc),Ks===Zp)Lc.push(Jr);else{const Gc=this.playersByElement.get(Ks);Gc&&Gc.length&&(Jr.parentPlayer=cn(Gc)),re.push(Jr)}}else Yn(kr,Oo.fromStyles),Jr.onDestroy(()=>Jn(kr,Oo.toStyles)),au.push(Jr),Ln.has(kr)&&re.push(Jr)}),au.forEach(br=>{const kr=me.get(br.element);if(kr&&kr.length){const Jr=cn(kr);br.setRealPlayer(Jr)}}),re.forEach(br=>{br.parentPlayer?br.syncPlayerEvents(br.parentPlayer):br.destroy()});for(let br=0;br<Zi.length;br++){const kr=Zi[br],Jr=kr[wo];if(Bn(kr,Qn),Jr&&Jr.hasAnimation)continue;let Oo=[];if(et.size){let kc=et.get(kr);kc&&kc.length&&Oo.push(...kc);let Gc=this.driver.query(kr,tn,!0);for(let Ml=0;Ml<Gc.length;Ml++){let qs=et.get(Gc[Ml]);qs&&qs.length&&Oo.push(...qs)}}const Ks=Oo.filter(kc=>!kc.destroyed);Ks.length?oi(this,kr,Ks):this.processLeaveNode(kr)}return Zi.length=0,Lc.forEach(br=>{this.players.push(br),br.onDone(()=>{br.destroy();const kr=this.players.indexOf(br);this.players.splice(kr,1)}),br.play()}),Lc}elementContainsData(w,p){let B=!1;const re=p[wo];return re&&re.setForRemoval&&(B=!0),this.playersByElement.has(p)&&(B=!0),this.playersByQueriedElement.has(p)&&(B=!0),this.statesByElement.has(p)&&(B=!0),this._fetchNamespace(w).elementContainsData(p)||B}afterFlush(w){this._flushFns.push(w)}afterFlushAnimationsDone(w){this._whenQuietFns.push(w)}_getPreviousPlayers(w,p,B,re,me){let je=[];if(p){const et=this.playersByQueriedElement.get(w);et&&(je=et)}else{const et=this.playersByElement.get(w);if(et){const kt=!me||me==Ro;et.forEach(dn=>{dn.queued||!kt&&dn.triggerName!=re||je.push(dn)})}}return(B||re)&&(je=je.filter(et=>!(B&&B!=et.namespaceId||re&&re!=et.triggerName))),je}_beforeAnimationBuild(w,p,B){const me=p.element,je=p.isRemovalTransition?void 0:w,et=p.isRemovalTransition?void 0:p.triggerName;for(const kt of p.timelines){const dn=kt.element,Ln=dn!==me,Kn=sn(B,dn,[]);this._getPreviousPlayers(dn,Ln,je,et,p.toState).forEach(Hi=>{const Oi=Hi.getRealPlayer();Oi.beforeDestroy&&Oi.beforeDestroy(),Hi.destroy(),Kn.push(Hi)})}Yn(me,p.fromStyles)}_buildAnimation(w,p,B,re,me,je){const et=p.triggerName,kt=p.element,dn=[],Ln=new Set,Kn=new Set,Ti=p.timelines.map(Oi=>{const Li=Oi.element;Ln.add(Li);const Zi=Li[wo];if(Zi&&Zi.removedBeforeQueried)return new ve(Oi.duration,Oi.delay);const Lr=Li!==kt,$r=function(_){const w=[];return nr(_,w),w}((B.get(Li)||Ts).map(Fo=>Fo.getRealPlayer())).filter(Fo=>!!Fo.element&&Fo.element===Li),Nr=me.get(Li),Hr=je.get(Li),Do=gt(0,this._normalizer,0,Oi.keyframes,Nr,Hr),Po=this._buildPlayer(Oi,Do,$r);if(Oi.subTimeline&&re&&Kn.add(Li),Lr){const Fo=new Sn(w,et,Li);Fo.setRealPlayer(Po),dn.push(Fo)}return Po});dn.forEach(Oi=>{sn(this.playersByQueriedElement,Oi.element,[]).push(Oi),Oi.onDone(()=>function(_,w,p){let B;if(_ instanceof Map){if(B=_.get(w),B){if(B.length){const re=B.indexOf(p);B.splice(re,1)}0==B.length&&_.delete(w)}}else if(B=_[w],B){if(B.length){const re=B.indexOf(p);B.splice(re,1)}0==B.length&&delete _[w]}return B}(this.playersByQueriedElement,Oi.element,Oi))}),Ln.forEach(Oi=>Xt(Oi,jt));const Hi=cn(Ti);return Hi.onDestroy(()=>{Ln.forEach(Oi=>Bn(Oi,jt)),Jn(kt,p.toStyles)}),Kn.forEach(Oi=>{sn(re,Oi,[]).push(Hi)}),Hi}_buildPlayer(w,p,B){return p.length>0?this.driver.animate(w.element,p,w.duration,w.delay,w.easing,B):new ve(w.duration,w.delay)}}class Sn{constructor(w,p,B){this.namespaceId=w,this.triggerName=p,this.element=B,this._player=new ve,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(w){this._containsRealPlayer||(this._player=w,Object.keys(this._queuedCallbacks).forEach(p=>{this._queuedCallbacks[p].forEach(B=>Ht(w,p,void 0,B))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(w.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(w){this.totalTime=w}syncPlayerEvents(w){const p=this._player;p.triggerCallback&&w.onStart(()=>p.triggerCallback("start")),w.onDone(()=>this.finish()),w.onDestroy(()=>this.destroy())}_queueEvent(w,p){sn(this._queuedCallbacks,w,[]).push(p)}onDone(w){this.queued&&this._queueEvent("done",w),this._player.onDone(w)}onStart(w){this.queued&&this._queueEvent("start",w),this._player.onStart(w)}onDestroy(w){this.queued&&this._queueEvent("destroy",w),this._player.onDestroy(w)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(w){this.queued||this._player.setPosition(w)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(w){const p=this._player;p.triggerCallback&&p.triggerCallback(w)}}function xi(_){return _&&1===_.nodeType}function _r(_,w){const p=_.style.display;return _.style.display=null!=w?w:"none",p}function Dr(_,w,p,B,re){const me=[];p.forEach(kt=>me.push(_r(kt)));const je=[];B.forEach((kt,dn)=>{const Ln={};kt.forEach(Kn=>{const Ti=Ln[Kn]=w.computeStyle(dn,Kn,re);(!Ti||0==Ti.length)&&(dn[wo]=Uo,je.push(dn))}),_.set(dn,Ln)});let et=0;return p.forEach(kt=>_r(kt,me[et++])),je}function ot(_,w){const p=new Map;if(_.forEach(et=>p.set(et,[])),0==w.length)return p;const re=new Set(w),me=new Map;function je(et){if(!et)return 1;let kt=me.get(et);if(kt)return kt;const dn=et.parentNode;return kt=p.has(dn)?dn:re.has(dn)?1:je(dn),me.set(et,kt),kt}return w.forEach(et=>{const kt=je(et);1!==kt&&p.get(kt).push(et)}),p}const an="$$classes";function Xt(_,w){if(_.classList)_.classList.add(w);else{let p=_[an];p||(p=_[an]={}),p[w]=!0}}function Bn(_,w){if(_.classList)_.classList.remove(w);else{let p=_[an];p&&delete p[w]}}function oi(_,w,p){cn(p).onDone(()=>_.processLeaveNode(w))}function nr(_,w){for(let p=0;p<_.length;p++){const B=_[p];B instanceof Me?nr(B.players,w):w.push(B)}}function Rr(_,w,p){const B=p.get(_);if(!B)return!1;let re=w.get(_);return re?B.forEach(me=>re.add(me)):w.set(_,B),p.delete(_),!0}class cr{constructor(w,p,B){this.bodyNode=w,this._driver=p,this._normalizer=B,this._triggerCache={},this.onRemovalComplete=(re,me)=>{},this._transitionEngine=new St(w,p,B),this._timelineEngine=new vo(w,p,B),this._transitionEngine.onRemovalComplete=(re,me)=>this.onRemovalComplete(re,me)}registerTrigger(w,p,B,re,me){const je=w+"-"+re;let et=this._triggerCache[je];if(!et){const kt=[],dn=ei(this._driver,me,kt);if(kt.length)throw new Error(`The animation trigger "${re}" has failed to build due to the following errors:\n - ${kt.join("\n - ")}`);et=function(_,w,p){return new mr(_,w,p)}(re,dn,this._normalizer),this._triggerCache[je]=et}this._transitionEngine.registerTrigger(p,re,et)}register(w,p){this._transitionEngine.register(w,p)}destroy(w,p){this._transitionEngine.destroy(w,p)}onInsert(w,p,B,re){this._transitionEngine.insertNode(w,p,B,re)}onRemove(w,p,B,re){this._transitionEngine.removeNode(w,p,re||!1,B)}disableAnimations(w,p){this._transitionEngine.markElementAsDisabled(w,p)}process(w,p,B,re){if("@"==B.charAt(0)){const[me,je]=pn(B);this._timelineEngine.command(me,p,je,re)}else this._transitionEngine.trigger(w,p,B,re)}listen(w,p,B,re,me){if("@"==B.charAt(0)){const[je,et]=pn(B);return this._timelineEngine.listen(je,p,et,me)}return this._transitionEngine.listen(w,p,B,re,me)}flush(w=-1){this._transitionEngine.flush(w)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function yo(_,w){let p=null,B=null;return Array.isArray(w)&&w.length?(p=io(w[0]),w.length>1&&(B=io(w[w.length-1]))):w&&(p=io(w)),p||B?new mo(_,p,B):null}class mo{constructor(w,p,B){this._element=w,this._startStyles=p,this._endStyles=B,this._state=0;let re=mo.initialStylesByElement.get(w);re||mo.initialStylesByElement.set(w,re={}),this._initialStyles=re}start(){this._state<1&&(this._startStyles&&Jn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Jn(this._element,this._initialStyles),this._endStyles&&(Jn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(mo.initialStylesByElement.delete(this._element),this._startStyles&&(Yn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yn(this._element,this._endStyles),this._endStyles=null),Jn(this._element,this._initialStyles),this._state=3)}}function io(_){let w=null;const p=Object.keys(_);for(let B=0;B<p.length;B++){const re=p[B];Te(re)&&(w=w||{},w[re]=_[re])}return w}function Te(_){return"display"===_||"position"===_}mo.initialStylesByElement=new WeakMap;const fe="animation",ne="animationend";class ae{constructor(w,p,B,re,me,je,et){this._element=w,this._name=p,this._duration=B,this._delay=re,this._easing=me,this._fillMode=je,this._onDoneFn=et,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=kt=>this._handleCallback(kt)}apply(){(function(_,w){const p=ro(_,"").trim();let B=0;p.length&&(function(_,w){let p=0;for(let B=0;B<_.length;B++)","===_.charAt(B)&&p++;return p}(p)+1,w=`${p}, ${w}`),Vr(_,"",w)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Tr(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Re(this._element,this._name,"paused")}resume(){Re(this._element,this._name,"running")}setPosition(w){const p=zi(this._element,this._name);this._position=w*this._duration,Vr(this._element,"Delay",`-${this._position}ms`,p)}getPosition(){return this._position}_handleCallback(w){const p=w._ngTestManualTimestamp||Date.now(),B=1e3*parseFloat(w.elapsedTime.toFixed(3));w.animationName==this._name&&Math.max(p-this._startTime,0)>=this._delay&&B>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Tr(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(_,w){const B=ro(_,"").split(","),re=Pr(B,w);re>=0&&(B.splice(re,1),Vr(_,"",B.join(",")))}(this._element,this._name))}}function Re(_,w,p){Vr(_,"PlayState",p,zi(_,w))}function zi(_,w){const p=ro(_,"");return p.indexOf(",")>0?Pr(p.split(","),w):Pr([p],w)}function Pr(_,w){for(let p=0;p<_.length;p++)if(_[p].indexOf(w)>=0)return p;return-1}function Tr(_,w,p){p?_.removeEventListener(ne,w):_.addEventListener(ne,w)}function Vr(_,w,p,B){const re=fe+w;if(null!=B){const me=_.style[re];if(me.length){const je=me.split(",");je[B]=p,p=je.join(",")}}_.style[re]=p}function ro(_,w){return _.style[fe+w]||""}class ke{constructor(w,p,B,re,me,je,et,kt){this.element=w,this.keyframes=p,this.animationName=B,this._duration=re,this._delay=me,this._finalStyles=et,this._specialStyles=kt,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=je||"linear",this.totalTime=re+me,this._buildStyler()}onStart(w){this._onStartFns.push(w)}onDone(w){this._onDoneFns.push(w)}onDestroy(w){this._onDestroyFns.push(w)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(w=>w()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(w=>w()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(w=>w()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(w){this._styler.setPosition(w)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ae(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(w){const p="start"==w?this._onStartFns:this._onDoneFns;p.forEach(B=>B()),p.length=0}beforeDestroy(){this.init();const w={};if(this.hasStarted()){const p=this._state>=3;Object.keys(this._finalStyles).forEach(B=>{"offset"!=B&&(w[B]=p?this._finalStyles[B]:dt(this.element,B))})}this.currentSnapshot=w}}class xt extends ve{constructor(w,p){super(),this.element=w,this._startingStyles={},this.__initialized=!1,this._styles=_i(p)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(w=>{this._startingStyles[w]=this.element.style[w]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(w=>this.element.style.setProperty(w,this._styles[w])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(w=>{const p=this._startingStyles[w];p?this.element.style.setProperty(w,p):this.element.style.removeProperty(w)}),this._startingStyles=null,super.destroy())}}class di{constructor(){this._count=0}validateStyleProperty(w){return bi(w)}matchesElement(w,p){return ri(w,p)}containsElement(w,p){return zn(w,p)}query(w,p,B){return Un(w,p,B)}computeStyle(w,p,B){return window.getComputedStyle(w)[p]}buildKeyframeElement(w,p,B){B=B.map(et=>_i(et));let re=`@keyframes ${p} {\n`,me="";B.forEach(et=>{me=" ";const kt=parseFloat(et.offset);re+=`${me}${100*kt}% {\n`,me+=" ",Object.keys(et).forEach(dn=>{const Ln=et[dn];switch(dn){case"offset":return;case"easing":return void(Ln&&(re+=`${me}animation-timing-function: ${Ln};\n`));default:return void(re+=`${me}${dn}: ${Ln};\n`)}}),re+=`${me}}\n`}),re+="}\n";const je=document.createElement("style");return je.textContent=re,je}animate(w,p,B,re,me,je=[],et){const kt=je.filter(Zi=>Zi instanceof ke),dn={};Ni(B,re)&&kt.forEach(Zi=>{let Lr=Zi.currentSnapshot;Object.keys(Lr).forEach($r=>dn[$r]=Lr[$r])});const Ln=function(_){let w={};return _&&(Array.isArray(_)?_:[_]).forEach(B=>{Object.keys(B).forEach(re=>{"offset"==re||"easing"==re||(w[re]=B[re])})}),w}(p=it(w,p,dn));if(0==B)return new xt(w,Ln);const Kn="gen_css_kf_"+this._count++,Ti=this.buildKeyframeElement(w,Kn,p);(function(_){var w;const p=null===(w=_.getRootNode)||void 0===w?void 0:w.call(_);return"undefined"!=typeof ShadowRoot&&p instanceof ShadowRoot?p:document.head})(w).appendChild(Ti);const Oi=yo(w,p),Li=new ke(w,p,Kn,B,re,me,Ln,Oi);return Li.onDestroy(()=>{var _;(_=Ti).parentNode.removeChild(_)}),Li}}class li{constructor(w,p,B,re){this.element=w,this.keyframes=p,this.options=B,this._specialStyles=re,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=B.duration,this._delay=B.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(w=>w()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const w=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,w,this.options),this._finalKeyframe=w.length?w[w.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(w,p,B){return w.animate(p,B)}onStart(w){this._onStartFns.push(w)}onDone(w){this._onDoneFns.push(w)}onDestroy(w){this._onDestroyFns.push(w)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(w=>w()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(w=>w()),this._onDestroyFns=[])}setPosition(w){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=w*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const w={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(p=>{"offset"!=p&&(w[p]=this._finished?this._finalKeyframe[p]:dt(this.element,p))}),this.currentSnapshot=w}triggerCallback(w){const p="start"==w?this._onStartFns:this._onDoneFns;p.forEach(B=>B()),p.length=0}}class hr{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ar().toString()),this._cssKeyframesDriver=new di}validateStyleProperty(w){return bi(w)}matchesElement(w,p){return ri(w,p)}containsElement(w,p){return zn(w,p)}query(w,p,B){return Un(w,p,B)}computeStyle(w,p,B){return window.getComputedStyle(w)[p]}overrideWebAnimationsSupport(w){this._isNativeImpl=w}animate(w,p,B,re,me,je=[],et){if(!et&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(w,p,B,re,me,je);const Ln={duration:B,delay:re,fill:0==re?"both":"forwards"};me&&(Ln.easing=me);const Kn={},Ti=je.filter(Oi=>Oi instanceof li);Ni(B,re)&&Ti.forEach(Oi=>{let Li=Oi.currentSnapshot;Object.keys(Li).forEach(Zi=>Kn[Zi]=Li[Zi])});const Hi=yo(w,p=it(w,p=p.map(Oi=>_n(Oi,!1)),Kn));return new li(w,p,Ln,Hi)}}function Ar(){return bt()&&Element.prototype.animate||{}}var Ki=X(8583);let jo=(()=>{class _ extends Oe{constructor(p,B){super(),this._nextAnimationId=0,this._renderer=p.createRenderer(B.body,{id:"0",encapsulation:n.ifc.None,styles:[],data:{animation:[]}})}build(p){const B=this._nextAnimationId.toString();this._nextAnimationId++;const re=Array.isArray(p)?nt(p):p;return Jo(this._renderer,null,B,"register",[re]),new Lo(B,this._renderer)}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(n.FYo),n.LFG(Ki.K0))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac}),_})();class Lo extends class{}{constructor(w,p){super(),this._id=w,this._renderer=p}create(w,p){return new ko(this._id,w,p||{},this._renderer)}}class ko{constructor(w,p,B,re){this.id=w,this.element=p,this._renderer=re,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",B)}_listen(w,p){return this._renderer.listen(this.element,`@@${this.id}:${w}`,p)}_command(w,...p){return Jo(this._renderer,this.element,this.id,w,p)}onDone(w){this._listen("done",w)}onStart(w){this._listen("start",w)}onDestroy(w){this._listen("destroy",w)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(w){this._command("setPosition",w)}getPosition(){var w,p;return null!==(p=null===(w=this._renderer.engine.players[+this.id])||void 0===w?void 0:w.getPosition())&&void 0!==p?p:0}}function Jo(_,w,p,B,re){return _.setProperty(w,`@@${p}:${B}`,re)}const Fs="@.disabled";let Zo=(()=>{class _{constructor(p,B,re){this.delegate=p,this.engine=B,this._zone=re,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),B.onRemovalComplete=(me,je)=>{je&&je.parentNode(me)&&je.removeChild(me.parentNode,me)}}createRenderer(p,B){const me=this.delegate.createRenderer(p,B);if(!(p&&B&&B.data&&B.data.animation)){let Ln=this._rendererCache.get(me);return Ln||(Ln=new Ds("",me,this.engine),this._rendererCache.set(me,Ln)),Ln}const je=B.id,et=B.id+"-"+this._currentId;this._currentId++,this.engine.register(et,p);const kt=Ln=>{Array.isArray(Ln)?Ln.forEach(kt):this.engine.registerTrigger(je,et,p,Ln.name,Ln)};return B.data.animation.forEach(kt),new Kr(this,et,me,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(p,B,re){p>=0&&p<this._microtaskId?this._zone.run(()=>B(re)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(me=>{const[je,et]=me;je(et)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([B,re]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(n.FYo),n.LFG(cr),n.LFG(n.R0b))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac}),_})();class Ds{constructor(w,p,B){this.namespaceId=w,this.delegate=p,this.engine=B,this.destroyNode=this.delegate.destroyNode?re=>p.destroyNode(re):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(w,p){return this.delegate.createElement(w,p)}createComment(w){return this.delegate.createComment(w)}createText(w){return this.delegate.createText(w)}appendChild(w,p){this.delegate.appendChild(w,p),this.engine.onInsert(this.namespaceId,p,w,!1)}insertBefore(w,p,B,re=!0){this.delegate.insertBefore(w,p,B),this.engine.onInsert(this.namespaceId,p,w,re)}removeChild(w,p,B){this.engine.onRemove(this.namespaceId,p,this.delegate,B)}selectRootElement(w,p){return this.delegate.selectRootElement(w,p)}parentNode(w){return this.delegate.parentNode(w)}nextSibling(w){return this.delegate.nextSibling(w)}setAttribute(w,p,B,re){this.delegate.setAttribute(w,p,B,re)}removeAttribute(w,p,B){this.delegate.removeAttribute(w,p,B)}addClass(w,p){this.delegate.addClass(w,p)}removeClass(w,p){this.delegate.removeClass(w,p)}setStyle(w,p,B,re){this.delegate.setStyle(w,p,B,re)}removeStyle(w,p,B){this.delegate.removeStyle(w,p,B)}setProperty(w,p,B){"@"==p.charAt(0)&&p==Fs?this.disableAnimations(w,!!B):this.delegate.setProperty(w,p,B)}setValue(w,p){this.delegate.setValue(w,p)}listen(w,p,B){return this.delegate.listen(w,p,B)}disableAnimations(w,p){this.engine.disableAnimations(w,p)}}class Kr extends Ds{constructor(w,p,B,re){super(p,B,re),this.factory=w,this.namespaceId=p}setProperty(w,p,B){"@"==p.charAt(0)?"."==p.charAt(1)&&p==Fs?this.disableAnimations(w,B=void 0===B||!!B):this.engine.process(this.namespaceId,w,p.substr(1),B):this.delegate.setProperty(w,p,B)}listen(w,p,B){if("@"==p.charAt(0)){const re=function(_){switch(_){case"body":return document.body;case"document":return document;case"window":return window;default:return _}}(w);let me=p.substr(1),je="";return"@"!=me.charAt(0)&&([me,je]=function(_){const w=_.indexOf(".");return[_.substring(0,w),_.substr(w+1)]}(me)),this.engine.listen(this.namespaceId,re,me,je,et=>{this.factory.scheduleListenerCallback(et._data||-1,B,et)})}return this.delegate.listen(w,p,B)}}let Xs=(()=>{class _ extends cr{constructor(p,B,re){super(p.body,B,re)}ngOnDestroy(){this.flush()}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(Ki.K0),n.LFG(ji),n.LFG(Qt))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac}),_})();const Tc=new n.OlP("AnimationModuleType"),Ys=[{provide:Oe,useClass:jo},{provide:Qt,useFactory:function(){return new hn}},{provide:cr,useClass:Xs},{provide:n.FYo,useFactory:function(_,w,p){return new Zo(_,w,p)},deps:[te.se,cr,n.R0b]}],Cs=[{provide:ji,useFactory:function(){return"function"==typeof Ar()?new hr:new di}},{provide:Tc,useValue:"BrowserAnimations"},...Ys],bs=[{provide:ji,useClass:mi},{provide:Tc,useValue:"NoopAnimations"},...Ys];let Zc=(()=>{class _{static withConfig(p){return{ngModule:_,providers:p.disableAnimations?bs:Cs}}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({providers:Cs,imports:[te.b2]}),_})();var Eo=X(425),Ko=X(9765);const vc=["toast-component",""];function $o(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"button",5),n.NdJ("click",function(){return n.CHM(p),n.oxw().remove()}),n.TgZ(1,"span",6),n._uU(2,"\xd7"),n.qZA(),n.qZA()}}function Qa(_,w){if(1&_&&(n.ynx(0),n._uU(1),n.BQk()),2&_){const p=n.oxw(2);n.xp6(1),n.hij("[",p.duplicatesCount+1,"]")}}function Dl(_,w){if(1&_&&(n.TgZ(0,"div"),n._uU(1),n.YNc(2,Qa,2,1,"ng-container",4),n.qZA()),2&_){const p=n.oxw();n.Tol(p.options.titleClass),n.uIk("aria-label",p.title),n.xp6(1),n.hij(" ",p.title," "),n.xp6(1),n.Q6J("ngIf",p.duplicatesCount)}}function Dc(_,w){if(1&_&&n._UZ(0,"div",7),2&_){const p=n.oxw();n.Tol(p.options.messageClass),n.Q6J("innerHTML",p.message,n.oJD)}}function Ss(_,w){if(1&_&&(n.TgZ(0,"div",8),n._uU(1),n.qZA()),2&_){const p=n.oxw();n.Tol(p.options.messageClass),n.uIk("aria-label",p.message),n.xp6(1),n.hij(" ",p.message," ")}}function Sl(_,w){if(1&_&&(n.TgZ(0,"div"),n._UZ(1,"div",9),n.qZA()),2&_){const p=n.oxw();n.xp6(1),n.Udp("width",p.width+"%")}}function Qc(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"button",5),n.NdJ("click",function(){return n.CHM(p),n.oxw().remove()}),n.TgZ(1,"span",6),n._uU(2,"\xd7"),n.qZA(),n.qZA()}}function Xo(_,w){if(1&_&&(n.ynx(0),n._uU(1),n.BQk()),2&_){const p=n.oxw(2);n.xp6(1),n.hij("[",p.duplicatesCount+1,"]")}}function dc(_,w){if(1&_&&(n.TgZ(0,"div"),n._uU(1),n.YNc(2,Xo,2,1,"ng-container",4),n.qZA()),2&_){const p=n.oxw();n.Tol(p.options.titleClass),n.uIk("aria-label",p.title),n.xp6(1),n.hij(" ",p.title," "),n.xp6(1),n.Q6J("ngIf",p.duplicatesCount)}}function eo(_,w){if(1&_&&n._UZ(0,"div",7),2&_){const p=n.oxw();n.Tol(p.options.messageClass),n.Q6J("innerHTML",p.message,n.oJD)}}function dl(_,w){if(1&_&&(n.TgZ(0,"div",8),n._uU(1),n.qZA()),2&_){const p=n.oxw();n.Tol(p.options.messageClass),n.uIk("aria-label",p.message),n.xp6(1),n.hij(" ",p.message," ")}}function hl(_,w){if(1&_&&(n.TgZ(0,"div"),n._UZ(1,"div",9),n.qZA()),2&_){const p=n.oxw();n.xp6(1),n.Udp("width",p.width+"%")}}class Ps{constructor(w,p,B,re,me,je){this.toastId=w,this.config=p,this.message=B,this.title=re,this.toastType=me,this.toastRef=je,this._onTap=new Ko.xQ,this._onAction=new Ko.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(w){this._onAction.next(w)}onAction(){return this._onAction.asObservable()}}const Va={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Ms=new n.OlP("ToastConfig");class hc{constructor(w,p){this.component=w,this.injector=p}attach(w,p){return this._attachedHost=w,w.attach(this,p)}detach(){const w=this._attachedHost;if(w)return this._attachedHost=void 0,w.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(w){this._attachedHost=w}}class yc extends class{attach(w,p){return this._attachedPortal=w,this.attachComponentPortal(w,p)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(w){this._disposeFn=w}}{constructor(w,p,B){super(),this._hostDomElement=w,this._componentFactoryResolver=p,this._appRef=B}attachComponentPortal(w,p){const B=this._componentFactoryResolver.resolveComponentFactory(w.component);let re;return re=B.create(w.injector),this._appRef.attachView(re.hostView),this.setDisposeFn(()=>{this._appRef.detachView(re.hostView),re.destroy()}),p?this._hostDomElement.insertBefore(this._getComponentRootNode(re),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(re)),re}_getComponentRootNode(w){return w.hostView.rootNodes[0]}}let ec=(()=>{class _{constructor(p){this._document=p}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const p=this._document.createElement("div");p.classList.add("overlay-container"),this._document.body.appendChild(p),this._containerElement=p}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(Ki.K0))},_.\u0275prov=n.Yz7({factory:function(){return new _(n.LFG(Ki.K0))},token:_,providedIn:"root"}),_})();class qc{constructor(w){this._portalHost=w}attach(w,p=!0){return this._portalHost.attach(w,p)}detach(){return this._portalHost.detach()}}let Wo=(()=>{class _{constructor(p,B,re,me){this._overlayContainer=p,this._componentFactoryResolver=B,this._appRef=re,this._document=me,this._paneElements=new Map}create(p,B){return this._createOverlayRef(this.getPaneElement(p,B))}getPaneElement(p="",B){return this._paneElements.get(B)||this._paneElements.set(B,{}),this._paneElements.get(B)[p]||(this._paneElements.get(B)[p]=this._createPaneElement(p,B)),this._paneElements.get(B)[p]}_createPaneElement(p,B){const re=this._document.createElement("div");return re.id="toast-container",re.classList.add(p),re.classList.add("toast-container"),B?B.getContainerElement().appendChild(re):this._overlayContainer.getContainerElement().appendChild(re),re}_createPortalHost(p){return new yc(p,this._componentFactoryResolver,this._appRef)}_createOverlayRef(p){return new qc(this._createPortalHost(p))}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(ec),n.LFG(n._Vd),n.LFG(n.z2F),n.LFG(Ki.K0))},_.\u0275prov=n.Yz7({factory:function(){return new _(n.LFG(ec),n.LFG(n._Vd),n.LFG(n.z2F),n.LFG(Ki.K0))},token:_,providedIn:"root"}),_})();class tc{constructor(w){this._overlayRef=w,this.duplicatesCount=0,this._afterClosed=new Ko.xQ,this._activate=new Ko.xQ,this._manualClose=new Ko.xQ,this._resetTimeout=new Ko.xQ,this._countDuplicate=new Ko.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(w,p){w&&this._resetTimeout.next(),p&&this._countDuplicate.next(++this.duplicatesCount)}}class nc{constructor(w,p){this._toastPackage=w,this._parentInjector=p}get(w,p,B){return w===Ps?this._toastPackage:this._parentInjector.get(w,p,B)}}let pa=(()=>{class _{constructor(p,B,re,me,je){this.overlay=B,this._injector=re,this.sanitizer=me,this.ngZone=je,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},p.default),p.config),p.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},p.default.iconClasses),p.config.iconClasses))}show(p,B,re={},me=""){return this._preBuildNotification(me,p,B,this.applyConfig(re))}success(p,B,re={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",p,B,this.applyConfig(re))}error(p,B,re={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",p,B,this.applyConfig(re))}info(p,B,re={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",p,B,this.applyConfig(re))}warning(p,B,re={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",p,B,this.applyConfig(re))}clear(p){for(const B of this.toasts)if(void 0!==p){if(B.toastId===p)return void B.toastRef.manualClose()}else B.toastRef.manualClose()}remove(p){const B=this._findToast(p);if(!B||(B.activeToast.toastRef.close(),this.toasts.splice(B.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const re=this.toasts[this.currentlyActive].toastRef;re.isInactive()||(this.currentlyActive=this.currentlyActive+1,re.activate())}return!0}findDuplicate(p="",B="",re,me){const{includeTitleDuplicates:je}=this.toastrConfig;for(const et of this.toasts){const kt=je&&et.title===p;if((!je||kt)&&et.message===B)return et.toastRef.onDuplicate(re,me),et}return null}applyConfig(p={}){return Object.assign(Object.assign({},this.toastrConfig),p)}_findToast(p){for(let B=0;B<this.toasts.length;B++)if(this.toasts[B].toastId===p)return{index:B,activeToast:this.toasts[B]};return null}_preBuildNotification(p,B,re,me){return me.onActivateTick?this.ngZone.run(()=>this._buildNotification(p,B,re,me)):this._buildNotification(p,B,re,me)}_buildNotification(p,B,re,me){if(!me.toastComponent)throw new Error("toastComponent required");const je=this.findDuplicate(re,B,this.toastrConfig.resetTimeoutOnDuplicate&&me.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&re||B)&&this.toastrConfig.preventDuplicates&&null!==je)return je;this.previousToastMessage=B;let et=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(et=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const kt=this.overlay.create(me.positionClass,this.overlayContainer);this.index=this.index+1;let dn=B;B&&me.enableHtml&&(dn=this.sanitizer.sanitize(n.q3G.HTML,B));const Ln=new tc(kt),Kn=new Ps(this.index,me,dn,re,p,Ln),Ti=new nc(Kn,this._injector),Hi=new hc(me.toastComponent,Ti),Oi=kt.attach(Hi,this.toastrConfig.newestOnTop);Ln.componentInstance=Oi.instance;const Li={toastId:this.index,title:re||"",message:B||"",toastRef:Ln,onShown:Ln.afterActivate(),onHidden:Ln.afterClosed(),onTap:Kn.onTap(),onAction:Kn.onAction(),portal:Oi};return et||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Li.toastRef.activate()})),this.toasts.push(Li),Li}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(Ms),n.LFG(Wo),n.LFG(n.zs3),n.LFG(te.H7),n.LFG(n.R0b))},_.\u0275prov=n.Yz7({factory:function(){return new _(n.LFG(Ms),n.LFG(Wo),n.LFG(n.gxx),n.LFG(te.H7),n.LFG(n.R0b))},token:_,providedIn:"root"}),_})(),ga=(()=>{class _{constructor(p,B,re){this.toastrService=p,this.toastPackage=B,this.ngZone=re,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=B.message,this.title=B.title,this.options=B.config,this.originalTimeout=B.config.timeOut,this.toastClasses=`${B.toastType} ${B.config.toastClass}`,this.sub=B.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=B.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=B.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=B.toastRef.countDuplicate().subscribe(me=>{this.duplicatesCount=me})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const p=(new Date).getTime();this.width=(this.hideTime-p)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(p,B){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(p),B)):this.timeout=setTimeout(()=>p(),B)}outsideInterval(p,B){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(p),B)):this.intervalId=setInterval(()=>p(),B)}runInsideAngular(p){this.ngZone?this.ngZone.run(()=>p()):p()}}return _.\u0275fac=function(p){return new(p||_)(n.Y36(pa),n.Y36(Ps),n.Y36(n.R0b))},_.\u0275cmp=n.Xpm({type:_,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(p,B){1&p&&n.NdJ("click",function(){return B.tapToast()})("mouseenter",function(){return B.stickAround()})("mouseleave",function(){return B.delayedHideToast()}),2&p&&(n.d8E("@flyInOut",B.state),n.Tol(B.toastClasses),n.Udp("display",B.displayStyle))},attrs:vc,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(p,B){1&p&&(n.YNc(0,$o,3,0,"button",0),n.YNc(1,Dl,3,5,"div",1),n.YNc(2,Dc,1,3,"div",2),n.YNc(3,Ss,2,4,"div",3),n.YNc(4,Sl,2,2,"div",4)),2&p&&(n.Q6J("ngIf",B.options.closeButton),n.xp6(1),n.Q6J("ngIf",B.title),n.xp6(1),n.Q6J("ngIf",B.message&&B.options.enableHtml),n.xp6(1),n.Q6J("ngIf",B.message&&!B.options.enableHtml),n.xp6(1),n.Q6J("ngIf",B.options.progressBar))},directives:[Ki.O5],encapsulation:2,data:{animation:[Ue("flyInOut",[qe("inactive",Be({opacity:0})),qe("active",Be({opacity:1})),qe("removed",Be({opacity:0})),Qe("inactive => active",He("{{ easeTime }}ms {{ easing }}")),Qe("active => removed",He("{{ easeTime }}ms {{ easing }}"))])]}}),_})();const Sc=Object.assign(Object.assign({},Va),{toastComponent:ga});let es=(()=>{class _{static forRoot(p={}){return{ngModule:_,providers:[{provide:Ms,useValue:{default:Sc,config:p}}]}}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Ki.ez]]}),_})(),_a=(()=>{class _{constructor(p,B,re){this.toastrService=p,this.toastPackage=B,this.appRef=re,this.width=-1,this.toastClasses="",this.state="inactive",this.message=B.message,this.title=B.title,this.options=B.config,this.originalTimeout=B.config.timeOut,this.toastClasses=`${B.toastType} ${B.config.toastClass}`,this.sub=B.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=B.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=B.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=B.toastRef.countDuplicate().subscribe(me=>{this.duplicatesCount=me})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const p=(new Date).getTime();this.width=(this.hideTime-p)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return _.\u0275fac=function(p){return new(p||_)(n.Y36(pa),n.Y36(Ps),n.Y36(n.z2F))},_.\u0275cmp=n.Xpm({type:_,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(p,B){1&p&&n.NdJ("click",function(){return B.tapToast()})("mouseenter",function(){return B.stickAround()})("mouseleave",function(){return B.delayedHideToast()}),2&p&&(n.Tol(B.toastClasses),n.Udp("display",B.displayStyle))},attrs:vc,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(p,B){1&p&&(n.YNc(0,Qc,3,0,"button",0),n.YNc(1,dc,3,5,"div",1),n.YNc(2,eo,1,3,"div",2),n.YNc(3,dl,2,4,"div",3),n.YNc(4,hl,2,2,"div",4)),2&p&&(n.Q6J("ngIf",B.options.closeButton),n.xp6(1),n.Q6J("ngIf",B.title),n.xp6(1),n.Q6J("ngIf",B.message&&B.options.enableHtml),n.xp6(1),n.Q6J("ngIf",B.message&&!B.options.enableHtml),n.xp6(1),n.Q6J("ngIf",B.options.progressBar))},directives:[Ki.O5],encapsulation:2}),_})();Object.assign(Object.assign({},Va),{toastComponent:_a});var Vo=X(5987),Cr=X(2582),ps=X(8394),Mr=X(3679),lo=X(157),Mo=X(5917),xs=X(739),ic=X(2759),Co=X(8307),As=X(3190),Os=X(4395),be=X(8939),ge=X(8002),le=X(5435),De=X(4762);function xe(_,w){if(1&_){var p=n.EpF();n.TgZ(0,"a",11),n.NdJ("keyup.enter",function(){return n.CHM(p),n.oxw(3),n.MAs(1).previous()})("click",function(){return n.CHM(p),n.oxw(3),n.MAs(1).previous()}),n._uU(1),n.TgZ(2,"span",12),n._uU(3),n.qZA(),n.qZA()}if(2&_){var B=n.oxw(3);n.uIk("aria-label",B.previousLabel+" "+B.screenReaderPageLabel),n.xp6(1),n.hij(" ",B.previousLabel," "),n.xp6(2),n.Oqu(B.screenReaderPageLabel)}}function ht(_,w){if(1&_&&(n.TgZ(0,"span"),n._uU(1),n.TgZ(2,"span",12),n._uU(3),n.qZA(),n.qZA()),2&_){var p=n.oxw(3);n.xp6(1),n.hij(" ",p.previousLabel," "),n.xp6(2),n.Oqu(p.screenReaderPageLabel)}}function rn(_,w){if(1&_&&(n.TgZ(0,"li",8),n.YNc(1,xe,4,3,"a",9),n.YNc(2,ht,4,2,"span",10),n.qZA()),2&_){n.oxw(2);var p=n.MAs(1);n.ekj("disabled",p.isFirstPage()),n.xp6(1),n.Q6J("ngIf",1<p.getCurrent()),n.xp6(1),n.Q6J("ngIf",p.isFirstPage())}}function yn(_,w){if(1&_){var p=n.EpF();n.TgZ(0,"a",11),n.NdJ("keyup.enter",function(){n.CHM(p);var je=n.oxw().$implicit;return n.oxw(2),n.MAs(1).setCurrent(je.value)})("click",function(){n.CHM(p);var je=n.oxw().$implicit;return n.oxw(2),n.MAs(1).setCurrent(je.value)}),n.TgZ(1,"span",12),n._uU(2),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"number"),n.qZA(),n.qZA()}if(2&_){var B=n.oxw().$implicit,re=n.oxw(2);n.xp6(2),n.hij("",re.screenReaderPageLabel," "),n.xp6(2),n.Oqu("..."===B.label?B.label:n.xi3(5,2,B.label,""))}}function Nn(_,w){if(1&_&&(n.ynx(0),n.TgZ(1,"span",12),n._uU(2),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"number"),n.qZA(),n.BQk()),2&_){var p=n.oxw().$implicit,B=n.oxw(2);n.xp6(2),n.hij("",B.screenReaderCurrentLabel," "),n.xp6(2),n.Oqu("..."===p.label?p.label:n.xi3(5,2,p.label,""))}}function vi(_,w){if(1&_&&(n.TgZ(0,"li"),n.YNc(1,yn,6,5,"a",9),n.YNc(2,Nn,6,5,"ng-container",10),n.qZA()),2&_){var p=w.$implicit;n.oxw(2);var B=n.MAs(1);n.ekj("current",B.getCurrent()===p.value)("ellipsis","..."===p.label),n.xp6(1),n.Q6J("ngIf",B.getCurrent()!==p.value),n.xp6(1),n.Q6J("ngIf",B.getCurrent()===p.value)}}function wr(_,w){if(1&_){var p=n.EpF();n.TgZ(0,"a",11),n.NdJ("keyup.enter",function(){return n.CHM(p),n.oxw(3),n.MAs(1).next()})("click",function(){return n.CHM(p),n.oxw(3),n.MAs(1).next()}),n._uU(1),n.TgZ(2,"span",12),n._uU(3),n.qZA(),n.qZA()}if(2&_){var B=n.oxw(3);n.uIk("aria-label",B.nextLabel+" "+B.screenReaderPageLabel),n.xp6(1),n.hij(" ",B.nextLabel," "),n.xp6(2),n.Oqu(B.screenReaderPageLabel)}}function Mi(_,w){if(1&_&&(n.TgZ(0,"span"),n._uU(1),n.TgZ(2,"span",12),n._uU(3),n.qZA(),n.qZA()),2&_){var p=n.oxw(3);n.xp6(1),n.hij(" ",p.nextLabel," "),n.xp6(2),n.Oqu(p.screenReaderPageLabel)}}function Vn(_,w){if(1&_&&(n.TgZ(0,"li",13),n.YNc(1,wr,4,3,"a",9),n.YNc(2,Mi,4,2,"span",10),n.qZA()),2&_){n.oxw(2);var p=n.MAs(1);n.ekj("disabled",p.isLastPage()),n.xp6(1),n.Q6J("ngIf",!p.isLastPage()),n.xp6(1),n.Q6J("ngIf",p.isLastPage())}}function ai(_,w){if(1&_&&(n.TgZ(0,"ul",3),n.YNc(1,rn,3,4,"li",4),n.TgZ(2,"li",5),n._uU(3),n.qZA(),n.YNc(4,vi,3,6,"li",6),n.YNc(5,Vn,3,4,"li",7),n.qZA()),2&_){var p=n.oxw(),B=n.MAs(1);n.ekj("responsive",p.responsive),n.uIk("aria-label",p.screenReaderPaginationLabel),n.xp6(1),n.Q6J("ngIf",p.directionLinks),n.xp6(2),n.AsE(" ",B.getCurrent()," / ",B.getLastPage()," "),n.xp6(1),n.Q6J("ngForOf",B.pages)("ngForTrackBy",p.trackByIndex),n.xp6(1),n.Q6J("ngIf",p.directionLinks)}}var bo=function(){function _(){this.change=new n.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return _.prototype.defaultId=function(){return this.DEFAULT_ID},_.prototype.register=function(w){return null==w.id&&(w.id=this.DEFAULT_ID),this.instances[w.id]?this.updateInstance(w):(this.instances[w.id]=w,!0)},_.prototype.updateInstance=function(w){var p=!1;for(var B in this.instances[w.id])w[B]!==this.instances[w.id][B]&&(this.instances[w.id][B]=w[B],p=!0);return p},_.prototype.getCurrentPage=function(w){if(this.instances[w])return this.instances[w].currentPage},_.prototype.setCurrentPage=function(w,p){if(this.instances[w]){var B=this.instances[w];p<=Math.ceil(B.totalItems/B.itemsPerPage)&&1<=p&&(this.instances[w].currentPage=p,this.change.emit(w))}},_.prototype.setTotalItems=function(w,p){this.instances[w]&&0<=p&&(this.instances[w].totalItems=p,this.change.emit(w))},_.prototype.setItemsPerPage=function(w,p){this.instances[w]&&(this.instances[w].itemsPerPage=p,this.change.emit(w))},_.prototype.getInstance=function(w){return void 0===w&&(w=this.DEFAULT_ID),this.instances[w]?this.clone(this.instances[w]):{}},_.prototype.clone=function(w){var p={};for(var B in w)w.hasOwnProperty(B)&&(p[B]=w[B]);return p},_.\u0275fac=function(p){return new(p||_)},_.\u0275prov=n.Yz7({token:_,factory:function(w){return _.\u0275fac(w)}}),_}(),ts=function(_,w){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(_,w)},rc=Number.MAX_SAFE_INTEGER,k=function(){function _(w){this.service=w,this.state={}}return _.prototype.transform=function(w,p){if(!(w instanceof Array)){var B=p.id||this.service.defaultId();return this.state[B]?this.state[B].slice:w}var et,kt,re=p.totalItems&&p.totalItems!==w.length,me=this.createInstance(w,p),je=me.id,dn=me.itemsPerPage,Ln=this.service.register(me);if(!re&&w instanceof Array){if(this.stateIsIdentical(je,w,et=(me.currentPage-1)*(dn=+dn||rc),kt=et+dn))return this.state[je].slice;var Ti=w.slice(et,kt);return this.saveState(je,w,Ti,et,kt),this.service.change.emit(je),Ti}return Ln&&this.service.change.emit(je),this.saveState(je,w,w,et,kt),w},_.prototype.createInstance=function(w,p){return this.checkConfig(p),{id:null!=p.id?p.id:this.service.defaultId(),itemsPerPage:+p.itemsPerPage||0,currentPage:+p.currentPage||1,totalItems:+p.totalItems||w.length}},_.prototype.checkConfig=function(w){var B=["itemsPerPage","currentPage"].filter(function(re){return!(re in w)});if(0<B.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+B.join(", "))},_.prototype.saveState=function(w,p,B,re,me){this.state[w]={collection:p,size:p.length,slice:B,start:re,end:me}},_.prototype.stateIsIdentical=function(w,p,B,re){var me=this.state[w];return!!me&&!(me.size!==p.length||me.start!==B||me.end!==re)&&me.slice.every(function(et,kt){return et===p[B+kt]})},(_=function(_,w,p,B){var je,re=arguments.length,me=re<3?w:null===B?B=Object.getOwnPropertyDescriptor(w,p):B;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)me=Reflect.decorate(_,w,p,B);else for(var et=_.length-1;et>=0;et--)(je=_[et])&&(me=(re<3?je(me):re>3?je(w,p,me):je(w,p))||me);return re>3&&me&&Object.defineProperty(w,p,me),me}([ts("design:paramtypes",[bo])],_)).\u0275fac=function(p){return new(p||_)(n.Y36(bo,16))},_.\u0275pipe=n.Yjl({name:"paginate",type:_,pure:!1}),_}(),Pe=function(_,w,p,B){var je,re=arguments.length,me=re<3?w:null===B?B=Object.getOwnPropertyDescriptor(w,p):B;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)me=Reflect.decorate(_,w,p,B);else for(var et=_.length-1;et>=0;et--)(je=_[et])&&(me=(re<3?je(me):re>3?je(w,p,me):je(w,p))||me);return re>3&&me&&Object.defineProperty(w,p,me),me},rt=function(_,w){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(_,w)};function Jt(_){return!!_&&"false"!==_}var Mn=function(){function _(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new n.vpe,this.pageBoundsCorrection=new n.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(_.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(w){this._directionLinks=Jt(w)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"autoHide",{get:function(){return this._autoHide},set:function(w){this._autoHide=Jt(w)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"responsive",{get:function(){return this._responsive},set:function(w){this._responsive=Jt(w)},enumerable:!0,configurable:!0}),_.prototype.trackByIndex=function(w){return w},Pe([(0,n.IIB)(),rt("design:type",String)],_.prototype,"id",void 0),Pe([(0,n.IIB)(),rt("design:type",Number)],_.prototype,"maxSize",void 0),Pe([(0,n.IIB)(),rt("design:type",Boolean),rt("design:paramtypes",[Boolean])],_.prototype,"directionLinks",null),Pe([(0,n.IIB)(),rt("design:type",Boolean),rt("design:paramtypes",[Boolean])],_.prototype,"autoHide",null),Pe([(0,n.IIB)(),rt("design:type",Boolean),rt("design:paramtypes",[Boolean])],_.prototype,"responsive",null),Pe([(0,n.IIB)(),rt("design:type",String)],_.prototype,"previousLabel",void 0),Pe([(0,n.IIB)(),rt("design:type",String)],_.prototype,"nextLabel",void 0),Pe([(0,n.IIB)(),rt("design:type",String)],_.prototype,"screenReaderPaginationLabel",void 0),Pe([(0,n.IIB)(),rt("design:type",String)],_.prototype,"screenReaderPageLabel",void 0),Pe([(0,n.IIB)(),rt("design:type",String)],_.prototype,"screenReaderCurrentLabel",void 0),Pe([(0,n.r_U)(),rt("design:type",n.vpe)],_.prototype,"pageChange",void 0),Pe([(0,n.r_U)(),rt("design:type",n.vpe)],_.prototype,"pageBoundsCorrection",void 0),_.\u0275fac=function(p){return new(p||_)},_.\u0275cmp=n.Xpm({type:_,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(p,B){if(1&p&&(n.TgZ(0,"pagination-template",0,1),n.NdJ("pageChange",function(je){return B.pageChange.emit(je)})("pageBoundsCorrection",function(je){return B.pageBoundsCorrection.emit(je)}),n.YNc(2,ai,6,9,"ul",2),n.qZA()),2&p){var re=n.MAs(1);n.Q6J("id",B.id)("maxSize",B.maxSize),n.xp6(2),n.Q6J("ngIf",!(B.autoHide&&re.pages.length<=1))}},directives:function(){return[ki,Ki.O5,Ki.sg]},pipes:function(){return[Ki.JJ]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),_}(),Bi=function(_,w,p,B){var je,re=arguments.length,me=re<3?w:null===B?B=Object.getOwnPropertyDescriptor(w,p):B;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)me=Reflect.decorate(_,w,p,B);else for(var et=_.length-1;et>=0;et--)(je=_[et])&&(me=(re<3?je(me):re>3?je(w,p,me):je(w,p))||me);return re>3&&me&&Object.defineProperty(w,p,me),me},ir=function(_,w){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(_,w)},ki=function(){function _(w,p){var B=this;this.service=w,this.changeDetectorRef=p,this.maxSize=7,this.pageChange=new n.vpe,this.pageBoundsCorrection=new n.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(function(re){B.id===re&&(B.updatePageLinks(),B.changeDetectorRef.markForCheck(),B.changeDetectorRef.detectChanges())})}return _.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},_.prototype.ngOnChanges=function(w){this.updatePageLinks()},_.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},_.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},_.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},_.prototype.isFirstPage=function(){return 1===this.getCurrent()},_.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},_.prototype.setCurrent=function(w){this.pageChange.emit(w)},_.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},_.prototype.getLastPage=function(){var w=this.service.getInstance(this.id);return w.totalItems<1?1:Math.ceil(w.totalItems/w.itemsPerPage)},_.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},_.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},_.prototype.updatePageLinks=function(){var w=this,p=this.service.getInstance(this.id),B=this.outOfBoundCorrection(p);B!==p.currentPage?setTimeout(function(){w.pageBoundsCorrection.emit(B),w.pages=w.createPageArray(p.currentPage,p.itemsPerPage,p.totalItems,w.maxSize)}):this.pages=this.createPageArray(p.currentPage,p.itemsPerPage,p.totalItems,this.maxSize)},_.prototype.outOfBoundCorrection=function(w){var p=Math.ceil(w.totalItems/w.itemsPerPage);return p<w.currentPage&&0<p?p:w.currentPage<1?1:w.currentPage},_.prototype.createPageArray=function(w,p,B,re){re=+re;for(var me=[],je=Math.max(Math.ceil(B/p),1),et=Math.ceil(re/2),kt=w<=et,dn=je-et<w,Ln=!kt&&!dn,Kn=re<je,Ti=1;Ti<=je&&Ti<=re;){var Oi=this.calculatePageNumber(Ti,w,re,je);me.push({label:Kn&&(2===Ti&&(Ln||dn)||Ti===re-1&&(Ln||kt))?"...":Oi,value:Oi}),Ti++}return me},_.prototype.calculatePageNumber=function(w,p,B,re){var me=Math.ceil(B/2);return w===B?re:1===w?w:B<re?re-me<p?re-B+w:me<p?p-me+w:w:w},Bi([(0,n.IIB)(),ir("design:type",String)],_.prototype,"id",void 0),Bi([(0,n.IIB)(),ir("design:type",Number)],_.prototype,"maxSize",void 0),Bi([(0,n.r_U)(),ir("design:type",n.vpe)],_.prototype,"pageChange",void 0),Bi([(0,n.r_U)(),ir("design:type",n.vpe)],_.prototype,"pageBoundsCorrection",void 0),(_=Bi([ir("design:paramtypes",[bo,n.sBO])],_)).\u0275fac=function(p){return new(p||_)(n.Y36(bo),n.Y36(n.sBO))},_.\u0275dir=n.lG2({type:_,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[n.TTD]}),_}(),Qo=function(){function _(){}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({providers:[bo],imports:[[Ki.ez]]}),_}(),jr=X(1674),ns=X(7612);let ws=(()=>{class _{static transformOne(p,B){return ns(p,B)}transform(p,B){return Array.isArray(p)?p.map(re=>_.transformOne(re,B)):_.transformOne(p,B)}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275pipe=n.Yjl({name:"filesize",type:_,pure:!0}),_})(),to=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({}),_})();function Hc(_,w,p){return function(re,me,je){const et=`$$__${me}`;return Object.prototype.hasOwnProperty.call(re,et)&&console.warn(`The prop "${et}" is already exist, it will be overrided by ${_} decorator.`),Object.defineProperty(re,et,{configurable:!0,writable:!0}),{get(){return je&&je.get?je.get.bind(this)():this[et]},set(kt){je&&je.set&&je.set.bind(this)(w(kt,p)),this[et]=w(kt,p)}}}}function is(_,w=!1){return w&&void 0===_?void 0:null!=_&&"false"!=`${_}`}function To(_=!1){return Hc("InputNumber",is,_)}function _u(_,w=0){return isNaN(parseFloat(_))||isNaN(Number(_))?w:Number(_)}function as(_=0){return Hc("InputNumber",_u,_)}var nf=X(6215),fl=X(4022),Vs=X(8345);let mh=(()=>{class _{constructor(p){this.doc=p,this.list={},this.cached={},this._notify=new nf.X([])}fixPaths(p){return p=p||[],Array.isArray(p)||(p=[p]),p.map(B=>{const re="string"==typeof B?{path:B}:B;return re.type||(re.type=re.path.endsWith(".js")||re.callback?"script":"style"),re})}monitor(p){const B=this.fixPaths(p),re=[(0,Vs.B)(),(0,le.h)(me=>0!==me.length)];return B.length>0&&re.push((0,le.h)(me=>me.length===B.length&&me.every(je=>"ok"===je.status&&B.find(et=>et.path===je.path)))),this._notify.asObservable().pipe(fl.z.apply(this,re))}clear(){this.list={},this.cached={}}load(p){return(0,De.mG)(this,void 0,void 0,function*(){return p=this.fixPaths(p),Promise.all(p.map(B=>"script"===B.type?this.loadScript(B.path,{callback:B.callback}):this.loadStyle(B.path))).then(B=>(this._notify.next(B),Promise.resolve(B)))})}loadScript(p,B){const{innerContent:re}=Object.assign({},B);return new Promise(me=>{if(!0===this.list[p])return void me(Object.assign(Object.assign({},this.cached[p]),{status:"loading"}));this.list[p]=!0;const je=dn=>{"ok"===dn.status&&(null==B?void 0:B.callback)?window[null==B?void 0:B.callback]=()=>{et(dn)}:et(dn)},et=dn=>{dn.type="script",this.cached[p]=dn,me(dn),this._notify.next([dn])},kt=this.doc.createElement("script");kt.type="text/javascript",kt.src=p,kt.charset="utf-8",re&&(kt.innerHTML=re),kt.readyState?kt.onreadystatechange=()=>{("loaded"===kt.readyState||"complete"===kt.readyState)&&(kt.onreadystatechange=null,je({path:p,status:"ok"}))}:kt.onload=()=>je({path:p,status:"ok"}),kt.onerror=dn=>je({path:p,status:"error",error:dn}),this.doc.getElementsByTagName("head")[0].appendChild(kt)})}loadStyle(p,B){const{rel:re,innerContent:me}=Object.assign({rel:"stylesheet"},B);return new Promise(je=>{if(!0===this.list[p])return void je(this.cached[p]);this.list[p]=!0;const et=this.doc.createElement("link");et.rel=re,et.type="text/css",et.href=p,me&&(et.innerHTML=me),this.doc.getElementsByTagName("head")[0].appendChild(et);const kt={path:p,status:"ok",type:"style"};this.cached[p]=kt,je(kt)})}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(Ki.K0))},_.\u0275prov=(0,n.Yz7)({factory:function(){return new _((0,n.LFG)(Ki.K0))},token:_,providedIn:"root"}),_})();function Sd(_,w){if(1&_&&n._UZ(0,"textarea",3),2&_){const p=n.oxw();n.uIk("id",p.id)("placeholder",p.placeholder)}}function Il(_,w){if(1&_&&(n.TgZ(0,"div"),n.Hsn(1),n.qZA()),2&_){const p=n.oxw();n.uIk("id",p.id)}}function zl(_,w){if(1&_&&(n.ynx(0),n._uU(1),n.BQk()),2&_){const p=n.oxw(2);n.xp6(1),n.Oqu(p._loading)}}function Nl(_,w){if(1&_&&(n.TgZ(0,"div",4),n.YNc(1,zl,2,1,"ng-container",5),n.qZA()),2&_){const p=n.oxw();n.xp6(1),n.Q6J("ngIf",p._loading)("ngIfElse",p._loadingTpl)}}const Ir=["*"];class qo{constructor(){this.baseURL="./assets/tinymce/",this.fileName="tinymce.min.js"}}const Qs=!("object"==typeof document&&document);let fc=(()=>{class _{constructor(p,B,re,me,je){this.defConfig=p,this.lazySrv=B,this.ngZone=re,this.doc=me,this.cd=je,this.value="",this.load=!0,this.id=`_tinymce-${Math.random().toString(36).substring(2)}`,this.placeholder="",this.inline=!1,this._disabled=!1,this._loading=null,this._loadingTpl=null,this.delay=0,this.ready=new n.vpe}set disabled(p){this._disabled=p,this.setDisabled()}set loading(p){p instanceof n.Rgc?(this._loading=null,this._loadingTpl=p):this._loading=p}get instance(){return this._instance}_getWin(){return this.doc.defaultView||window}initDelay(){Qs||setTimeout(()=>this.init(),Math.min(0,this.delay))}init(){const p=this._getWin();if(!p.tinymce)throw new Error("tinymce js\u6587\u4ef6\u52a0\u8f7d\u5931\u8d25");const{defConfig:B,config:re,id:me,inline:je}=this;if(this._instance)return;if(B.baseURL){let dn=""+B.baseURL;dn.endsWith("/")&&(dn=dn.substr(0,dn.length-1)),p.tinymce.baseURL=dn}const et=Object.assign(Object.assign({},B.config),re),kt=Object.assign(Object.assign(Object.assign({selector:"#"+me,inline:je},B.config),re),{setup:dn=>{this._instance=dn,this.onChange&&dn.on("change keyup",()=>{this.value=dn.getContent(),this.ngZone.run(()=>this.onChange(this.value))}),"function"==typeof et.setup&&et.setup(dn)},init_instance_callback:dn=>{dn&&this.value&&dn.setContent(this.value),this.setDisabled(),"function"==typeof et.init_instance_callback&&et.init_instance_callback(dn),this.ready.emit(this._instance)}});et.auto_focus&&(kt.auto_focus=me),this.ngZone.runOutsideAngular(()=>p.tinymce.init(kt)),this.load=!1,this.cd.detectChanges()}destroy(){!this._instance||(this.ngZone.runOutsideAngular(()=>{this._instance.off(),this._instance.remove("#"+this.id)}),this._instance=null)}setDisabled(){!this._instance||this.ngZone.runOutsideAngular(()=>this._instance.setMode(this._disabled?"readonly":"design"))}ngAfterViewInit(){if(Qs)return;if(this._getWin().tinymce)return void this.initDelay();const{defConfig:p}=this,me=(p&&p.baseURL||"./assets/tinymce/")+(p&&p.fileName||"tinymce.min.js");this.lazySrv.monitor(me).subscribe(()=>this.initDelay()),this.lazySrv.load(me)}ngOnChanges(p){this._instance&&p.config&&(this.destroy(),this.initDelay())}ngOnDestroy(){this.destroy()}writeValue(p){this.value=p||"",this._instance&&this.ngZone.runOutsideAngular(()=>this._instance.setContent(this.value))}registerOnChange(p){this.onChange=p}registerOnTouched(p){this.onTouched=p}setDisabledState(p){this.disabled=p,this.setDisabled()}}return _.\u0275fac=function(p){return new(p||_)(n.Y36(qo),n.Y36(mh),n.Y36(n.R0b),n.Y36(Ki.K0),n.Y36(n.sBO))},_.\u0275cmp=n.Xpm({type:_,selectors:[["tinymce"]],inputs:{config:"config",placeholder:"placeholder",inline:"inline",disabled:"disabled",loading:"loading",delay:"delay"},outputs:{ready:"ready"},exportAs:["tinymce"],features:[n._Bn([{provide:Mr.JU,useExisting:(0,n.Gpc)(()=>_),multi:!0}]),n.TTD],ngContentSelectors:Ir,decls:3,vars:3,consts:[["class","tinymce-selector",4,"ngIf"],[4,"ngIf"],["class","loading",4,"ngIf"],[1,"tinymce-selector"],[1,"loading"],[4,"ngIf","ngIfElse"]],template:function(p,B){1&p&&(n.F$t(),n.YNc(0,Sd,1,2,"textarea",0),n.YNc(1,Il,2,1,"div",1),n.YNc(2,Nl,2,2,"div",2)),2&p&&(n.Q6J("ngIf",!B.inline),n.xp6(1),n.Q6J("ngIf",B.inline),n.xp6(1),n.Q6J("ngIf",B.load))},directives:[Ki.O5],styles:["\n      tinymce .tinymce-selector {\n        display: none;\n      }\n    "],encapsulation:2,changeDetection:0}),(0,De.gn)([To()],_.prototype,"inline",void 0),(0,De.gn)([To()],_.prototype,"disabled",null),(0,De.gn)([as()],_.prototype,"delay",void 0),_})(),Yl=(()=>{class _{static forRoot(p){return{ngModule:_,providers:[{provide:qo,useValue:p}]}}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Ki.ez]]}),_})();var sf=X(5278);const pc=function(){return{exact:!0}};function xc(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"li"),n.TgZ(1,"a",21),n.NdJ("click",function(){return n.CHM(p),n.oxw(3).navService.toggleMenu()}),n._uU(2),n.qZA(),n.qZA()}if(2&_){const p=w.$implicit,B=n.oxw(2).$implicit;n.xp6(1),n.Q6J("usefulRouterLink",p.routerLink)("usefulRouterLinkActiveOptions",n.DdM(4,pc))("usefulRouterBackwardable",!1),n.xp6(1),n.Oqu(B(p.text||"")||p.text)}}const Cc=function(){return[]},Jc=function(_){return{exact:!0,also:_}};function Kc(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"li"),n.TgZ(1,"a",21),n.NdJ("click",function(){return n.CHM(p),n.oxw(2).navService.toggleMenu()}),n._UZ(2,"i",22),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.qZA(),n.TgZ(5,"ul",23),n.YNc(6,xc,3,5,"li",24),n.qZA(),n.qZA()}if(2&_){const p=w.$implicit,B=n.oxw().$implicit;n.Tol(p.name),n.xp6(1),n.Q6J("usefulRouterLink",p.routerLink)("usefulRouterLinkActiveOptions",n.VKq(10,Jc,p.activeAlso||n.DdM(9,Cc)))("usefulRouterBackwardable",!1),n.xp6(1),n.Tol(p.icon),n.xp6(2),n.Oqu(B(p.text||"")||p.text),n.xp6(2),n.Q6J("ngForOf",p.subItems)}}const xd=function(_){return[_]},Ad=function(){return["account"]};function Id(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"ul",25),n.TgZ(1,"li"),n.TgZ(2,"a",5),n.NdJ("click",function(){return!1}),n.TgZ(3,"span"),n._uU(4),n.qZA(),n._UZ(5,"img",26),n.qZA(),n.TgZ(6,"ul",7),n.TgZ(7,"li"),n.TgZ(8,"a",8),n._uU(9),n.qZA(),n.qZA(),n.TgZ(10,"li"),n.TgZ(11,"a",8),n._uU(12,"My Account"),n.qZA(),n.qZA(),n.TgZ(13,"li"),n.TgZ(14,"a",5),n.NdJ("click",function(){return n.CHM(p),n.oxw(2).exitDashboard(),!1}),n._uU(15,"Exit Dashboard"),n.qZA(),n.qZA(),n.TgZ(16,"li"),n.TgZ(17,"a",5),n.NdJ("click",function(){return n.CHM(p),n.oxw(2).logOut(),!1}),n._uU(18,"Sign Out"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&_){const p=n.oxw(2);n.xp6(4),n.hij("Howdy, ",(null==p.userService.data?null:p.userService.data.displayName)||"User",""),n.xp6(1),n.Q6J("src",(null==p.userService.data?null:p.userService.data.photoURL)||"https://www.gravatar.com/avatar/none?d=mp",n.LSH),n.xp6(3),n.Q6J("usefulRouterLink",n.VKq(5,xd,(null==p.userService.data?null:p.userService.data.username)||"account")),n.xp6(1),n.Oqu((null==p.userService.data?null:p.userService.data.displayName)||"User"),n.xp6(2),n.Q6J("usefulRouterLink",n.DdM(7,Ad))}}const yu=function(){return["app-dashboard","about"]};function oc(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"header",1),n.TgZ(2,"div",2),n.TgZ(3,"button",3),n.NdJ("click",function(){return n.CHM(p),n.oxw().navService.toggleMenu()}),n.qZA(),n.qZA(),n.TgZ(4,"ul",4),n.TgZ(5,"li"),n.TgZ(6,"a",5),n.NdJ("click",function(){return!1}),n._UZ(7,"i",6),n.qZA(),n.TgZ(8,"ul",7),n.TgZ(9,"li"),n.TgZ(10,"a",8),n._uU(11,"About Dashboard"),n.qZA(),n.qZA(),n.TgZ(12,"li"),n.TgZ(13,"a",9),n._uU(14,"Mola Home"),n.qZA(),n.qZA(),n.TgZ(15,"li"),n.TgZ(16,"a",10),n._uU(17,"Documentation"),n.qZA(),n.qZA(),n.TgZ(18,"li"),n.TgZ(19,"a",11),n._uU(20,"Support"),n.qZA(),n.qZA(),n.TgZ(21,"li"),n.TgZ(22,"a",11),n._uU(23,"Feedback"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(24,"ul",12),n.TgZ(25,"li"),n.TgZ(26,"a",5),n.NdJ("click",function(){return!1}),n._UZ(27,"i",13),n.TgZ(28,"span"),n._uU(29,"My App"),n.qZA(),n.qZA(),n.TgZ(30,"ul",7),n.TgZ(31,"li"),n.TgZ(32,"a",5),n.NdJ("click",function(){return n.CHM(p),n.oxw().exitDashboard(),!1}),n._uU(33,"Visit App"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(34,"nav",14),n.TgZ(35,"div",15),n.TgZ(36,"div",16),n.TgZ(37,"ul",17),n.YNc(38,Kc,7,12,"li",18),n.qZA(),n.qZA(),n.TgZ(39,"div",19),n.NdJ("click",function(){return n.CHM(p),n.oxw().navService.toggleMenu()}),n.qZA(),n.qZA(),n.qZA(),n.YNc(40,Id,19,8,"ul",20),n.qZA(),n.BQk()}if(2&_){const p=n.oxw();n.xp6(10),n.Q6J("usefulRouterLink",n.DdM(5,yu)),n.xp6(25),n.ekj("visible",p.navService.menuVisible),n.xp6(3),n.Q6J("ngForOf",p.menuItems),n.xp6(2),n.Q6J("ngIf",p.userService.currentUser)}}const po=["cropper"];function _h(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"div",18),n.TgZ(1,"image-cropper",19),n.NdJ("change",function(re){return n.CHM(p),n.oxw(3).cropResult=re}),n.qZA(),n.TgZ(2,"div",20),n.TgZ(3,"input",21),n.NdJ("change",function(re){return n.CHM(p),n.oxw(3).croppingWidthChanges(re)}),n.qZA(),n.TgZ(4,"div"),n._uU(5,"X"),n.qZA(),n.TgZ(6,"input",21),n.NdJ("change",function(re){return n.CHM(p),n.oxw(3).croppingHeightChanges(re)}),n.qZA(),n.qZA(),n.TgZ(7,"div",22),n.TgZ(8,"a",12),n.NdJ("click",function(){return n.CHM(p),n.oxw(3).doneCropping(),!1}),n._uU(9,"Crop & Upload"),n.qZA(),n.qZA(),n.qZA()}if(2&_){const p=n.oxw(3);n.xp6(1),n.Q6J("url",p.fileDataUrl)("options",p.cropperOptions)("resultOptions",p.cropperResultOptions),n.xp6(2),n.Q6J("value",null==p.imageCropping?null:p.imageCropping.width)("disabled",!(null!=p.imageCropping&&p.imageCropping.unenforced)),n.xp6(3),n.Q6J("value",null==p.imageCropping?null:p.imageCropping.height)("disabled",!(null!=p.imageCropping&&p.imageCropping.unenforced))}}function pl(_,w){if(1&_&&(n.TgZ(0,"div",32),n._uU(1),n.ALo(2,"filesize"),n.qZA()),2&_){const p=w.$implicit;n.xp6(1),n.hij(" Upload size: ",n.lcZ(2,1,p.size)," ")}}function Nd(_,w){if(1&_&&(n.ynx(0),n.YNc(1,pl,3,3,"div",27),n.TgZ(2,"div",28),n._uU(3,"Upload path: "),n.TgZ(4,"a",29),n._uU(5),n.qZA(),n.qZA(),n.TgZ(6,"div",30),n._uU(7,"Download URL: "),n.TgZ(8,"a",31),n._uU(9,"Open link"),n.qZA(),n.qZA(),n.BQk()),2&_){const p=n.oxw(4);n.xp6(1),n.Q6J("ngIf",p.uploadResult.metadata),n.xp6(4),n.Oqu(p.uploadResult.fullPath),n.xp6(3),n.Q6J("href",p.uploadResult.downloadUrl,n.LSH)}}function af(_,w){if(1&_&&(n.TgZ(0,"div",33),n._UZ(1,"progress",34),n.ALo(2,"async"),n.qZA()),2&_){const p=n.oxw(4);n.xp6(1),n.Q6J("value",n.lcZ(2,1,p.uploading.uploadPercent$))}}function Cu(_,w){if(1&_&&(n.TgZ(0,"div",23),n.TgZ(1,"div",24),n._uU(2),n.qZA(),n.TgZ(3,"div",25),n._uU(4),n.ALo(5,"filesize"),n.qZA(),n.YNc(6,Nd,10,3,"ng-container",14),n.YNc(7,af,3,3,"ng-template",null,26,n.W1O),n.qZA()),2&_){const p=n.MAs(8),B=n.oxw(3);n.xp6(2),n.hij("File name: ",B.uploading.name,""),n.xp6(2),n.hij("File size: ",n.lcZ(5,4,B.uploading.size),""),n.xp6(2),n.Q6J("ngIf",B.uploadResult)("ngIfElse",p)}}function bu(_,w){if(1&_&&(n.ynx(0),n.YNc(1,_h,10,7,"div",16),n.YNc(2,Cu,9,6,"div",17),n.BQk()),2&_){const p=n.oxw(2);n.xp6(1),n.Q6J("ngIf",p.fileDataUrl),n.xp6(1),n.Q6J("ngIf",p.uploading)}}function Pa(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"input",35),n.NdJ("change",function(re){return n.CHM(p),n.oxw(2).selectFile(re)}),n.qZA()}}function pp(_,w){if(1&_&&(n.TgZ(0,"div",13),n.YNc(1,bu,3,2,"ng-container",14),n.YNc(2,Pa,1,0,"ng-template",null,15,n.W1O),n.qZA()),2&_){const p=n.MAs(3),B=n.oxw();n.xp6(1),n.Q6J("ngIf",B.selectedFile)("ngIfElse",p)}}function vh(_,w){if(1&_&&(n.TgZ(0,"strong"),n._uU(1),n.qZA()),2&_){const p=n.oxw(2).$implicit;n.xp6(1),n.Oqu(p.title)}}function Pu(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"a",25),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(2).$implicit;return n.oxw(7).type=re.value,!1}),n._uU(1),n.qZA()}if(2&_){const p=n.oxw(2).$implicit;n.xp6(1),n.Oqu(p.title)}}function yh(_,w){if(1&_&&(n.TgZ(0,"li"),n.YNc(1,vh,2,1,"strong",23),n.YNc(2,Pu,2,1,"ng-template",null,24,n.W1O),n.TgZ(4,"em"),n._uU(5),n.qZA(),n.qZA()),2&_){const p=n.MAs(3),B=n.oxw().$implicit,re=n.oxw(7);n.xp6(1),n.Q6J("ngIf",B.value===re.type)("ngIfElse",p),n.xp6(4),n.hij("(",B.count,")")}}function zu(_,w){if(1&_&&(n.ynx(0),n.YNc(1,yh,6,3,"li",7),n.BQk()),2&_){const p=w.$implicit;n.xp6(1),n.Q6J("ngIf",p.count)}}function cf(_,w){if(1&_&&(n.TgZ(0,"ul",21),n.YNc(1,zu,2,1,"ng-container",22),n.qZA()),2&_){const p=w.ngIf;n.xp6(1),n.Q6J("ngForOf",p)}}function Yu(_,w){if(1&_&&(n.TgZ(0,"option",38),n._uU(1),n.qZA()),2&_){const p=w.$implicit,B=n.oxw(7);n.Q6J("selected",B.activeFolder===p)("value",p),n.xp6(1),n.Oqu(p||"/")}}function Ch(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"div",26),n.TgZ(1,"select",27),n.NdJ("change",function(re){return n.CHM(p),n.oxw(6).changeFolder(re)}),n.TgZ(2,"option",28),n._uU(3,"Select folder"),n.qZA(),n.YNc(4,Yu,2,3,"option",29),n.qZA(),n.qZA(),n.TgZ(5,"div",30),n.TgZ(6,"input",31),n.NdJ("ngModelChange",function(re){return n.CHM(p),n.oxw(6).query=re})("keyup.enter",function(){n.CHM(p);const re=n.oxw(3).$implicit;return n.oxw(3).search(re.searchQuery)}),n.qZA(),n.TgZ(7,"button",32),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(3).$implicit;return n.oxw(3).search(re.searchQuery)}),n._uU(8,"Search"),n.qZA(),n.qZA(),n.TgZ(9,"div",33),n.TgZ(10,"button",34),n.NdJ("click",function(){return n.CHM(p),n.oxw(6).layout="list"}),n._UZ(11,"i",35),n.qZA(),n.TgZ(12,"button",34),n.NdJ("click",function(){return n.CHM(p),n.oxw(6).layout="thumbnail"}),n._UZ(13,"i",36),n.qZA(),n.qZA(),n.TgZ(14,"div",37),n._uU(15),n.qZA()}if(2&_){const p=n.oxw().$implicit,B=n.oxw(2).$implicit,re=n.oxw(3);n.xp6(4),n.Q6J("ngForOf",B.folders),n.xp6(2),n.Q6J("ngModel",re.query),n.xp6(1),n.Q6J("disabled",!re.query),n.xp6(3),n.ekj("active","list"===re.layout),n.xp6(2),n.ekj("active","thumbnail"===re.layout),n.xp6(3),n.hij("",p.length," items")}}function Rl(_,w){1&_&&n.GkF(0)}function Wu(_,w){1&_&&(n.TgZ(0,"tr"),n.TgZ(1,"td",44),n.TgZ(2,"div",46),n._UZ(3,"nguix-dashboard-spinner"),n.qZA(),n.qZA(),n.qZA())}function Rd(_,w){1&_&&(n.TgZ(0,"tr"),n.TgZ(1,"td",44),n._uU(2,"Select an folder or search to view files."),n.qZA(),n.qZA())}function Ll(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td",44),n._uU(2,'Currently view top search result for query "'),n.TgZ(3,"strong"),n._uU(4),n.qZA(),n._uU(5,'", '),n.TgZ(6,"a",25),n.NdJ("click",function(){return n.CHM(p),n.oxw(7).query="",!1}),n._uU(7,"clear search"),n.qZA(),n._uU(8,"."),n.qZA(),n.qZA()}if(2&_){const p=n.oxw(4).$implicit;n.xp6(4),n.Oqu(p.searchQuery)}}function bh(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td",40),n.TgZ(2,"a",25),n.NdJ("click",function(){const me=n.CHM(p).$implicit;return n.oxw(7).detailItem=me,!1}),n._UZ(3,"i",47),n.TgZ(4,"strong"),n._uU(5),n.qZA(),n.qZA(),n.qZA(),n.TgZ(6,"td",41),n._uU(7),n.ALo(8,"filesize"),n.qZA(),n.TgZ(9,"td",42),n._uU(10),n.qZA(),n.TgZ(11,"td",43),n._uU(12),n.ALo(13,"date"),n.qZA(),n.qZA()}if(2&_){const p=w.$implicit;n.xp6(3),n.Tol("icon-dashboard-media-"+p.type),n.xp6(2),n.Oqu(p.name),n.xp6(2),n.Oqu(n.lcZ(8,6,p.metadata.size)),n.xp6(3),n.Oqu(p.metadata.contentType),n.xp6(2),n.Oqu(n.lcZ(13,8,p.metadata.updated))}}function Ph(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"table",39),n.TgZ(1,"thead"),n.TgZ(2,"tr"),n.TgZ(3,"th",40),n._uU(4,"Name"),n.qZA(),n.TgZ(5,"th",41),n._uU(6,"Size"),n.qZA(),n.TgZ(7,"th",42),n._uU(8,"Type"),n.qZA(),n.TgZ(9,"th",43),n._uU(10,"Date"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(11,"tbody"),n.YNc(12,Wu,4,0,"tr",7),n.YNc(13,Rd,3,0,"tr",7),n.YNc(14,Ll,9,1,"tr",7),n.YNc(15,bh,14,10,"tr",22),n.qZA(),n.TgZ(16,"tfoot"),n.TgZ(17,"tr"),n.TgZ(18,"td",44),n.TgZ(19,"pagination-controls",45),n.NdJ("pageChange",function(re){return n.CHM(p),n.oxw(6).pageNo=re}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&_){const p=n.oxw().$implicit,B=n.oxw(2).$implicit,re=n.oxw(3);n.xp6(12),n.Q6J("ngIf",re.isListingLoading),n.xp6(1),n.Q6J("ngIf",!(re.isListingLoading||re.activeFolder||re.query&&B.searchItems)),n.xp6(1),n.Q6J("ngIf",re.query&&B.searchItems),n.xp6(1),n.Q6J("ngForOf",p),n.xp6(4),n.Q6J("directionLinks",!1)}}function Wl(_,w){1&_&&(n.TgZ(0,"li",46),n._UZ(1,"nguix-dashboard-spinner"),n.qZA())}function sc(_,w){1&_&&(n.TgZ(0,"li",51),n._uU(1," Select an folder or search to view files. "),n.qZA())}function kl(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"li",51),n._uU(1,' Currently view top search result for query "'),n.TgZ(2,"strong"),n._uU(3),n.qZA(),n._uU(4,'", '),n.TgZ(5,"a",25),n.NdJ("click",function(){return n.CHM(p),n.oxw(7).query="",!1}),n._uU(6,"clear search"),n.qZA(),n._uU(7,". "),n.qZA()}if(2&_){const p=n.oxw(4).$implicit;n.xp6(3),n.Oqu(p.searchQuery)}}function Fl(_,w){if(1&_&&(n.TgZ(0,"span"),n._UZ(1,"i",47),n.qZA()),2&_){const p=n.oxw().$implicit;n.xp6(1),n.Tol("icon-dashboard-media-"+p.type)}}function cs(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"li"),n.TgZ(1,"a",52),n.NdJ("click",function(){const me=n.CHM(p).$implicit;return n.oxw(7).detailItem=me,!1}),n.YNc(2,Fl,2,2,"span",7),n.qZA(),n.TgZ(3,"a",53),n.NdJ("click",function(){const me=n.CHM(p).$implicit;return n.oxw(7).detailItem=me,!1}),n._uU(4),n.qZA(),n.TgZ(5,"div",54),n.TgZ(6,"span"),n._uU(7),n.ALo(8,"date"),n.qZA(),n.TgZ(9,"span"),n._uU(10),n.ALo(11,"filesize"),n.qZA(),n.qZA(),n.qZA()}if(2&_){const p=w.$implicit;n.xp6(1),n.Udp("background-image","image"!==p.type?null:"url("+p.downloadUrl+")"),n.xp6(1),n.Q6J("ngIf","image"!==p.type),n.xp6(2),n.Oqu(p.name),n.xp6(3),n.Oqu(n.lcZ(8,6,p.metadata.updated)),n.xp6(3),n.Oqu(n.lcZ(11,8,p.metadata.size))}}function Mu(_,w){if(1&_&&(n.TgZ(0,"ul",48),n.YNc(1,Wl,2,0,"li",49),n.YNc(2,sc,2,0,"li",50),n.YNc(3,kl,8,1,"li",50),n.YNc(4,cs,12,10,"li",22),n.qZA()),2&_){const p=n.oxw().$implicit,B=n.oxw(2).$implicit,re=n.oxw(3);n.xp6(1),n.Q6J("ngIf",re.isListingLoading),n.xp6(1),n.Q6J("ngIf",!(re.isListingLoading||re.activeFolder||re.query&&B.searchItems)),n.xp6(1),n.Q6J("ngIf",re.query&&B.searchItems),n.xp6(1),n.Q6J("ngForOf",p)}}function Ld(_,w){if(1&_&&n._UZ(0,"img",67),2&_){const p=n.oxw(7);n.Q6J("src",p.detailItem.downloadUrl,n.LSH)("alt",p.detailItem.name)}}function Xc(_,w){if(1&_&&n._UZ(0,"audio",68),2&_){const p=n.oxw(7);n.Q6J("src",p.detailItem.downloadUrl,n.LSH)}}function Ql(_,w){if(1&_&&n._UZ(0,"video",68),2&_){const p=n.oxw(7);n.Q6J("src",p.detailItem.downloadUrl,n.LSH)}}function Jl(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"div",55),n.TgZ(1,"div",56),n.TgZ(2,"div",9),n._UZ(3,"i",47),n.TgZ(4,"strong"),n._uU(5),n.qZA(),n.qZA(),n.TgZ(6,"a",25),n.NdJ("click",function(){return n.CHM(p),n.oxw(6).detailItem=void 0,!1}),n._uU(7,"X"),n.qZA(),n.qZA(),n.TgZ(8,"div",57),n.TgZ(9,"div",58),n.YNc(10,Ld,1,2,"img",59),n.YNc(11,Xc,1,1,"audio",60),n.YNc(12,Ql,1,1,"video",60),n.qZA(),n.TgZ(13,"div",40),n.TgZ(14,"span"),n._uU(15,"Name"),n.qZA(),n.TgZ(16,"strong"),n.TgZ(17,"a",61),n._uU(18),n.qZA(),n.qZA(),n.qZA(),n.TgZ(19,"div",62),n.TgZ(20,"span"),n._uU(21,"Path"),n.qZA(),n.TgZ(22,"strong"),n._uU(23),n.qZA(),n.qZA(),n.TgZ(24,"div",41),n.TgZ(25,"span"),n._uU(26,"Size"),n.qZA(),n.TgZ(27,"strong"),n._uU(28),n.ALo(29,"number"),n.qZA(),n.qZA(),n.TgZ(30,"div",42),n.TgZ(31,"span"),n._uU(32,"Type"),n.qZA(),n.TgZ(33,"strong"),n._uU(34),n.qZA(),n.qZA(),n.TgZ(35,"div",63),n.TgZ(36,"span"),n._uU(37,"Created"),n.qZA(),n.TgZ(38,"strong"),n._uU(39),n.ALo(40,"date"),n.qZA(),n.qZA(),n.TgZ(41,"div",64),n.TgZ(42,"span"),n._uU(43,"Updated"),n.qZA(),n.TgZ(44,"strong"),n._uU(45),n.ALo(46,"date"),n.qZA(),n.qZA(),n.TgZ(47,"div",65),n.TgZ(48,"button",66),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(6);return re.delete(re.detailItem)}),n._uU(49,"Delete"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&_){const p=n.oxw(6);n.ekj("show",p.detailItem),n.xp6(3),n.Tol("icon-dashboard-media-"+p.detailItem.type),n.xp6(2),n.Oqu(p.detailItem.name),n.xp6(5),n.Q6J("ngIf","image"===p.detailItem.type),n.xp6(1),n.Q6J("ngIf","audio"===p.detailItem.type),n.xp6(1),n.Q6J("ngIf","video"===p.detailItem.type),n.xp6(5),n.Q6J("href",p.detailItem.downloadUrl,n.LSH),n.xp6(1),n.Oqu(p.detailItem.name),n.xp6(5),n.Oqu(p.detailItem.fullPath),n.xp6(5),n.hij("",n.lcZ(29,15,p.detailItem.metadata.size)," bytes"),n.xp6(6),n.Oqu(p.detailItem.metadata.contentType),n.xp6(5),n.Oqu(n.lcZ(40,17,p.detailItem.metadata.timeCreated)),n.xp6(6),n.Oqu(n.lcZ(46,19,p.detailItem.metadata.updated))}}function ac(_,w){1&_&&n.GkF(0)}function Mh(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"div",8),n.TgZ(2,"div",9),n.TgZ(3,"h1"),n._uU(4,"Media"),n.qZA(),n.TgZ(5,"button",10),n.NdJ("click",function(){return n.CHM(p),n.oxw(5).showUploader=!0}),n._uU(6,"Add New"),n.qZA(),n.qZA(),n.YNc(7,cf,2,1,"ul",11),n.ALo(8,"mediaExtractTypes"),n.qZA(),n.TgZ(9,"div",12),n.YNc(10,Ch,16,8,"ng-template",null,13,n.W1O),n.TgZ(12,"div",14),n.YNc(13,Rl,1,0,"ng-container",15),n.qZA(),n.TgZ(14,"div",16),n.YNc(15,Ph,20,5,"table",17),n.YNc(16,Mu,5,4,"ng-template",null,18,n.W1O),n.YNc(18,Jl,50,21,"div",19),n.qZA(),n.TgZ(19,"div",20),n.YNc(20,ac,1,0,"ng-container",15),n.qZA(),n.qZA(),n.BQk()}if(2&_){const p=n.MAs(11),B=n.MAs(17),re=n.oxw().$implicit,me=n.oxw(4);n.xp6(7),n.Q6J("ngIf",n.lcZ(8,6,re)),n.xp6(6),n.Q6J("ngTemplateOutlet",p),n.xp6(2),n.Q6J("ngIf","list"===me.layout)("ngIfElse",B),n.xp6(3),n.Q6J("ngIf",me.detailItem),n.xp6(2),n.Q6J("ngTemplateOutlet",p)}}const kd=function(_){return{itemsPerPage:30,currentPage:_}};function Kl(_,w){if(1&_&&(n.ynx(0),n.YNc(1,Mh,21,8,"ng-container",7),n.ALo(2,"paginate"),n.ALo(3,"mediaTypeFilter"),n.BQk()),2&_){const p=w.$implicit,B=n.oxw(4);n.xp6(1),n.Q6J("ngIf",n.xi3(2,1,n.xi3(3,4,p,B.type),n.VKq(7,kd,B.pageNo)))}}function bc(_,w){if(1&_&&(n.ynx(0),n.YNc(1,Kl,4,9,"ng-container",7),n.BQk()),2&_){const p=w.$implicit,B=n.oxw(3);n.xp6(1),n.Q6J("ngIf",B.query&&p.searchItems||p.folderItems)}}function Ul(_,w){if(1&_&&(n.TgZ(0,"div",6),n.YNc(1,bc,2,1,"ng-container",7),n.ALo(2,"async"),n.qZA()),2&_){const p=n.oxw(2);n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,p.data$))}}function gl(_,w){1&_&&(n.TgZ(0,"div",69),n._uU(1,"Not found ..."),n.qZA())}function lf(_,w){if(1&_&&(n.TgZ(0,"div",3),n.YNc(1,Ul,3,3,"div",4),n.YNc(2,gl,2,0,"ng-template",null,5,n.W1O),n.qZA()),2&_){const p=w.ngIf,B=n.MAs(3);n.xp6(1),n.Q6J("ngIf",p.ok)("ngIfElse",B)}}function Oh(_,w){1&_&&(n.TgZ(0,"div",46),n._UZ(1,"nguix-dashboard-spinner"),n.qZA())}function Xl(_,w){if(1&_&&(n.TgZ(0,"strong"),n._uU(1),n.qZA()),2&_){const p=n.oxw(2).$implicit;n.xp6(1),n.Oqu(p.title)}}function Qu(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"a",32),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(2).$implicit;return n.oxw(7).role=re.value,!1}),n._uU(1),n.qZA()}if(2&_){const p=n.oxw(2).$implicit;n.xp6(1),n.Oqu(p.title)}}function Ju(_,w){if(1&_&&(n.TgZ(0,"em"),n._uU(1),n.qZA()),2&_){const p=n.oxw(6).$implicit;n.xp6(1),n.hij("(",p.totalCount,")")}}function gp(_,w){if(1&_&&(n.TgZ(0,"li"),n.YNc(1,Xl,2,1,"strong",30),n.YNc(2,Qu,2,1,"ng-template",null,31,n.W1O),n.YNc(4,Ju,2,1,"em",6),n.qZA()),2&_){const p=n.MAs(3),B=n.oxw().$implicit,re=n.oxw(7);n.xp6(1),n.Q6J("ngIf",B.value===re.role)("ngIfElse",p),n.xp6(3),n.Q6J("ngIf","all"===B.value)}}function mp(_,w){if(1&_&&(n.ynx(0),n.YNc(1,gp,5,3,"li",6),n.BQk()),2&_){const p=w.$implicit;n.xp6(1),n.Q6J("ngIf",p.count)}}function eu(_,w){if(1&_&&(n.TgZ(0,"ul",29),n.YNc(1,mp,2,1,"ng-container",19),n.qZA()),2&_){const p=w.ngIf;n.xp6(1),n.Q6J("ngForOf",p)}}function el(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"div",33),n.TgZ(1,"input",34),n.NdJ("ngModelChange",function(re){return n.CHM(p),n.oxw(6).query=re})("keyup.enter",function(){n.CHM(p);const re=n.oxw(3).$implicit;return n.oxw(3).search(re.searchQuery)}),n.qZA(),n.TgZ(2,"button",35),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(3).$implicit;return n.oxw(3).search(re.searchQuery)}),n._uU(3,"Search"),n.qZA(),n.qZA(),n.TgZ(4,"div",36),n._uU(5),n.qZA()}if(2&_){const p=n.oxw().$implicit,B=n.oxw(5);n.xp6(1),n.Q6J("ngModel",B.query),n.xp6(1),n.Q6J("disabled",!B.query),n.xp6(3),n.hij("",p.length," items")}}function tu(_,w){1&_&&n.GkF(0)}function _p(_,w){1&_&&(n.TgZ(0,"tr"),n.TgZ(1,"td",20),n.TgZ(2,"div",37),n._UZ(3,"nguix-dashboard-spinner"),n.qZA(),n.qZA(),n.qZA())}function tl(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td",20),n._uU(2,'Currently view top search result for query "'),n.TgZ(3,"strong"),n._uU(4),n.qZA(),n._uU(5,'", '),n.TgZ(6,"a",32),n.NdJ("click",function(){return n.CHM(p),n.oxw(6).query="",!1}),n._uU(7,"clear search"),n.qZA(),n._uU(8,"."),n.qZA(),n.qZA()}if(2&_){const p=n.oxw(3).$implicit;n.xp6(4),n.Oqu(p.searchQuery)}}function uf(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td",16),n.TgZ(2,"a",32),n.NdJ("click",function(){const me=n.CHM(p).$implicit;return n.oxw(6).detailItem=me,!1}),n.TgZ(3,"strong"),n._uU(4),n.qZA(),n.qZA(),n.qZA(),n.TgZ(5,"td",17),n._uU(6),n.qZA(),n.TgZ(7,"td",18),n._uU(8),n.ALo(9,"date"),n.qZA(),n.qZA()}if(2&_){const p=w.$implicit;n.xp6(4),n.Oqu(p.id),n.xp6(2),n.Oqu(p.role),n.xp6(2),n.Oqu(n.lcZ(9,3,p.createdAt))}}function Ku(_,w){if(1&_&&(n.TgZ(0,"div",52),n.TgZ(1,"span"),n._uU(2,"Rank"),n.qZA(),n.TgZ(3,"strong"),n._uU(4),n.qZA(),n.qZA()),2&_){const p=n.oxw(7);n.xp6(4),n.Oqu(p.detailItem.rank)}}function df(_,w){if(1&_&&(n.TgZ(0,"div",53),n.TgZ(1,"span"),n._uU(2,"Legit"),n.qZA(),n.TgZ(3,"strong"),n._uU(4),n.qZA(),n.qZA()),2&_){const p=n.oxw(7);n.xp6(4),n.Oqu(p.detailItem.legit)}}const hf=function(_){return["app-dashboard","edit","profile",_]};function Xu(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"div",38),n.TgZ(1,"div",39),n.TgZ(2,"div",8),n.TgZ(3,"strong"),n._uU(4),n.qZA(),n.qZA(),n.TgZ(5,"a",32),n.NdJ("click",function(){return n.CHM(p),n.oxw(6).detailItem=void 0,!1}),n._uU(6,"X"),n.qZA(),n.qZA(),n.TgZ(7,"div",40),n.TgZ(8,"div",41),n._UZ(9,"img",42),n.qZA(),n.TgZ(10,"div",16),n.TgZ(11,"span"),n._uU(12,"Username"),n.qZA(),n.TgZ(13,"strong"),n.TgZ(14,"a",43),n._uU(15),n.qZA(),n.qZA(),n.qZA(),n.TgZ(16,"div",44),n.TgZ(17,"span"),n._uU(18,"Name"),n.qZA(),n.TgZ(19,"strong"),n._uU(20),n.qZA(),n.qZA(),n.TgZ(21,"div",45),n.TgZ(22,"span"),n._uU(23,"Status"),n.qZA(),n.TgZ(24,"strong"),n._uU(25),n.qZA(),n.qZA(),n.TgZ(26,"div",17),n.TgZ(27,"span"),n._uU(28,"Role"),n.qZA(),n.TgZ(29,"strong"),n._uU(30),n.qZA(),n.qZA(),n.YNc(31,Ku,5,1,"div",46),n.YNc(32,df,5,1,"div",47),n.TgZ(33,"div",48),n.TgZ(34,"span"),n._uU(35,"Created"),n.qZA(),n.TgZ(36,"strong"),n._uU(37),n.ALo(38,"date"),n.qZA(),n.qZA(),n.TgZ(39,"div",49),n.TgZ(40,"span"),n._uU(41,"Updated"),n.qZA(),n.TgZ(42,"strong"),n._uU(43),n.ALo(44,"date"),n.qZA(),n.qZA(),n.TgZ(45,"div",50),n.TgZ(46,"a",51),n._uU(47,"Edit"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&_){const p=n.oxw(6);n.ekj("show",p.detailItem),n.xp6(4),n.Oqu(p.detailItem.id),n.xp6(5),n.Q6J("src",null==((null==p.detailItem.thumbnails?null:p.detailItem.thumbnails.md)||(null==p.detailItem.thumbnails?null:p.detailItem.thumbnails.default))?null:((null==p.detailItem.thumbnails?null:p.detailItem.thumbnails.md)||(null==p.detailItem.thumbnails?null:p.detailItem.thumbnails.default)).src,n.LSH)("alt",p.detailItem.id),n.xp6(6),n.Oqu(p.detailItem.id),n.xp6(5),n.Oqu(p.detailItem.title),n.xp6(5),n.Oqu("publish"===p.detailItem.status?"Public":"Private"),n.xp6(5),n.Oqu(p.detailItem.role),n.xp6(1),n.Q6J("ngIf",p.detailItem.rank),n.xp6(1),n.Q6J("ngIf",p.detailItem.legit),n.xp6(5),n.Oqu(n.lcZ(38,14,p.detailItem.createdAt)),n.xp6(6),n.Oqu(n.lcZ(44,16,p.detailItem.updatedAt)),n.xp6(3),n.Q6J("usefulRouterLink",n.VKq(18,hf,p.detailItem.id))}}function ed(_,w){1&_&&n.GkF(0)}function wh(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"div",7),n.TgZ(2,"div",8),n.TgZ(3,"h1"),n._uU(4,"Users"),n.qZA(),n.qZA(),n.YNc(5,eu,2,1,"ul",9),n.ALo(6,"userExtractRoles"),n.qZA(),n.TgZ(7,"div",10),n.YNc(8,el,6,3,"ng-template",null,11,n.W1O),n.TgZ(10,"div",12),n.YNc(11,tu,1,0,"ng-container",13),n.qZA(),n.TgZ(12,"div",14),n.TgZ(13,"table",15),n.TgZ(14,"thead"),n.TgZ(15,"tr"),n.TgZ(16,"th",16),n._uU(17,"Name"),n.qZA(),n.TgZ(18,"th",17),n._uU(19,"Role"),n.qZA(),n.TgZ(20,"th",18),n._uU(21,"Date"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(22,"tbody"),n.YNc(23,_p,4,0,"tr",6),n.YNc(24,tl,9,1,"tr",6),n.YNc(25,uf,10,5,"tr",19),n.qZA(),n.TgZ(26,"tfoot"),n.TgZ(27,"tr"),n.TgZ(28,"td",20),n.TgZ(29,"div",21),n.TgZ(30,"div",22),n.TgZ(31,"button",23),n.NdJ("click",function(){return n.CHM(p),n.oxw(5).previousPage()}),n._UZ(32,"i",24),n.qZA(),n.TgZ(33,"button",23),n.NdJ("click",function(){return n.CHM(p),n.oxw(5).nextPage()}),n._UZ(34,"i",25),n.qZA(),n.qZA(),n.TgZ(35,"div",26),n._uU(36),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(37,Xu,48,20,"div",27),n.qZA(),n.TgZ(38,"div",28),n.YNc(39,ed,1,0,"ng-container",13),n.qZA(),n.qZA(),n.BQk()}if(2&_){const p=w.$implicit,B=n.MAs(9),re=n.oxw().$implicit,me=n.oxw().$implicit,je=n.oxw(3);n.xp6(5),n.Q6J("ngIf",n.lcZ(6,10,re)),n.xp6(6),n.Q6J("ngTemplateOutlet",B),n.xp6(12),n.Q6J("ngIf",je.isListingLoading),n.xp6(1),n.Q6J("ngIf",je.query&&me.searchItems),n.xp6(1),n.Q6J("ngForOf",p),n.xp6(6),n.Q6J("disabled",je.query&&me.searchItems||1===je.pageNo),n.xp6(2),n.Q6J("disabled",je.query&&me.searchItems||1===me.totalPages||je.pageNo===me.totalPages),n.xp6(3),n.hij(" ",je.query&&me.searchItems?"-/-":je.pageNo+"/"+me.totalPages," pages "),n.xp6(1),n.Q6J("ngIf",je.detailItem),n.xp6(2),n.Q6J("ngTemplateOutlet",B)}}function rs(_,w){if(1&_&&(n.ynx(0),n.YNc(1,wh,40,12,"ng-container",6),n.ALo(2,"userRoleFilter"),n.BQk()),2&_){const p=w.$implicit,B=n.oxw(4);n.xp6(1),n.Q6J("ngIf",n.xi3(2,1,p,B.role))}}function Fd(_,w){if(1&_&&(n.ynx(0),n.YNc(1,rs,3,4,"ng-container",6),n.BQk()),2&_){const p=w.$implicit,B=n.oxw(3);n.xp6(1),n.Q6J("ngIf",B.query&&p.searchItems||p.pageItems)}}function Ud(_,w){if(1&_&&(n.TgZ(0,"div",5),n.YNc(1,Fd,2,1,"ng-container",6),n.ALo(2,"async"),n.qZA()),2&_){const p=n.oxw(2);n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,p.data$))}}function ff(_,w){1&_&&(n.TgZ(0,"div",54),n._uU(1,"Not found ..."),n.qZA())}function Ou(_,w){if(1&_&&(n.TgZ(0,"div",2),n.YNc(1,Ud,3,3,"div",3),n.YNc(2,ff,2,0,"ng-template",null,4,n.W1O),n.qZA()),2&_){const p=w.ngIf,B=n.MAs(3);n.xp6(1),n.Q6J("ngIf",p.ok)("ngIfElse",B)}}function td(_,w){1&_&&(n.TgZ(0,"div",37),n._UZ(1,"nguix-dashboard-spinner"),n.qZA())}const Bd=function(_){return["app-dashboard","new",_]},wu=function(_){return{type:_}},ml=function(_){return{queryParams:_}};function Za(_,w){if(1&_&&(n.ynx(0),n.TgZ(1,"a",29),n._uU(2,"Add New"),n.qZA(),n.BQk()),2&_){const p=n.oxw(5);n.xp6(1),n.Q6J("usefulRouterLink",n.VKq(2,Bd,p.part.name))("usefulRouteExtras",n.VKq(6,ml,n.VKq(4,wu,p.type)))}}function pf(_,w){if(1&_&&(n.TgZ(0,"strong"),n._uU(1),n.qZA()),2&_){const p=n.oxw().$implicit;n.xp6(1),n.Oqu(p.title)}}function gf(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"a",32),n.NdJ("click",function(){n.CHM(p);const re=n.oxw().$implicit;return n.oxw(5).changeStatus(re.value),!1}),n._uU(1),n.qZA()}if(2&_){const p=n.oxw().$implicit;n.xp6(1),n.Oqu(p.title)}}function mf(_,w){if(1&_&&(n.TgZ(0,"li"),n.YNc(1,pf,2,1,"strong",30),n.YNc(2,gf,2,1,"ng-template",null,31,n.W1O),n.TgZ(4,"em"),n._uU(5),n.qZA(),n.qZA()),2&_){const p=w.$implicit,B=n.MAs(3),re=n.oxw(5);n.xp6(1),n.Q6J("ngIf",p.value===re.status)("ngIfElse",B),n.xp6(4),n.hij("(",p.count,")")}}function nd(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"div",33),n.TgZ(1,"input",34),n.NdJ("ngModelChange",function(re){return n.CHM(p),n.oxw(5).query=re})("keyup.enter",function(){n.CHM(p);const re=n.oxw(2).ngIf;return n.oxw(3).search(re.searchQuery)}),n.qZA(),n.TgZ(2,"button",35),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(2).ngIf;return n.oxw(3).search(re.searchQuery)}),n._uU(3,"Search"),n.qZA(),n.qZA(),n.TgZ(4,"div",36),n._uU(5),n.qZA()}if(2&_){const p=n.oxw().$implicit,B=n.oxw(4);n.xp6(1),n.Q6J("ngModel",B.query),n.xp6(1),n.Q6J("disabled",!B.query),n.xp6(3),n.hij("",p.length," items")}}function Eh(_,w){1&_&&n.GkF(0)}function _l(_,w){if(1&_&&n._UZ(0,"i",41),2&_){const p=n.oxw().$implicit;n.Tol(p.icon)}}function ls(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"li"),n.TgZ(1,"a",39),n.NdJ("click",function(){const me=n.CHM(p).$implicit;return n.oxw(6).changeType(me.value)}),n.YNc(2,_l,1,2,"i",40),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.qZA(),n.qZA()}if(2&_){const p=w.$implicit,B=n.oxw(6);n.ekj("active",B.type===p.value),n.xp6(2),n.Q6J("ngIf",p.icon),n.xp6(2),n.Oqu(p.text)}}function so(_,w){if(1&_&&(n.TgZ(0,"ul",37),n.YNc(1,ls,5,4,"li",38),n.qZA()),2&_){const p=n.oxw(5);n.xp6(1),n.Q6J("ngForOf",p.part.contentTypes)}}function vf(_,w){1&_&&(n.TgZ(0,"tr"),n.TgZ(1,"td",21),n.TgZ(2,"div",42),n._UZ(3,"nguix-dashboard-spinner"),n.qZA(),n.qZA(),n.qZA())}function yf(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td",21),n._uU(2,'Currently view top search result for query "'),n.TgZ(3,"strong"),n._uU(4),n.qZA(),n._uU(5,'", '),n.TgZ(6,"a",32),n.NdJ("click",function(){return n.CHM(p),n.oxw(5).query="",!1}),n._uU(7,"clear search"),n.qZA(),n._uU(8,"."),n.qZA(),n.qZA()}if(2&_){const p=n.oxw(2).ngIf;n.xp6(4),n.Oqu(p.searchQuery)}}function Is(_,w){1&_&&(n.TgZ(0,"tr"),n.TgZ(1,"td",21),n._uU(2,"No items found!"),n.qZA(),n.qZA())}function jd(_,w){if(1&_&&(n.TgZ(0,"div",51),n._uU(1),n.qZA()),2&_){const p=n.oxw().$implicit,B=n.oxw(7);n.xp6(1),n.Oqu(B.allLocales[p.locale].text)}}function Zs(_,w){if(1&_&&(n.TgZ(0,"span",52),n._uU(1),n.qZA()),2&_){const p=n.oxw().$implicit;n.Tol(p.status),n.xp6(1),n.Oqu(p.status)}}const us=function(_,w){return["app-dashboard","edit",_,w]};function Cf(_,w){if(1&_&&(n.ynx(0),n.TgZ(1,"a",53),n._uU(2),n.qZA(),n.BQk()),2&_){const p=n.oxw().$implicit,B=n.oxw(7);n.xp6(1),n.Q6J("usefulRouterLink",n.WLB(2,us,B.part.name,p.id)),n.xp6(1),n.Oqu(p.title)}}function Th(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"a",39),n.NdJ("click",function(){n.CHM(p);const re=n.oxw().$implicit,me=n.oxw(7);return me.dataService.unarchiveItem(me.part,re)}),n._uU(2),n.qZA(),n.BQk()}if(2&_){const p=n.oxw().$implicit;n.xp6(2),n.Oqu(p.title)}}function Ac(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"a",39),n.NdJ("click",function(){n.CHM(p);const re=n.oxw().$implicit,me=n.oxw(7);return me.dataService.restoreItem(me.part,re)}),n._uU(2),n.qZA(),n.BQk()}if(2&_){const p=n.oxw().$implicit;n.xp6(2),n.Oqu(p.title)}}const Dh=function(_,w){return["app-dashboard","copy",_,w]};function Vd(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"li",54),n.TgZ(2,"a",53),n._uU(3,"Edit"),n.qZA(),n.qZA(),n.TgZ(4,"li",55),n.TgZ(5,"a",56),n._uU(6,"Copy"),n.qZA(),n.qZA(),n.TgZ(7,"li",57),n.TgZ(8,"a",39),n.NdJ("click",function(){n.CHM(p);const re=n.oxw().$implicit,me=n.oxw(7);return me.dataService.archiveItem(me.part,re)}),n._uU(9,"Archive"),n.qZA(),n.qZA(),n.TgZ(10,"li",58),n.TgZ(11,"a",39),n.NdJ("click",function(){n.CHM(p);const re=n.oxw().$implicit,me=n.oxw(7);return me.dataService.trashItem(me.part,re)}),n._uU(12,"Trash"),n.qZA(),n.qZA(),n.TgZ(13,"li",59),n.TgZ(14,"a",39),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(8);return re.dataService.previewItem(re.part)}),n._uU(15,"Preview"),n.qZA(),n.qZA(),n.BQk()}if(2&_){const p=n.oxw().$implicit,B=n.oxw(7);n.xp6(2),n.Q6J("usefulRouterLink",n.WLB(3,us,B.part.name,p.id)),n.xp6(3),n.Q6J("usefulRouterLink",n.WLB(6,Dh,B.part.name,p.id))("usefulRouteExtras",n.VKq(11,ml,n.VKq(9,wu,B.type)))}}function vp(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"li",60),n.TgZ(2,"a",39),n.NdJ("click",function(){n.CHM(p);const re=n.oxw().$implicit,me=n.oxw(7);return me.dataService.unarchiveItem(me.part,re)}),n._uU(3,"Unarchive"),n.qZA(),n.qZA(),n.BQk()}}function Eu(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"li",61),n.TgZ(2,"a",39),n.NdJ("click",function(){n.CHM(p);const re=n.oxw().$implicit,me=n.oxw(7);return me.dataService.restoreItem(me.part,re)}),n._uU(3,"Restore"),n.qZA(),n.qZA(),n.BQk()}}function bf(_,w){if(1&_&&(n.TgZ(0,"li",17),n.TgZ(1,"span"),n._uU(2,"Author"),n.qZA(),n.TgZ(3,"a",62),n._uU(4),n.qZA(),n.qZA()),2&_){const p=w.$implicit;n.xp6(4),n.Oqu(p.title)}}function go(_,w){if(1&_&&(n.TgZ(0,"li",18),n.TgZ(1,"span"),n._uU(2,"Comment"),n.qZA(),n.TgZ(3,"em"),n._uU(4),n.qZA(),n.qZA()),2&_){const p=n.oxw().$implicit;n.xp6(4),n.Oqu(p.commentCount)}}function id(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"li"),n.YNc(1,jd,2,1,"div",43),n.TgZ(2,"div",44),n.YNc(3,Zs,2,3,"span",45),n.YNc(4,Cf,3,5,"ng-container",6),n.YNc(5,Th,3,1,"ng-container",6),n.YNc(6,Ac,3,1,"ng-container",6),n.qZA(),n.TgZ(7,"ul",46),n.YNc(8,Vd,16,13,"ng-container",6),n.YNc(9,vp,4,0,"ng-container",6),n.YNc(10,Eu,4,0,"ng-container",6),n.TgZ(11,"li",47),n.TgZ(12,"a",39),n.NdJ("click",function(){const me=n.CHM(p).$implicit,je=n.oxw(7);return je.detailId=je.detailId&&je.detailId===me.id?"":me.id}),n._uU(13,"Detail"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(14,"ul",48),n.YNc(15,bf,5,1,"li",49),n.ALo(16,"o1i"),n.YNc(17,go,5,1,"li",50),n.TgZ(18,"li",20),n.TgZ(19,"span"),n._uU(20,"Date"),n.qZA(),n.TgZ(21,"em"),n._uU(22),n.ALo(23,"date"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&_){const p=w.$implicit,B=n.oxw(7);n.xp6(1),n.Q6J("ngIf",p.locale),n.xp6(2),n.Q6J("ngIf","publish"!==p.status),n.xp6(1),n.Q6J("ngIf","draft"===p.status||"publish"===p.status),n.xp6(1),n.Q6J("ngIf","archive"===p.status),n.xp6(1),n.Q6J("ngIf","trash"===p.status),n.xp6(2),n.Q6J("ngIf","draft"===p.status||"publish"===p.status),n.xp6(1),n.Q6J("ngIf","archive"===p.status),n.xp6(1),n.Q6J("ngIf","trash"===p.status),n.xp6(4),n.ekj("show",p.id===B.detailId),n.xp6(1),n.Q6J("ngIf",n.lcZ(16,14,p.authors)),n.xp6(2),n.Q6J("ngIf",p.commentCount),n.xp6(5),n.AsE("",p.updatedAt===p.createdAt?"Published":"Modified"," \u2014 ",n.lcZ(23,16,p.updatedAt),"")}}function Tu(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"li"),n.TgZ(2,"a",32),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(3).$implicit;return n.oxw(5).loadItemTranslations(re),!1}),n._uU(3,"View translations"),n.qZA(),n.qZA(),n.BQk()}}const Bl=function(_,w){return{type:_,locale:w}};function Du(_,w){if(1&_&&(n.TgZ(0,"li",65),n.TgZ(1,"div",51),n._uU(2),n.qZA(),n.TgZ(3,"div",44),n.TgZ(4,"a",56),n._uU(5,"Add the translation"),n.qZA(),n.qZA(),n.qZA()),2&_){const p=w.$implicit,B=n.oxw(4).$implicit,re=n.oxw(5);n.xp6(2),n.Oqu(re.allLocales[p].text),n.xp6(2),n.Q6J("usefulRouterLink",n.WLB(3,Dh,re.part.name,B.id))("usefulRouteExtras",n.VKq(9,ml,n.WLB(6,Bl,re.type,p)))}}function Sh(_,w){if(1&_&&n.YNc(0,Du,6,11,"li",64),2&_){const p=n.oxw(3).$implicit,B=n.oxw(2).ngIf;n.Q6J("ngForOf",B.fullItemsByOrigin[p.origin].missingTranslations||n.DdM(1,Cc))}}function xh(_,w){if(1&_&&(n.ynx(0),n.YNc(1,Tu,4,0,"ng-container",30),n.YNc(2,Sh,1,2,"ng-template",null,63,n.W1O),n.BQk()),2&_){const p=n.MAs(3),B=n.oxw(2).$implicit,re=n.oxw(2).ngIf;n.xp6(1),n.Q6J("ngIf",!re.fullItemsByOrigin[B.origin])("ngIfElse",p)}}function Ah(_,w){if(1&_&&(n.ynx(0),n.TgZ(1,"span"),n._uU(2,"Author"),n.qZA(),n.TgZ(3,"a",62),n._uU(4),n.qZA(),n.BQk()),2&_){const p=w.$implicit;n.xp6(4),n.Oqu(p.title)}}function Zd(_,w){if(1&_&&(n.TgZ(0,"li"),n.YNc(1,Ah,5,1,"ng-container",6),n.ALo(2,"o1i"),n.qZA()),2&_){const p=w.$implicit;n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,p.authors))}}function Ih(_,w){if(1&_&&(n.TgZ(0,"li"),n.TgZ(1,"span"),n._uU(2,"Comment"),n.qZA(),n.TgZ(3,"em"),n._uU(4),n.qZA(),n.qZA()),2&_){const p=w.$implicit;n.xp6(4),n.Oqu(p.commentCount||"\u2014")}}function nu(_,w){if(1&_&&(n.TgZ(0,"li"),n.TgZ(1,"span"),n._uU(2,"Date"),n.qZA(),n.TgZ(3,"em"),n._uU(4),n.ALo(5,"date"),n.qZA(),n.qZA()),2&_){const p=w.$implicit;n.xp6(4),n.AsE("",p.updatedAt===p.createdAt?"Published":"Modified"," \u2014 ",n.lcZ(5,2,p.updatedAt),"")}}function yp(_,w){if(1&_&&(n.ynx(0),n.TgZ(1,"td",8),n.TgZ(2,"ul"),n.YNc(3,id,24,18,"li",10),n.YNc(4,xh,4,2,"ng-container",6),n.qZA(),n.qZA(),n.TgZ(5,"td",17),n.TgZ(6,"ul"),n.YNc(7,Zd,3,3,"li",10),n.qZA(),n.qZA(),n.TgZ(8,"td",18),n.TgZ(9,"ul"),n.YNc(10,Ih,5,1,"li",10),n.qZA(),n.qZA(),n.TgZ(11,"td",20),n.TgZ(12,"ul"),n.YNc(13,nu,6,4,"li",10),n.qZA(),n.qZA(),n.BQk()),2&_){const p=w.$implicit,B=n.oxw(6);n.xp6(3),n.Q6J("ngForOf",p),n.xp6(1),n.Q6J("ngIf",!B.part.noI18n&&B.localeCount>1),n.xp6(3),n.Q6J("ngForOf",p),n.xp6(3),n.Q6J("ngForOf",p),n.xp6(3),n.Q6J("ngForOf",p)}}function pg(_,w){if(1&_&&(n.TgZ(0,"tr"),n.YNc(1,yp,14,5,"ng-container",6),n.qZA()),2&_){const p=w.$implicit,B=n.oxw(2).ngIf,re=n.oxw(3);n.xp6(1),n.Q6J("ngIf",re.part.noI18n||!B.fullItemsByOrigin[p.id]?n.VKq(1,xd,p):B.fullItemsByOrigin[p.id].all)}}function Pf(_,w){1&_&&n.GkF(0)}function Mf(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"div",7),n.TgZ(2,"div",8),n.TgZ(3,"h1"),n._uU(4),n.qZA(),n.YNc(5,Za,3,8,"ng-container",6),n.qZA(),n.TgZ(6,"ul",9),n.YNc(7,mf,6,3,"li",10),n.qZA(),n.qZA(),n.TgZ(8,"div",11),n.YNc(9,nd,6,3,"ng-template",null,12,n.W1O),n.TgZ(11,"div",13),n.YNc(12,Eh,1,0,"ng-container",14),n.qZA(),n.YNc(13,so,2,1,"ul",15),n.TgZ(14,"table",16),n.TgZ(15,"thead"),n.TgZ(16,"tr"),n.TgZ(17,"th",8),n._uU(18,"Title"),n.qZA(),n.TgZ(19,"th",17),n._uU(20,"Author"),n.qZA(),n.TgZ(21,"th",18),n._UZ(22,"i",19),n.qZA(),n.TgZ(23,"th",20),n._uU(24,"Date"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(25,"tbody"),n.YNc(26,vf,4,0,"tr",6),n.YNc(27,yf,9,1,"tr",6),n.YNc(28,Is,3,0,"tr",6),n.YNc(29,pg,2,3,"tr",10),n.qZA(),n.TgZ(30,"tfoot"),n.TgZ(31,"tr"),n.TgZ(32,"td",21),n.TgZ(33,"div",22),n.TgZ(34,"div",23),n.TgZ(35,"button",24),n.NdJ("click",function(){return n.CHM(p),n.oxw(4).previousPage()}),n._UZ(36,"i",25),n.qZA(),n.TgZ(37,"button",24),n.NdJ("click",function(){return n.CHM(p),n.oxw(4).nextPage()}),n._UZ(38,"i",26),n.qZA(),n.qZA(),n.TgZ(39,"div",27),n._uU(40),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(41,"div",28),n.YNc(42,Pf,1,0,"ng-container",14),n.qZA(),n.qZA(),n.BQk()}if(2&_){const p=w.$implicit,B=n.MAs(10),re=n.oxw().ngIf,me=n.oxw(3);n.xp6(4),n.hij("All ",me.part.menuItem.text||"Items",""),n.xp6(1),n.Q6J("ngIf","profile"!==me.part.name),n.xp6(2),n.Q6J("ngForOf",re.listingStatuses),n.xp6(5),n.Q6J("ngTemplateOutlet",B),n.xp6(1),n.Q6J("ngIf",me.part.contentTypes&&me.part.contentTypes.length>1),n.xp6(13),n.Q6J("ngIf",me.isListingLoading),n.xp6(1),n.Q6J("ngIf",me.query&&re.searchItems),n.xp6(1),n.Q6J("ngIf",!p.length),n.xp6(1),n.Q6J("ngForOf",p),n.xp6(6),n.Q6J("disabled",me.query&&re.searchItems||1===me.pageNo),n.xp6(2),n.Q6J("disabled",me.query&&re.searchItems||1===re.totalPages||me.pageNo===re.totalPages),n.xp6(3),n.hij(" ",me.query&&re.searchItems?"-/-":me.pageNo+"/"+re.totalPages," pages "),n.xp6(2),n.Q6J("ngTemplateOutlet",B)}}function rd(_,w){if(1&_&&(n.ynx(0),n.YNc(1,Mf,43,13,"ng-container",6),n.BQk()),2&_){const p=w.ngIf,B=n.oxw(3);n.xp6(1),n.Q6J("ngIf",B.query&&p.searchItems||p.groupItems)}}function Of(_,w){if(1&_&&(n.TgZ(0,"div",5),n.YNc(1,rd,2,1,"ng-container",6),n.ALo(2,"async"),n.qZA()),2&_){const p=n.oxw(2);n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,p.data$))}}function Cp(_,w){1&_&&(n.TgZ(0,"div",66),n._uU(1,"Some thing wrong!"),n.qZA())}function $s(_,w){if(1&_&&(n.TgZ(0,"div",2),n.YNc(1,Of,3,3,"div",3),n.YNc(2,Cp,2,0,"ng-template",null,4,n.W1O),n.qZA()),2&_){const p=w.ngIf,B=n.MAs(3);n.xp6(1),n.Q6J("ngIf",p.ok)("ngIfElse",B)}}function vl(_,w){1&_&&(n.TgZ(0,"div",42),n._UZ(1,"nguix-dashboard-spinner"),n.qZA())}function Nh(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"a",10),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(2);return re.mode="table"===re.mode?"raw":"table"}),n._uU(1),n.qZA()}if(2&_){const p=n.oxw(2);n.xp6(1),n.Oqu("table"===p.mode?"Raw":"List")}}function jl(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.YNc(1,Nh,2,1,"a",6),n.TgZ(2,"a",10),n.NdJ("click",function(){return n.CHM(p),n.oxw().mode="edit"}),n._uU(3,"Edit"),n.qZA(),n.BQk()}if(2&_){const p=n.oxw();n.xp6(1),n.Q6J("ngIf",p.currentData)}}function nl(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"a",10),n.NdJ("click",function(){return n.CHM(p),n.oxw().mode="table"}),n._uU(1,"Exit"),n.qZA()}}const os=function(_){return{"min-width":_}};function Rh(_,w){if(1&_&&(n.TgZ(0,"th"),n._uU(1),n.qZA()),2&_){const p=w.$implicit;n.Akn(n.VKq(5,os,(p.width||70)+"px")),n.ekj("required",p.required),n.xp6(1),n.Oqu(p.name)}}function od(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"input",19),n.NdJ("ngModelChange",function(re){return n.CHM(p),n.oxw().$implicit.value=re}),n.qZA(),n.BQk()}if(2&_){const p=n.oxw().$implicit;n.xp6(1),n.Q6J("ngModel",p.value)}}function sd(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"input",20),n.NdJ("ngModelChange",function(re){return n.CHM(p),n.oxw().$implicit.value=re}),n.qZA(),n.BQk()}if(2&_){const p=n.oxw().$implicit;n.xp6(1),n.Q6J("ngModel",p.value)}}function ad(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"div",21),n.TgZ(2,"input",19),n.NdJ("ngModelChange",function(re){return n.CHM(p),n.oxw().$implicit.value=re}),n.qZA(),n.TgZ(3,"a",22),n.NdJ("click",function(){n.CHM(p);const re=n.oxw().$implicit,me=n.oxw().$implicit;return n.oxw(2).openUploader(re,me),!1}),n._uU(4,"Upload"),n.qZA(),n.qZA(),n.BQk()}if(2&_){const p=n.oxw().$implicit;n.xp6(2),n.Q6J("ngModel",p.value)}}function $d(_,w){if(1&_&&(n.TgZ(0,"td"),n.YNc(1,od,2,1,"ng-container",5),n.YNc(2,sd,2,1,"ng-container",5),n.YNc(3,ad,5,1,"ng-container",5),n.qZA()),2&_){const p=w.$implicit;n.xp6(1),n.Q6J("ngIf","text"===p.type),n.xp6(1),n.Q6J("ngIf","number"===p.type),n.xp6(1),n.Q6J("ngIf","upload"===p.type)}}function wf(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n.TgZ(2,"a",10),n.NdJ("click",function(){const me=n.CHM(p).index;return n.oxw(2).remove(me)}),n._uU(3,"[-]"),n.qZA(),n.qZA(),n.YNc(4,$d,4,3,"td",14),n.qZA()}if(2&_){const p=w.$implicit;n.xp6(4),n.Q6J("ngForOf",p)}}function bp(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"div",11),n.TgZ(2,"table",12),n.TgZ(3,"thead"),n.TgZ(4,"tr"),n.TgZ(5,"th"),n._uU(6,"\xa0\xa0\xa0\xa0\xa0"),n.qZA(),n.YNc(7,Rh,2,7,"th",13),n.qZA(),n.qZA(),n.TgZ(8,"tbody"),n.YNc(9,wf,5,1,"tr",14),n.qZA(),n.TgZ(10,"tfoot"),n.TgZ(11,"tr"),n.TgZ(12,"td",15),n.TgZ(13,"a",10),n.NdJ("click",function(){return n.CHM(p),n.oxw().add()}),n._uU(14,"[+]"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(15,"div",16),n.TgZ(16,"div",2),n.TgZ(17,"a",17),n.NdJ("click",function(){return n.CHM(p),n.oxw().mode="table"}),n._uU(18,"Cancel"),n.qZA(),n.qZA(),n.TgZ(19,"a",18),n.NdJ("click",function(){return n.CHM(p),n.oxw().submit()}),n._uU(20,"Save"),n.qZA(),n.qZA(),n.BQk()}if(2&_){const p=n.oxw();n.xp6(7),n.Q6J("ngForOf",p.schema),n.xp6(2),n.Q6J("ngForOf",p.dataMatrix)}}function Su(_,w){1&_&&(n.TgZ(0,"div",25),n._uU(1," No value, click Edit to set. "),n.qZA())}function gc(_,w){if(1&_&&(n.TgZ(0,"th"),n._uU(1),n.qZA()),2&_){const p=w.$implicit;n.Akn(n.VKq(5,os,(p.width||70)+"px")),n.ekj("required",p.required),n.xp6(1),n.Oqu(p.name)}}function qd(_,w){if(1&_&&(n.TgZ(0,"td"),n._uU(1),n.qZA()),2&_){const p=w.$implicit;n.xp6(1),n.Oqu(p.value)}}function Ef(_,w){if(1&_&&(n.TgZ(0,"tr"),n.YNc(1,qd,2,1,"td",14),n.qZA()),2&_){const p=w.$implicit;n.xp6(1),n.Q6J("ngForOf",p)}}function xu(_,w){if(1&_&&(n.TgZ(0,"div",28),n.TgZ(1,"table",12),n.TgZ(2,"thead"),n.TgZ(3,"tr"),n.YNc(4,gc,2,7,"th",13),n.qZA(),n.qZA(),n.TgZ(5,"tbody"),n.YNc(6,Ef,2,1,"tr",14),n.qZA(),n.qZA(),n.qZA()),2&_){const p=n.oxw(3);n.xp6(4),n.Q6J("ngForOf",p.schema),n.xp6(2),n.Q6J("ngForOf",p.dataMatrix)}}function Js(_,w){if(1&_&&(n.TgZ(0,"div",29),n.TgZ(1,"pre"),n.TgZ(2,"code"),n._uU(3),n.qZA(),n.qZA(),n.qZA()),2&_){const p=n.oxw(3);n.xp6(3),n.Oqu(p.dataRaw)}}function cd(_,w){if(1&_&&(n.YNc(0,xu,7,2,"div",26),n.YNc(1,Js,4,1,"div",27)),2&_){const p=n.oxw(2);n.Q6J("ngIf","table"===p.mode),n.xp6(1),n.Q6J("ngIf","raw"===p.mode)}}function Lh(_,w){if(1&_&&(n.YNc(0,Su,2,0,"div",23),n.YNc(1,cd,2,2,"ng-template",null,24,n.W1O)),2&_){const p=n.MAs(2),B=n.oxw();n.Q6J("ngIf",!B.currentData)("ngIfElse",p)}}function Hd(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"a",10),n.NdJ("click",function(){return n.CHM(p),n.oxw(3).isEdit=!0}),n._uU(1,"Edit"),n.qZA()}}function Oa(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"a",10),n.NdJ("click",function(){return n.CHM(p),n.oxw(3).isEdit=!1}),n._uU(1,"Exit"),n.qZA()}}function Ic(_,w){if(1&_&&(n.TgZ(0,"div",5),n.TgZ(1,"div",6),n.TgZ(2,"strong"),n._UZ(3,"i",7),n.TgZ(4,"span"),n._uU(5,"Linking"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(6,"div",8),n.YNc(7,Hd,2,0,"a",9),n.YNc(8,Oa,2,0,"a",9),n.qZA(),n.qZA()),2&_){const p=n.oxw(2);n.xp6(3),n.Tol(p.destinationPart.menuItem.icon),n.xp6(4),n.Q6J("ngIf",!p.isEdit),n.xp6(1),n.Q6J("ngIf",p.isEdit)}}function Gd(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"li"),n.TgZ(1,"a",23),n.NdJ("click",function(){const me=n.CHM(p).$implicit;return n.oxw(3).removeItem(me),!1}),n._uU(2,"-"),n.qZA(),n.TgZ(3,"a",24),n.NdJ("click",function(){return!1}),n._uU(4),n.qZA(),n.qZA()}if(2&_){const p=w.$implicit;n.xp6(4),n.Oqu(p.title)}}function Au(_,w){1&_&&(n.TgZ(0,"li",25),n._UZ(1,"nguix-dashboard-spinner"),n.qZA())}function Iu(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"li"),n.TgZ(1,"a",23),n.NdJ("click",function(){const me=n.CHM(p).$implicit;return n.oxw(3).addItem(me),!1}),n._uU(2,"+"),n.qZA(),n.TgZ(3,"a",24),n.NdJ("click",function(){return!1}),n._uU(4),n.qZA(),n.qZA()}if(2&_){const p=w.$implicit;n.xp6(4),n.Oqu(p.title)}}function Tf(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"div",11),n.TgZ(2,"div",12),n.TgZ(3,"div",13),n._uU(4,"Selected"),n.qZA(),n.TgZ(5,"ul",14),n.YNc(6,Gd,5,1,"li",15),n.ALo(7,"o2a"),n.qZA(),n.qZA(),n.TgZ(8,"div",16),n.TgZ(9,"div",17),n.TgZ(10,"input",18),n.NdJ("ngModelChange",function(re){return n.CHM(p),n.oxw(2).query=re})("keyup.enter",function(){return n.CHM(p),n.oxw(2).loadItems()}),n.qZA(),n.TgZ(11,"a",19),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(2);return re.query&&re.loadItems(),!1}),n._uU(12,"Load"),n.qZA(),n.qZA(),n.TgZ(13,"ul",14),n.YNc(14,Au,2,0,"li",20),n.YNc(15,Iu,5,1,"li",15),n.qZA(),n.qZA(),n.qZA(),n.TgZ(16,"div",21),n.TgZ(17,"div",6),n.TgZ(18,"a",22),n.NdJ("click",function(){return n.CHM(p),n.oxw(2).isEdit=!1}),n._uU(19,"Cancel"),n.qZA(),n.qZA(),n.TgZ(20,"a",19),n.NdJ("click",function(){return n.CHM(p),n.oxw(2).submit()}),n._uU(21,"Save"),n.qZA(),n.qZA(),n.BQk()}if(2&_){const p=n.oxw(2);n.xp6(6),n.Q6J("ngForOf",n.lcZ(7,6,p.selectedData)),n.xp6(4),n.Q6J("ngModel",p.query),n.xp6(1),n.ekj("disabled",!p.query),n.xp6(3),n.Q6J("ngIf",p.isLoading),n.xp6(1),n.Q6J("ngForOf",p.items)}}function Df(_,w){1&_&&(n.TgZ(0,"div",28),n._uU(1," No items, click Edit to add. "),n.qZA())}function cc(_,w){if(1&_&&(n.TgZ(0,"li"),n.TgZ(1,"a",24),n.NdJ("click",function(){return!1}),n._uU(2),n.qZA(),n.qZA()),2&_){const p=w.$implicit;n.xp6(2),n.Oqu(p.title)}}function zd(_,w){if(1&_&&(n.TgZ(0,"ul",29),n.YNc(1,cc,3,1,"li",15),n.ALo(2,"o2a"),n.qZA()),2&_){const p=n.oxw(3);n.xp6(1),n.Q6J("ngForOf",n.lcZ(2,1,p.currentData))}}function mc(_,w){if(1&_&&(n.YNc(0,Df,2,0,"div",26),n.YNc(1,zd,3,3,"ng-template",null,27,n.W1O)),2&_){const p=n.MAs(2),B=n.oxw(2);n.Q6J("ngIf",!B.hasData)("ngIfElse",p)}}function kh(_,w){if(1&_&&(n.ynx(0),n.YNc(1,Ic,9,4,"div",3),n.YNc(2,Tf,22,8,"ng-container",1),n.YNc(3,mc,3,2,"ng-template",null,4,n.W1O),n.BQk()),2&_){const p=n.MAs(4),B=n.oxw();n.xp6(1),n.Q6J("ngIf",B.destinationPart),n.xp6(1),n.Q6J("ngIf",B.isEdit)("ngIfElse",p)}}function Sf(_,w){1&_&&(n.TgZ(0,"div",28),n._uU(1," No linking items available. "),n.qZA())}const Ta=["tagify"];function Nu(_,w){if(1&_&&(n.TgZ(0,"a",20),n._uU(1,"Add another"),n.qZA()),2&_){const p=n.oxw(2).$implicit,B=n.oxw(3);n.Q6J("usefulRouterLink",n.VKq(2,Bd,p.name))("usefulRouteExtras",n.VKq(6,ml,n.VKq(4,wu,B.databaseItem?B.databaseItem.type:"default")))}}function $a(_,w){if(1&_&&(n.TgZ(0,"a",21),n._uU(1,"Add similar"),n.qZA()),2&_){const p=n.oxw(2).$implicit,B=n.oxw(3);n.Q6J("usefulRouterLink",n.WLB(1,Dh,p.name,B.databaseItem.id))}}const il=function(_){return["app-dashboard","list",_]};function Go(_,w){if(1&_&&(n.ynx(0),n.TgZ(1,"a",17),n._uU(2),n.qZA(),n.YNc(3,Nu,2,8,"a",18),n.YNc(4,$a,2,4,"a",19),n.BQk()),2&_){const p=n.oxw().$implicit,B=n.oxw(3);n.xp6(1),n.Q6J("usefulRouterLink",n.VKq(4,il,p.name)),n.xp6(1),n.hij("All ",p.menuItem.text||"Items",""),n.xp6(1),n.Q6J("ngIf",!B.isNew),n.xp6(1),n.Q6J("ngIf",!B.isNew&&B.databaseItem)}}function lc(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"a",29),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(2).$implicit,me=n.oxw(4);return me.activeDescriptions[re.name]=!me.activeDescriptions[re.name],!1}),n._uU(1),n.qZA()}if(2&_){const p=n.oxw(2).$implicit,B=n.oxw(4);n.xp6(1),n.hij("Description ",B.activeDescriptions[p.name]?"\u25b2":"\u25bc","")}}function xf(_,w){if(1&_&&n._UZ(0,"div",30),2&_){const p=n.oxw(2).$implicit,B=n.oxw(4);n.ekj("active",B.activeDescriptions[p.name]),n.Q6J("innerHtml",p.description,n.oJD)}}function Yd(_,w){if(1&_&&(n.ynx(0),n._UZ(1,"input",31),n.BQk()),2&_){const p=n.oxw(2).$implicit;n.xp6(1),n.Q6J("id",p.name)("type",p.type)("formControlName",p.name)("placeholder",p.placeholder||"")}}function Es(_,w){if(1&_&&(n.ynx(0),n._UZ(1,"textarea",32),n.BQk()),2&_){const p=n.oxw(2).$implicit;n.xp6(1),n.Q6J("id",p.name)("formControlName",p.name)("placeholder",p.placeholder||"")}}function oe(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"label",35),n.TgZ(1,"input",36),n.NdJ("change",function(re){const je=n.CHM(p).$implicit,et=n.oxw(3).$implicit,kt=n.oxw(2).ngIf;return n.oxw(2).checkboxChanges(et,kt.formGroup,et.children||[],je,re)}),n.qZA(),n.TgZ(2,"span"),n._uU(3),n.qZA(),n.qZA()}if(2&_){const p=w.$implicit;n.xp6(1),n.Q6J("checked",p.checked),n.xp6(2),n.Oqu(p.text)}}function j(_,w){if(1&_&&(n.ynx(0),n.TgZ(1,"div",33),n.YNc(2,oe,4,2,"label",34),n.qZA(),n.BQk()),2&_){const p=n.oxw(2).$implicit;n.xp6(2),n.Q6J("ngForOf",p.children||n.DdM(1,Cc))}}function H(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"label",39),n.TgZ(1,"input",40),n.NdJ("change",function(){const me=n.CHM(p).$implicit,je=n.oxw(3).$implicit,et=n.oxw(2).ngIf;return n.oxw(2).radioChanges(je,et.formGroup,je.selections||[],me)}),n.qZA(),n.TgZ(2,"span"),n._uU(3),n.qZA(),n.qZA()}if(2&_){const p=w.$implicit;n.xp6(1),n.Q6J("checked",p.selected),n.xp6(2),n.Oqu(p.text)}}function de(_,w){if(1&_&&(n.ynx(0),n.TgZ(1,"div",37),n.YNc(2,H,4,2,"label",38),n.qZA(),n.BQk()),2&_){const p=n.oxw(2).$implicit;n.xp6(2),n.Q6J("ngForOf",p.selections||n.DdM(1,Cc))}}function Ye(_,w){if(1&_&&(n.TgZ(0,"option",44),n._uU(1),n.qZA()),2&_){const p=n.oxw(3).$implicit;n.xp6(1),n.Oqu(p.placeholder)}}function At(_,w){if(1&_&&(n.TgZ(0,"option",45),n._uU(1),n.qZA()),2&_){const p=w.$implicit;n.Q6J("value",p.value)("selected",p.selected),n.xp6(1),n.Oqu(p.text)}}function An(_,w){if(1&_&&(n.ynx(0),n.TgZ(1,"select",41),n.YNc(2,Ye,2,1,"option",42),n.YNc(3,At,2,3,"option",43),n.qZA(),n.BQk()),2&_){const p=n.oxw(2).$implicit;n.xp6(1),n.Q6J("id",p.name)("formControlName",p.name),n.xp6(1),n.Q6J("ngIf",p.placeholder),n.xp6(1),n.Q6J("ngForOf",p.selections||n.DdM(4,Cc))}}function hi(_,w){if(1&_&&(n.TgZ(0,"option",47),n._uU(1),n.qZA()),2&_){const p=w.$implicit;n.Q6J("value",p.value),n.xp6(1),n.Oqu(p.text)}}function qi(_,w){if(1&_&&(n.ynx(0),n.TgZ(1,"select",41),n.YNc(2,hi,2,2,"option",46),n.qZA(),n.BQk()),2&_){const p=n.oxw(2).$implicit,B=n.oxw().$implicit;n.xp6(1),n.Q6J("id",p.name)("formControlName",p.name),n.xp6(1),n.Q6J("ngForOf",B.contentTypes)}}function Er(_,w){if(1&_&&(n.ynx(0),n.TgZ(1,"select",41),n.TgZ(2,"option",48),n._uU(3,"Publish"),n.qZA(),n.TgZ(4,"option",49),n._uU(5,"Draft"),n.qZA(),n.qZA(),n.BQk()),2&_){const p=n.oxw(2).$implicit;n.xp6(1),n.Q6J("id",p.name)("formControlName",p.name)}}function Zr(_,w){if(1&_&&(n.TgZ(0,"option",47),n._uU(1),n.qZA()),2&_){const p=w.$implicit;n.Q6J("value",p.value),n.xp6(1),n.Oqu(p.text)}}function Wn(_,w){if(1&_&&(n.ynx(0),n.TgZ(1,"select",41),n.YNc(2,Zr,2,2,"option",46),n.qZA(),n.BQk()),2&_){const p=n.oxw(2).$implicit,B=n.oxw(4);n.xp6(1),n.Q6J("id",p.name)("formControlName",p.name),n.xp6(1),n.Q6J("ngForOf",B.settingService.locales)}}function gs(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"div",50),n._UZ(2,"input",51),n.TgZ(3,"a",52),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(2).$implicit,me=n.oxw(2).ngIf;return n.oxw(2).openUploader(re,me.formGroup,null==re.meta?null:re.meta.imageCropping),!1}),n._uU(4,"Upload"),n.qZA(),n.qZA(),n.BQk()}if(2&_){const p=n.oxw(2).$implicit;n.xp6(2),n.Q6J("id",p.name)("formControlName",p.name)("placeholder",p.placeholder||"")}}function Ns(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"label",57),n.TgZ(1,"input",36),n.NdJ("change",function(){n.CHM(p);const re=n.oxw().ngIf;return re.isDirect=!re.isDirect}),n.qZA(),n.TgZ(2,"span"),n._uU(3,"Direct"),n.qZA(),n.qZA()}if(2&_){const p=n.oxw().ngIf;n.xp6(1),n.Q6J("checked",p.isDirect)}}function ld(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"nguix-dashboard-html-editor",58),n.NdJ("save",function(re){n.CHM(p);const me=n.oxw(4).$implicit,je=n.oxw(2).ngIf;return n.oxw(2).htmlChanges(me,je.formGroup,re)}),n.qZA(),n.BQk()}if(2&_){const p=n.oxw().ngIf;n.xp6(1),n.Q6J("htmlContent",p.contentHtml)}}function Ru(_,w){if(1&_&&n._UZ(0,"input",51),2&_){const p=n.oxw(4).$implicit;n.Q6J("id",p.name)("formControlName",p.name)("placeholder",p.placeholder||"")}}function yl(_,w){if(1&_&&(n.ynx(0),n.TgZ(1,"div",53),n.YNc(2,Ns,4,1,"label",54),n.YNc(3,ld,2,1,"ng-container",55),n.YNc(4,Ru,1,3,"ng-template",null,56,n.W1O),n.qZA(),n.BQk()),2&_){const p=w.ngIf,B=n.MAs(5);n.xp6(1),n.ekj("allow-direct",p.allowDirect),n.xp6(1),n.Q6J("ngIf",p.allowDirect),n.xp6(1),n.Q6J("ngIf",p.allowDirect&&p.isDirect&&p.contentHtml)("ngIfElse",B)}}function Af(_,w){if(1&_&&(n.ynx(0),n.YNc(1,yl,6,5,"ng-container",7),n.BQk()),2&_){const p=n.oxw(2).$implicit;n.xp6(1),n.Q6J("ngIf",p.meta)}}function Pc(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"nguix-dashboard-html-editor",58),n.NdJ("save",function(re){n.CHM(p);const me=n.oxw(2).$implicit,je=n.oxw(2).ngIf;return n.oxw(2).htmlChanges(me,je.formGroup,re)}),n.qZA(),n.BQk()}if(2&_){const p=n.oxw(2).$implicit;n.xp6(1),n.Q6J("htmlContent",p.meta.htmlContent)}}function Mc(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"nguix-dashboard-json-editor",59),n.NdJ("save",function(re){n.CHM(p);const me=n.oxw(2).$implicit,je=n.oxw(2).ngIf;return n.oxw(2).jsonChanges(me,je.formGroup,re)}),n.qZA(),n.BQk()}if(2&_){const p=n.oxw(2).$implicit;n.xp6(1),n.Q6J("type",p.meta.type)("currentData",p.meta.currentData)("schema",p.meta.schema)("recordKey",p.meta.recordKey)}}function Fh(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"nguix-dashboard-link-editor",60),n.NdJ("save",function(re){n.CHM(p);const me=n.oxw(2).$implicit,je=n.oxw(2).ngIf;return n.oxw(2).linkChanges(me,je.formGroup,re)}),n.qZA(),n.BQk()}if(2&_){const p=n.oxw(2).$implicit,B=n.oxw().$implicit,re=n.oxw().ngIf,me=n.oxw(2);n.xp6(1),n.Q6J("formGroup",re.formGroup)("currentData",p.meta.currentData)("sourcePart",B)("destinationPart",p.meta.part)("preload",p.meta.preload)("activeLocale",me.activeLocale)("activeType",me.activeType)("typeFilter",p.meta.typeFilter)}}function If(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"nguix-dashboard-list-editor",61),n.NdJ("save",function(re){n.CHM(p);const me=n.oxw(2).$implicit,je=n.oxw(2).ngIf;return n.oxw(2).listChanges(me,je.formGroup,re)}),n.qZA(),n.BQk()}if(2&_){const p=n.oxw(2).$implicit;n.xp6(1),n.Q6J("currentData",p.meta.currentData)}}function Sa(_,w){if(1&_&&n._UZ(0,"div",62),2&_){const p=n.oxw(2).$implicit;n.Q6J("innerHtml",p.note,n.oJD)}}function Uh(_,w){if(1&_&&(n.TgZ(0,"div",23),n.TgZ(1,"div",24),n.TgZ(2,"label",25),n._uU(3),n.qZA(),n.YNc(4,lc,2,1,"a",26),n.qZA(),n.YNc(5,xf,1,3,"div",27),n.YNc(6,Yd,2,4,"ng-container",7),n.YNc(7,Es,2,3,"ng-container",7),n.YNc(8,j,3,2,"ng-container",7),n.YNc(9,de,3,2,"ng-container",7),n.YNc(10,An,4,5,"ng-container",7),n.YNc(11,qi,3,3,"ng-container",7),n.YNc(12,Er,6,2,"ng-container",7),n.YNc(13,Wn,3,3,"ng-container",7),n.YNc(14,gs,5,3,"ng-container",7),n.YNc(15,Af,2,1,"ng-container",7),n.YNc(16,Pc,2,1,"ng-container",7),n.YNc(17,Mc,2,4,"ng-container",7),n.YNc(18,Fh,2,8,"ng-container",7),n.YNc(19,If,2,1,"ng-container",7),n.YNc(20,Sa,1,1,"div",28),n.qZA()),2&_){const p=n.oxw().$implicit,B=n.oxw().$implicit;n.ekj("required",!!p.required),n.xp6(2),n.Q6J("for",p.name),n.xp6(1),n.Oqu(p.label),n.xp6(1),n.Q6J("ngIf",p.description),n.xp6(1),n.Q6J("ngIf",p.description),n.xp6(1),n.Q6J("ngIf","text"===p.type||"number"===p.type),n.xp6(1),n.Q6J("ngIf","textarea"===p.type),n.xp6(1),n.Q6J("ngIf","checkbox"===p.type),n.xp6(1),n.Q6J("ngIf","radio"===p.type),n.xp6(1),n.Q6J("ngIf","select"===p.type),n.xp6(1),n.Q6J("ngIf","type"===p.type&&B.contentTypes),n.xp6(1),n.Q6J("ngIf","status"===p.type),n.xp6(1),n.Q6J("ngIf","locale"===p.type),n.xp6(1),n.Q6J("ngIf","upload"===p.type),n.xp6(1),n.Q6J("ngIf","content"===p.type),n.xp6(1),n.Q6J("ngIf","html"===p.type&&p.meta),n.xp6(1),n.Q6J("ngIf","json"===p.type&&p.meta),n.xp6(1),n.Q6J("ngIf","link"===p.type&&p.meta),n.xp6(1),n.Q6J("ngIf","list"===p.type&&p.meta),n.xp6(1),n.Q6J("ngIf",p.note)}}function Nc(_,w){if(1&_&&(n.ynx(0),n.YNc(1,Uh,21,21,"div",22),n.BQk()),2&_){const p=w.$implicit;n.xp6(1),n.Q6J("ngIf",!p.hidden)}}function Rc(_,w){if(1&_){const p=n.EpF();n.TgZ(0,"div",63),n.TgZ(1,"div",64),n.TgZ(2,"button",65),n._uU(3),n.qZA(),n.qZA(),n.TgZ(4,"div",66),n.TgZ(5,"a",67),n.NdJ("click",function(){n.CHM(p);const re=n.oxw().$implicit,me=n.MAs(8),je=n.oxw(3);return!(!me.form.valid||je.lockdown)&&je.dataService.previewItem(re)}),n._uU(6,"Preview"),n.qZA(),n.qZA(),n.qZA()}if(2&_){n.oxw();const p=n.MAs(8),B=n.oxw(3);n.xp6(2),n.Q6J("disabled",!p.form.valid||B.lockdown),n.xp6(1),n.Oqu(B.submitText),n.xp6(2),n.ekj("disabled",!p.form.valid||B.lockdown)}}function Wd(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"div",64),n.TgZ(2,"a",69),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(2).$implicit,me=n.oxw(3);return me.dataService.archiveItem(re,me.databaseItem)}),n._uU(3,"Archive"),n.qZA(),n.qZA(),n.TgZ(4,"div",66),n.TgZ(5,"a",70),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(2).$implicit,me=n.oxw(3);return me.remove(re,me.databaseItem)}),n._uU(6,"Delete"),n.qZA(),n.TgZ(7,"a",71),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(2).$implicit,me=n.oxw(3);return me.dataService.trashItem(re,me.databaseItem)}),n._uU(8,"Trash"),n.qZA(),n.qZA(),n.BQk()}}function Pp(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"div",64),n.TgZ(2,"a",72),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(2).$implicit,me=n.oxw(3);return me.dataService.unarchiveItem(re,me.databaseItem)}),n._uU(3,"Unarchive"),n.qZA(),n.qZA(),n.BQk()}}function Mp(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"div",64),n.TgZ(2,"a",73),n.NdJ("click",function(){n.CHM(p);const re=n.oxw(2).$implicit,me=n.oxw(3);return me.dataService.restoreItem(re,me.databaseItem)}),n._uU(3,"Restore"),n.qZA(),n.qZA(),n.BQk()}}function ud(_,w){if(1&_&&(n.TgZ(0,"div",68),n.YNc(1,Wd,9,0,"ng-container",7),n.YNc(2,Pp,4,0,"ng-container",7),n.YNc(3,Mp,4,0,"ng-container",7),n.qZA()),2&_){const p=n.oxw(4);n.xp6(1),n.Q6J("ngIf","draft"===p.databaseItem.status||"publish"===p.databaseItem.status),n.xp6(1),n.Q6J("ngIf","archive"===p.databaseItem.status),n.xp6(1),n.Q6J("ngIf","trash"===p.databaseItem.status)}}function Op(_,w){if(1&_){const p=n.EpF();n.ynx(0),n.TgZ(1,"div",8),n.TgZ(2,"div",9),n.TgZ(3,"h1"),n._uU(4),n.qZA(),n.YNc(5,Go,5,6,"ng-container",7),n.qZA(),n.qZA(),n.TgZ(6,"div",10),n.TgZ(7,"form",11,12),n.NdJ("ngSubmit",function(){const me=n.CHM(p).$implicit,je=n.oxw().ngIf;return n.oxw(2).submit(me,je.formGroup)})("keydown.enter",function(){return!1}),n.YNc(9,Nc,2,1,"ng-container",13),n.TgZ(10,"div",14),n.YNc(11,Rc,7,4,"div",15),n.YNc(12,ud,4,3,"div",16),n.qZA(),n.qZA(),n.qZA(),n.BQk()}if(2&_){const p=w.$implicit,B=n.oxw().ngIf,re=n.oxw(2);n.xp6(4),n.AsE("",re.isNew?"Add New ":"Update"," ",p.name,""),n.xp6(1),n.Q6J("ngIf","profile"!==p.name),n.xp6(2),n.Q6J("formGroup",B.formGroup),n.xp6(2),n.Q6J("ngForOf",B.formSchema),n.xp6(2),n.Q6J("ngIf",re.isNew||"draft"===(null==re.databaseItem?null:re.databaseItem.status)||"publish"===(null==re.databaseItem?null:re.databaseItem.status)),n.xp6(1),n.Q6J("ngIf","profile"!==p.name&&re.databaseItem&&!re.isCopy)}}function dd(_,w){if(1&_&&(n.TgZ(0,"div",6),n.YNc(1,Op,13,7,"ng-container",7),n.qZA()),2&_){const p=w.ngIf;n.xp6(1),n.Q6J("ngIf",p.part)}}function Lu(_,w){1&_&&(n.TgZ(0,"div",74),n._uU(1,"Not found ..."),n.qZA())}function ku(_,w){if(1&_&&(n.TgZ(0,"div",3),n.YNc(1,dd,2,1,"div",4),n.YNc(2,Lu,2,0,"ng-template",null,5,n.W1O),n.qZA()),2&_){const p=w.ngIf,B=n.MAs(3);n.xp6(1),n.Q6J("ngIf",p.data)("ngIfElse",B)}}function Qd(_,w){1&_&&(n.TgZ(0,"div",75),n._UZ(1,"nguix-dashboard-spinner"),n.qZA())}const Mm=[{path:"app-dashboard",pathMatch:"full",canLoad:[Cr._4,Cr.uF],canActivate:[Cr._4,Cr.uF],loadChildren:()=>Promise.resolve().then(function(){return Lp}).then(_=>_.NguixDashboardHomePageModule)},{path:"app-dashboard/about",canLoad:[Cr._4,Cr.uF],canActivate:[Cr._4,Cr.uF],loadChildren:()=>Promise.resolve().then(function(){return ol}).then(_=>_.NguixDashboardAboutPageModule)},{path:"app-dashboard/media",canLoad:[Cr.uF],canActivate:[Cr.uF],loadChildren:()=>Promise.resolve().then(function(){return Pl}).then(_=>_.NguixDashboardMediaPageModule)},{path:"app-dashboard/user",canLoad:[Cr.uF],canActivate:[Cr.uF],loadChildren:()=>Promise.resolve().then(function(){return Pg}).then(_=>_.NguixDashboardUserPageModule)},{path:"app-dashboard/list/:part",canLoad:[Cr.uF],canActivate:[Cr.uF],loadChildren:()=>Promise.resolve().then(function(){return Hf}).then(_=>_.NguixDashboardListPageModule)},{path:"app-dashboard/new/:part",canLoad:[Cr.uF],canActivate:[Cr.uF],loadChildren:()=>Promise.resolve().then(function(){return wg}).then(_=>_.NguixDashboardEditPageModule)},{path:"app-dashboard/edit/:part/:id",canLoad:[Cr.uF],canActivate:[Cr.uF],loadChildren:()=>Promise.resolve().then(function(){return wg}).then(_=>_.NguixDashboardEditPageModule)},{path:"app-dashboard/copy/:part/:id",canLoad:[Cr.uF],canActivate:[Cr.uF],loadChildren:()=>Promise.resolve().then(function(){return wg}).then(_=>_.NguixDashboardEditPageModule),data:{copy:!0}}];let Fu=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Vo.Bz.forRoot(Mm)],Vo.Bz]}),_})();const Bh=new n.OlP("DashboardConfig");function Nf(_){return _}let Uu=(()=>{class _{constructor(p){this.config=p}getConfig(){return-1===this.config.parts.indexOf("front")&&this.config.parts.unshift("front"),this.config}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(Bh))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Rf=(()=>{class _{constructor(){this.name="front",this.menuItem={name:this.name,text:"Dashboard",routerLink:["app-dashboard"],icon:`icon-dashboard-part-${this.name}`,activeAlso:["app-dashboard/about"],subItems:[{text:"Home",routerLink:["app-dashboard"]},{text:"About",routerLink:["app-dashboard","about"]}]}}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Lf=(()=>{class _{constructor(){this.name="media",this.menuItem={name:this.name,text:"Media",routerLink:["app-dashboard",this.name],icon:`icon-dashboard-part-${this.name}`,activeAlso:[`app-dashboard/${this.name}/new`],subItems:[{text:"Library",routerLink:["app-dashboard",this.name]},{text:"Add New",routerLink:["app-dashboard",this.name,"new"]}]}}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),gg=(()=>{class _{constructor(){this.name="user",this.menuItem={name:this.name,text:"Users",routerLink:["app-dashboard",this.name],icon:`icon-dashboard-part-${this.name}`,subItems:[{text:"All Users",routerLink:["app-dashboard",this.name]}]}}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const vr={id:{label:"ID",name:"id",type:"text",required:!0,validators:[Mr.kI.required],note:"This can NOT be changed later."},title:{label:"Title",name:"title",type:"text",required:!0,validators:[Mr.kI.required]},type:{label:"Type",name:"type",type:"type",required:!0,validators:[Mr.kI.required],note:"This can NOT be changed later."},status:{label:"Status",name:"status",type:"status",defaultValue:"draft",required:!0,validators:[Mr.kI.required]},locale:{label:"Locale",name:"locale",type:"locale",required:!0,validators:[Mr.kI.required],note:"This can NOT be changed later."},origin:{label:"Origin",name:"origin",type:"text",required:!0,validators:[Mr.kI.required],note:"This can NOT be changed later."},description:{label:"Description",name:"description",type:"textarea"},thumbnails:{label:"Thumbnails",name:"thumbnails",type:"json",meta:{type:"record",schema:[{name:"name",type:"text",required:!0,width:50},{name:"src",type:"upload",required:!0,width:250,itemMetas:{default:{imageCropping:{width:720,height:405}}}}],defaultData:{default:{name:"default",src:""}}}},images:{label:"Images",name:"images",type:"json",meta:{type:"record",schema:[{name:"name",type:"text",required:!0,width:50},{name:"src",type:"upload",required:!0,width:250,itemMetas:{default:{imageCropping:{width:1920,height:1080}}}}],defaultData:{default:{name:"default",src:""}}}},srcs:{label:"Srcs",name:"srcs",type:"json",meta:{type:"record",schema:[{name:"name",type:"text",required:!0,width:50},{name:"src",type:"upload",required:!0,width:250}]},description:"Provide a default one or multiple fallback sources."},duration:{label:"Duration",name:"duration",type:"number",defaultValue:0},content:{label:"Content",name:"content",type:"content",description:"It is recommended to provide an external content instead of a direct."},value:{label:"Value",name:"value",type:"text"},count:{label:"Count",name:"count",type:"number",defaultValue:0},keywords:{label:"Keywords",name:"keywords",type:"list",description:"For searching and lookup, provide 1-2 keywords for every paragraph.",note:"Use <kbd>Tab</kbd> or <kbd>,</kbd> to separate. Must be below 500 characters."},toc:{label:"TOC",name:"toc",type:"json",meta:{type:"array",schema:[{name:"text",type:"text",required:!0,width:150},{name:"level",type:"number",required:!0,defaultValue:1},{name:"id",type:"text",width:100},{name:"href",type:"text",width:150},{name:"routerLink",type:"text",width:150}]}},slides:{label:"Slides",name:"slides",type:"json",meta:{type:"array",schema:[{name:"id",type:"text",required:!0,width:100},{name:"title",type:"text",width:150},{name:"image",type:"text",required:!0,width:150},{name:"description",type:"text",width:150}]}},props:{label:"Props",name:"props",type:"json",meta:{type:"record",schema:[{name:"name",type:"text",required:!0,width:100},{name:"value",type:"text",required:!0,width:150}]}},authors:{label:"Authors",name:"authors",type:"link",meta:{source:"profile"}},parents:{label:"Parents",name:"parents",type:"link",meta:{source:"bundle"}},categories:{label:"Categories",name:"categories",type:"link",meta:{source:"category",preload:12}},tags:{label:"Tags",name:"tags",type:"link",meta:{source:"tag"}},relatedPosts:{label:"Related posts",name:"relatedPosts",type:"link",meta:{source:"post"}},relatedAudios:{label:"Related audios",name:"relatedAudios",type:"link",meta:{source:"audio"}},relatedVideos:{label:"Related videos",name:"relatedVideos",type:"link",meta:{source:"video"}},relatedBundles:{label:"Related bundles",name:"relatedBundles",type:"link",meta:{source:"bundle"}},relatedProfiles:{label:"Related profiles",name:"relatedProfiles",type:"link",meta:{source:"profile"}},relatedProducts:{label:"Related products",name:"relatedProducts",type:"link",meta:{source:"product"}}};let mg=(()=>{class _{constructor(){}list(){return Object.keys(vr).map(p=>this.get(p))}all(){return vr}get(p){return vr[p]}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Oc=(()=>{class _{constructor(p){this.dataService=p,this.name="category",this.menuItem={name:this.name,text:"Categories",routerLink:["app-dashboard","list",this.name],icon:`icon-dashboard-part-${this.name}`,activeAlso:[`app-dashboard/new/${this.name}`],subItems:[{text:"All Categories",routerLink:["app-dashboard","list",this.name]},{text:"Add New",routerLink:["app-dashboard","new",this.name]}]},this.formSchema=[vr.description,this.thumbnails,vr.images,Object.assign(Object.assign({},vr.count),{description:"Number of all content belongs to this category."})],this.contentTypes=[{text:"Default",value:"default",icon:`icon-dashboard-part-${this.name}`}]}get thumbnails(){const p=vr.thumbnails;return Object.assign(Object.assign({},p),{meta:Object.assign(Object.assign({},p.meta),{schema:[Object.assign({},p.meta.schema[0]),Object.assign(Object.assign({},p.meta.schema[1]),{itemMetas:{default:{imageCropping:{width:256,height:256}}}})]})})}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(lo.HJ))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),wp=(()=>{class _{constructor(p){this.dataService=p,this.name="tag",this.menuItem={name:this.name,text:"Tags",routerLink:["app-dashboard","list",this.name],icon:`icon-dashboard-part-${this.name}`,activeAlso:[`app-dashboard/new/${this.name}`],subItems:[{text:"All Tags",routerLink:["app-dashboard","list",this.name]},{text:"Add New",routerLink:["app-dashboard","new",this.name]}]},this.noI18n=!0,this.formSchema=[Object.assign(Object.assign({},vr.count),{description:"Number of all content belongs to this tag."})],this.contentTypes=[{text:"Default",value:"default",icon:`icon-dashboard-part-${this.name}`}]}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(lo.dF))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Jd=(()=>{class _{constructor(p){this.dataService=p,this.name="page",this.menuItem={name:this.name,text:"Pages",routerLink:["app-dashboard","list",this.name],icon:`icon-dashboard-part-${this.name}`,activeAlso:[`app-dashboard/new/${this.name}`],subItems:[{text:"All Pages",routerLink:["app-dashboard","list",this.name]},{text:"Add New",routerLink:["app-dashboard","new",this.name]}]},this.formSchema=[vr.description,vr.thumbnails,vr.images,vr.content],this.contentTypes=[{text:"Default",value:"default",icon:`icon-dashboard-part-${this.name}`}]}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(lo.QX))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Kd=(()=>{class _{constructor(p){this.dataService=p,this.name="post",this.menuItem={name:this.name,text:"Posts",routerLink:["app-dashboard","list",this.name],icon:`icon-dashboard-part-${this.name}`,activeAlso:[`app-dashboard/new/${this.name}`],subItems:[{text:"All Posts",routerLink:["app-dashboard","list",this.name]},{text:"Add New",routerLink:["app-dashboard","new",this.name]}]},this.formSchema=[vr.description,vr.thumbnails,vr.images,vr.toc,{label:"TLDR",name:"tldr",type:"textarea"},Object.assign(Object.assign({},vr.duration),{note:"In minutes"}),vr.content,vr.slides,{label:"Audio",name:"audio",type:"upload"},{label:"Video",name:"video",type:"upload"},vr.authors,vr.parents,vr.categories,vr.tags,vr.relatedPosts,vr.keywords],this.contentTypes=[{text:"Default",value:"default",icon:`icon-dashboard-part-${this.name}`}]}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(lo.Vz))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),kf=(()=>{class _{constructor(p){this.dataService=p,this.name="option",this.menuItem={name:this.name,text:"Options",routerLink:["app-dashboard","list",this.name],icon:`icon-dashboard-part-${this.name}`,activeAlso:[`app-dashboard/new/${this.name}`],subItems:[{text:"All Options",routerLink:["app-dashboard","list",this.name]},{text:"Add New",routerLink:["app-dashboard","new",this.name]}]},this.noI18n=!0,this.formSchema=[Object.assign(Object.assign({},vr.value),{required:!0,validators:[Mr.kI.required]})],this.contentTypes=[{text:"Default",value:"default",icon:`icon-dashboard-part-${this.name}`}]}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(lo.ZO))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Cl=(()=>{class _{constructor(p){this.dataService=p,this.name="profile",this.menuItem={name:this.name,text:"Profiles",routerLink:["app-dashboard","list",this.name],icon:`icon-dashboard-part-${this.name}`,activeAlso:[`app-dashboard/new/${this.name}`],subItems:[{text:"All Profiles",routerLink:["app-dashboard","list",this.name]}]},this.noI18n=!0,this.formSchema=[{label:"Legit",name:"legit",type:"select",placeholder:"Select legit",selections:[{text:"Average",value:"average"},{text:"Official",value:"official"},{text:"Suspicious",value:"suspicious"}],description:'It is "average" if not specified.'},{label:"Rank",name:"rank",type:"text",description:"Ranking structure of your organization, examples: 100CEO, 101CTO, 200HRHEAD, 300ITHEAD, ..."},{label:"Badges",name:"badges",type:"list",note:"Use <kbd>Tab</kbd> or <kbd>,</kbd> to separate."},vr.categories,vr.tags,vr.relatedProfiles,vr.keywords],this.contentTypes=[{text:"Default",value:"default",icon:`icon-dashboard-part-${this.name}`}]}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(lo.DR))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),hd=(()=>{class _{constructor(p){this.dataService=p,this.name="audio",this.menuItem={name:this.name,text:"Audios",routerLink:["app-dashboard","list",this.name],icon:`icon-dashboard-part-${this.name}`,activeAlso:[`app-dashboard/new/${this.name}`],subItems:[{text:"All Audios",routerLink:["app-dashboard","list",this.name]},{text:"Add New",routerLink:["app-dashboard","new",this.name]}]},this.formSchema=[vr.description,Object.assign(Object.assign({},vr.duration),{required:!0,validators:[Mr.kI.required],note:"In seconds"}),Object.assign(Object.assign({},vr.srcs),{required:!0,validators:[Mr.kI.required]}),vr.thumbnails,vr.images,Object.assign(Object.assign({},vr.content),{description:"This could be song lyric or any content."}),{label:"Birthday",name:"birthday",type:"text",description:"Published or recorded day or year."},{label:"Sheets",name:"sheets",type:"json",meta:{type:"array",schema:[{name:"name",type:"text",required:!0,width:50},{name:"src",type:"upload",required:!0,width:250}]},description:"Sheets in different format: jpg, pdf, ..."},Object.assign(Object.assign({},vr.props),{description:"Any audio properties: bitrate, filesize, ..."}),vr.authors,vr.parents,vr.categories,{label:"Genres",name:"genres",type:"link",meta:{source:"category",contentType:"genre",preload:12}},vr.tags,vr.relatedAudios,vr.keywords],this.contentTypes=[{text:"Default",value:"default",icon:`icon-dashboard-part-${this.name}`}]}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(lo.i9))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Ep=(()=>{class _{constructor(p){this.dataService=p,this.name="video",this.menuItem={name:this.name,text:"Videos",routerLink:["app-dashboard","list",this.name],icon:`icon-dashboard-part-${this.name}`,activeAlso:[`app-dashboard/new/${this.name}`],subItems:[{text:"All Videos",routerLink:["app-dashboard","list",this.name]},{text:"Add New",routerLink:["app-dashboard","new",this.name]}]},this.formSchema=[vr.description,Object.assign(Object.assign({},vr.duration),{required:!0,validators:[Mr.kI.required],note:"In seconds"}),Object.assign(Object.assign({},vr.srcs),{required:!0,validators:[Mr.kI.required]}),vr.thumbnails,vr.images,Object.assign(Object.assign({},vr.content),{description:"Transcript, subtitle or any content."}),{label:"Birthday",name:"birthday",type:"text",description:"Published or recorded day or year."},Object.assign(Object.assign({},vr.props),{description:"Any video properties: resolution, filesize, ..."}),vr.authors,vr.parents,vr.categories,vr.tags,vr.relatedVideos,vr.keywords],this.contentTypes=[{text:"Default",value:"default",icon:`icon-dashboard-part-${this.name}`}]}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(lo.Er))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),iu=(()=>{class _{constructor(p){this.dataService=p,this.name="bundle",this.menuItem={name:this.name,text:"Bundles",routerLink:["app-dashboard","list",this.name],icon:`icon-dashboard-part-${this.name}`,activeAlso:[`app-dashboard/new/${this.name}`],subItems:[{text:"All Bundles",routerLink:["app-dashboard","list",this.name]},{text:"Add New",routerLink:["app-dashboard","new",this.name]}]},this.formSchema=[vr.description,vr.thumbnails,vr.images,vr.content,Object.assign(Object.assign({},vr.count),{description:"Number of children in this bundle."}),vr.authors,vr.categories,vr.tags,vr.relatedBundles,vr.keywords],this.contentTypes=[{text:"Default",value:"default",icon:`icon-dashboard-part-${this.name}`}]}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(lo.bz))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Xd=(()=>{class _{constructor(p,B,re,me,je,et,kt,dn,Ln,Kn,Ti,Hi,Oi){this.configService=p,this.frontPart=B,this.mediaPart=re,this.userPart=me,this.categoryPart=je,this.tagPart=et,this.pagePart=kt,this.postPart=dn,this.optionPart=Ln,this.profilePart=Kn,this.audioPart=Ti,this.videoPart=Hi,this.bundlePart=Oi,this.customParts={},(this.configService.getConfig().plugins||[]).forEach(Li=>Li(this))}registerAvailableParts(p){return this.customParts=p,this}init(){return this}getPart(p){return Object.assign({front:this.frontPart,media:this.mediaPart,user:this.userPart,category:this.categoryPart,tag:this.tagPart,page:this.pagePart,post:this.postPart,option:this.optionPart,profile:this.profilePart,audio:this.audioPart,video:this.videoPart,bundle:this.bundlePart},this.customParts)[p]}getParts(){return this.configService.getConfig().parts.map(p=>"string"==typeof p?this.getPart(p):p).filter(p=>!!p)}getMenu(){return this.getParts().map(p=>p.menuItem)}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(Uu),n.LFG(Rf),n.LFG(Lf),n.LFG(gg),n.LFG(Oc),n.LFG(wp),n.LFG(Jd),n.LFG(Kd),n.LFG(kf),n.LFG(Cl),n.LFG(hd),n.LFG(Ep),n.LFG(iu))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),rl=(()=>{class _{constructor(p,B,re,me,je,et){this.appService=p,this.navService=B,this.settingService=re,this.authService=me,this.userService=je,this.dashboardService=et,this.menuItems=[]}ngOnInit(){this.menuItems=this.dashboardService.getMenu()}exitDashboard(){this.settingService.changePersona("default"),this.navService.navigate([""])}logOut(){confirm("Log out?")&&(this.authService.signOut(),this.exitDashboard())}}return _.\u0275fac=function(p){return new(p||_)(n.Y36(Cr.zi),n.Y36(Cr.tZ),n.Y36(Cr.RC),n.Y36(Cr.e8),n.Y36(Cr.KD),n.Y36(Xd))},_.\u0275cmp=n.Xpm({type:_,selectors:[["nguix-dashboard-header"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"host","___dashboard"],[1,"toggler"],[1,"icon-medium-tint","icon-dashboard-menu",3,"click"],[1,"vendor","dropmenu"],["href","#",3,"click"],[1,"icon-medium-tint","icon-dashboard-mola"],["aria-label","submenu",1,"submenu"],[3,"usefulRouterLink"],["href","https://mola.lamnhan.com","target","_blank"],["href","https://mola.lamnhan.com/docs","target","_blank"],["href","mailto:mola@lamnhan.com"],[1,"app","dropmenu"],[1,"icon-medium-tint","icon-dashboard-home"],[1,"nav"],[1,"secondary"],[1,"container"],[1,"body","menu"],[3,"class",4,"ngFor","ngForOf"],[1,"backdrop",3,"click"],["class","account dropmenu",4,"ngIf"],["usefulRouterLinkActive","active",3,"usefulRouterLink","usefulRouterLinkActiveOptions","usefulRouterBackwardable","click"],[1,"icon-medium-tint"],[1,"submenu"],[4,"ngFor","ngForOf"],[1,"account","dropmenu"],[3,"src"]],template:function(p,B){1&p&&n.YNc(0,oc,41,6,"ng-container",0)},directives:[ps.KI,Cr.jY,Ki.sg,Ki.O5],styles:[".host[_ngcontent-%COMP%]{width:100%;height:46px;position:fixed;top:0;left:0;z-index:9;flex-wrap:nowrap;background:#1d2327}.host[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{display:flex;align-items:center}.host[_ngcontent-%COMP%]   .toggler.active[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:active, .host[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:focus, .host[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:hover{filter:brightness(0) saturate(100%) invert(62%) sepia(72%) saturate(433%) hue-rotate(181deg) brightness(95%) contrast(90%)!important}.host[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;outline:none!important;border:none;width:2.5rem;height:2.5rem;background-color:#0000;margin:0 .5rem}.host[_ngcontent-%COMP%]   .vendor[_ngcontent-%COMP%]{display:flex;align-items:center}.host[_ngcontent-%COMP%]   .vendor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child.active   i[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .vendor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child:active   i[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .vendor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child:focus   i[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .vendor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child:hover   i[_ngcontent-%COMP%]{filter:brightness(0) saturate(100%) invert(62%) sepia(72%) saturate(433%) hue-rotate(181deg) brightness(95%) contrast(90%)!important}.host[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]{display:flex;align-items:center}.host[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child.active   i[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child:active   i[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child:focus   i[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child:hover   i[_ngcontent-%COMP%]{filter:brightness(0) saturate(100%) invert(62%) sepia(72%) saturate(433%) hue-rotate(181deg) brightness(95%) contrast(90%)!important}.host[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]{display:none}.host[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{display:flex;width:100vw;height:var(--app-view-height,100vh);position:fixed;top:46px;transition:all .3s ease;left:-100vw;opacity:0}.host[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .secondary.visible[_ngcontent-%COMP%]{left:0;opacity:1}.host[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{background:#1d2327;width:200px;display:flex;flex-flow:column}.host[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul.body[_ngcontent-%COMP%]{padding:1rem 0;flex:1;overflow-x:hidden;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none}.host[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul.body[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.host[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul.body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul.body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.host[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul.body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;margin-left:1rem}.host[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul.body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child:focus   i[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul.body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child:hover   i[_ngcontent-%COMP%]{filter:brightness(0) saturate(100%) invert(62%) sepia(72%) saturate(433%) hue-rotate(181deg) brightness(95%) contrast(90%)!important}.host[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul.body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child.active   i[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul.body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child:active   i[_ngcontent-%COMP%]{filter:brightness(0) saturate(100%) invert(100%) sepia(0) saturate(7500%) hue-rotate(22deg) brightness(103%) contrast(103%)!important}.host[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]   .backdrop[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]{display:flex;align-items:center}.host[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .host[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{outline:none}.host[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.host[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2rem;height:auto}.host[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]   ul.submenu[_ngcontent-%COMP%]{left:auto!important;right:0}.host[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]   ul.submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   a[_ngcontent-%COMP%]{color:#fff}@media only screen and (min-width:992px){.host[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{left:0;opacity:1;width:200px}}"]}),_})(),jh=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Ki.ez,ps.y4,Cr.Pf]]}),_})(),Vl=(()=>{class _{constructor(p,B){this.part=p,this.locale=B}}return _.type="[Database] Get counting",_})(),Bu=(()=>{class _{constructor(p,B,re,me,je,et=!1){this.part=p,this.type=B,this.status=re,this.pageNo=me,this.limit=je,this.refresh=et}}return _.type="[Database] Get items",_})(),fd=(()=>{class _{constructor(p,B){this.part=p,this.databaseItem=B}}return _.type="[Database] Get translations",_})(),Tp=(()=>{class _{constructor(p,B,re,me){this.part=p,this.type=B,this.searchQuery=re,this.limit=me}}return _.type="[User] Search items",_})(),Dp=(()=>{class _{constructor(p,B){this.part=p,this.databaseItem=B}}return _.type="[Database] Add item",_})(),Sp=(()=>{class _{constructor(p,B,re){this.part=p,this.databaseItem=B,this.updateData=re}}return _.type="[Database] Update item",_})(),xp=(()=>{class _{constructor(p,B){this.part=p,this.databaseItem=B}}return _.type="[Database] Remove item",_})(),Ap=(()=>{let _=class{constructor(p){this.settingService=p}getCounting({getState:p,patchState:B},re){const me=p(),{part:je,locale:et}=re,kt=je.name,dn=me[kt]||{};if(!je.dataService)throw new Error("No data service for this part.");return(null==dn?void 0:dn.counting)?(0,Mo.of)(dn):je.dataService.getRemoteMetas(!1).pipe((0,Co.b)(Ln=>{var Kn;const Ti={};return Object.keys((null===(Kn=null==Ln?void 0:Ln.value)||void 0===Kn?void 0:Kn.documentCounting)||{}).forEach(Hi=>{var Oi,Li,Zi;Ti[Hi]=(null===(Zi=null===(Li=null===(Oi=null==Ln?void 0:Ln.value)||void 0===Oi?void 0:Oi.documentCounting)||void 0===Li?void 0:Li[Hi])||void 0===Zi?void 0:Zi[et])||{draft:0,publish:0,trash:0,archive:0}}),B(this.getPatchingData(kt,dn,{counting:Ti}))}))}getItems({getState:p,patchState:B},re){var me;const je=p(),{part:et,type:kt,status:dn,pageNo:Ln,limit:Kn,refresh:Ti}=re,Hi=`${kt}:${dn}:${Ln}`,Oi=et.name,Li=je[Oi]||{};if(!et.dataService)throw new Error("No data service for this part.");return(null===(me=Li.itemsByGroup)||void 0===me?void 0:me[Hi])&&Li.remoteLoaded?(Ti&&B({[Oi]:Li}),(0,Mo.of)(Li)):et.dataService.list(Zi=>{let Lr=Zi.where("type","==",kt).where("status","==",dn).orderBy("createdAt","desc");if(et.noI18n||(Lr=Lr.where("locale","==",this.settingService.locale)),Ln>1){const Hr=Li.itemsByGroup[`${kt}:${dn}:${Ln-1}`],Do=Hr[Hr.length-1];Do&&(Lr=Lr.startAfter(Do.createdAt))}return Lr.limit(Kn)},!1).pipe((0,Co.b)(Zi=>B(this.getPatchingData(Oi,Li,{remoteLoaded:!0,itemsByGroup:{[Hi]:Zi}}))))}getTranslations({getState:p,patchState:B},re){var me;const je=p(),{part:et,databaseItem:kt}=re,dn=kt.id,Ln=kt.origin,Kn=et.name,Ti=je[Kn]||{};if(!et.dataService)throw new Error("No data service for this part.");return(null===(me=Ti.fullItemsByOrigin)||void 0===me?void 0:me[Ln])?(0,Mo.of)(Ti):et.dataService.list(Hi=>Hi.where("origin","==",Ln),!1).pipe((0,Co.b)(Hi=>{const Oi=Hi.map(Zi=>Zi.locale),Li=this.settingService.locales.filter(Zi=>!Oi.includes(Zi.value)).map(Zi=>Zi.value);return B(this.getPatchingData(Kn,Ti,{fullItemsByOrigin:{[Ln]:{all:[kt,...Hi.filter(Zi=>Zi.id!==dn)],missingTranslations:Li}}}))}))}searchItems({getState:p,patchState:B},re){var me;const je=p(),{part:et,type:kt,limit:dn,searchQuery:Ln}=re,Kn=et.name,Ti=je[Kn]||{};if(!et.dataService)throw new Error("No data service for this part.");return Ti.searchQuery===Ln&&(null===(me=Ti.searchResult)||void 0===me?void 0:me.length)?(0,Mo.of)(Ti).pipe((0,Co.b)(()=>B(this.getPatchingData(Kn,Ti,{searchResult:Ti.searchResult})))):(0,xs.aj)([et.dataService.get(Ln,!1),et.dataService.setupSearching(!1,!0).pipe((0,As.w)(()=>et.dataService.search(Ln,dn,"default"===kt?void 0:kt).list(1,!1)))]).pipe((0,Co.b)(([Hi,Oi])=>{const Li=[];Hi&&Li.push(Hi),Li.push(...Oi);const Zi=[],Lr=Li.filter($r=>{const Nr=Zi.includes($r.id);return Zi.push($r.id),!Nr}).slice(0,dn);return B(this.getPatchingData(Kn,Ti,{searchQuery:Ln,searchResult:Lr}))}))}addItem({getState:p,patchState:B},re){const me=p(),{part:je,databaseItem:et}=re,{id:kt,type:dn,status:Ln,locale:Kn,origin:Ti}=et,Hi=`${dn}:${Ln}:1`,Oi=je.name,Li=me[Oi]||{};if(!je.dataService)throw new Error("No data service for this part.");return je.dataService.create(kt,et).pipe((0,Co.b)(()=>{var Zi,Lr,$r,Nr,Hr,Do,Po,Fo;B(this.getPatchingData(Oi,Li,Object.assign({counting:{[dn]:{[Ln]:((null===(Lr=null===(Zi=Li.counting)||void 0===Zi?void 0:Zi[dn])||void 0===Lr?void 0:Lr[Ln])||0)+1}},itemsByGroup:Object.assign({},je.noI18n||Kn===this.settingService.locale?{[Hi]:[et].concat((null===($r=Li.itemsByGroup)||void 0===$r?void 0:$r[Hi])||[])}:{})},Ti&&(null===(Nr=Li.fullItemsByOrigin)||void 0===Nr?void 0:Nr[Ti])?{fullItemsByOrigin:{[Ti]:{all:[...(null===(Do=null===(Hr=Li.fullItemsByOrigin)||void 0===Hr?void 0:Hr[Ti])||void 0===Do?void 0:Do.all)||[],et],missingTranslations:((null===(Fo=null===(Po=Li.fullItemsByOrigin)||void 0===Po?void 0:Po[Ti])||void 0===Fo?void 0:Fo.missingTranslations)||[]).filter(Rs=>Rs!=Rs)}}}:{})))}))}updateItem({getState:p,patchState:B},re){const me=p(),{part:je,databaseItem:et,updateData:kt}=re,{id:dn,type:Ln,status:Kn}=et,{status:Ti}=kt,Hi=je.name,Oi=me[Hi]||{};if(!je.dataService)throw new Error("No data service for this part.");return je.dataService.update(dn,kt,et).pipe((0,Co.b)(()=>{var Li,Zi,Lr,$r;B(this.getPatchingData(Hi,Oi,Object.assign(Object.assign({},Ti&&Ti!==Kn?{counting:{[Ln]:{[Kn]:((null===(Zi=null===(Li=Oi.counting)||void 0===Li?void 0:Li[Ln])||void 0===Zi?void 0:Zi[Kn])||0)-1,[Ti]:((null===($r=null===(Lr=Oi.counting)||void 0===Lr?void 0:Lr[Ln])||void 0===$r?void 0:$r[Ti])||0)+1}}}:{}),this.getUpdatedPatchingItem(Oi,dn,kt,et))))}))}removeItem({getState:p,patchState:B},re){const me=p(),{part:je,databaseItem:et}=re,{id:kt,type:dn,status:Ln}=et,Kn=je.name,Ti=me[Kn]||{};if(!je.dataService)throw new Error("No data service for this part.");return je.dataService.delete(kt,et).pipe((0,Co.b)(()=>{var Hi,Oi;return B(this.getPatchingData(Kn,Ti,Object.assign({counting:{[dn]:{[Ln]:((null===(Oi=null===(Hi=Ti.counting)||void 0===Hi?void 0:Hi[dn])||void 0===Oi?void 0:Oi[Ln])||0)-1}}},this.getUpdatedPatchingItem(Ti,kt,null,et))))}))}getPatchingData(p,B,re){const me={},je=Object.keys(re);return["remoteLoaded","searchQuery","searchResult"].forEach(et=>{je.includes(et)&&(me[et]=re[et])}),["itemsByGroup"].forEach(et=>{je.includes(et)&&(me[et]=Object.assign(Object.assign({},(null==B?void 0:B[et])||{}),re[et]||{}))}),["fullItemsByOrigin","counting"].forEach(et=>{if(je.includes(et)){const kt={};Object.keys(re[et]).forEach(dn=>{var Ln;kt[dn]=Object.assign(Object.assign({},(null===(Ln=null==B?void 0:B[et])||void 0===Ln?void 0:Ln[dn])||{}),re[et][dn])}),me[et]=Object.assign(Object.assign({},(null==B?void 0:B[et])||{}),kt)}}),{[p]:Object.assign(Object.assign({},B),me)}}getUpdatedPatchingItem(p,B,re,me){const{type:je,origin:et,status:kt}=me,{status:dn}=re||{},Ln=p.itemsByGroup||{},Kn=Object.keys(Ln).reduce((Nr,Hr)=>(Nr[Hr]=[...Ln[Hr]],Nr),{});let Hi,Ti="",Oi=-1;const Li=Object.keys(Kn);e:for(let Nr=0;Nr<Li.length;Nr++){const Hr=Li[Nr],Do=Kn[Hr];for(let Po=0;Po<Do.length;Po++){const Fo=Do[Po];if(Fo.id===B){Ti=Hr,Hi=Fo,Oi=Po;break e}}}if(Ti&&Hi&&Oi>-1)if(null!==re){const Nr=Object.assign(Object.assign({},Hi),re);if(dn&&dn!==kt){const Do=`${je}:${dn}:1`;Kn[Do]&&Kn[Do].unshift(Object.assign({},Nr)),Kn[Ti].splice(Oi,1)}else Kn[Ti][Oi]=Nr}else Kn[Ti]=Kn[Ti].filter(Nr=>Nr.id!==B);const Zi=p.fullItemsByOrigin||{},Lr=Object.keys(Zi).reduce((Nr,Hr)=>{const Po=Zi[Hr].missingTranslations;return Nr[Hr]={all:[...Zi[Hr].all],missingTranslations:Po?[...Po]:void 0},Nr},{});if(Lr[et])if(null!==re)for(let Nr=0;Nr<Lr[et].all.length;Nr++){const Hr=Lr[et].all[Nr];if(Hr.id===B){Lr[et].all[Nr]=Object.assign(Object.assign({},Hr),re);break}}else Lr[et].all=Lr[et].all.filter(Nr=>Nr.id!==B);let $r=p.searchResult?[...p.searchResult]:void 0;return $r&&(null!==re?$r.forEach(Nr=>{Nr.id===B&&(Nr=Object.assign(Object.assign({},Nr),re))}):$r=$r.filter(Nr=>Nr.id!==B)),{itemsByGroup:Kn,fullItemsByOrigin:Lr,searchResult:$r}}};return _.\u0275fac=function(p){return new(p||_)(n.LFG(Cr.RC))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac}),(0,De.gn)([(0,Eo.aU)(Vl)],_.prototype,"getCounting",null),(0,De.gn)([(0,Eo.aU)(Bu)],_.prototype,"getItems",null),(0,De.gn)([(0,Eo.aU)(fd)],_.prototype,"getTranslations",null),(0,De.gn)([(0,Eo.aU)(Tp)],_.prototype,"searchItems",null),(0,De.gn)([(0,Eo.aU)(Dp)],_.prototype,"addItem",null),(0,De.gn)([(0,Eo.aU)(Sp)],_.prototype,"updateItem",null),(0,De.gn)([(0,Eo.aU)(xp)],_.prototype,"removeItem",null),_=(0,De.gn)([(0,Eo.ZM)({name:"dashboard_database",defaults:{}})],_),_})(),pd=(()=>{class _{constructor(p,B){this.store=p,this.dashboardService=B}previewItem(p){alert("// TODO: Preview ...")}createItem(p,B,re,me){const{id:je}=B;(p.dataService?p.dataService.exists(je):(0,Mo.of)(!0)).pipe((0,As.w)(et=>{if(et)throw new Error("Item exists with the id: "+je);return this.store.dispatch(new Dp(p,B))})).subscribe(re,me)}updateItem(p,B,re,me,je){(0,xs.aj)([this.store.dispatch(new Sp(p,B,re)),p.dataService?p.dataService.updateEffects(B.id,re):(0,Mo.of)(null)]).subscribe(me,je)}archiveItem(p,B,re,me){!confirm("Archive item?")||this.updateItem(p,B,{status:"archive"},re,me)}unarchiveItem(p,B,re,me){!confirm("Unarchive item?")||this.updateItem(p,B,{status:"draft"},re,me)}trashItem(p,B,re,me){!confirm("Trash item?")||this.updateItem(p,B,{status:"trash"},re,me)}restoreItem(p,B,re,me){!confirm("Restore item?")||this.updateItem(p,B,{status:"draft"},re,me)}removePermanently(p,B,re,me){!confirm("Delete permanently?")||(0,xs.aj)([this.store.dispatch(new xp(p,B)),p.dataService?p.dataService.deleteEffects(B.id):(0,Mo.of)(null)]).subscribe(re,me)}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(Eo.yh),n.LFG(Xd))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),ru=(()=>{class _{constructor(p){this.configService=p;const{serverUrl:B}=this.configService.getConfig();B&&this.checkServerStatus(B)}checkServerStatus(p){}}return _.\u0275fac=function(p){return new(p||_)(n.LFG(Uu))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),eh=(()=>{class _{constructor(p=!1){this.refresh=p}}return _.type="[Media] Get folders",_})(),Ip=(()=>{class _{constructor(p,B=!1){this.folder=p,this.refresh=B}}return _.type="[Media] Get files",_})(),Ff=(()=>{class _{constructor(p){this.query=p}}return _.type="[Media] Search files",_})(),Uf=(()=>{class _{constructor(p){this.item=p}}return _.type="[Media] Add new upload",_})(),bl=(()=>{class _{constructor(p){this.item=p}}return _.type="[Media] Delete an upload",_})(),ju=(()=>{let _=class{constructor(p){this.storageService=p}getFolders({getState:p,patchState:B},re){const{folders:me,remoteLoaded:je}=p(),{refresh:et}=re;if(me.length&&je){const kt=me;return et&&B({folders:kt}),(0,Mo.of)(kt)}return this.storageService.listDeepFolders({time:1440}).pipe((0,Co.b)(kt=>B({remoteLoaded:!0,folders:kt.map(dn=>dn.replace(`${this.storageService.getUploadFolder()}`,""))})))}getFiles({getState:p,patchState:B},re){var me;const{filesByFolder:je,remoteLoaded:et}=p(),{folder:kt,refresh:dn}=re;if((null===(me=je[kt])||void 0===me?void 0:me.length)&&et){if(dn){const Ln=je[kt];B({filesByFolder:Object.assign(Object.assign({},je),{[kt]:Ln})})}return(0,Mo.of)(je[kt])}return this.storageService.listFiles(!1,`${this.storageService.getUploadFolder()}${""===kt?"":"/"+kt}`).pipe((0,Co.b)(Ln=>B({remoteLoaded:!0,filesByFolder:Object.assign(Object.assign({},je),{[kt]:Ln})})))}searchFiles({getState:p,patchState:B},re){const{searchingData:me,searchQuery:je,searchResult:et}=p(),{query:kt}=re;return(me?(0,Mo.of)(me):this.storageService.getSearching({time:1440})).pipe((0,As.w)(dn=>je===kt&&(null==et?void 0:et.length)?(0,Mo.of)(et).pipe((0,Co.b)(()=>B({searchResult:et}))):this.storageService.searchFiles(dn,kt,30,!1).list().pipe((0,Co.b)(Ln=>B({searchingData:dn,searchQuery:kt,searchResult:Ln})))))}addUpload({getState:p,patchState:B},re){const{filesByFolder:me,folders:je}=p(),{item:et}=re,kt=et.fullPath.replace(this.storageService.getUploadFolder(),"").replace(`/${et.name}`,""),dn={};-1===je.indexOf(kt)&&(je.unshift(kt),dn.folders=je),me[kt]=me[kt]||[],me[kt].unshift(et),dn.filesByFolder=me,B(dn)}deleteUpload({getState:p,patchState:B},re){const{filesByFolder:me}=p(),{item:je}=re,{name:et,fullPath:kt}=je,dn=je.fullPath.replace(this.storageService.getUploadFolder(),"").replace(`/${je.name}`,""),Ln=(me[dn]||[]).filter(Kn=>Kn.name!==et);return this.storageService.delete(kt).pipe((0,Co.b)(()=>B({filesByFolder:Object.assign(Object.assign({},me),{[dn]:Ln})})))}};return _.\u0275fac=function(p){return new(p||_)(n.LFG(Cr.V1))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac}),(0,De.gn)([(0,Eo.aU)(eh)],_.prototype,"getFolders",null),(0,De.gn)([(0,Eo.aU)(Ip)],_.prototype,"getFiles",null),(0,De.gn)([(0,Eo.aU)(Ff)],_.prototype,"searchFiles",null),(0,De.gn)([(0,Eo.aU)(Uf)],_.prototype,"addUpload",null),(0,De.gn)([(0,Eo.aU)(bl)],_.prototype,"deleteUpload",null),_=(0,De.gn)([(0,Eo.ZM)({name:"dashboard_media",defaults:{remoteLoaded:!1,folders:[],filesByFolder:{}}})],_),_})(),_g=(()=>{class _{constructor(p,B,re=!1){this.pageNo=p,this.limit=B,this.refresh=re}}return _.type="[User] Get profiles",_})(),Bf=(()=>{class _{constructor(p,B){this.searchQuery=p,this.limit=B}}return _.type="[User] Search profiles",_})(),Np=(()=>{let _=class{constructor(p){this.profileDataService=p}getProfiles({getState:p,patchState:B},re){var me;const{profilesByPage:je}=p(),{limit:et,pageNo:kt,refresh:dn}=re;if(null===(me=je[kt])||void 0===me?void 0:me.length){if(dn){const Ln=je[kt];B({profilesByPage:Object.assign(Object.assign({},je),{[kt]:Ln})})}return(0,Mo.of)(je[kt])}return this.profileDataService.list(Ln=>{let Kn=Ln.where("type","==","default").where("status","in",["draft","publish","archive","trash"]).orderBy("createdAt","desc");if(kt>1){const Hi=je[kt-1];Kn=Kn.startAfter(Hi[Hi.length-1].createdAt)}return Kn.limit(et)},!1).pipe((0,Co.b)(Ln=>B({profilesByPage:Object.assign(Object.assign({},je),{[kt]:Ln})})))}searchProfiles({getState:p,patchState:B},re){const{searchQuery:me,searchResult:je}=p(),{searchQuery:et,limit:kt}=re;return me===et&&(null==je?void 0:je.length)?(0,Mo.of)(je).pipe((0,Co.b)(()=>B({searchResult:je}))):(0,xs.aj)([this.profileDataService.get(et,!1),this.profileDataService.setupSearching().pipe((0,As.w)(()=>this.profileDataService.search(et,kt).list()))]).pipe((0,Co.b)(([dn,Ln])=>{const Kn=[];dn&&Kn.push(dn),Kn.push(...Ln);const Ti=[],Hi=Kn.filter(Oi=>{const Li=Ti.includes(Oi.id);return Ti.push(Oi.id),!Li}).slice(0,kt);return B({searchQuery:et,searchResult:Hi})}))}};return _.\u0275fac=function(p){return new(p||_)(n.LFG(lo.DR))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac}),(0,De.gn)([(0,Eo.aU)(_g)],_.prototype,"getProfiles",null),(0,De.gn)([(0,Eo.aU)(Bf)],_.prototype,"searchProfiles",null),_=(0,De.gn)([(0,Eo.ZM)({name:"dashboard_user",defaults:{profilesByPage:{}}})],_),_})(),Rp=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({providers:[{provide:Bh,useValue:{parts:["front","page","post","category","tag","media","user"]}},Uu,mg,pd,Xd,ru,Rf,Lf,gg,Oc,wp,Jd,Kd,kf,Cl,hd,Ep,iu],imports:[[Zc,Fu,jh,Eo.$l.forFeature([Ap,ju,Np]),es.forRoot()],jh]}),_})();const nh=[{path:"",component:(()=>{class _{constructor(){}ngOnInit(){}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275cmp=n.Xpm({type:_,selectors:[["nguix-dashboard-home-page"]],decls:9,vars:0,consts:[[1,"host","___dashboard","page"],[1,"welcome","card"],[1,"card-body"],[1,"subtitle"]],template:function(p,B){1&p&&(n.TgZ(0,"div",0),n.TgZ(1,"h1"),n._uU(2,"Dashboard"),n.qZA(),n.TgZ(3,"section",1),n.TgZ(4,"div",2),n.TgZ(5,"h2"),n._uU(6,"Welcome to Dashboard!"),n.qZA(),n.TgZ(7,"p",3),n._uU(8,"Manage your web app content in one place."),n.qZA(),n.qZA(),n.qZA(),n.qZA())},styles:[".host[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:1.5rem 0}"]}),_})()}];let jf=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Vo.Bz.forChild(nh)],Vo.Bz]}),_})();var Lp=Object.freeze({__proto__:null,NguixDashboardHomePageModule:(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Ki.ez,ps.y4,Cr.Pf,jf]]}),_})()});const Fp=[{path:"",component:(()=>{class _{constructor(){}ngOnInit(){}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275cmp=n.Xpm({type:_,selectors:[["nguix-dashboard-about-page"]],decls:3,vars:0,consts:[[1,"host","___dashboard","page"]],template:function(p,B){1&p&&(n.TgZ(0,"div",0),n.TgZ(1,"h1"),n._uU(2,"About"),n.qZA(),n.qZA())},styles:[".host[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:1.5rem 0}"]}),_})()}];let Om=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Vo.Bz.forChild(Fp)],Vo.Bz]}),_})();var ol=Object.freeze({__proto__:null,NguixDashboardAboutPageModule:(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Ki.ez,Om]]}),_})()});let gd=(()=>{class _{constructor(){}ngOnInit(){}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275cmp=n.Xpm({type:_,selectors:[["nguix-dashboard-spinner"]],decls:2,vars:0,consts:[[1,"la-ball-clip-rotate"]],template:function(p,B){1&p&&(n.TgZ(0,"div",0),n._UZ(1,"div"),n.qZA())},styles:[".la-ball-clip-rotate[_ngcontent-%COMP%], .la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#135e96}.la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-clip-rotate[_ngcontent-%COMP%]{width:2rem;height:2rem}.la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2rem;height:2rem;background:#0000;border-width:2px;border-bottom-color:#0000;border-radius:100%;animation:ball-clip-rotate .75s linear infinite}@keyframes ball-clip-rotate{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}"]}),_})(),yg=(()=>{class _{constructor(){this.change=new n.vpe}ngOnInit(){}ngOnChanges(){var p;if(this.cropperRef&&this.url){const B=this.cropperRef.nativeElement;null===(p=this.croppieInstance)||void 0===p||p.destroy();const re=new jr(B,this.options);re.bind({url:this.url}),this.croppingSubscription=(0,ic.R)(B,"update").pipe((0,Os.b)(500)).subscribe(()=>this.onChanges()),this.croppieInstance=re}}ngOnDestroy(){this.croppingSubscription&&this.croppingSubscription.unsubscribe(),this.croppieInstance&&this.croppieInstance.destroy()}onChanges(){var p;null===(p=this.croppieInstance)||void 0===p||p.result(Object.assign({type:"blob",format:"jpeg",quality:.6},this.resultOptions)).then(B=>this.change.emit(B))}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275cmp=n.Xpm({type:_,selectors:[["image-cropper"]],viewQuery:function(p,B){if(1&p&&n.Gf(po,7),2&p){let re;n.iGM(re=n.CRH())&&(B.cropperRef=re.first)}},inputs:{url:"url",options:"options",resultOptions:"resultOptions"},outputs:{change:"change"},features:[n.TTD],decls:2,vars:0,consts:[[1,"host","__dashboard"],["cropper",""]],template:function(p,B){1&p&&n._UZ(0,"div",0,1)},styles:['@charset "UTF-8";.croppie-container{width:100%;height:100%}.croppie-container .cr-image{z-index:-1;position:absolute;top:0;left:0;transform-origin:0 0;max-height:none;max-width:none;transform:translateZ(0)}.croppie-container .cr-boundary{position:relative;overflow:hidden;margin:0 auto;z-index:1;width:100%;height:100%}.croppie-container .cr-viewport{transform:translateZ(0)}.croppie-container .cr-resizer,.croppie-container .cr-viewport{position:absolute;border:2px solid #fff;margin:auto;top:0;bottom:0;right:0;left:0;box-shadow:0 0 2000px 2000px #00000080;z-index:0}.croppie-container .cr-resizer{z-index:2;box-shadow:none;pointer-events:none}.croppie-container .cr-resizer-vertical{position:absolute;pointer-events:all;bottom:-5px;cursor:row-resize;width:100%;height:10px}.croppie-container .cr-resizer-vertical:after{display:block;position:absolute;box-sizing:border-box;border:1px solid #000;background:#fff;width:10px;height:10px;content:"";left:50%;margin-left:-5px}.croppie-container .cr-resizer-horisontal{position:absolute;pointer-events:all;right:-5px;cursor:col-resize;width:10px;height:100%}.croppie-container .cr-resizer-horisontal:after{display:block;position:absolute;box-sizing:border-box;border:1px solid #000;background:#fff;width:10px;height:10px;content:"";top:50%;margin-top:-5px}.croppie-container .cr-original-image{display:none}.croppie-container .cr-vp-circle{border-radius:50%}.croppie-container .cr-overlay{z-index:1;position:absolute;cursor:move;touch-action:none;transform:translateZ(0)}.croppie-container .cr-slider-wrap{width:75%;margin:15px auto;text-align:center;min-width:250px;max-width:250px}.croppie-result{position:relative;overflow:hidden}.croppie-result img{position:absolute}.cr-slider{-webkit-appearance:none;width:300px;max-width:100%;padding-top:8px;padding-bottom:8px;background-color:initial}.cr-slider::-webkit-slider-runnable-track{width:100%;height:3px;background:#00000080;border:0;border-radius:3px}.cr-slider::-webkit-slider-thumb{-webkit-appearance:none;border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:focus{outline:none}.cr-slider:focus::-ms-fill-lower,.cr-slider:focus::-ms-fill-upper{background:#00000080}.cr-slider::-moz-range-track{width:100%;height:3px;background:#00000080;border:0;border-radius:3px}.cr-slider::-moz-range-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:-moz-focusring{outline:1px solid #fff;outline-offset:-1px}.cr-slider::-ms-track{width:100%;height:5px;background:#0000;border-color:#0000;border-width:6px 0;color:#0000}.cr-slider::-ms-fill-lower,.cr-slider::-ms-fill-upper{background:#00000080;border-radius:10px}.cr-slider::-ms-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:1px}.cr-rotate-controls{position:absolute;bottom:5px;left:5px;z-index:1}.cr-rotate-controls button{border:0;background:none}.cr-rotate-controls i:before{display:inline-block;font-style:normal;font-weight:900;font-size:22px}.cr-rotate-l i:before{content:"\u21ba"}.cr-rotate-r i:before{content:"\u21bb"}'],encapsulation:3}),_})(),Vf=(()=>{class _{constructor(p,B){this.store=p,this.storageService=B,this.show=!1,this.closeOnCompleted=!1,this.withLibrary=!1,this.close=new n.vpe,this.done=new n.vpe,this.tab=this.withLibrary?"library":"upload"}ngOnInit(){}ngOnChanges(){this.imageCropping||(this.imageCropping={width:500,height:500,unenforced:!0}),this.setCropperData()}croppingWidthChanges(p){this.imageCropping.width=p.target.value,this.setCropperData()}croppingHeightChanges(p){this.imageCropping.height=p.target.value,this.setCropperData()}selectFile(p){const B=p.target.files[0],{name:re,size:me,type:je}=B;B&&(this.selectedFile=B,-1!==["image/jpeg","image/png","image/webp"].indexOf(B.type)?this.storageService.readFileDataUrl(p.target.files[0]).subscribe(et=>{this.fileDataUrl=et,this.cropperResultOptions&&(this.cropperResultOptions.format=je.split("/")[1])}):this.upload(B,re,me),p.target.value=null)}doneCropping(){if(this.selectedFile&&this.cropResult){const{name:p,size:B}=this.selectedFile;this.storageService.compressImage(this.cropResult).subscribe(re=>this.upload(re,p,B)),this.fileDataUrl=void 0,this.cropResult=void 0}}upload(p,B,re){const{name:me,fullPath:je,task:et}=this.storageService.upload(B,p);this.uploading={name:me,size:re,uploadPercent$:et.percentageChanges()},et.snapshotChanges().pipe((0,be.x)(()=>{this.storageService.buildStorageItem(je).subscribe(kt=>{this.uploadResult=kt,this.store.dispatch(new Uf(this.uploadResult)),this.done.emit(this.uploadResult),this.closeOnCompleted&&this.closeAndReset()})})).subscribe()}closeAndReset(){this.selectedFile=void 0,this.uploading=void 0,this.uploadResult=void 0,this.close.emit()}setCropperData(){const{width:p,height:B}=this.imageCropping,je=250/(p/B);this.cropperOptions={viewport:{width:250,height:je},boundary:{width:250,height:je},showZoomer:!0},this.cropperResultOptions=Object.assign(Object.assign({},this.cropperResultOptions),{size:{width:p,height:B}})}}return _.\u0275fac=function(p){return new(p||_)(n.Y36(Eo.yh),n.Y36(Cr.V1))},_.\u0275cmp=n.Xpm({type:_,selectors:[["nguix-dashboard-uploader"]],inputs:{show:"show",closeOnCompleted:"closeOnCompleted",withLibrary:"withLibrary",imageCropping:"imageCropping"},outputs:{close:"close",done:"done"},features:[n.TTD],decls:23,vars:6,consts:[[1,"host","___dashboard"],[1,"head"],[1,"left"],[1,"tabs"],["href","javascript:void(0)",3,"click"],[1,"icon-medium-tint","icon-dashboard-media-upload"],[1,"right"],[1,"body"],["class","upload",4,"ngIf"],[1,"foot"],[1,"option"],["type","checkbox",3,"ngModel","ngModelChange"],["href","#",1,"button-primary",3,"click"],[1,"upload"],[4,"ngIf","ngIfElse"],["uploadInput",""],["class","cropper",4,"ngIf"],["class","uploading",4,"ngIf"],[1,"cropper"],[3,"url","options","resultOptions","change"],[1,"sizing"],["type","number",1,"form-control",3,"value","disabled","change"],[1,"action"],[1,"uploading"],[1,"name"],[1,"size"],["statusShow",""],["class","upload-size",4,"ngIf"],[1,"path"],["href","#"],[1,"url"],["target","_blank",3,"href"],[1,"upload-size"],[1,"status"],["max","100",3,"value"],["type","file",3,"change"]],template:function(p,B){1&p&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"ul",3),n.TgZ(4,"li"),n.TgZ(5,"a",4),n.NdJ("click",function(){return B.tab="upload"}),n._UZ(6,"i",5),n.TgZ(7,"span"),n._uU(8,"Upload"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"div",6),n.TgZ(10,"a",4),n.NdJ("click",function(){return B.closeAndReset()}),n._uU(11,"X"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"div",7),n.YNc(13,pp,4,2,"div",8),n.qZA(),n.TgZ(14,"div",9),n.TgZ(15,"div",2),n.TgZ(16,"label",10),n.TgZ(17,"input",11),n.NdJ("ngModelChange",function(me){return B.closeOnCompleted=me}),n.qZA(),n.TgZ(18,"span"),n._uU(19,"Close on completed"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(20,"div",6),n.TgZ(21,"a",12),n.NdJ("click",function(){return B.closeAndReset(),!1}),n._uU(22,"Close"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&p&&(n.ekj("show",B.show),n.xp6(5),n.ekj("active","upload"===B.tab),n.xp6(8),n.Q6J("ngIf","upload"===B.tab),n.xp6(4),n.Q6J("ngModel",B.closeOnCompleted))},directives:[Ki.O5,Mr.Wl,Mr.JJ,Mr.On,yg],pipes:[ws,Ki.Ov],styles:[".host[_ngcontent-%COMP%]{background:#fff;border-top:1px solid #8c8f94;border-radius:3px;color:#1d2327;width:100%;max-height:480px;position:fixed;bottom:-480px;left:0;transition:all .3s ease;z-index:9}.host.show[_ngcontent-%COMP%]{bottom:0}.host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f1}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   ul.tabs[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;list-style:none;padding:0;margin:0}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   ul.tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;padding:.5rem 1rem;color:#8c8f94;text-decoration:none}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   ul.tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   ul.tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   ul.tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   ul.tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1d2327;background:#f0f0f1}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   ul.tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;margin-right:.5rem}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{padding-right:1rem}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{padding:1rem;overflow-y:scroll;min-height:300px;max-height:386px}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .upload[_ngcontent-%COMP%]   .cropper[_ngcontent-%COMP%]   .sizing[_ngcontent-%COMP%]{display:flex;flex-grow:no-wrap;align-items:center;justify-content:center;margin-bottom:1rem}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .upload[_ngcontent-%COMP%]   .cropper[_ngcontent-%COMP%]   .sizing[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100px}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .upload[_ngcontent-%COMP%]   .cropper[_ngcontent-%COMP%]   .sizing[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#8c8f94;width:50px;text-align:center}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .upload[_ngcontent-%COMP%]   .cropper[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{text-align:center}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .upload[_ngcontent-%COMP%]   .cropper[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:250px}.host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]{padding:.5rem 1rem;border-top:1px solid #f0f0f1}.host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:.5rem}"]}),_})(),wm=(()=>{class _{transform(p,B){return B&&"all"!==B?p.filter(re=>!re.type||re.type===B):p}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275pipe=n.Yjl({name:"mediaTypeFilter",type:_,pure:!0}),_})(),Cg=(()=>{class _{transform(p){const B={title:"All",value:"all",count:0},re={title:"Image",value:"image",count:0},me={title:"Audio",value:"audio",count:0},je={title:"Video",value:"video",count:0},et={title:"Document",value:"document",count:0},kt={title:"Archive",value:"archive",count:0},dn={title:"Unknown",value:"unknown",count:0};return p.forEach(Ln=>{const{type:Kn}=Ln;"image"===Kn?re.count++:"audio"===Kn?me.count++:"video"===Kn?je.count++:"document"===Kn?et.count++:"archive"===Kn?kt.count++:"unknown"===Kn&&dn.count++,B.count++}),[B,re,me,je,et,kt,dn]}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275pipe=n.Yjl({name:"mediaExtractTypes",type:_,pure:!0}),_})(),Em=(()=>{class _{constructor(p,B){this.store=p,this.route=B,this.page$=this.route.params.pipe((0,ge.U)(()=>({ok:!0})),(0,Co.b)(()=>this.store.dispatch(new eh))),this.data$=this.store.select(re=>re.dashboard_media).pipe((0,ge.U)(re=>(this.isListingLoading=!1,{folders:(re.folders||[]).sort().reverse(),folderItems:re.filesByFolder[this.activeFolder||"$never"]||[],searchQuery:re.searchQuery,searchItems:re.searchResult}))),this.isListingLoading=!1,this.layout="list",this.type="all",this.query="",this.pageNo=1,this.showUploader=!1}ngOnInit(){}changeFolder(p){this.isListingLoading=!0;const B=p.target.value;this.activeFolder=B,this.store.dispatch(new Ip(B,!0))}search(p=""){this.query&&this.query!==p&&(this.isListingLoading=!0,this.store.dispatch(new Ff(this.query)))}delete(p){confirm("Are you sure you want to delete this file?")&&(this.detailItem=void 0,this.store.dispatch(new bl(p)))}}return _.\u0275fac=function(p){return new(p||_)(n.Y36(Eo.yh),n.Y36(Vo.gz))},_.\u0275cmp=n.Xpm({type:_,selectors:[["nguix-dashboard-media-page"]],decls:5,vars:5,consts:[["class","host ___dashboard page",4,"ngIf","ngIfElse"],["loadingView",""],[3,"show","close"],[1,"host","___dashboard","page"],["class","main",4,"ngIf","ngIfElse"],["notFound",""],[1,"main"],[4,"ngIf"],[1,"head"],[1,"title"],[1,"button-outline-primary",3,"click"],["class","types",4,"ngIf"],[1,"body"],["listingBar",""],[1,"headbar"],[4,"ngTemplateOutlet"],[1,"major"],["class","listing list table-striped",4,"ngIf","ngIfElse"],["thumbnailLayout",""],["class","detail",3,"show",4,"ngIf"],[1,"footbar"],[1,"types"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["inactiveType",""],["href","#",3,"click"],[1,"folders"],[1,"form-select",3,"change"],["value","0","selected","","disabled",""],[3,"selected","value",4,"ngFor","ngForOf"],[1,"search"],["type","search","placeholder","Search files by name ...",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"button-primary",3,"disabled","click"],[1,"layouts"],[3,"click"],[1,"icon-medium-tint","icon-dashboard-layout-list"],[1,"icon-medium-tint","icon-dashboard-layout-thumbnail"],[1,"counter"],[3,"selected","value"],[1,"listing","list","table-striped"],[1,"name"],[1,"size"],[1,"type"],[1,"date"],["colspan","42"],[3,"directionLinks","pageChange"],[1,"loading"],[1,"icon-medium"],[1,"listing","thumbnail"],["class","loading",4,"ngIf"],["class","not-item",4,"ngIf"],[1,"not-item"],["href","#",1,"file-thumbnail",3,"click"],["href","#",1,"file-name",3,"click"],[1,"file-info"],[1,"detail"],[1,"top"],[1,"content"],[1,"view"],[3,"src","alt",4,"ngIf"],["controls","",3,"src",4,"ngIf"],["target","_blank",3,"href"],[1,"path"],[1,"created"],[1,"updated"],[1,"actions"],[1,"button-danger-sm",3,"click"],[3,"src","alt"],["controls","",3,"src"],[1,"not-found"]],template:function(p,B){if(1&p&&(n.YNc(0,lf,4,2,"div",0),n.ALo(1,"async"),n.YNc(2,Oh,2,0,"ng-template",null,1,n.W1O),n.TgZ(4,"nguix-dashboard-uploader",2),n.NdJ("close",function(){return B.showUploader=!1}),n.qZA()),2&p){const re=n.MAs(3);n.Q6J("ngIf",n.lcZ(1,3,B.page$))("ngIfElse",re),n.xp6(4),n.Q6J("show",B.showUploader)}},directives:[Ki.O5,Vf,Ki.tP,Ki.sg,Mr.YN,Mr.Kr,Mr.Fj,Mr.JJ,Mr.On,Mn,gd],pipes:[Ki.Ov,k,wm,Cg,ws,Ki.uU,Ki.JJ],styles:[".host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-right:1rem;text-transform:capitalize}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-right:1rem;margin-right:1rem;border-right:1px solid #8c8f94}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{margin-left:.5rem;font-style:normal;color:#8c8f94}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-right:none}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{margin-top:2rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;margin-top:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .folders[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .folders[_ngcontent-%COMP%]{margin-right:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .folders[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .folders[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.25rem .5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{display:none;flex:1;flex-wrap:nowrap;align-items:center;margin-right:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:.25rem .5rem;margin-right:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none;padding:.25rem .5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.25rem .5rem;border:1px solid #8c8f94;outline:none;background:#f0f0f1}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child, .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-radius:3px 0 0 3px}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-left:none;border-radius:0 3px 3px 0}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{margin-left:2rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]{margin-bottom:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing.list[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing.list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top-color:#f0f0f1}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing.list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top-color:#8c8f94}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing.list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#8c8f94;padding:1rem .5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing.list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:500}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing.list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing.list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing.list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-left:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing.list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing.list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing.list[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing.list[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{display:none}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   ul.listing.thumbnail[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:0;margin:1rem 0;border:1px solid #8c8f94}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   ul.listing.thumbnail[_ngcontent-%COMP%]   li.loading[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   ul.listing.thumbnail[_ngcontent-%COMP%]   li.not-item[_ngcontent-%COMP%]{width:100%;margin:0;padding:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   ul.listing.thumbnail[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:calc(50% - 1.5rem);margin:1rem 0 1rem 1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   ul.listing.thumbnail[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .file-thumbnail[_ngcontent-%COMP%]{display:block;position:relative;width:100%;padding-top:100%;overflow:hidden;border-radius:3px;background-repeat:no-repeat;background-position:50%;background-size:cover}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   ul.listing.thumbnail[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .file-thumbnail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:100%;height:100%;position:absolute;top:0;right:0;bottom:0;left:0;background:#fff;display:flex;align-items:center;justify-content:center}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   ul.listing.thumbnail[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .file-thumbnail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:3rem;height:3rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   ul.listing.thumbnail[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{margin-top:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   ul.listing.thumbnail[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;color:#8c8f94;font-size:.85rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   ul.listing.thumbnail[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{flex:1;display:none}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{background:#fff;border-top:1px solid #8c8f94;border-radius:3px;color:#1d2327;width:100%;max-height:480px;position:fixed;bottom:-480px;left:0;transition:all .3s ease;z-index:9}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail.show[_ngcontent-%COMP%]{bottom:0}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:400}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{padding:.5rem 1rem;border-bottom:1px solid #f0f0f1}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;margin-right:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:500;font-size:18px}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow-y:scroll;max-height:439px}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:auto}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]{height:50px;background:#f1f3f4}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .updated[_ngcontent-%COMP%]{padding:0 1rem;margin-top:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .updated[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .updated[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .updated[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#8c8f94}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:0 1rem;margin:1rem 0}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media screen and (min-width:480px){.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   ul.listing.thumbnail[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{display:block}}@media screen and (min-width:576px){.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{display:flex}}@media screen and (min-width:768px){.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block}}"]}),_})(),md=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({}),_})(),ih=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({}),_})(),_d=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[]]}),_})(),Zf=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Ki.ez]]}),_})(),Gr=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Ki.ez,Mr.u5,ps.y4,to,Cr.Pf,Zf]]}),_})();const Up=[{path:"",component:Em}];let bg=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Vo.Bz.forChild(Up)],Vo.Bz]}),_})();var Pl=Object.freeze({__proto__:null,NguixDashboardMediaPageModule:(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Ki.ez,Mr.u5,Qo,to,Cr.Pf,md,ih,_d,Gr,bg]]}),_})()});let $f=(()=>{class _{transform(p,B){return"all"===B?p:p.filter(re=>re.role===B)}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275pipe=n.Yjl({name:"userRoleFilter",type:_,pure:!0}),_})(),Tm=(()=>{class _{transform(p){const B={title:"All",value:"all",count:0},re={title:"Super Admin",value:"sadmin",count:0},me={title:"Admin",value:"admin",count:0},je={title:"Editor",value:"editor",count:0},et={title:"Author",value:"author",count:0},kt={title:"Contributor",value:"contributor",count:0},dn={title:"Subscriber",value:"subscriber",count:0};return p.forEach(Ln=>{"sadmin"===Ln.role?re.count++:"admin"===Ln.role?me.count++:"editor"===Ln.role?je.count++:"author"===Ln.role?et.count++:"contributor"===Ln.role?kt.count++:dn.count++,B.count++}),[B,re,me,je,et,kt,dn]}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275pipe=n.Yjl({name:"userExtractRoles",type:_,pure:!0}),_})(),Vh=(()=>{class _{constructor(p,B,re,me){this.store=p,this.route=B,this.profileDataService=re,this.configService=me,this.page$=this.route.params.pipe((0,ge.U)(je=>({ok:!0})),(0,Co.b)(()=>{this.loadProfiles()})),this.data$=this.store.select(je=>je.dashboard_user).pipe((0,ge.U)(je=>{this.isListingLoading=!1;const et=this.profileDataService.count("default");return{totalCount:et,totalPages:!et||et<1?1:Math.ceil(et/this.getViewPerPage()),pageItems:je.profilesByPage[this.pageNo]||[],searchQuery:je.searchQuery,searchItems:je.searchResult}})),this.isListingLoading=!1,this.role="all",this.query="",this.pageNo=1}ngOnInit(){}search(p=""){this.query&&this.query!==p&&(this.isListingLoading=!0,this.store.dispatch(new Bf(this.query,this.getViewPerPage())))}previousPage(){--this.pageNo,this.loadProfiles()}nextPage(){++this.pageNo,this.loadProfiles()}loadProfiles(){this.isListingLoading=!0,this.store.dispatch(new _g(this.pageNo,this.getViewPerPage(),!0))}getRoles(p){return[{title:"All",value:"all",count:p},{title:"Super Admin",value:"sadmin",count:0},{title:"Admin",value:"admin",count:0},{title:"Editor",value:"editor",count:0},{title:"Author",value:"author",count:0},{title:"Contributor",value:"contributor",count:0},{title:"Subscriber",value:"subscriber",count:0}]}getViewPerPage(){return this.configService.getConfig().viewPerPage||15}}return _.\u0275fac=function(p){return new(p||_)(n.Y36(Eo.yh),n.Y36(Vo.gz),n.Y36(lo.DR),n.Y36(Uu))},_.\u0275cmp=n.Xpm({type:_,selectors:[["nguix-dashboard-user-page"]],decls:4,vars:4,consts:[["class","host ___dashboard page",4,"ngIf","ngIfElse"],["loadingView",""],[1,"host","___dashboard","page"],["class","main",4,"ngIf","ngIfElse"],["notFound",""],[1,"main"],[4,"ngIf"],[1,"head"],[1,"title"],["class","roles",4,"ngIf"],[1,"body"],["listingBar",""],[1,"headbar"],[4,"ngTemplateOutlet"],[1,"major"],[1,"listing","table-striped"],[1,"username"],[1,"role"],[1,"date"],[4,"ngFor","ngForOf"],["colspan","42"],[1,"tfoot"],[1,"left"],[1,"button-outline-medium-sm",3,"disabled","click"],[1,"icon-medium-tint","icon-dashboard-left"],[1,"icon-medium-tint","icon-dashboard-right"],[1,"right"],["class","detail",3,"show",4,"ngIf"],[1,"footbar"],[1,"roles"],[4,"ngIf","ngIfElse"],["inactive",""],["href","#",3,"click"],[1,"search"],["type","search","placeholder","Username or search query ...",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"button-primary",3,"disabled","click"],[1,"counter"],[1,"loading"],[1,"detail"],[1,"top"],[1,"content"],[1,"image"],[3,"src","alt"],["href","#","target","_blank"],[1,"name"],[1,"status"],["class","rank",4,"ngIf"],["class","legit",4,"ngIf"],[1,"created"],[1,"updated"],[1,"actions"],[1,"button-primary-sm",3,"usefulRouterLink"],[1,"rank"],[1,"legit"],[1,"not-found"]],template:function(p,B){if(1&p&&(n.YNc(0,Ou,4,2,"div",0),n.ALo(1,"async"),n.YNc(2,td,2,0,"ng-template",null,1,n.W1O)),2&p){const re=n.MAs(3);n.Q6J("ngIf",n.lcZ(1,2,B.page$))("ngIfElse",re)}},directives:[Ki.O5,Ki.tP,Ki.sg,Mr.Fj,Mr.JJ,Mr.On,gd,Cr.jY],pipes:[Ki.Ov,$f,Tm,Ki.uU],styles:[".host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-right:1rem;text-transform:capitalize}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .roles[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .roles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-right:1rem;margin-right:1rem;border-right:1px solid #8c8f94}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .roles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{margin-left:.5rem;font-style:normal;color:#8c8f94}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .roles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-right:none}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{margin-top:2rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;margin-top:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{display:flex;flex:1;flex-wrap:nowrap;align-items:center;margin-right:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:.25rem .5rem;margin-right:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.25rem .5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{margin-left:2rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]{margin-bottom:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top-color:#f0f0f1}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top-color:#8c8f94}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#8c8f94;padding:1rem .5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:500}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .tfoot[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .tfoot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .tfoot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .tfoot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .tfoot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:.5rem;padding:0;align-items:center;justify-content:center}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .tfoot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{background:#fff;border-top:1px solid #8c8f94;border-radius:3px;color:#1d2327;width:100%;max-height:480px;position:fixed;bottom:-480px;left:0;transition:all .3s ease;z-index:9}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail.show[_ngcontent-%COMP%]{bottom:0}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:400}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{padding:.5rem 1rem;border-bottom:1px solid #f0f0f1}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:500;font-size:18px}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow-y:scroll;max-height:439px;padding-bottom:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{text-align:center;padding:1rem 0}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:100%}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0 1rem;margin-top:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#8c8f94}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),_})(),ou=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({}),_})(),Zh=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({}),_})();const Na=[{path:"",component:Vh}];let Bp=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Vo.Bz.forChild(Na)],Vo.Bz]}),_})();var Pg=Object.freeze({__proto__:null,NguixDashboardUserPageModule:(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Ki.ez,Mr.u5,Cr.Pf,ou,Zh,_d,Bp]]}),_})()});const su=[{path:"",component:(()=>{class _{constructor(p,B,re,me,je,et){this.route=p,this.store=B,this.settingService=re,this.configService=me,this.dashboardService=je,this.dataService=et,this.page$=this.route.params.pipe((0,As.w)(kt=>{var dn;return this.part=this.dashboardService.getPart(kt.part),this.isListingLoading=!1,this.type="default",this.status="publish",this.pageNo=1,this.query="",this.detailId="",this.defaultLocale=this.settingService.defaultLocale,this.allLocales=this.settingService.locales.reduce((Ln,Kn)=>(Ln[Kn.value]=Kn,Ln),{}),this.localeCount=this.settingService.locales.length,(null===(dn=this.part)||void 0===dn?void 0:dn.dataService)?this.store.dispatch(new Vl(this.part,this.defaultLocale)).pipe((0,ge.U)(()=>({ok:!0}))):(0,Mo.of)({ok:!1})}),(0,Co.b)(kt=>!!kt.ok&&this.loadItems())),this.data$=this.store.select(kt=>kt.dashboard_database).pipe((0,le.h)(kt=>{var dn,Ln;return!!(null===(dn=kt[this.part.name])||void 0===dn?void 0:dn.counting)&&!!(null===(Ln=kt[this.part.name])||void 0===Ln?void 0:Ln.itemsByGroup)}),(0,ge.U)(kt=>{var dn,Ln;const Kn=kt[this.part.name];this.isListingLoading=!1;const Ti=(null===(dn=Kn.counting[this.type])||void 0===dn?void 0:dn[this.status])||1;return{totalPages:!Ti||Ti<1?1:Math.ceil(Ti/this.getViewPerPage()),listingStatuses:this.getStatuses(Kn.counting[this.type]||{}),groupItems:(null===(Ln=Kn.itemsByGroup)||void 0===Ln?void 0:Ln[`${this.type}:${this.status}:${this.pageNo}`])||[],fullItemsByOrigin:Kn.fullItemsByOrigin||{},searchQuery:Kn.searchQuery,searchItems:Kn.searchResult}})),this.localeCount=0}ngOnInit(){}changeType(p){this.type!==p&&(this.type=p,this.pageNo=1,this.loadItems())}changeStatus(p){this.status!==p&&(this.status=p,this.pageNo=1,this.loadItems())}search(p=""){this.part&&this.query&&this.query!==p&&(this.isListingLoading=!0,this.store.dispatch(new Tp(this.part,this.type,this.query,this.getViewPerPage())))}loadItemTranslations(p){this.part&&this.store.dispatch(new fd(this.part,p))}previousPage(){--this.pageNo,this.loadItems()}nextPage(){++this.pageNo,this.loadItems()}loadItems(){this.part&&(this.isListingLoading=!0,this.store.dispatch(new Bu(this.part,this.type,this.status,this.pageNo,this.getViewPerPage(),!0)))}getStatuses(p){return[{title:"Publish",value:"publish",count:0},{title:"Draft",value:"draft",count:0},{title:"Archive",value:"archive",count:0},{title:"Trash",value:"trash",count:0}].map(re=>(re.count=p[re.value]||0,re))}getViewPerPage(){return this.configService.getConfig().viewPerPage||15}}return _.\u0275fac=function(p){return new(p||_)(n.Y36(Vo.gz),n.Y36(Eo.yh),n.Y36(Cr.RC),n.Y36(Uu),n.Y36(Xd),n.Y36(pd))},_.\u0275cmp=n.Xpm({type:_,selectors:[["nguix-dashboard-list-page"]],decls:4,vars:4,consts:[["class","host ___dashboard page",4,"ngIf","ngIfElse"],["loadingView",""],[1,"host","___dashboard","page"],["class","main",4,"ngIf","ngIfElse"],["notFound",""],[1,"main"],[4,"ngIf"],[1,"head"],[1,"title"],[1,"statuses"],[4,"ngFor","ngForOf"],[1,"body"],["listingBar",""],[1,"headbar"],[4,"ngTemplateOutlet"],["class","type-filter",4,"ngIf"],[1,"listing","table-striped"],[1,"author"],[1,"comment"],[1,"icon-dark","icon-dashboard-comment"],[1,"date"],["colspan","42"],[1,"tfoot"],[1,"left"],[1,"button-outline-medium-sm",3,"disabled","click"],[1,"icon-medium-tint","icon-dashboard-left"],[1,"icon-medium-tint","icon-dashboard-right"],[1,"right"],[1,"footbar"],[1,"button-outline-primary",3,"usefulRouterLink","usefulRouteExtras"],[4,"ngIf","ngIfElse"],["inactiveStatus",""],["href","#",3,"click"],[1,"search"],["type","search","placeholder","ID or search query ...",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"button-primary",3,"disabled","click"],[1,"counter"],[1,"type-filter"],[3,"active",4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"],["class","icon-medium-tint",3,"class",4,"ngIf"],[1,"icon-medium-tint"],[1,"loading"],["class","locale",4,"ngIf"],[1,"major"],["class","label",3,"class",4,"ngIf"],[1,"actions"],[1,"detail"],[1,"mobile-detail"],["class","author",4,"ngIf"],["class","comment",4,"ngIf"],[1,"locale"],[1,"label"],[3,"usefulRouterLink"],[1,"edit"],[1,"copy"],[3,"usefulRouterLink","usefulRouteExtras"],[1,"archive"],[1,"trash"],[1,"preview"],[1,"unarchive"],[1,"restore"],["href","#"],["missingTranslations",""],["class","missing-item",4,"ngFor","ngForOf"],[1,"missing-item"],[1,"not-found"]],template:function(p,B){if(1&p&&(n.YNc(0,$s,4,2,"div",0),n.ALo(1,"async"),n.YNc(2,vl,2,0,"ng-template",null,1,n.W1O)),2&p){const re=n.MAs(3);n.Q6J("ngIf",n.lcZ(1,2,B.page$))("ngIfElse",re)}},directives:[Ki.O5,Ki.sg,Ki.tP,Cr.jY,Mr.Fj,Mr.JJ,Mr.On,gd],pipes:[Ki.Ov,Cr.RX,Ki.uU],styles:[".host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-right:1rem;text-transform:capitalize}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .statuses[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .statuses[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-right:1rem;margin-right:1rem;border-right:1px solid #8c8f94}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .statuses[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{margin-left:.5rem;font-style:normal;color:#8c8f94}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .statuses[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-right:none}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{margin-top:2rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;margin-top:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{display:flex;flex:1;flex-wrap:nowrap;align-items:center;margin-right:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:.25rem .5rem;margin-right:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.25rem .5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .footbar[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{margin-left:2rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .headbar[_ngcontent-%COMP%]{margin-bottom:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul.type-filter[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul.type-filter[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;height:2.5rem;align-items:center;padding:.25rem .5rem;text-decoration:none;color:#8c8f94;border:1px solid #8c8f94;border-bottom:none;border-left:none;background:#f0f0f1}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul.type-filter[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;margin-right:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul.type-filter[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:default;color:#1d2327;background:#fff;font-weight:600}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul.type-filter[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   a[_ngcontent-%COMP%]{border-left:1px solid #8c8f94}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{display:block}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:first-child{border:none;padding:0;margin-bottom:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:first-child   .locale[_ngcontent-%COMP%]{display:none}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:first-child   .major[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{background:#fff;border:1px solid #f0f0f1;padding:.5rem 1rem;margin-bottom:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .locale[_ngcontent-%COMP%]{display:block;color:#8c8f94;font-size:13px;text-transform:uppercase}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:11px;padding:1px 5px;margin-right:.5rem;text-transform:uppercase;border:1px solid #8c8f94;border-radius:3px}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .label.draft[_ngcontent-%COMP%]{border-color:#72aee6;color:#72aee6}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .label.archive[_ngcontent-%COMP%]{border-color:#1d2327;color:#1d2327}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   .label.trash[_ngcontent-%COMP%]{border-color:#d63638;color:#d63638}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   ul.actions[_ngcontent-%COMP%]{font-size:14px;display:flex;flex-wrap:nowrap}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   ul.actions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   ul.actions[_ngcontent-%COMP%]   li.trash[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#d63638}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   ul.actions[_ngcontent-%COMP%]   li.restore[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   ul.actions[_ngcontent-%COMP%]   li.unarchive[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a32a}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   ul.actions[_ngcontent-%COMP%]   li.detail[_ngcontent-%COMP%]{flex:1;margin-right:0;text-align:right}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   ul.actions[_ngcontent-%COMP%]   li.detail[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d2327}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .mobile-detail[_ngcontent-%COMP%]{display:none;font-size:13px;margin-top:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .mobile-detail.show[_ngcontent-%COMP%]{display:block}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .mobile-detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:3rem;color:#8c8f94;margin-right:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.title[_ngcontent-%COMP%]   .missing-item[_ngcontent-%COMP%]   .major[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:13px!important}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .tfoot[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .tfoot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .tfoot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .tfoot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .tfoot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:.5rem;padding:0;align-items:center;justify-content:center}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table.listing[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .tfoot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-top:1rem}"]}),_})()}];let qf=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Vo.Bz.forChild(su)],Vo.Bz]}),_})();var Hf=Object.freeze({__proto__:null,NguixDashboardListPageModule:(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Ki.ez,Mr.u5,Cr.Pf,Cr.kp,_d,qf]]}),_})()});let Dm=(()=>{class _{constructor(){this.htmlContent="",this.save=new n.vpe}ngOnInit(){}ready(p){p.on("Change",()=>this.save.emit(this.htmlContent))}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275cmp=n.Xpm({type:_,selectors:[["nguix-dashboard-html-editor"]],inputs:{htmlContent:"htmlContent"},outputs:{save:"save"},decls:1,vars:1,consts:[[3,"ngModel","ngModelChange","ready"]],template:function(p,B){1&p&&(n.TgZ(0,"tinymce",0),n.NdJ("ngModelChange",function(me){return B.htmlContent=me})("ready",function(me){return B.ready(me)}),n.qZA()),2&p&&n.Q6J("ngModel",B.htmlContent)},directives:[fc,Mr.JJ,Mr.On],styles:[""]}),_})(),jp=(()=>{class _{constructor(p){this.configService=p,this.schema=[],this.mode="table",this.save=new n.vpe,this.dataMatrix=[],this.dataRaw="",this.showUploader=!1}ngOnInit(){}ngOnChanges(){this.dataRaw=this.currentData?JSON.stringify(this.currentData,void 0,2):"";const p=this.currentData||("array"===this.type?[]:{});this.dataMatrix=(p instanceof Array?p:Object.keys(p).map(B=>p[B])).map(B=>(this.schema||[]).map(re=>this.getMatrixItem(re,B)))}openUploader(p,B){var re;(!p.value||confirm("Override current value?"))&&(this.uploadCallerData={schemaItem:p,imageCropping:p.itemMetas?null===(re=p.itemMetas[B[0].value||"$never"])||void 0===re?void 0:re.imageCropping:void 0},this.showUploader=!0)}uploadChanges(p){var B;if(this.uploadCallerData){const{uploadRetrieval:re="url"}=this.configService.getConfig(),me="path"===re?p.fullPath:p.downloadUrl;(null===(B=this.uploadCallerData)||void 0===B?void 0:B.schemaItem).value=me,this.uploadCallerData=void 0}}add(){this.dataMatrix.push((this.schema||[]).map(p=>this.getMatrixItem(p)))}remove(p){confirm("Remove item: "+(p+1))&&this.dataMatrix.splice(p,1)}submit(){const p=this.dataMatrix.map(B=>B.reduce((re,me)=>{if(null!=me.value){const je=me.value;re[me.name]=isNaN(je)?je:+je}return re},{}));return this.save.emit("array"===this.type?p:p.reduce((B,re)=>(B[re[this.recordKey||(this.schema?this.schema[0].name:"id")]]=re,B),{})),this.mode="table",!1}getMatrixItem(p,B={}){return Object.assign(Object.assign({},p),{value:B[p.name]||p.defaultValue})}}return _.\u0275fac=function(p){return new(p||_)(n.Y36(Uu))},_.\u0275cmp=n.Xpm({type:_,selectors:[["nguix-dashboard-json-editor"]],inputs:{type:"type",recordKey:"recordKey",schema:"schema",currentData:"currentData",mode:"mode"},outputs:{save:"save"},features:[n.TTD],decls:14,vars:10,consts:[[1,"host","___dashboard"],[1,"header"],[1,"left"],[1,"icon-medium-tint"],[1,"right"],[4,"ngIf"],["href","javascript:void(0)",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["viewMode",""],[3,"show","closeOnCompleted","imageCropping","close","done"],["href","javascript:void(0)",3,"click"],[1,"edit","container"],[1,"table-bordered"],[3,"required","style",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["colspan","42"],[1,"actions"],["href","javascript:void(0)",1,"button-outline-dark-sm",3,"click"],["href","javascript:void(0)",1,"button-primary-sm",3,"click"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"uploadable"],["href","#",1,"button-outline-primary-sm",3,"click"],["class","view-none",4,"ngIf","ngIfElse"],["hasData",""],[1,"view-none"],["class","view-table container",4,"ngIf"],["class","view-raw container",4,"ngIf"],[1,"view-table","container"],[1,"view-raw","container"]],template:function(p,B){if(1&p&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"strong"),n._UZ(4,"i",3),n.TgZ(5,"span"),n._uU(6),n.qZA(),n.qZA(),n.qZA(),n.TgZ(7,"div",4),n.YNc(8,jl,4,1,"ng-container",5),n.YNc(9,nl,2,0,"a",6),n.qZA(),n.qZA(),n.YNc(10,bp,21,2,"ng-container",7),n.YNc(11,Lh,3,2,"ng-template",null,8,n.W1O),n.qZA(),n.TgZ(13,"nguix-dashboard-uploader",9),n.NdJ("close",function(){return B.showUploader=!1,B.uploadCallerData=void 0})("done",function(me){return B.uploadChanges(me)}),n.qZA()),2&p){const re=n.MAs(12);n.xp6(4),n.Tol("record"===B.type?"icon-dashboard-record":"icon-dashboard-array"),n.xp6(2),n.Oqu("record"===B.type?"Record":"Array"),n.xp6(2),n.Q6J("ngIf","edit"!==B.mode),n.xp6(1),n.Q6J("ngIf","edit"===B.mode),n.xp6(1),n.Q6J("ngIf","edit"===B.mode)("ngIfElse",re),n.xp6(3),n.Q6J("show",B.showUploader)("closeOnCompleted",!0)("imageCropping",null==B.uploadCallerData?null:B.uploadCallerData.imageCropping)}},directives:[Ki.O5,Vf,Ki.sg,Mr.Fj,Mr.JJ,Mr.On,Mr.wV],styles:[".host[_ngcontent-%COMP%]{background:none}.host[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;overflow-x:scroll;overflow-y:hidden}.host[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400}.host[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.required[_ngcontent-%COMP%]{font-weight:700}.host[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 .25rem}.host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;margin-bottom:.5rem}.host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#8c8f94;font-weight:400}.host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.25rem}.host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{margin-left:1.5rem}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .uploadable[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .uploadable[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:.5rem}.host[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;margin-top:.5rem}.host[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .view-none[_ngcontent-%COMP%]{border:1px solid #8c8f94;color:#8c8f94;font-size:13px;padding:.5rem 1rem}.host[_ngcontent-%COMP%]   .view-raw[_ngcontent-%COMP%]{border:1px solid #8c8f94;padding:1rem}"]}),_})(),$h=(()=>{class _{constructor(){this.save=new n.vpe,this.isEdit=!1,this.hasData=!1,this.selectedData={},this.query="",this.isLoading=!1,this.items=[],this.contentType="default"}ngOnInit(){}ngOnChanges(){var p;this.contentType=(this.typeFilter||{})[this.activeType]||"default",this.preload&&(null===(p=this.destinationPart)||void 0===p?void 0:p.dataService)&&(this.preloadSubscription&&this.preloadSubscription.unsubscribe(),this.preloadSubscription=this.destinationPart.dataService.list(re=>{let me=re.where("type","==",this.contentType).where("status","==","publish");return!this.destinationPart.noI18n&&this.activeLocale&&(me=me.where("locale","==",this.activeLocale)),me.limit(this.preload)},{name:`Preload linking:\n                part=${this.destinationPart.name}\n                type=${this.contentType}\n                status=publish\n                locale=${this.activeLocale}`}).subscribe(re=>{this.items=re}));const B=Object.keys(this.currentData||{});this.hasData=!!B.length,this.selectedData=B.map(re=>Object.assign({},this.currentData[re])).reduce((re,me)=>(re[me.id]=Object.assign({},me),re),{})}ngOnDestroy(){this.preloadSubscription&&this.preloadSubscription.unsubscribe(),this.searchingSubscription&&this.searchingSubscription.unsubscribe()}loadItems(){var p;(null===(p=this.destinationPart)||void 0===p?void 0:p.dataService)&&(this.isLoading=!0,this.searchingSubscription&&this.searchingSubscription.unsubscribe(),this.searchingSubscription=(0,xs.aj)([this.destinationPart.dataService.get(this.query),this.destinationPart.dataService.setupSearching().pipe((0,As.w)(()=>this.destinationPart.dataService.search(this.query,5,"default"===this.contentType?void 0:this.contentType).list()))]).subscribe(([B,re])=>{this.isLoading=!1;const me=[];B&&me.push(B),me.push(...re);const je=[];this.items=me.filter(et=>{const kt=je.includes(et.id);return je.push(et.id),!kt})}))}addItem(p){if(!this.destinationPart.dataService)return;const B=this.destinationPart.dataService.getDataPickers(),re=Object.assign({},this.selectedData);re[p.id]=this.destinationPart.dataService.getLinkingFields().reduce((me,je)=>{const et=B[je]?B[je](p[je],p):p[je];return et&&(me[je]=et),me},{}),this.destinationPart.dataService.onLinking("create",p,this.getLinkingContext()),this.selectedData=re}removeItem(p){if(!this.destinationPart.dataService)return;const B=Object.assign({},this.selectedData);delete B[p.id],this.destinationPart.dataService.onLinking("delete",p,this.getLinkingContext()),this.selectedData=B}submit(){return this.isEdit=!1,this.save.emit(this.selectedData),!1}getLinkingContext(){return{collection:this.sourcePart.dataService.name,data:this.getDataSnapshot()}}getDataSnapshot(){return Object.keys(this.formGroup.controls).reduce((p,B)=>{const me=this.formGroup.controls[B].value;return p[B]=isNaN(me)?me:+me,p},{})}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275cmp=n.Xpm({type:_,selectors:[["nguix-dashboard-link-editor"]],inputs:{formGroup:"formGroup",currentData:"currentData",sourcePart:"sourcePart",destinationPart:"destinationPart",preload:"preload",activeLocale:"activeLocale",activeType:"activeType",typeFilter:"typeFilter"},outputs:{save:"save"},features:[n.TTD],decls:4,vars:2,consts:[[1,"host","___dashboard"],[4,"ngIf","ngIfElse"],["noItems",""],["class","header",4,"ngIf"],["viewMode",""],[1,"header"],[1,"left"],[1,"icon-medium-tint"],[1,"right"],["href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)",3,"click"],[1,"edit"],[1,"selected"],[1,"title"],[1,"items"],[4,"ngFor","ngForOf"],[1,"available"],[1,"search"],["type","search","placeholder","ID or search query ...",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],["href","#",1,"button-primary-sm",3,"click"],["class","loading",4,"ngIf"],[1,"actions"],["href","javascript:void(0)",1,"button-outline-dark-sm",3,"click"],["href","#",1,"button-outline-dark-sm",3,"click"],["href","#",3,"click"],[1,"loading"],["class","view-none",4,"ngIf","ngIfElse"],["viewList",""],[1,"view-none"],[1,"view-list"]],template:function(p,B){if(1&p&&(n.TgZ(0,"div",0),n.YNc(1,kh,5,3,"ng-container",1),n.YNc(2,Sf,2,0,"ng-template",null,2,n.W1O),n.qZA()),2&p){const re=n.MAs(3);n.xp6(1),n.Q6J("ngIf",null==B.destinationPart?null:B.destinationPart.dataService)("ngIfElse",re)}},directives:[Ki.O5,Ki.sg,Mr.Fj,Mr.JJ,Mr.On,gd],pipes:[Cr.ac],styles:[".host[_ngcontent-%COMP%]{background:none}.host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;margin-bottom:.5rem}.host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#8c8f94;margin-right:1.5rem;font-weight:400}.host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.25rem}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{border:1px solid #8c8f94;background:#fff;display:flex;flex-wrap:nowrap}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{width:50%}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:.5rem;border-bottom:1px solid #8c8f94;font-weight:500}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .available[_ngcontent-%COMP%]{width:50%;border-left:1px solid #8c8f94}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .available[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding:.35rem .5rem;border-bottom:1px solid #8c8f94;display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .available[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:.25rem;font-size:13px;margin-right:.5rem}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .available[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.35rem .5rem}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{list-style:none;margin:0;width:100%;height:150px;overflow-x:hidden;overflow-y:scroll;padding:.5rem}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   li.loading[_ngcontent-%COMP%]{padding:1rem;display:flex;align-items:center;justify-content:center}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{padding:0 .25rem;margin-right:.5rem}.host[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;margin-top:.5rem}.host[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .view-none[_ngcontent-%COMP%]{border:1px solid #8c8f94;color:#8c8f94;font-size:13px;padding:.5rem 1rem}.host[_ngcontent-%COMP%]   .view-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;border:1px solid #8c8f94;background:#fff}.host[_ngcontent-%COMP%]   .view-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem;border-bottom:1px solid #f0f0f1}.host[_ngcontent-%COMP%]   .view-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}"]}),_})(),Gf=(()=>{class _{constructor(){this.currentData=[],this.save=new n.vpe}set tagifyEl(p){setTimeout(()=>{this.tagifyInstance=new sf(p.nativeElement),this.tagifyInstance.addTags(this.currentData)},0)}ngOnInit(){}ngOnDestroy(){this.tagifyInstance.destroy()}onChanges(){this.save.emit(this.tagifyInstance.getCleanValue().map(p=>p.value))}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275cmp=n.Xpm({type:_,selectors:[["nguix-dashboard-list-editor"]],viewQuery:function(p,B){if(1&p&&n.Gf(Ta,5),2&p){let re;n.iGM(re=n.CRH())&&(B.tagifyEl=re.first)}},inputs:{currentData:"currentData"},outputs:{save:"save"},decls:3,vars:0,consts:[[1,"host","__dashboard"],["type","text",3,"change"],["tagify",""]],template:function(p,B){1&p&&(n.TgZ(0,"div",0),n.TgZ(1,"input",1,2),n.NdJ("change",function(){return B.onChanges()}),n.qZA(),n.qZA())},styles:[""]}),_})(),zf=(()=>{class _{constructor(p,B,re,me,je,et,kt,dn,Ln){this.route=p,this.store=B,this.formBuilder=re,this.navService=me,this.settingService=je,this.userService=et,this.configService=kt,this.dashboardService=dn,this.dataService=Ln,this.lockdown=!1,this.submitText="Submit",this.activeType="default",this.activeLocale="en-US",this.isNew=!1,this.isCopy=!1,this.isTranslate=!1,this.prioritizedData={},this.showUploader=!1,this.activeDescriptions={},this.page$=(0,xs.aj)([this.route.params,this.route.data,this.route.queryParams]).pipe((0,As.w)(([Kn,Ti,Hi])=>{var Oi,Li;return this.lockdown=!1,this.itemId=Kn.id,this.prioritizedData=Hi,this.part=this.dashboardService.getPart(Kn.part),this.isCopy=Ti.copy,this.isNew=!this.itemId||this.isCopy,this.isTranslate=!(null===(Oi=this.part)||void 0===Oi?void 0:Oi.noI18n)&&this.isCopy&&this.prioritizedData.locale,(null===(Li=this.part)||void 0===Li?void 0:Li.dataService)?(this.itemId?this.part.dataService.get(this.itemId,!1):(0,Mo.of)(void 0)).pipe((0,ge.U)(Zi=>{var Lr,$r,Nr,Hr;this.databaseItem=Zi,this.activeType=(null===(Lr=this.databaseItem)||void 0===Lr?void 0:Lr.type)||this.prioritizedData.type||this.activeType,this.activeLocale=(null===($r=this.databaseItem)||void 0===$r?void 0:$r.locale)||this.prioritizedData.locale||this.settingService.defaultLocale||this.activeLocale,this.submitText=this.getSubmitText(this.isCopy||!(null===(Nr=this.databaseItem)||void 0===Nr?void 0:Nr.status)?"draft":null===(Hr=this.databaseItem)||void 0===Hr?void 0:Hr.status);const Do=this.part,Po=this.getFormSchema(Do);return{data:{part:Do,formSchema:Po,formGroup:this.getFormGroup(Po,this.databaseItem)}}})):(0,Mo.of)({data:void 0})}),(0,Co.b)(({data:Kn})=>{var Ti,Hi,Oi,Li,Zi;if(!Kn)return;const Lr=null===(Ti=Kn.formGroup)||void 0===Ti?void 0:Ti.get("status");Lr&&(this.statusChangesSubscription=Lr.valueChanges.subscribe(Po=>{this.submitText=this.getSubmitText(Po)}));const $r=null===(Hi=Kn.formGroup)||void 0===Hi?void 0:Hi.get("title");$r&&(this.titleChangesSubscription=$r.valueChanges.subscribe(Po=>{var Fo;const Rs=null===(Fo=Kn.formGroup)||void 0===Fo?void 0:Fo.get("id");Rs&&this.isNew&&(Rs.setValue(this.slugify(Po)),Rs.markAsDirty())}));const Nr=null===(Oi=Kn.formGroup)||void 0===Oi?void 0:Oi.get("id");Nr&&(this.idChangesSubscription=Nr.valueChanges.subscribe(Po=>{var Fo,Rs,uc;const Ra=this.settingService.defaultLocale,sh=(null===(Rs=null===(Fo=Kn.formGroup)||void 0===Fo?void 0:Fo.get("locale"))||void 0===Rs?void 0:Rs.value)||Ra,_c=null===(uc=Kn.formGroup)||void 0===uc?void 0:uc.get("origin");_c&&sh===Ra&&(_c.setValue(Po),_c.markAsDirty())}));const Hr=null===(Li=Kn.formGroup)||void 0===Li?void 0:Li.get("locale");Hr&&(this.localeChangesSubscription=Hr.valueChanges.subscribe(Po=>this.activeLocale=Po));const Do=null===(Zi=Kn.formGroup)||void 0===Zi?void 0:Zi.get("type");Do&&(this.typeChangesSubscription=Do.valueChanges.subscribe(Po=>this.activeType=Po))}))}ngOnInit(){}ngOnDestroy(){this.idChangesSubscription&&this.idChangesSubscription.unsubscribe(),this.titleChangesSubscription&&this.titleChangesSubscription.unsubscribe(),this.statusChangesSubscription&&this.statusChangesSubscription.unsubscribe(),this.localeChangesSubscription&&this.localeChangesSubscription.unsubscribe(),this.typeChangesSubscription&&this.typeChangesSubscription.unsubscribe()}checkboxChanges(p,B,re,me,je){me.checked=je.target.checked;const et=re.filter(dn=>dn.checked).map(dn=>dn.name),kt=B.get(p.name);kt&&(kt.setValue(et),kt.markAsDirty())}radioChanges(p,B,re,me){const je=me.value;re.forEach(kt=>{kt.selected=kt.value===je});const et=B.get(p.name);et&&(et.setValue(je),et.markAsDirty())}openUploader(p,B,re){var me;(!(null===(me=B.get(p.name))||void 0===me?void 0:me.value)||confirm("Override current value?"))&&(this.uploadCallerData={schema:p,formGroup:B,imageCropping:re},this.showUploader=!0)}uploadChanges(p){if(this.uploadCallerData){const{schema:B,formGroup:re}=this.uploadCallerData,{uploadRetrieval:me="url"}=this.configService.getConfig(),je="path"===me?p.fullPath:p.downloadUrl,et=re.get(B.name);et&&(et.setValue(je),et.markAsDirty(),this.uploadCallerData=void 0)}}htmlChanges(p,B,re){const me=B.get(p.name);me&&(me.setValue(re),me.markAsDirty())}jsonChanges(p,B,re){p.meta.currentData=re;const me=B.get(p.name);me&&(me.setValue(re),me.markAsDirty())}linkChanges(p,B,re){p.meta.currentData=re;const me=B.get(p.name);me&&(me.setValue(re),me.markAsDirty())}listChanges(p,B,re){p.meta.currentData=re;const me=B.get(p.name);me&&(me.setValue(re),me.markAsDirty())}submit(p,B){this.lockdown=!0;const re=Object.keys(B.controls).reduce((je,et)=>{const kt=B.controls[et];if(kt.dirty){const dn=kt.value;je[et]=isNaN(dn)?dn:+dn}return je},{});this.isNew&&(re.uid=this.userService.uid,re.createdAt=(new Date).toISOString(),re.updatedAt=re.createdAt);const me=this.isNew?"create":"update";return p.formHandler?p.formHandler({mode:me,data:re},B):p.dataService?"create"===me?this.dataService.createItem(p,re,()=>{this.lockdown=!1,this.navService.navigate(["app-dashboard","edit",p.name,re.id])},je=>{this.lockdown=!1,alert(je.message)}):"update"===me&&this.databaseItem?(["uid","id","type","createdAt","locale","ogirin"].forEach(je=>{delete re[je]}),this.dataService.updateItem(p,this.databaseItem,re,()=>{this.lockdown=!1},je=>{this.lockdown=!1,alert(je.message)})):alert("No default action for mode: "+me):alert("No form handler nor data service for this part.")}remove(p,B){return this.dataService.removePermanently(p,B,re=>{null!==re&&this.navService.navigate(["app-dashboard","new",p.name])})}getSubmitText(p){return this.isNew?"publish"===p?"Publish now":"draft"===p?"Save draft":"New":"publish"===p?"Update now":"draft"===p?"Save draft":"Update"}getFormSchema(p){var B,re,me;if(p.formSchema){const je=p.formSchema.map(et=>Object.assign({},et));return this.isNew&&!p.noI18n&&(je.unshift(Object.assign(Object.assign({},vr.origin),{disabled:!this.isNew||this.isTranslate})),je.unshift(Object.assign(Object.assign({},vr.locale),{disabled:!this.isNew||this.isTranslate,defaultValue:this.settingService.defaultLocale}))),this.isNew&&je.unshift(Object.assign(Object.assign({},vr.type),{disabled:!this.isNew||this.isTranslate||(null===(B=this.part)||void 0===B?void 0:B.contentTypes)&&(null===(re=this.part)||void 0===re?void 0:re.contentTypes.length)<=1})),this.isNew&&je.unshift(Object.assign(Object.assign({},vr.id),{disabled:!this.isNew})),je.unshift(vr.title),(this.isNew||"draft"===(null===(me=this.databaseItem)||void 0===me?void 0:me.status))&&je.push(vr.status),je}return[]}getFormGroup(p,B){const re={};return p.forEach(me=>{var je,et,kt,dn;const{name:Ln,defaultValue:Kn,disabled:Ti,validators:Hi}=me,Oi=B&&B[Ln]?B[Ln]:"";let Li=!1;const Zi=new Mr.NI(Ti?{value:Oi,disabled:Ti}:Oi,Hi||[]);!Oi&&null!=Kn&&(Zi.setValue(Kn),Li=!0),Oi&&this.isCopy&&("id"===Ln&&Zi.setValue(this.prioritizedData.locale?Oi+"-"+this.prioritizedData.locale.toLowerCase():Oi+"-copy"),"title"===Ln&&Zi.setValue(this.prioritizedData.locale?Oi:Oi+" Copy"),"origin"===Ln&&Zi.setValue(this.prioritizedData.locale?Oi:Oi+"-copy"),"status"===Ln&&Zi.setValue("draft"),Li=!0),"type"===Ln&&!Oi&&(null===(je=this.part)||void 0===je?void 0:je.contentTypes)&&(null===(kt=null===(et=this.part)||void 0===et?void 0:et.contentTypes)||void 0===kt?void 0:kt.length)>0&&(Zi.setValue(null===(dn=this.part)||void 0===dn?void 0:dn.contentTypes[0].value),Li=!0),this.prioritizedData[Ln]&&(Zi.setValue(this.prioritizedData[Ln]),Li=!0),(Li||this.isCopy&&Oi)&&Zi.markAsDirty(),re[Ln]=Zi,this.processSchemaData(me,this.prioritizedData[Ln]||Oi)}),this.formBuilder.group(re)}processSchemaData(p,B){const{type:re,children:me,selections:je}=p;if("checkbox"===re&&B&&me&&me.forEach(et=>et.checked=-1!==B.indexOf(et.value)),("radio"===re||"select"===re)&&B&&je&&je.forEach(et=>et.selected=B===et.value),"content"===re){const et=!!this.configService.getConfig().allowDirectContent;p.meta={allowDirect:et},B&&"http"!==B.substr(0,4)?(p.meta.isDirect=!0,p.meta.contentHtml=B):(p.meta.isDirect=!1,p.meta.contentHtml="<p></p>")}if("html"===re&&(p.meta={htmlContent:B}),"json"===re&&p.meta&&(p.meta.currentData=B||p.meta.defaultData),"link"===re&&p.meta&&p.meta.source){const et=this.dashboardService.getPart(p.meta.source);(null==et?void 0:et.dataService)&&(p.meta.part=et,p.meta.currentData=B)}"list"===re&&(p.meta={currentData:B})}slugify(p){return p.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-")}}return _.\u0275fac=function(p){return new(p||_)(n.Y36(Vo.gz),n.Y36(Eo.yh),n.Y36(Mr.qu),n.Y36(Cr.tZ),n.Y36(Cr.RC),n.Y36(Cr.KD),n.Y36(Uu),n.Y36(Xd),n.Y36(pd))},_.\u0275cmp=n.Xpm({type:_,selectors:[["nguix-dashboard-edit-page"]],decls:5,vars:7,consts:[["class","host ___dashboard page",4,"ngIf","ngIfElse"],["loadingView",""],[3,"show","closeOnCompleted","imageCropping","close","done"],[1,"host","___dashboard","page"],["class","main",4,"ngIf","ngIfElse"],["notFound",""],[1,"main"],[4,"ngIf"],[1,"head"],[1,"title"],[1,"body"],[3,"formGroup","ngSubmit","keydown.enter"],["theForm","ngForm"],[4,"ngFor","ngForOf"],[1,"actions"],["class","primary",4,"ngIf"],["class","secondary",4,"ngIf"],[1,"button-outline-primary",2,"margin-right",".5rem",3,"usefulRouterLink"],["class","button-outline-primary",3,"usefulRouterLink","usefulRouteExtras",4,"ngIf"],["class","button-outline-primary",3,"usefulRouterLink",4,"ngIf"],[1,"button-outline-primary",3,"usefulRouterLink","usefulRouteExtras"],[1,"button-outline-primary",3,"usefulRouterLink"],["class","item",3,"required",4,"ngIf"],[1,"item"],[1,"schema-label"],[1,"form-label",3,"for"],["href","#","class","desc-toggler",3,"click",4,"ngIf"],["class","schema-description",3,"active","innerHtml",4,"ngIf"],["class","schema-note",3,"innerHtml",4,"ngIf"],["href","#",1,"desc-toggler",3,"click"],[1,"schema-description",3,"innerHtml"],[1,"form-control",3,"id","type","formControlName","placeholder"],[1,"form-control",3,"id","formControlName","placeholder"],[1,"checkboxes"],["class","form-checkbox",4,"ngFor","ngForOf"],[1,"form-checkbox"],["type","checkbox",3,"checked","change"],[1,"radios"],["class","form-radio",4,"ngFor","ngForOf"],[1,"form-radio"],["type","radio",3,"checked","change"],[1,"form-select",3,"id","formControlName"],["value","0","disabled","true",4,"ngIf"],[3,"value","selected",4,"ngFor","ngForOf"],["value","0","disabled","true"],[3,"value","selected"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["value","publish"],["value","draft"],[1,"uploadable"],["type","text",1,"form-control",3,"id","formControlName","placeholder"],["href","#",1,"button-outline-primary",3,"click"],[1,"content-editor"],["class","toggler",4,"ngIf"],[4,"ngIf","ngIfElse"],["indirectContent",""],[1,"toggler"],[3,"htmlContent","save"],[3,"type","currentData","schema","recordKey","save"],[3,"formGroup","currentData","sourcePart","destinationPart","preload","activeLocale","activeType","typeFilter","save"],[3,"currentData","save"],[1,"schema-note",3,"innerHtml"],[1,"primary"],[1,"left"],["type","submit",1,"submit","button-primary",3,"disabled"],[1,"right"],["href","javascript:void(0)",1,"preview","button-outline-primary",3,"click"],[1,"secondary"],["href","javascript:void(0)",1,"archive","button-dark",3,"click"],["href","javascript:void(0)",1,"delete","button-outline-danger",3,"click"],["href","javascript:void(0)",1,"trash","button-danger",3,"click"],["href","javascript:void(0)",1,"unarchive","button-success",3,"click"],["href","javascript:void(0)",1,"trash","button-success",3,"click"],[1,"not-found"],[1,"loading"]],template:function(p,B){if(1&p&&(n.YNc(0,ku,4,2,"div",0),n.ALo(1,"async"),n.YNc(2,Qd,2,0,"ng-template",null,1,n.W1O),n.TgZ(4,"nguix-dashboard-uploader",2),n.NdJ("close",function(){return B.showUploader=!1,B.uploadCallerData=void 0})("done",function(me){return B.uploadChanges(me)}),n.qZA()),2&p){const re=n.MAs(3);n.Q6J("ngIf",n.lcZ(1,5,B.page$))("ngIfElse",re),n.xp6(4),n.Q6J("show",B.showUploader)("closeOnCompleted",!0)("imageCropping",null==B.uploadCallerData?null:B.uploadCallerData.imageCropping)}},directives:[Ki.O5,Vf,Mr._Y,Mr.JL,Mr.sg,Ki.sg,Cr.jY,Mr.Fj,Mr.JJ,Mr.u,Mr.EJ,Mr.YN,Mr.Kr,Dm,jp,$h,Gf,gd],pipes:[Ki.Ov],styles:[".host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-right:1rem;text-transform:capitalize}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin-top:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item.required[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:700}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .schema-label[_ngcontent-%COMP%]   a.desc-toggler[_ngcontent-%COMP%]{margin-left:.5rem;font-size:.75rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .schema-description[_ngcontent-%COMP%]{display:none;margin-bottom:1rem;margin-right:5rem;color:#8c8f94}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .schema-description.active[_ngcontent-%COMP%]{display:block}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100px}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{min-width:10rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .uploadable[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .uploadable[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .uploadable[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .content-editor.allow-direct[_ngcontent-%COMP%]{margin-top:-2rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .content-editor[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;justify-content:flex-end;width:100%;margin-bottom:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .content-editor[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .schema-note[_ngcontent-%COMP%]{margin-top:.25rem;font-weight:700;font-size:.75rem;color:#8c8f94}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:capitalize;margin-right:.5rem;margin-bottom:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{padding-top:1rem;margin-top:1rem;border-top:1px solid #8c8f94}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-top:1rem}"]}),_})(),Mg=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Ki.ez,Mr.u5,ps.y4,Cr.Pf,Gr]]}),_})(),Yf=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Ki.ez,Mr.u5,ps.y4,Cr.Pf,Cr.v6,_d]]}),_})(),Wf=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Ki.ez,Mr.u5,ps.y4,Yl.forRoot({baseURL:"//cdnjs.cloudflare.com/ajax/libs/tinymce/5.8.2/"}),Cr.Pf]]}),_})(),Og=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[]]}),_})();const Vp=[{path:"",component:zf}];let Sm=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Vo.Bz.forChild(Vp)],Vo.Bz]}),_})();var wg=Object.freeze({__proto__:null,NguixDashboardEditPageModule:(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[Ki.ez,Mr.UX,Cr.Pf,Mg,Yf,Wf,_d,Gr,Og,Sm]]}),_})()})},3971:(Se,Ze,X)=>{"use strict";X.r(Ze),X.d(Ze,{AccountComponent:()=>$c,ContentComponent:()=>Tc,FooterComponent:()=>Jo,Header2ndComponent:()=>Ki,HeaderComponent:()=>Bo,IconComponent:()=>Cs,ImageCropperComponent:()=>Dc,LoginComponent:()=>Eo,NavIndicatorComponent:()=>vs,NguixAccountComponentModule:()=>Ps,NguixAccountI18nComponentModule:()=>Mo,NguixContentComponentModule:()=>Ys,NguixFooterComponentModule:()=>xo,NguixFooterI18nComponentModule:()=>Bs,NguixHeader2ndComponentModule:()=>jo,NguixHeader2ndI18nComponentModule:()=>Al,NguixHeaderComponentModule:()=>Ar,NguixHeaderI18nComponentModule:()=>es,NguixIconComponentModule:()=>bs,NguixImageCropperComponentModule:()=>Ss,NguixLoginComponentModule:()=>Ko,NguixLoginI18nComponentModule:()=>Mr,NguixNavIndicatorComponentModule:()=>Us,NguixNavIndicatorI18nComponentModule:()=>Vo,NguixOauthPopupPageModule:()=>xe,NguixOopsComponentModule:()=>Zo,NguixOopsI18nComponentModule:()=>js,NguixOopsPageModule:()=>le,NguixPostComponentModule:()=>Xa,NguixPostI18nComponentModule:()=>ic,NguixPostsComponentModule:()=>Ms,NguixPostsI18nComponentModule:()=>xs,NguixPrivacyPageModule:()=>Vn,NguixPwaBoxComponentModule:()=>zs,NguixPwaBoxI18nComponentModule:()=>ps,NguixPwaReminderComponentModule:()=>ys,NguixPwaReminderI18nComponentModule:()=>Cr,NguixRegisterComponentModule:()=>$o,NguixRegisterI18nComponentModule:()=>lo,NguixSettingI18nPageModule:()=>rc,NguixSettingPageModule:()=>ts,NguixShareComponentModule:()=>Wa,NguixSkeletonVideosComponentModule:()=>Wo,NguixSpinnerComponentModule:()=>Kr,NguixStarterI18nModule:()=>As,NguixStarterModule:()=>Sc,NguixTabsComponentModule:()=>ko,NguixTabsI18nComponentModule:()=>_a,NguixTermsPageModule:()=>Nn,NguixVideoComponentModule:()=>ga,NguixVideoPlayerComponentModule:()=>nc,NguixVideosComponentModule:()=>ec,NguixVideosI18nComponentModule:()=>Co,OauthPopupPage:()=>De,OopsComponent:()=>Fs,OopsPage:()=>Os,PostComponent:()=>hc,PostsComponent:()=>Va,PrivacyPage:()=>vi,PwaBoxComponent:()=>Yo,PwaReminderComponent:()=>Xs,RegisterComponent:()=>vc,SettingPage:()=>ai,ShareComponent:()=>Zc,SkeletonVideosComponent:()=>qc,SpinnerComponent:()=>Ds,TabsComponent:()=>Lo,TermsPage:()=>ht,VideoComponent:()=>pa,VideoPlayerComponent:()=>tc,VideosComponent:()=>yc});var n=X(7716),te=X(8583),Oe=X(8394),we=X(2582),Fe=X(1841),Ue=X(5478),He=X(8002),nt=(X(8049),X(9075));const Be=["*"];var Qe=(()=>{return(k=Qe||(Qe={})).LineHighlight="line-highlight",k.LineNumbers="line-numbers",Qe;var k})();class Ot{}const Mt=new n.OlP("SECURITY_CONTEXT");let ce=(()=>{class k{constructor(q,Pe,rt,Jt,Mn){this.platform=q,this.securityContext=Pe,this.http=rt,this.sanitizer=Mn,this.initialMarkedOptions={renderer:new Ue.Renderer},this.options=Jt}get options(){return this._options}set options(q){this._options=Object.assign(Object.assign({},this.initialMarkedOptions),q)}get renderer(){return this.options.renderer}set renderer(q){this.options.renderer=q}compile(q,Pe=!1,rt=!1,Jt=this.options){const Mn=this.trimIndentation(q),Bi=Pe?this.decodeHtml(Mn):Mn,ir=rt?this.renderEmoji(Bi):Bi,ki=Ue.parse(ir,Jt);return this.sanitizer.sanitize(this.securityContext,ki)||""}getSource(q){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(q,{responseType:"text"}).pipe((0,He.U)(Pe=>this.handleExtension(q,Pe)))}highlight(q){if((0,te.NF)(this.platform)&&"undefined"!=typeof Prism){q||(q=document);const Pe=q.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(Pe,rt=>rt.classList.add("language-none")),Prism.highlightAllUnder(q)}}renderKatex(q,Pe){if(!(0,te.NF)(this.platform))return q;if("undefined"==typeof katex||void 0===katex.renderToString)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");return q.replace(/\$([^\s][^$]*?[^\s])\$/gm,(rt,Jt)=>katex.renderToString(Jt,Pe))}decodeHtml(q){if(!(0,te.NF)(this.platform))return q;const Pe=document.createElement("textarea");return Pe.innerHTML=q,Pe.value}handleExtension(q,Pe){const rt=q?q.split("?")[0].split(".").splice(-1).join():"";return"md"!==rt?"```"+rt+"\n"+Pe+"\n```":Pe}renderEmoji(q){if(!(0,te.NF)(this.platform))return q;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(q)}trimIndentation(q){if(!q)return"";let Pe;return q.split("\n").map(rt=>{let Jt=Pe;return rt.length>0&&(Jt=isNaN(Jt)?rt.search(/\S|$/):Math.min(rt.search(/\S|$/),Jt)),isNaN(Pe)&&(Pe=Jt),Jt?rt.substring(Jt):rt}).join("\n")}}return k.\u0275fac=function(q){return new(q||k)(n.LFG(n.Lbi),n.LFG(Mt),n.LFG(Fe.eN,8),n.LFG(Ot,8),n.LFG(nt.H7))},k.\u0275prov=n.Yz7({token:k,factory:k.\u0275fac}),k})(),ve=(()=>{class k{constructor(q,Pe){this.element=q,this.markdownService=Pe,this.error=new n.vpe,this.load=new n.vpe,this.ready=new n.vpe,this._emoji=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1}get emoji(){return this._emoji}set emoji(q){this._emoji=this.coerceBooleanProperty(q)}get katex(){return this._katex}set katex(q){this._katex=this.coerceBooleanProperty(q)}get lineHighlight(){return this._lineHighlight}set lineHighlight(q){this._lineHighlight=this.coerceBooleanProperty(q)}get lineNumbers(){return this._lineNumbers}set lineNumbers(q){this._lineNumbers=this.coerceBooleanProperty(q)}ngOnChanges(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion()}render(q,Pe=!1){let rt=this.markdownService.compile(q,Pe,this.emoji);rt=this.katex?this.markdownService.renderKatex(rt,this.katexOptions):rt,this.element.nativeElement.innerHTML=rt,this.handlePlugins(),this.markdownService.highlight(this.element.nativeElement),this.ready.emit()}coerceBooleanProperty(q){return null!=q&&"false"!=`${String(q)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe(q=>{this.render(q),this.load.emit(q)},q=>this.error.emit(q))}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Qe.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(q,Pe){const rt=q.querySelectorAll("pre");for(let Jt=0;Jt<rt.length;Jt++){const Mn=Pe instanceof Array?Pe:[Pe];rt.item(Jt).classList.add(...Mn)}}setPluginOptions(q,Pe){const rt=q.querySelectorAll("pre");for(let Jt=0;Jt<rt.length;Jt++)Object.keys(Pe).forEach(Mn=>{const Bi=Pe[Mn];if(Bi){const ir=this.toLispCase(Mn);rt.item(Jt).setAttribute(ir,Bi.toString())}})}toLispCase(q){const Pe=q.match(/([A-Z])/g);if(!Pe)return q;let rt=q.toString();for(let Jt=0,Mn=Pe.length;Jt<Mn;Jt++)rt=rt.replace(new RegExp(Pe[Jt]),"-"+Pe[Jt].toLowerCase());return"-"===rt.slice(0,1)&&(rt=rt.slice(1)),rt}}return k.\u0275fac=function(q){return new(q||k)(n.Y36(n.SBq),n.Y36(ce))},k.\u0275cmp=n.Xpm({type:k,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start"},outputs:{error:"error",load:"load",ready:"ready"},features:[n.TTD],ngContentSelectors:Be,decls:1,vars:0,template:function(q,Pe){1&q&&(n.F$t(),n.Hsn(0))},encapsulation:2}),k})(),bt=(()=>{class k{static forRoot(q){return{ngModule:k,providers:[ce,q&&q.loader||[],q&&q.markedOptions||[],{provide:Mt,useValue:q&&null!=q.sanitize?q.sanitize:n.q3G.HTML}]}}static forChild(){return{ngModule:k}}}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({}),k})();X(4278),X(3150),X(202),X(8778),X(4387),X(3866),X(2917),X(8954);var wt=X(5917),Yt=X(2759),gn=X(739),kn=X(5304),Zn=X(4395),In=X(8939),Hn=X(8307),ni=X(3190),pi=X(3679),Fi=X(1674);function Un(k,ye,q,Pe){var Mn,rt=arguments.length,Jt=rt<3?ye:null===Pe?Pe=Object.getOwnPropertyDescriptor(ye,q):Pe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Jt=Reflect.decorate(k,ye,q,Pe);else for(var Bi=k.length-1;Bi>=0;Bi--)(Mn=k[Bi])&&(Jt=(rt<3?Mn(Jt):rt>3?Mn(ye,q,Jt):Mn(ye,q))||Jt);return rt>3&&Jt&&Object.defineProperty(ye,q,Jt),Jt}function mi(k,ye){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,ye)}var Rn=X(8229);function _n(){return window}function Pn(){return _n().YT}function En(){return Pn().Player}const Jn={height:270,width:367};let Yn=(()=>{let k=class{constructor(q){this.zone=q,this.ytApiLoaded=!1,this.api=new Rn.t(1),this.createApi()}loadPlayerApi(q){const Pe=_n().document;if(!this.ytApiLoaded){this.ytApiLoaded=!0;const rt=Pe.createElement("script");rt.type="text/javascript",rt.src=`${q.protocol}://www.youtube.com/iframe_api`,Pe.body.appendChild(rt)}}setupPlayer(q,Pe,rt,Jt="",Mn){this.api.subscribe(()=>{En&&this.createPlayer(q,Pe,rt,Jt,Mn)})}play(q){q.playVideo()}pause(q){q.pauseVideo()}playVideo(q,Pe){Pe.loadVideoById(q.id.videoId?q.id.videoId:q.id),this.play(Pe)}isPlaying(q){const Pe=q&&q.getPlayerState,rt=Pe?q.getPlayerState():{};return!!Pe&&rt!==Pn().PlayerState.ENDED&&rt!==Pn().PlayerState.PAUSED}createPlayer(q,Pe,rt,Jt="",Mn={}){const Bi={height:rt.height||Jn.height,width:rt.width||Jn.width};return new(En())(q,Object.assign(Object.assign({},Bi),{events:{onReady:ki=>{this.zone.run(()=>Pe.ready&&Pe.ready.next(ki.target))},onStateChange:ki=>{this.zone.run(()=>Pe.change&&Pe.change.next(ki))}},playerVars:Mn,videoId:Jt}))}toggleFullScreen(q,Pe){let{height:rt,width:Jt}=Jn;Pe||(rt=window.innerHeight,Jt=window.innerWidth),q.setSize(Jt,rt)}generateUniqueId(){return Math.random().toString(35).substr(2,7)}createApi(){_n().onYouTubeIframeAPIReady=()=>{_n()&&this.api.next(Pn())}}};return k.\u0275fac=function(q){return new(q||k)(n.LFG(n.R0b))},k.\u0275prov=(0,n.Yz7)({factory:function(){return new k((0,n.LFG)(n.R0b))},token:k,providedIn:"root"}),k=Un([mi("design:paramtypes",[n.R0b])],k),k})(),ii=(()=>{let k=class{constructor(q,Pe,rt){this.playerService=q,this.elementRef=Pe,this.renderer=rt,this.videoId="",this.height=Jn.height,this.width=Jn.width,this.protocol=this.getProtocol(),this.playerVars={},this.ready=new n.vpe,this.change=new n.vpe}ngAfterContentInit(){const q=this.playerService.generateUniqueId(),Pe={height:this.height,width:this.width},rt=this.renderer.selectRootElement("#yt-player-ngx-component");this.renderer.setAttribute(rt,"id",q),this.playerService.loadPlayerApi({protocol:this.protocol}),this.playerService.setupPlayer(q,{change:this.change,ready:this.ready},Pe,this.videoId,this.playerVars)}getProtocol(){return window&&window.location?window.location.protocol.replace(":",""):"http"}};return k.\u0275fac=function(q){return new(q||k)(n.Y36(Yn),n.Y36(n.SBq),n.Y36(n.Qsj))},k.\u0275cmp=n.Xpm({type:k,selectors:[["youtube-player"]],inputs:{videoId:"videoId",height:"height",width:"width",protocol:"protocol",playerVars:"playerVars"},outputs:{ready:"ready",change:"change"},decls:1,vars:0,consts:[["id","yt-player-ngx-component"]],template:function(q,Pe){1&q&&n._UZ(0,"div",0)},encapsulation:2,changeDetection:0}),Un([(0,n.IIB)(),mi("design:type",Object)],k.prototype,"videoId",void 0),Un([(0,n.IIB)(),mi("design:type",Object)],k.prototype,"height",void 0),Un([(0,n.IIB)(),mi("design:type",Object)],k.prototype,"width",void 0),Un([(0,n.IIB)(),mi("design:type",String)],k.prototype,"protocol",void 0),Un([(0,n.IIB)(),mi("design:type",Object)],k.prototype,"playerVars",void 0),Un([(0,n.r_U)(),mi("design:type",Object)],k.prototype,"ready",void 0),Un([(0,n.r_U)(),mi("design:type",Object)],k.prototype,"change",void 0),k=Un([mi("design:paramtypes",[Yn,n.SBq,n.Qsj])],k),k})();var Rt;let ut=Rt=class{static forRoot(){return{ngModule:Rt,providers:[Yn]}}};ut.\u0275fac=function(ye){return new(ye||ut)},ut.\u0275mod=n.oAB({type:ut}),ut.\u0275inj=n.cJS({providers:[Yn],imports:[[]]});var $t=X(5987),zt=X(157);function Gt(k,ye){if(1&k&&(n.TgZ(0,"a",10),n._uU(1),n.qZA()),2&k){const q=n.oxw().$implicit,Pe=n.oxw().$implicit,rt=n.oxw();n.Q6J("usefulRouterLink",q.routerLink),n.xp6(1),n.Oqu(rt.i18n&&Pe(q.text||"")||q.text)}}function Tn(k,ye){if(1&k&&(n.TgZ(0,"a",11),n._uU(1),n.qZA()),2&k){const q=n.oxw().$implicit,Pe=n.oxw().$implicit,rt=n.oxw();n.Q6J("href",q.href,n.LSH)("target",q.target),n.xp6(1),n.Oqu(rt.i18n&&Pe(q.text||"")||q.text)}}function ti(k,ye){if(1&k&&(n.TgZ(0,"li"),n.YNc(1,Gt,2,2,"a",8),n.YNc(2,Tn,2,3,"ng-template",null,9,n.W1O),n.qZA()),2&k){const q=ye.$implicit,Pe=n.MAs(3);n.xp6(1),n.Q6J("ngIf",q.routerLink)("ngIfElse",Pe)}}const Fn=function(){return[""]};function Ni(k,ye){if(1&k&&(n.ynx(0),n.TgZ(1,"header",1),n.TgZ(2,"div",2),n.TgZ(3,"a",3),n.TgZ(4,"em"),n._UZ(5,"img",4),n.qZA(),n.TgZ(6,"span",5),n._uU(7),n.qZA(),n.qZA(),n.qZA(),n.TgZ(8,"ul",6),n.YNc(9,ti,4,2,"li",7),n.qZA(),n.qZA(),n.BQk()),2&k){const q=ye.$implicit,Pe=n.oxw();n.xp6(1),n.ekj("fixed",Pe.fixed),n.xp6(2),n.Q6J("usefulRouterLink",n.DdM(6,Fn)),n.xp6(2),n.Q6J("src",Pe.logo,n.LSH),n.xp6(2),n.Oqu(Pe.i18n&&q("NGUIX_HEADER.NAME")||Pe.NAME),n.xp6(2),n.Q6J("ngForOf",Pe.menuItems)}}function it(k,ye){if(1&k&&(n.TgZ(0,"a",6),n._uU(1),n.qZA()),2&k){const q=n.oxw().$implicit,Pe=n.oxw().$implicit,rt=n.oxw();n.Q6J("usefulRouterLink",q.routerLink),n.xp6(1),n.Oqu(rt.i18n&&Pe(q.text||"")||q.text)}}function Ct(k,ye){if(1&k&&(n.TgZ(0,"a",7),n._uU(1),n.qZA()),2&k){const q=n.oxw().$implicit,Pe=n.oxw().$implicit,rt=n.oxw();n.Q6J("href",q.href,n.LSH)("target",q.target),n.xp6(1),n.Oqu(rt.i18n&&Pe(q.text||"")||q.text)}}function dt(k,ye){if(1&k&&(n.TgZ(0,"li"),n.YNc(1,it,2,2,"a",4),n.YNc(2,Ct,2,3,"ng-template",null,5,n.W1O),n.qZA()),2&k){const q=ye.$implicit,Pe=n.MAs(3);n.xp6(1),n.Q6J("ngIf",q.routerLink)("ngIfElse",Pe)}}function We(k,ye){if(1&k&&(n.ynx(0),n.TgZ(1,"div",1),n.TgZ(2,"ul",2),n.YNc(3,dt,4,2,"li",3),n.qZA(),n.qZA(),n.BQk()),2&k){const q=n.oxw();n.xp6(1),n.ekj("fixed",q.fixed),n.xp6(2),n.Q6J("ngForOf",q.menuItems)}}const pt=function(k,ye){return{exact:k,also:ye}};function Ut(k,ye){if(1&k&&(n.TgZ(0,"li"),n.TgZ(1,"a",3),n._UZ(2,"i",4),n.TgZ(3,"span",5),n._uU(4),n.qZA(),n.qZA(),n.qZA()),2&k){const q=ye.$implicit,Pe=n.oxw().$implicit,rt=n.oxw();n.Tol(q.name),n.xp6(1),n.Q6J("usefulRouterLink",q.routerLink)("usefulRouterLinkActiveOptions",n.WLB(8,pt,"home"===q.name,q.activeAlso))("usefulRouterBackwardable",!1),n.xp6(1),n.Tol(q.icon),n.xp6(2),n.hij(" ",rt.i18n?Pe(q.shortText||q.text||"")||q.shortText||q.text:q.shortText||q.text," ")}}function st(k,ye){if(1&k&&(n.ynx(0),n.TgZ(1,"ul",1),n.YNc(2,Ut,5,11,"li",2),n.qZA(),n.BQk()),2&k){const q=n.oxw();n.xp6(1),n.ekj("fixed",q.fixed),n.xp6(1),n.Q6J("ngForOf",q.menuItems)}}function Ge(k,ye){if(1&k&&(n.TgZ(0,"li"),n.TgZ(1,"a",5),n._uU(2),n.qZA(),n.qZA()),2&k){const q=ye.$implicit,Pe=n.oxw().$implicit,rt=n.oxw();n.xp6(1),n.Q6J("href",q.href,n.LSH)("target",q.target)("usefulRouterLink",q.routerLink),n.xp6(1),n.Oqu(rt.i18n&&Pe(q.text||"")||q.text)}}function yt(k,ye){if(1&k&&(n.ynx(0),n.TgZ(1,"footer",1),n._UZ(2,"div",2),n.TgZ(3,"ul",3),n.YNc(4,Ge,3,4,"li",4),n.qZA(),n.qZA(),n.BQk()),2&k){const q=ye.$implicit,Pe=n.oxw();n.xp6(2),n.Q6J("innerHtml",Pe.i18n&&q("NGUIX_FOOTER.TEXT")||Pe.TEXT,n.oJD),n.xp6(2),n.Q6J("ngForOf",Pe.menuItems)}}function Bt(k,ye){if(1&k&&(n.ynx(0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n._UZ(3,"img",3),n.qZA(),n._UZ(4,"p",4),n.TgZ(5,"p"),n.TgZ(6,"a",5),n._uU(7),n.qZA(),n.qZA(),n.qZA(),n.BQk()),2&k){const q=ye.$implicit,Pe=n.oxw();n.xp6(3),n.Q6J("src",Pe.image,n.LSH),n.xp6(1),n.Q6J("innerHtml",Pe.i18n&&q("NGUIX_OOPS.CONTENT")||Pe.CONTENT,n.oJD),n.xp6(2),n.Q6J("usefulRouterLink",Pe.actionLink),n.xp6(1),n.Oqu(Pe.i18n&&q("NGUIX_OOPS.ACTION_TEXT")||Pe.ACTION_TEXT)}}function Cn(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"div",2),n.TgZ(1,"div",3),n.NdJ("click",function(){return n.CHM(q),n.oxw(2).navService.hideLoadingIndicator()}),n._UZ(2,"img",4),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.qZA(),n.qZA()}if(2&k){const q=n.oxw().$implicit,Pe=n.oxw();n.ekj("show",Pe.navService.loading),n.xp6(2),n.Q6J("src",Pe.icon,n.LSH),n.xp6(2),n.Oqu(Pe.i18n&&q("NGUIX_NAV_INDICATOR.TEXT")||Pe.TEXT)}}function wn(k,ye){if(1&k&&(n.ynx(0),n.YNc(1,Cn,5,4,"div",1),n.BQk()),2&k){const q=n.oxw();n.xp6(1),n.Q6J("ngIf",q.navService)}}function ei(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"div",2),n.TgZ(1,"div",3),n._UZ(2,"img",4),n.TgZ(3,"div",5),n.TgZ(4,"strong"),n._uU(5),n.qZA(),n.TgZ(6,"span"),n._uU(7),n.qZA(),n.qZA(),n.TgZ(8,"button",6),n.NdJ("click",function(){return n.CHM(q),n.oxw(2).pwaService.hideReminder()}),n._uU(9,"\u2715"),n.qZA(),n.qZA(),n.TgZ(10,"div",7),n._UZ(11,"div",8),n.qZA(),n.TgZ(12,"div",9),n.TgZ(13,"button",10),n.NdJ("click",function(){return n.CHM(q),n.oxw(2).pwaService.dismissReminder()}),n._uU(14),n.qZA(),n.TgZ(15,"button",11),n.NdJ("click",function(){return n.CHM(q),n.oxw(2).pwaService.hideReminder()}),n._uU(16),n.qZA(),n.qZA(),n.qZA()}if(2&k){const q=n.oxw().$implicit,Pe=n.oxw();n.Tol(Pe.pwaService.runtime),n.ekj("show",Pe.pwaService.reminderShowed)("annoyed",Pe.pwaService.reminderCount>=Pe.pwaService.reminderAnnoying),n.xp6(2),n.Q6J("src",Pe.icon,n.LSH),n.xp6(3),n.Oqu(Pe.i18n&&q("NGUIX_PWA_REMINDER.TITLE")||Pe.TITLE),n.xp6(2),n.Oqu(Pe.i18n&&q("NGUIX_PWA_REMINDER.TEXT")||Pe.TEXT),n.xp6(4),n.Tol(Pe.pwaService.runtime+"-message"),n.Q6J("innerHtml",Pe.i18n&&q(Pe.i18nMessageCode)||Pe.message,n.oJD),n.xp6(3),n.Oqu(Pe.i18n&&q("NGUIX_PWA_REMINDER.DISMISS_TEXT")||Pe.DISMISS_TEXT),n.xp6(2),n.Oqu(Pe.i18n&&q("NGUIX_PWA_REMINDER.HIDE_TEXT")||Pe.HIDE_TEXT)}}function Pi(k,ye){if(1&k&&(n.ynx(0),n.YNc(1,ei,17,14,"div",1),n.BQk()),2&k){const q=n.oxw();n.xp6(1),n.Q6J("ngIf",q.pwaService&&!q.pwaService.installed)}}function wi(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"div",2),n.TgZ(1,"div",3),n.TgZ(2,"span",4),n._uU(3),n.qZA(),n.TgZ(4,"button",5),n.NdJ("click",function(){return n.CHM(q),n.oxw(2).dismiss.emit()}),n._uU(5,"\u2715"),n.qZA(),n.qZA(),n.TgZ(6,"div",6),n.NdJ("click",function(){return n.CHM(q),n.oxw(2).action.emit()}),n._UZ(7,"img",7),n.TgZ(8,"div",8),n.TgZ(9,"strong"),n._uU(10),n.qZA(),n.TgZ(11,"span"),n._uU(12),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&k){const q=n.oxw().$implicit,Pe=n.oxw();n.xp6(3),n.Oqu(Pe.i18n&&q("NGUIX_PWA_BOX.TITLE")||Pe.TITLE),n.xp6(4),n.Q6J("src",Pe.icon,n.LSH),n.xp6(3),n.Oqu(Pe.i18n&&q("NGUIX_PWA_BOX.NAME")||Pe.NAME),n.xp6(2),n.Oqu(Pe.i18n&&q("NGUIX_PWA_BOX.TAGLINE")||Pe.TAGLINE)}}function Si(k,ye){if(1&k&&(n.ynx(0),n.YNc(1,wi,13,4,"div",1),n.BQk()),2&k){const q=n.oxw();n.xp6(1),n.Q6J("ngIf",q.pwaService&&!q.pwaService.installed)}}function si(k,ye){if(1&k){const q=n.EpF();n.ynx(0),n.TgZ(1,"markdown",4),n.NdJ("ready",function(){return n.CHM(q),n.oxw(2).ready.emit()}),n.qZA(),n.BQk()}if(2&k){const q=ye.$implicit;n.xp6(1),n.Q6J("data",q)}}function Ri(k,ye){if(1&k&&(n.ynx(0),n.YNc(1,si,2,1,"ng-container",3),n.ALo(2,"async"),n.BQk()),2&k){const q=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,q.googleDoc))}}function tr(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"markdown",7),n.NdJ("load",function(rt){return n.CHM(q),n.oxw(2).load.emit(rt)})("error",function(rt){return n.CHM(q),n.oxw(2).error.emit(rt)}),n.qZA()}if(2&k){const q=n.oxw(2);n.Q6J("src",q.input)}}function rr(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"markdown",4),n.NdJ("ready",function(){return n.CHM(q),n.oxw(2).ready.emit()}),n.qZA()}if(2&k){const q=n.oxw(2);n.Q6J("data",q.input)}}function Vi(k,ye){if(1&k&&(n.YNc(0,tr,1,1,"markdown",5),n.YNc(1,rr,1,1,"ng-template",null,6,n.W1O)),2&k){const q=n.MAs(2),Pe=n.oxw();n.Q6J("ngIf",Pe.isExternal)("ngIfElse",q)}}function lr(k,ye){if(1&k&&(n.TgZ(0,"div",8),n._UZ(1,"div",9),n.qZA()),2&k){const q=n.oxw(3);n.xp6(1),n.Q6J("innerHtml",q.message,n.oJD)}}function Yr(k,ye){if(1&k){const q=n.EpF();n.ynx(0),n.TgZ(1,"form",10,11),n.NdJ("ngSubmit",function(){return n.CHM(q),n.oxw(3).signIn()}),n.TgZ(3,"label",12),n.TgZ(4,"span",13),n._uU(5),n.qZA(),n._UZ(6,"input",14),n.qZA(),n.TgZ(7,"div",12),n.TgZ(8,"div",15),n.TgZ(9,"label",16),n._uU(10),n.qZA(),n.TgZ(11,"a",17),n.NdJ("click",function(){return n.CHM(q),n.oxw(3).resetPassword(),!1}),n._uU(12),n.qZA(),n.qZA(),n._UZ(13,"input",18),n.qZA(),n.TgZ(14,"div",19),n.TgZ(15,"button",20),n._uU(16),n.qZA(),n.qZA(),n.qZA(),n.BQk()}if(2&k){const q=n.MAs(2),Pe=n.oxw(2).$implicit,rt=n.oxw();n.xp6(1),n.Q6J("formGroup",rt.loginFormGroup),n.xp6(4),n.Oqu(rt.i18n&&Pe("NGUIX_LOGIN.EMAIL_LABEL")||rt.EMAIL_LABEL),n.xp6(1),n.Q6J("placeholder",rt.i18n&&Pe("NGUIX_LOGIN.EMAIL_PLACEHOLDER")||rt.EMAIL_PLACEHOLDER),n.xp6(4),n.Oqu(rt.i18n&&Pe("NGUIX_LOGIN.PASSWORD_LABEL")||rt.PASSWORD_LABEL),n.xp6(2),n.Oqu(rt.i18n&&Pe("NGUIX_LOGIN.FORGOT_PASSWORD")||rt.FORGOT_PASSWORD),n.xp6(1),n.Q6J("placeholder",rt.i18n&&Pe("NGUIX_LOGIN.PASSWORD_PLACEHOLDER")||rt.PASSWORD_PLACEHOLDER),n.xp6(2),n.Q6J("disabled",!q.form.valid||rt.lockdown),n.xp6(1),n.Oqu(rt.i18n&&Pe("NGUIX_LOGIN.SUBMIT_TEXT")||rt.SUBMIT_TEXT)}}function Ur(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"button",23),n.NdJ("click",function(){return n.CHM(q),n.oxw(4).signInWithPopupForGoogle()}),n._UZ(1,"img",24),n.TgZ(2,"span"),n._uU(3,"Google"),n.qZA(),n.qZA()}if(2&k){const q=n.oxw(4);n.Q6J("disabled",q.lockdown)}}function ao(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"button",23),n.NdJ("click",function(){return n.CHM(q),n.oxw(4).signInWithPopupForFacebook()}),n._UZ(1,"img",25),n.TgZ(2,"span"),n._uU(3,"Facebook"),n.qZA(),n.qZA()}if(2&k){const q=n.oxw(4);n.Q6J("disabled",q.lockdown)}}function ct(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"button",23),n.NdJ("click",function(){return n.CHM(q),n.oxw(4).signInWithPopupForGithub()}),n._UZ(1,"img",26),n.TgZ(2,"span"),n._uU(3,"Github"),n.qZA(),n.qZA()}if(2&k){const q=n.oxw(4);n.Q6J("disabled",q.lockdown)}}function lt(k,ye){if(1&k&&(n.TgZ(0,"div",21),n.TgZ(1,"div",15),n._uU(2),n.qZA(),n.YNc(3,Ur,4,1,"button",22),n.YNc(4,ao,4,1,"button",22),n.YNc(5,ct,4,1,"button",22),n.qZA()),2&k){const q=n.oxw(2).$implicit,Pe=n.oxw();n.xp6(2),n.Oqu(Pe.i18n&&q("NGUIX_LOGIN.SOCIAL_TEXT")||Pe.SOCIAL_TEXT),n.xp6(1),n.Q6J("ngIf",Pe.isGoogleOauth&&Pe.authService.methodAllowedForGoogle),n.xp6(1),n.Q6J("ngIf",Pe.isFacebookOauth&&Pe.authService.methodAllowedForFacebook),n.xp6(1),n.Q6J("ngIf",Pe.isGithubOauth&&Pe.authService.methodAllowedForGithub)}}function $(k,ye){if(1&k&&(n.TgZ(0,"div",2),n.TgZ(1,"div",3),n.TgZ(2,"h3"),n._uU(3),n.qZA(),n.TgZ(4,"p"),n._uU(5),n.TgZ(6,"a",4),n._uU(7),n.qZA(),n.qZA(),n.qZA(),n.YNc(8,lr,2,1,"div",5),n.YNc(9,Yr,17,8,"ng-container",6),n.YNc(10,lt,6,4,"div",7),n.qZA()),2&k){const q=n.oxw().$implicit,Pe=n.oxw();n.xp6(3),n.Oqu(Pe.i18n&&q("NGUIX_LOGIN.SUBMIT_TEXT")||Pe.SUBMIT_TEXT),n.xp6(2),n.hij("",Pe.i18n&&q("NGUIX_LOGIN.REGISTER_DESCRIPTION")||Pe.REGISTER_DESCRIPTION,", "),n.xp6(1),n.Q6J("usefulRouterLink",Pe.registerRouterLink)("usefulRouterBackwardable",!0),n.xp6(1),n.Oqu(Pe.i18n&&q("NGUIX_LOGIN.REGISTER_TEXT")||Pe.REGISTER_TEXT),n.xp6(1),n.Q6J("ngIf",Pe.message),n.xp6(1),n.Q6J("ngIf",Pe.authService.methodAllowedForEmailPassword),n.xp6(1),n.Q6J("ngIf",Pe.withSocials)}}function ue(k,ye){if(1&k&&(n.ynx(0),n.YNc(1,$,11,8,"div",1),n.BQk()),2&k){const q=n.oxw();n.xp6(1),n.Q6J("ngIf",q.authService)}}function _e(k,ye){if(1&k&&(n.TgZ(0,"div",14),n._UZ(1,"div",15),n.qZA()),2&k){const q=n.oxw(2);n.xp6(1),n.Q6J("innerHtml",q.message,n.oJD)}}function Le(k,ye){if(1&k){const q=n.EpF();n.ynx(0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"h3"),n._uU(4),n.qZA(),n.TgZ(5,"p"),n._uU(6),n.TgZ(7,"a",3),n._uU(8),n.qZA(),n.qZA(),n.qZA(),n.YNc(9,_e,2,1,"div",4),n.TgZ(10,"form",5,6),n.NdJ("ngSubmit",function(){return n.CHM(q),n.oxw().signUp()}),n.TgZ(12,"label",7),n.TgZ(13,"span",8),n._uU(14),n.qZA(),n._UZ(15,"input",9),n.qZA(),n.TgZ(16,"label",7),n.TgZ(17,"span",8),n._uU(18),n.qZA(),n._UZ(19,"input",10),n.qZA(),n.TgZ(20,"label",7),n.TgZ(21,"span",8),n._uU(22),n.qZA(),n._UZ(23,"input",11),n.qZA(),n.TgZ(24,"div",12),n.TgZ(25,"button",13),n._uU(26),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.BQk()}if(2&k){const q=ye.$implicit,Pe=n.MAs(11),rt=n.oxw();n.xp6(4),n.Oqu(rt.i18n&&q("NGUIX_REGISTER.SUBMIT_TEXT")||rt.SUBMIT_TEXT),n.xp6(2),n.hij("",rt.i18n&&q("NGUIX_REGISTER.LOGIN_DESCRIPTION")||rt.LOGIN_DESCRIPTION,", "),n.xp6(1),n.Q6J("usefulRouterLink",rt.loginRouterLink)("usefulRouterBackwardable",!0),n.xp6(1),n.Oqu(rt.i18n&&q("NGUIX_REGISTER.LOGIN_TEXT")||rt.LOGIN_TEXT),n.xp6(1),n.Q6J("ngIf",rt.message),n.xp6(1),n.Q6J("formGroup",rt.registerFormGroup),n.xp6(4),n.Oqu(rt.i18n&&q("NGUIX_REGISTER.EMAIL_LABEL")||rt.EMAIL_LABEL),n.xp6(1),n.Q6J("placeholder",rt.i18n&&q("NGUIX_REGISTER.EMAIL_PLACEHOLDER")||rt.EMAIL_PLACEHOLDER),n.xp6(3),n.Oqu(rt.i18n&&q("NGUIX_REGISTER.PASSWORD_LABEL")||rt.PASSWORD_LABEL),n.xp6(1),n.Q6J("placeholder",rt.i18n&&q("NGUIX_REGISTER.PASSWORD_PLACEHOLDER")||rt.PASSWORD_PLACEHOLDER),n.xp6(3),n.Oqu(rt.i18n&&q("NGUIX_REGISTER.CONFIRM_PASSWORD_LABEL")||rt.CONFIRM_PASSWORD_LABEL),n.xp6(1),n.Q6J("placeholder",rt.i18n&&q("NGUIX_REGISTER.CONFIRM_PASSWORD_PLACEHOLDER")||rt.CONFIRM_PASSWORD_PLACEHOLDER),n.xp6(2),n.Q6J("disabled",!Pe.form.valid||rt.lockdown),n.xp6(1),n.Oqu(rt.i18n&&q("NGUIX_REGISTER.SUBMIT_TEXT")||rt.SUBMIT_TEXT)}}function Xe(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"a",10),n.NdJ("click",function(){return n.CHM(q),n.oxw(3).isEdit=!0,!1}),n._uU(1,"Edit"),n.qZA()}}function ft(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"label",11),n.TgZ(1,"input",12),n.NdJ("change",function(rt){return n.CHM(q),n.oxw(3).togglePublicly(rt)}),n.qZA(),n._UZ(2,"span",13),n.qZA()}if(2&k){const q=n.oxw(3);n.xp6(1),n.Q6J("checked",q.isPublicly)}}function Pt(k,ye){if(1&k&&(n.ynx(0),n.YNc(1,Xe,2,0,"a",8),n.YNc(2,ft,3,1,"label",9),n.BQk()),2&k){const q=n.oxw(2);n.xp6(1),n.Q6J("ngIf",q.editable&&q.value),n.xp6(1),n.Q6J("ngIf",q.showPubliclyToggler)}}function Wt(k,ye){if(1&k&&n._UZ(0,"p",17),2&k){const q=n.oxw(3);n.Q6J("innerHtml",q.value,n.oJD)}}function nn(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"a",18),n.NdJ("click",function(){return n.CHM(q),n.oxw(3).isEdit=!0,!1}),n._uU(1,"Click to edit"),n.qZA()}}function Je(k,ye){if(1&k&&(n.TgZ(0,"div",14),n.YNc(1,Wt,1,1,"p",15),n.YNc(2,nn,2,0,"ng-template",null,16,n.W1O),n.qZA()),2&k){const q=n.MAs(3),Pe=n.oxw(2);n.xp6(1),n.Q6J("ngIf",Pe.value)("ngIfElse",q)}}function Nt(k,ye){if(1&k){const q=n.EpF();n.ynx(0),n.TgZ(1,"input",24),n.NdJ("ngModelChange",function(rt){return n.CHM(q),n.oxw(4).currentValue=rt}),n.qZA(),n.BQk()}if(2&k){const q=n.oxw(4);n.xp6(1),n.Q6J("ngModel",q.currentValue)}}function mt(k,ye){if(1&k){const q=n.EpF();n.ynx(0),n.TgZ(1,"textarea",25),n.NdJ("ngModelChange",function(rt){return n.CHM(q),n.oxw(4).currentValue=rt}),n.qZA(),n.BQk()}if(2&k){const q=n.oxw(4);n.xp6(1),n.Q6J("ngModel",q.currentValue)}}function Qt(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"div",20),n.YNc(1,Nt,2,1,"ng-container",5),n.YNc(2,mt,2,1,"ng-container",5),n.TgZ(3,"div",21),n.TgZ(4,"div",3),n.TgZ(5,"button",22),n.NdJ("click",function(){return n.CHM(q),n.oxw(3).isEdit=!1}),n._uU(6,"Cancel"),n.qZA(),n.qZA(),n.TgZ(7,"div",4),n.TgZ(8,"button",23),n.NdJ("click",function(){return n.CHM(q),n.oxw(3).submit()}),n._uU(9,"Save"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&k){const q=n.oxw(3);n.xp6(1),n.Q6J("ngIf","text"===q.type),n.xp6(1),n.Q6J("ngIf","textarea"===q.type)}}function un(k,ye){if(1&k&&n.YNc(0,Qt,10,2,"div",19),2&k){const q=n.oxw(2);n.Q6J("ngIf",q.editable)}}function hn(k,ye){if(1&k&&(n.ynx(0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n._uU(4),n.qZA(),n.TgZ(5,"div",4),n.YNc(6,Pt,3,2,"ng-container",5),n.qZA(),n.qZA(),n.YNc(7,Je,4,2,"div",6),n.YNc(8,un,1,1,"ng-template",null,7,n.W1O),n.qZA(),n.BQk()),2&k){const q=ye.$implicit,Pe=n.MAs(9),rt=n.oxw();n.xp6(4),n.Oqu(rt.i18n&&q(rt.label)||rt.label),n.xp6(2),n.Q6J("ngIf",!rt.isEdit),n.xp6(1),n.Q6J("ngIf",!rt.isEdit)("ngIfElse",Pe)}}const $n=["cropper"];function Xn(k,ye){if(1&k){const q=n.EpF();n.ynx(0),n.TgZ(1,"nguix-image-cropper",10),n.NdJ("change",function(rt){return n.CHM(q),n.oxw(2).cropResult=rt}),n.qZA(),n.BQk()}if(2&k){const q=n.oxw(2);n.xp6(1),n.Q6J("url",q.fileDataUrl)("options",q.cropperOptions)("resultOptions",q.cropperResultOptions)}}function Ci(k,ye){if(1&k&&(n.ynx(0),n._UZ(1,"progress",11),n.ALo(2,"async"),n.BQk()),2&k){const q=n.oxw(2);n.xp6(1),n.Q6J("value",n.lcZ(2,1,q.uploading.uploadPercent$))}}function ui(k,ye){if(1&k){const q=n.EpF();n.ynx(0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n._uU(4,"Edit Avatar"),n.qZA(),n.TgZ(5,"div",4),n.TgZ(6,"a",5),n.NdJ("click",function(){return n.CHM(q),n.oxw().closeAndReset()}),n._uU(7,"Cancel"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(8,"div",6),n.YNc(9,Xn,2,3,"ng-container",7),n.qZA(),n.TgZ(10,"div",8),n.TgZ(11,"div",3),n.YNc(12,Ci,3,3,"ng-container",7),n.qZA(),n.TgZ(13,"div",4),n.TgZ(14,"button",9),n.NdJ("click",function(){return n.CHM(q),n.oxw().processAvatar()}),n._uU(15,"Change"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.BQk()}if(2&k){const q=n.oxw();n.xp6(1),n.ekj("show",!!q.file),n.xp6(8),n.Q6J("ngIf",q.fileDataUrl),n.xp6(3),n.Q6J("ngIf",q.uploading),n.xp6(2),n.Q6J("disabled",!q.cropResult||q.isProcessing||q.uploading)}}function yi(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"ul",8),n.TgZ(1,"li",9),n.NdJ("click",function(){return n.CHM(q),n.oxw().viewAvatar()}),n._UZ(2,"nguix-icon",10),n.TgZ(3,"span"),n._uU(4,"View Avatar"),n.qZA(),n.qZA(),n.TgZ(5,"li",11),n.TgZ(6,"label",12),n._UZ(7,"nguix-icon",13),n.TgZ(8,"span"),n._uU(9,"Change Avatar"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}}function Ui(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"div",14),n.TgZ(1,"nguix-account-avatar-editor",15),n.NdJ("close",function(){return n.CHM(q),n.oxw().avatarEditorFile=void 0})("done",function(rt){return n.CHM(q),n.oxw().handleAvatarChanged(rt)}),n.qZA(),n.qZA()}if(2&k){const q=n.oxw();n.xp6(1),n.Q6J("uid",q.uid)("file",q.avatarEditorFile)}}function ar(k,ye){if(1&k){const q=n.EpF();n.ynx(0),n.TgZ(1,"nguix-image-cropper",9),n.NdJ("change",function(rt){return n.CHM(q),n.oxw(2).cropResult=rt}),n.qZA(),n.BQk()}if(2&k){const q=n.oxw(2);n.xp6(1),n.Q6J("url",q.fileDataUrl)("options",q.cropperOptions)("resultOptions",q.cropperResultOptions)("noFrame",!0)}}function ur(k,ye){if(1&k&&(n.ynx(0),n._UZ(1,"progress",10),n.ALo(2,"async"),n.BQk()),2&k){const q=n.oxw(2);n.xp6(1),n.Q6J("value",n.lcZ(2,1,q.uploading.uploadPercent$))}}function gr(k,ye){if(1&k){const q=n.EpF();n.ynx(0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.YNc(3,ar,2,4,"ng-container",3),n.qZA(),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.YNc(6,ur,3,3,"ng-container",3),n.qZA(),n.TgZ(7,"div",6),n.TgZ(8,"button",7),n.NdJ("click",function(){return n.CHM(q),n.oxw().closeAndReset()}),n._uU(9,"Cancel"),n.qZA(),n.TgZ(10,"button",8),n.NdJ("click",function(){return n.CHM(q),n.oxw().processCover()}),n._uU(11,"Change"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.BQk()}if(2&k){const q=n.oxw();n.xp6(1),n.ekj("show",!!q.file),n.xp6(2),n.Q6J("ngIf",q.fileDataUrl),n.xp6(3),n.Q6J("ngIf",q.uploading),n.xp6(2),n.Q6J("disabled",q.isProcessing||q.uploading),n.xp6(2),n.Q6J("disabled",!q.cropResult||q.isProcessing||q.uploading)}}function mr(k,ye){if(1&k&&n._UZ(0,"source",14),2&k){const q=n.oxw(3);n.Q6J("srcset",q.images.xl.src,n.LSH)}}function Wr(k,ye){if(1&k&&n._UZ(0,"source",15),2&k){const q=n.oxw(3);n.Q6J("srcset",q.images.lg.src,n.LSH)}}function Xr(k,ye){if(1&k&&n._UZ(0,"source",16),2&k){const q=n.oxw(3);n.Q6J("srcset",q.images.md.src,n.LSH)}}function co(k,ye){if(1&k&&(n.TgZ(0,"picture"),n.YNc(1,mr,1,1,"source",10),n.YNc(2,Wr,1,1,"source",11),n.YNc(3,Xr,1,1,"source",12),n._UZ(4,"img",13),n.qZA()),2&k){const q=n.oxw(2);n.xp6(1),n.Q6J("ngIf",q.images.xl),n.xp6(1),n.Q6J("ngIf",q.images.lg),n.xp6(1),n.Q6J("ngIf",q.images.md),n.xp6(1),n.Q6J("src",(q.images.sm||q.images.default).src,n.LSH)}}function vo(k,ye){1&k&&n._UZ(0,"img",17)}function Io(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"ul",18),n.TgZ(1,"li",19),n.NdJ("click",function(){return n.CHM(q),n.oxw(2).viewCover()}),n._UZ(2,"nguix-icon",20),n.TgZ(3,"span"),n._uU(4,"View Cover"),n.qZA(),n.qZA(),n.TgZ(5,"li",21),n.TgZ(6,"label",22),n._UZ(7,"nguix-icon",23),n.TgZ(8,"span"),n._uU(9,"Change Cover"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"li",24),n.NdJ("click",function(){return n.CHM(q),n.oxw(2).removeCover()}),n._UZ(11,"nguix-icon",25),n.TgZ(12,"span"),n._uU(13,"Remove Cover"),n.qZA(),n.qZA(),n.qZA()}}function zo(k,ye){if(1&k){const q=n.EpF();n.ynx(0),n.TgZ(1,"div",3),n.TgZ(2,"a",4),n.NdJ("click",function(){return n.CHM(q),n.oxw().viewCover(),!1}),n.YNc(3,co,5,4,"picture",1),n.YNc(4,vo,1,0,"ng-template",null,5,n.W1O),n.qZA(),n.qZA(),n.TgZ(6,"button",6),n._UZ(7,"nguix-icon",7),n.TgZ(8,"span"),n._uU(9,"Edit Cover"),n.qZA(),n.qZA(),n.YNc(10,Io,14,0,"ul",8),n.TgZ(11,"input",9),n.NdJ("change",function(rt){return n.CHM(q),n.oxw().coverSelected(rt)}),n.qZA(),n.BQk()}if(2&k){const q=n.MAs(5),Pe=n.oxw();n.xp6(3),n.Q6J("ngIf",Pe.images)("ngIfElse",q),n.xp6(7),n.Q6J("ngIf",Pe.uid)}}function Qr(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"div",27),n.TgZ(1,"nguix-account-cover-editor",28),n.NdJ("close",function(){return n.CHM(q),n.oxw(2).coverEditorFile=void 0})("done",function(rt){return n.CHM(q),n.oxw(2).handleCoverChanged(rt)}),n.qZA(),n.qZA()}if(2&k){const q=n.oxw(2);n.xp6(1),n.Q6J("uid",q.uid)("file",q.coverEditorFile)}}function _s(k,ye){if(1&k&&n.YNc(0,Qr,2,2,"div",26),2&k){const q=n.oxw();n.Q6J("ngIf",q.uid&&q.coverEditorFile)}}function _o(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"a",35),n.NdJ("click",function(){return n.CHM(q),n.oxw(5).verifyEmail(),!1}),n._uU(1),n.qZA()}if(2&k){const q=n.oxw(4).$implicit,Pe=n.oxw();n.xp6(1),n.Oqu(Pe.i18n&&q("NGUIX_ACCOUNT.VERIFY_EMAIL")||Pe.VERIFY_EMAIL)}}function hs(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"div",36),n.TgZ(1,"button",37),n.NdJ("click",function(){return n.CHM(q),n.oxw(5).openPublicProfile()}),n._uU(2),n.qZA(),n.qZA()}if(2&k){const q=n.oxw(4).$implicit,Pe=n.oxw();n.xp6(2),n.Oqu(Pe.i18n&&q("NGUIX_ACCOUNT.VIEW_PROFILE")||Pe.VIEW_PROFILE)}}function Ts(k,ye){if(1&k){const q=n.EpF();n.ynx(0),n.TgZ(1,"div",5),n.TgZ(2,"div",6),n._UZ(3,"nguix-account-cover",7),n.qZA(),n.TgZ(4,"div",8),n.TgZ(5,"div",9),n._UZ(6,"nguix-account-avatar",10),n.qZA(),n.TgZ(7,"div",11),n.TgZ(8,"h3",12),n.TgZ(9,"strong",13),n._uU(10),n.qZA(),n.TgZ(11,"button",14),n.NdJ("click",function(){return n.CHM(q),n.oxw(4).updateDisplayName()}),n._UZ(12,"nguix-icon",15),n.qZA(),n.qZA(),n.TgZ(13,"div",16),n.TgZ(14,"em"),n._uU(15),n.qZA(),n.YNc(16,_o,2,1,"a",17),n.qZA(),n.qZA(),n.YNc(17,hs,3,1,"div",18),n.qZA(),n.qZA(),n.TgZ(18,"div",19),n.TgZ(19,"ul",20),n.TgZ(20,"li",21),n._uU(21),n.qZA(),n.TgZ(22,"li",22),n.TgZ(23,"div",23),n._uU(24),n.qZA(),n.TgZ(25,"div",24),n.TgZ(26,"label",25),n.TgZ(27,"input",26),n.NdJ("change",function(rt){return n.CHM(q),n.oxw(4).updatePublicity(rt)}),n.qZA(),n._UZ(28,"span",27),n.qZA(),n.qZA(),n.qZA(),n.TgZ(29,"li",28),n._UZ(30,"nguix-account-text-editor",29),n.qZA(),n.TgZ(31,"li",16),n.TgZ(32,"nguix-account-text-editor",30),n.NdJ("publiclyChanged",function(rt){return n.CHM(q),n.oxw(4).updateEmailPublicly(rt)}),n.qZA(),n.qZA(),n.TgZ(33,"li",31),n.TgZ(34,"nguix-account-text-editor",32),n.NdJ("save",function(rt){return n.CHM(q),n.oxw(4).updateIntro(rt)}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(35,"div",33),n.TgZ(36,"button",34),n.NdJ("click",function(){return n.CHM(q),n.oxw(4).signOut()}),n._uU(37),n.qZA(),n.qZA(),n.BQk()}if(2&k){const q=ye.$implicit,Pe=n.oxw().$implicit,rt=n.oxw(2).$implicit,Jt=n.oxw();n.xp6(3),n.Q6J("uid",Pe.uid)("images",q.images),n.xp6(3),n.Q6J("uid",Pe.uid)("displayName",q.title)("thumbnails",q.thumbnails),n.xp6(4),n.Oqu(q.title),n.xp6(5),n.Oqu(Pe.email),n.xp6(1),n.Q6J("ngIf",!Pe.emailVerified),n.xp6(1),n.Q6J("ngIf",Pe.username),n.xp6(4),n.Oqu(Jt.i18n&&rt("NGUIX_ACCOUNT.GENERAL_TITLE")||Jt.GENERAL_TITLE),n.xp6(3),n.hij("Profile ","publish"===q.status?"Is":"Is Not"," Public"),n.xp6(3),n.Q6J("checked","publish"===q.status),n.xp6(3),n.Q6J("i18n",Jt.i18n)("value",Pe.username)("editable",!1),n.xp6(2),n.Q6J("i18n",Jt.i18n)("value",Pe.email)("editable",!1)("showPubliclyToggler",!0)("isPublicly",!(null==Pe.publicly||!Pe.publicly.email)),n.xp6(2),n.Q6J("i18n",Jt.i18n)("label",Jt.i18n&&rt("NGUIX_ACCOUNT.INTRO_LABEL")||Jt.INTRO_LABEL)("value",Pe.intro),n.xp6(3),n.Oqu(Jt.i18n&&rt("NGUIX_ACCOUNT.LOGOUT_TEXT")||Jt.LOGOUT_TEXT)}}function No(k,ye){if(1&k&&(n.ynx(0),n.YNc(1,Ts,38,24,"ng-container",4),n.BQk()),2&k){const q=n.oxw(3);n.xp6(1),n.Q6J("ngIf",q.userService.publicData)}}function Uo(k,ye){if(1&k&&(n.TgZ(0,"div",3),n.YNc(1,No,2,1,"ng-container",4),n.qZA()),2&k){const q=n.oxw(2);n.xp6(1),n.Q6J("ngIf",q.userService.data)}}const wo=function(){return["login"]};function So(k,ye){1&k&&(n.TgZ(0,"p"),n._uU(1,"No signed in user, "),n.TgZ(2,"a",38),n._uU(3,"login here"),n.qZA(),n._uU(4,"!"),n.qZA()),2&k&&(n.xp6(2),n.Q6J("usefulRouterLink",n.DdM(1,wo)))}function Ro(k,ye){if(1&k&&(n.ynx(0),n.YNc(1,Uo,2,1,"div",1),n.YNc(2,So,5,2,"ng-template",null,2,n.W1O),n.BQk()),2&k){const q=n.MAs(3),Pe=n.oxw();n.xp6(1),n.Q6J("ngIf",Pe.userService.currentUser)("ngIfElse",q)}}const fn=function(k){return["category",k]};function Kt(k,ye){if(1&k&&(n.TgZ(0,"a",21),n._uU(1),n.qZA()),2&k){const q=ye.$implicit;n.Tol(q.id),n.Q6J("usefulRouterLink",n.VKq(5,fn,q.id))("usefulRouterBackwardable",!0),n.xp6(1),n.Oqu(q.title)}}const St=function(k){return[k]};function Sn(k,ye){if(1&k&&(n.TgZ(0,"div",22),n.TgZ(1,"a",23),n._UZ(2,"img",6),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.qZA(),n.qZA()),2&k){const q=ye.$implicit;n.xp6(1),n.Q6J("usefulRouterLink",n.VKq(5,St,q.id))("usefulRouterBackwardable",!0),n.xp6(1),n.Q6J("src",q.thumbnail,n.LSH)("alt",q.title),n.xp6(2),n.Oqu(q.title)}}function Ai(k,ye){if(1&k&&(n.TgZ(0,"div",24),n._UZ(1,"i",25),n.TgZ(2,"span"),n._uU(3),n.qZA(),n.qZA()),2&k){const q=n.oxw().$implicit;n.xp6(3),n.Oqu(q.likeCount)}}function Qi(k,ye){if(1&k&&(n.TgZ(0,"div",26),n._UZ(1,"i",27),n.TgZ(2,"span"),n._uU(3),n.qZA(),n.qZA()),2&k){const q=n.oxw().$implicit;n.xp6(3),n.Oqu(q.commentCount)}}const xi=function(k){return["post",k]};function Xi(k,ye){if(1&k&&(n.TgZ(0,"li"),n.TgZ(1,"div",4),n.TgZ(2,"a",5),n._UZ(3,"img",6),n.qZA(),n.YNc(4,Kt,2,7,"a",7),n.ALo(5,"o1i"),n.qZA(),n.TgZ(6,"div",8),n.TgZ(7,"div",9),n.TgZ(8,"a",10),n._uU(9),n.qZA(),n.qZA(),n.TgZ(10,"div",11),n.YNc(11,Sn,5,7,"div",12),n.ALo(12,"o1i"),n.TgZ(13,"div",13),n._uU(14),n.ALo(15,"date"),n.qZA(),n.TgZ(16,"div",14),n._uU(17),n.qZA(),n.qZA(),n._UZ(18,"div",15),n.qZA(),n.TgZ(19,"div",16),n.TgZ(20,"div",17),n.YNc(21,Ai,4,1,"div",18),n.YNc(22,Qi,4,1,"div",19),n.qZA(),n.TgZ(23,"div",20),n.TgZ(24,"a",10),n._uU(25),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&k){const q=ye.$implicit,Pe=n.oxw(2).$implicit,rt=n.oxw();n.xp6(2),n.Q6J("usefulRouterLink",n.VKq(24,xi,q.id))("usefulRouterBackwardable",!0),n.xp6(1),n.Q6J("src",(null==((null==q.thumbnails?null:q.thumbnails.sd)||(null==q.thumbnails?null:q.thumbnails.default))?null:((null==q.thumbnails?null:q.thumbnails.sd)||(null==q.thumbnails?null:q.thumbnails.default)).src)||"https://via.placeholder.com/720x405/f1f1f1/000000?text=+",n.LSH)("alt",q.title),n.xp6(1),n.Q6J("ngIf",n.lcZ(5,18,q.categories)),n.xp6(4),n.Q6J("usefulRouterLink",n.VKq(26,xi,q.id))("usefulRouterBackwardable",!0),n.xp6(1),n.Oqu(q.title),n.xp6(2),n.Q6J("ngIf",n.lcZ(12,20,q.authors)),n.xp6(3),n.Oqu(n.lcZ(15,22,q.createdAt)),n.xp6(3),n.AsE("",q.duration," ",rt.i18n&&Pe("NGUIX_POSTS.MIN_READ")||rt.MIN_READ,""),n.xp6(1),n.Q6J("innerHtml",q.description,n.oJD),n.xp6(3),n.Q6J("ngIf",q.likeCount),n.xp6(1),n.Q6J("ngIf",q.commentCount),n.xp6(2),n.Q6J("usefulRouterLink",n.VKq(28,xi,q.id))("usefulRouterBackwardable",!0),n.xp6(1),n.hij("",rt.i18n&&Pe("NGUIX_POSTS.READ_MORE")||rt.READ_MORE," \u2192")}}function _r(k,ye){if(1&k&&(n.TgZ(0,"ul",2),n.YNc(1,Xi,26,30,"li",3),n.qZA()),2&k){const q=n.oxw(2);n.Tol("list-"+q.layout),n.xp6(1),n.Q6J("ngForOf",q.posts)}}function Dr(k,ye){if(1&k&&(n.ynx(0),n.YNc(1,_r,2,3,"ul",1),n.BQk()),2&k){const q=n.oxw();n.xp6(1),n.Q6J("ngIf",q.posts.length)}}function ot(k,ye){if(1&k&&(n.TgZ(0,"a",26),n._uU(1),n.qZA()),2&k){const q=ye.$implicit;n.Tol(q.id),n.Q6J("usefulRouterLink",n.VKq(5,fn,q.id))("usefulRouterBackwardable",!0),n.xp6(1),n.Oqu(q.title)}}function an(k,ye){if(1&k&&(n.TgZ(0,"div",24),n.YNc(1,ot,2,7,"a",25),n.qZA()),2&k){const q=ye.$implicit;n.xp6(1),n.Q6J("ngForOf",q)}}function Et(k,ye){if(1&k&&(n.TgZ(0,"div",27),n.TgZ(1,"a",28),n._UZ(2,"img",29),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.qZA(),n.qZA()),2&k){const q=ye.$implicit;n.xp6(1),n.Q6J("usefulRouterLink",n.VKq(5,St,q.id))("usefulRouterBackwardable",!0),n.xp6(1),n.Q6J("src",q.thumbnail,n.LSH)("alt",q.title),n.xp6(2),n.Oqu(q.title)}}function Xt(k,ye){if(1&k&&(n.TgZ(0,"div",30),n._UZ(1,"img",29),n.qZA()),2&k){const q=n.oxw(3);n.xp6(1),n.Q6J("src",(q.post.images.fhd||q.post.images.default).src,n.LSH)("alt",q.post.title)}}function Bn(k,ye){if(1&k&&(n.TgZ(0,"div",31),n.TgZ(1,"div",32),n._uU(2),n.qZA(),n._UZ(3,"div",33),n.qZA()),2&k){const q=n.oxw(2).$implicit,Pe=n.oxw();n.xp6(2),n.hij("",Pe.i18n&&q("NGUIX_POST.TLDR_TITLE")||Pe.TLDR_TITLE,":"),n.xp6(1),n.Q6J("innerHtml",Pe.post.tldr,n.oJD)}}function oi(k,ye){if(1&k&&(n.TgZ(0,"a",39),n._uU(1),n.qZA()),2&k){const q=n.oxw().$implicit;n.Q6J("href",q.href,n.LSH),n.xp6(1),n.Oqu(q.text)}}function Gi(k,ye){if(1&k&&(n.TgZ(0,"a",40),n._uU(1),n.qZA()),2&k){const q=n.oxw().$implicit;n.Q6J("usefulRouterLink",q.routerLink),n.xp6(1),n.Oqu(q.text)}}function nr(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"a",41),n.NdJ("click",function(){n.CHM(q);const rt=n.oxw().$implicit;return n.oxw(4).navService.scrollTo(rt.id),!1}),n._uU(1),n.qZA()}if(2&k){const q=n.oxw().$implicit;n.Q6J("href","#"+q.id,n.LSH),n.xp6(1),n.Oqu(q.text)}}function dr(k,ye){if(1&k&&(n.TgZ(0,"li"),n.YNc(1,oi,2,2,"a",36),n.YNc(2,Gi,2,2,"a",37),n.YNc(3,nr,2,2,"a",38),n.qZA()),2&k){const q=ye.$implicit;n.Tol("level-"+q.level),n.xp6(1),n.Q6J("ngIf",q.href),n.xp6(1),n.Q6J("ngIf",q.routerLink),n.xp6(1),n.Q6J("ngIf",q.id)}}function Rr(k,ye){if(1&k&&(n.TgZ(0,"div",34),n.TgZ(1,"div",32),n._uU(2),n.qZA(),n.TgZ(3,"ul"),n.YNc(4,dr,4,5,"li",35),n.qZA(),n.qZA()),2&k){const q=n.oxw(2).$implicit,Pe=n.oxw();n.xp6(2),n.hij("",Pe.i18n&&q("NGUIX_POST.TOC_TITLE")||Pe.TOC_TITLE,":"),n.xp6(2),n.Q6J("ngForOf",Pe.post.toc)}}const cr=function(k){return["tag",k]};function yo(k,ye){if(1&k&&(n.TgZ(0,"a",42),n._uU(1),n.qZA()),2&k){const q=ye.$implicit;n.Q6J("usefulRouterLink",n.VKq(2,cr,q.id)),n.xp6(1),n.Oqu(q.title)}}function mo(k,ye){if(1&k&&(n.TgZ(0,"div",43),n.TgZ(1,"button",44),n._UZ(2,"i",45),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.qZA(),n.qZA()),2&k){const q=n.oxw(3);n.xp6(4),n.Oqu(q.post.likeCount)}}function io(k,ye){if(1&k&&(n.TgZ(0,"div",46),n.TgZ(1,"button",44),n._UZ(2,"i",47),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.qZA(),n.qZA()),2&k){const q=n.oxw(3);n.xp6(4),n.Oqu(q.post.commentCount)}}function Te(k,ye){if(1&k&&(n.TgZ(0,"div",2),n.YNc(1,an,2,1,"div",3),n.ALo(2,"o2a"),n.TgZ(3,"h1",4),n._uU(4),n.qZA(),n.TgZ(5,"div",5),n.YNc(6,Et,5,7,"div",6),n.ALo(7,"o1i"),n.TgZ(8,"span",7),n._uU(9),n.ALo(10,"datex"),n.qZA(),n.TgZ(11,"span",8),n._uU(12),n.qZA(),n.qZA(),n.YNc(13,Xt,2,2,"div",9),n.TgZ(14,"div",10),n.YNc(15,Bn,4,2,"div",11),n._UZ(16,"div",12),n.YNc(17,Rr,5,2,"div",13),n.TgZ(18,"div",14),n._UZ(19,"nguix-content",15),n.qZA(),n.qZA(),n.TgZ(20,"div",16),n.YNc(21,yo,2,4,"a",17),n.ALo(22,"o2a"),n.qZA(),n.TgZ(23,"div",18),n.TgZ(24,"div",19),n.YNc(25,mo,5,1,"div",20),n.YNc(26,io,5,1,"div",21),n.qZA(),n.TgZ(27,"div",22),n._UZ(28,"nguix-share",23),n.qZA(),n.qZA(),n.qZA()),2&k){const q=n.oxw().$implicit,Pe=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,17,Pe.post.categories)),n.xp6(3),n.Oqu(Pe.post.title),n.xp6(2),n.Q6J("ngIf",n.lcZ(7,19,Pe.post.authors)),n.xp6(3),n.Oqu(n.lcZ(10,21,Pe.post.createdAt)),n.xp6(3),n.AsE("",Pe.post.duration," ",Pe.i18n&&q("NGUIX_POST.MIN_READ")||Pe.MIN_READ,""),n.xp6(1),n.Q6J("ngIf",Pe.post.images),n.xp6(2),n.Q6J("ngIf",Pe.post.tldr),n.xp6(1),n.Q6J("innerHtml",Pe.post.description,n.oJD),n.xp6(1),n.Q6J("ngIf",Pe.post.toc),n.xp6(2),n.Q6J("input",Pe.post.content),n.xp6(2),n.Q6J("ngForOf",n.lcZ(22,23,Pe.post.tags)),n.xp6(4),n.Q6J("ngIf",Pe.post.likeCount),n.xp6(1),n.Q6J("ngIf",Pe.post.commentCount),n.xp6(2),n.Q6J("title",Pe.post.title)("text",Pe.post.description)("url",Pe.navService.routeUrl)}}function Ce(k,ye){if(1&k&&(n.ynx(0),n.YNc(1,Te,29,25,"div",1),n.BQk()),2&k){const q=n.oxw();n.xp6(1),n.Q6J("ngIf",q.post)}}const fe=function(k){return["video",k]},ne=function(k){return{video:k}};function se(k,ye){if(1&k&&(n.TgZ(0,"li"),n.TgZ(1,"div",4),n.TgZ(2,"a",5),n._UZ(3,"img",6),n.qZA(),n.TgZ(4,"span",7),n._uU(5),n.ALo(6,"date"),n.qZA(),n.qZA(),n.TgZ(7,"div",8),n.TgZ(8,"div",9),n.TgZ(9,"a",10),n._uU(10),n.qZA(),n.qZA(),n.TgZ(11,"div",11),n.TgZ(12,"div",12),n._uU(13),n.qZA(),n.TgZ(14,"div",13),n._uU(15),n.ALo(16,"date"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&k){const q=ye.$implicit,Pe=n.oxw(2).$implicit,rt=n.oxw();n.xp6(2),n.Q6J("usefulRouterLink",n.VKq(18,fe,q.id))("usefulRouteData",n.VKq(20,ne,q))("usefulRouterBackwardable",!0),n.xp6(1),n.Q6J("src",(null==((null==q.thumbnails?null:q.thumbnails.sd)||(null==q.thumbnails?null:q.thumbnails.default))?null:((null==q.thumbnails?null:q.thumbnails.sd)||(null==q.thumbnails?null:q.thumbnails.default)).src)||"https://via.placeholder.com/720x405/f1f1f1/000000?text=+",n.LSH)("alt",q.title),n.xp6(2),n.Oqu(n.xi3(6,13,1e3*(q.duration||0),"mm:ss")),n.xp6(4),n.Q6J("usefulRouterLink",n.VKq(22,fe,q.id))("usefulRouteData",n.VKq(24,ne,q))("usefulRouterBackwardable",!0),n.xp6(1),n.Oqu(q.title),n.xp6(3),n.AsE("",q.viewCount||0," ",rt.i18n&&Pe("NGUIX_VIDEOS.VIEW_TEXT")||rt.VIEW_TEXT,""),n.xp6(2),n.Oqu(n.lcZ(16,16,q.createdAt))}}function ae(k,ye){if(1&k&&(n.TgZ(0,"ul",2),n.YNc(1,se,17,26,"li",3),n.qZA()),2&k){const q=n.oxw(2);n.Tol("list-"+q.layout),n.xp6(1),n.Q6J("ngForOf",q.videos)}}function Re(k,ye){if(1&k&&(n.ynx(0),n.YNc(1,ae,2,3,"ul",1),n.BQk()),2&k){const q=n.oxw();n.xp6(1),n.Q6J("ngIf",q.videos.length)}}function en(k,ye){1&k&&(n.TgZ(0,"li"),n._UZ(1,"div",2),n._UZ(2,"div",3),n.qZA())}function Gn(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"div",3),n.TgZ(1,"youtube-player",4),n.NdJ("ready",function(rt){return n.CHM(q),n.oxw().youtubePlayer=rt}),n.qZA(),n.qZA()}if(2&k){const q=n.oxw();n.xp6(1),n.Q6J("videoId",q.youtubeId)}}function zi(k,ye){if(1&k&&n._UZ(0,"source",8),2&k){const q=ye.$implicit;n.Q6J("src",q.src,n.LSH)("type",q.name)}}function Pr(k,ye){if(1&k&&(n.TgZ(0,"div",5),n.TgZ(1,"video",6),n.YNc(2,zi,1,2,"source",7),n.ALo(3,"o2a"),n.TgZ(4,"p"),n._uU(5,"Your browser does not support the video tag."),n.qZA(),n.qZA(),n.qZA()),2&k){const q=n.oxw();n.xp6(2),n.Q6J("ngForOf",n.lcZ(3,1,q.srcs))}}function Tr(k,ye){if(1&k&&(n.TgZ(0,"div",21),n._UZ(1,"nguix-video-player",22),n.qZA()),2&k){const q=n.oxw(3);n.xp6(1),n.Q6J("srcs",q.video.srcs)}}function Vr(k,ye){if(1&k&&(n.TgZ(0,"a",25),n._uU(1),n.qZA()),2&k){const q=ye.$implicit;n.Tol(q.id),n.Q6J("usefulRouterLink",n.VKq(5,fn,q.id))("usefulRouterBackwardable",!0),n.xp6(1),n.Oqu(q.title)}}function ro(k,ye){if(1&k&&(n.TgZ(0,"div",23),n.YNc(1,Vr,2,7,"a",24),n.qZA()),2&k){const q=ye.$implicit;n.xp6(1),n.Q6J("ngForOf",q)}}function fo(k,ye){if(1&k&&(n.TgZ(0,"a",26),n._uU(1),n.qZA()),2&k){const q=ye.$implicit;n.Q6J("usefulRouterLink",n.VKq(2,cr,q.id)),n.xp6(1),n.Oqu(q.title)}}function fs(k,ye){if(1&k&&(n.TgZ(0,"div",27),n.TgZ(1,"button",28),n._UZ(2,"i",29),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.qZA(),n.qZA()),2&k){const q=n.oxw(3);n.xp6(4),n.Oqu(q.video.likeCount)}}function Ke(k,ye){if(1&k&&(n.TgZ(0,"div",30),n.TgZ(1,"button",28),n._UZ(2,"i",31),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.qZA(),n.qZA()),2&k){const q=n.oxw(3);n.xp6(4),n.Oqu(q.video.commentCount)}}function ke(k,ye){if(1&k&&(n.TgZ(0,"div",2),n.YNc(1,Tr,2,1,"div",3),n.TgZ(2,"div",4),n.YNc(3,ro,2,1,"div",5),n.ALo(4,"o2a"),n.TgZ(5,"h1",6),n._uU(6),n.qZA(),n.TgZ(7,"div",7),n.TgZ(8,"span",8),n._uU(9),n.ALo(10,"datex"),n.qZA(),n.qZA(),n.TgZ(11,"div",9),n._UZ(12,"div",10),n.TgZ(13,"div",11),n._UZ(14,"nguix-content",12),n.qZA(),n.qZA(),n.TgZ(15,"div",13),n.YNc(16,fo,2,4,"a",14),n.ALo(17,"o2a"),n.qZA(),n.TgZ(18,"div",15),n.TgZ(19,"div",16),n.YNc(20,fs,5,1,"div",17),n.YNc(21,Ke,5,1,"div",18),n.qZA(),n.TgZ(22,"div",19),n._UZ(23,"nguix-share",20),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&k){const q=n.oxw(2);n.xp6(1),n.Q6J("ngIf",q.video.srcs),n.xp6(2),n.Q6J("ngIf",n.lcZ(4,12,q.video.categories)),n.xp6(3),n.Oqu(q.video.title),n.xp6(3),n.Oqu(n.lcZ(10,14,q.video.createdAt)),n.xp6(3),n.Q6J("innerHtml",q.video.description,n.oJD),n.xp6(2),n.Q6J("input",q.video.content),n.xp6(2),n.Q6J("ngForOf",n.lcZ(17,16,q.video.tags)),n.xp6(4),n.Q6J("ngIf",q.video.likeCount),n.xp6(1),n.Q6J("ngIf",q.video.commentCount),n.xp6(2),n.Q6J("title",q.video.title)("text",q.video.description)("url",q.navService.routeUrl)}}function xt(k,ye){if(1&k&&(n.ynx(0),n.YNc(1,ke,24,18,"div",1),n.BQk()),2&k){const q=n.oxw();n.xp6(1),n.Q6J("ngIf",q.video)}}function qt(k,ye){if(1&k&&(n.TgZ(0,"div",1),n._UZ(1,"nguix-oops",2),n.qZA()),2&k){const q=ye.$implicit;n.xp6(1),n.Q6J("i18n",q.i18n)("image",q.image)("actionLink",q.actionLink)("CONTENT",q.CONTENT)("ACTION_TEXT",q.ACTION_TEXT)}}function On(k,ye){if(1&k&&(n.TgZ(0,"div",2),n.TgZ(1,"div",3),n.TgZ(2,"h3",4),n._uU(3),n.qZA(),n.TgZ(4,"div",5),n._UZ(5,"nguix-content",6),n.qZA(),n.qZA(),n.qZA()),2&k){const q=ye.ngIf;n.xp6(3),n.Oqu(q.title),n.xp6(2),n.Q6J("input",q.content)}}function di(k,ye){1&k&&(n.TgZ(0,"div",7),n._UZ(1,"nguix-spinner"),n.qZA())}function Ei(k,ye){if(1&k&&(n.TgZ(0,"div",2),n.TgZ(1,"div",3),n.TgZ(2,"h3",4),n._uU(3),n.qZA(),n.TgZ(4,"div",5),n._UZ(5,"nguix-content",6),n.qZA(),n.qZA(),n.qZA()),2&k){const q=ye.ngIf;n.xp6(3),n.Oqu(q.title),n.xp6(2),n.Q6J("input",q.content)}}function xr(k,ye){1&k&&(n.TgZ(0,"div",7),n._UZ(1,"nguix-spinner"),n.qZA())}function Sr(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"button",15),n.NdJ("click",function(){const Jt=n.CHM(q).$implicit;return n.oxw(3).settingService.changeLocale(Jt.value)}),n._uU(1),n.qZA()}if(2&k){const q=ye.$implicit,Pe=n.oxw(3);n.Tol(Pe.settingService.locale===q.value?"button-primary":"button-outline-medium"),n.xp6(1),n.Oqu(q.text)}}function qr(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"li"),n.TgZ(1,"button",15),n.NdJ("click",function(){const Jt=n.CHM(q).$implicit;return n.oxw(3).settingService.changePersona(Jt.value)}),n._uU(2),n.qZA(),n.qZA()}if(2&k){const q=ye.$implicit,Pe=n.oxw().$implicit,rt=n.oxw().$implicit,Jt=n.oxw();n.xp6(1),n.Tol(Jt.settingService.persona===q.value?"button-secondary":"button-outline-medium"),n.xp6(1),n.Oqu(Pe.i18n&&rt(q.text)||q.text)}}function li(k,ye){if(1&k){const q=n.EpF();n.TgZ(0,"div",2),n.TgZ(1,"section",3),n.TgZ(2,"h3",4),n._uU(3),n.qZA(),n.qZA(),n.TgZ(4,"section",5),n.TgZ(5,"div",3),n._uU(6),n.qZA(),n.TgZ(7,"div",6),n.TgZ(8,"label",7),n._uU(9),n.qZA(),n.TgZ(10,"label",8),n.TgZ(11,"input",9),n.NdJ("change",function(rt){return n.CHM(q),n.oxw(2).toggleTheme(rt)}),n.qZA(),n._UZ(12,"span",10),n.qZA(),n.qZA(),n.qZA(),n.TgZ(13,"section",11),n.TgZ(14,"div",3),n._uU(15),n.qZA(),n.TgZ(16,"div",6),n.YNc(17,Sr,2,3,"button",12),n.qZA(),n.qZA(),n.TgZ(18,"section",13),n.TgZ(19,"div",3),n._uU(20),n.qZA(),n.TgZ(21,"div",6),n.TgZ(22,"ul"),n.YNc(23,qr,3,3,"li",14),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&k){const q=ye.$implicit,Pe=n.oxw().$implicit,rt=n.oxw();n.xp6(3),n.Oqu(q.i18n&&Pe("NGUIX_SETTING_PAGE.TITLE")||q.TITLE),n.xp6(3),n.Oqu(q.i18n&&Pe("NGUIX_SETTING_PAGE.THEME_TITLE")||q.THEME_TITLE),n.xp6(3),n.Oqu(q.i18n&&Pe("NGUIX_SETTING_PAGE.THEME_DARK_MODE")||q.THEME_DARK_MODE),n.xp6(2),n.Q6J("checked","dark"===rt.settingService.theme),n.xp6(4),n.Oqu(q.i18n&&Pe("NGUIX_SETTING_PAGE.LOCALE_TITLE")||q.LOCALE_TITLE),n.xp6(2),n.Q6J("ngForOf",rt.settingService.locales),n.xp6(3),n.Oqu(q.i18n&&Pe("NGUIX_SETTING_PAGE.PERSONA_TITLE")||q.PERSONA_TITLE),n.xp6(3),n.Q6J("ngForOf",rt.settingService.personas)}}function hr(k,ye){if(1&k&&(n.ynx(0),n.YNc(1,li,24,8,"div",1),n.ALo(2,"async"),n.BQk()),2&k){const q=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,q.pageData$))}}let Bo=(()=>{class k{constructor(){this.i18n=!1,this.fixed=!1,this.logo="/assets/images/logo.svg",this.NAME="App",this.menuItems=[]}ngOnInit(){}}return k.\u0275fac=function(q){return new(q||k)},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-header"]],inputs:{i18n:"i18n",fixed:"fixed",logo:"logo",NAME:"NAME",menuItems:"menuItems"},decls:1,vars:0,consts:[[4,"transloco"],[1,"host"],[1,"brand"],[3,"usefulRouterLink"],[3,"src"],[1,"font-head"],[1,"nav"],[4,"ngFor","ngForOf"],["usefulRouterLinkActive","active",3,"usefulRouterLink",4,"ngIf","ngIfElse"],["regularLink",""],["usefulRouterLinkActive","active",3,"usefulRouterLink"],[3,"href","target"]],template:function(q,Pe){1&q&&n.YNc(0,Ni,10,7,"ng-container",0)},directives:[Oe.KI,we.jY,te.sg,te.O5],styles:[".host[_ngcontent-%COMP%]{width:100%;height:64px;padding:.5rem 1rem;display:flex;align-items:center;flex-wrap:nowrap;background:var(--app-color-background);color:var(--app-color-background-contrast);border-bottom:var(--app-size-border) solid var(--app-color-background-shade)}.host.fixed[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:9999999}.host[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--app-color-foreground-tint);display:flex;align-items:center}.host[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .host[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.host[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{display:block}.host[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px}.host[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none;margin:0 0 0 .5rem;font-size:1.3rem;font-weight:700}.host[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;flex:1;display:none;align-items:center;justify-content:flex-end}.host[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;width:auto;height:32px;color:var(--app-color-foreground-tint);padding:0 .5rem;opacity:.7;margin-left:.5rem}.host[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .host[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;color:var(--app-color-foreground-shade);opacity:1}@media only screen and (min-width:768px){.host[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.host[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]{display:flex}.host[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 .75rem}}"]}),k})(),Ar=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4,we.Pf]]}),k})(),Ki=(()=>{class k{constructor(){this.i18n=!1,this.fixed=!1,this.menuItems=[]}ngOnInit(){}}return k.\u0275fac=function(q){return new(q||k)},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-header2nd"]],inputs:{i18n:"i18n",fixed:"fixed",menuItems:"menuItems"},decls:1,vars:0,consts:[[4,"transloco"],[1,"host"],[1,"nav"],[4,"ngFor","ngForOf"],["usefulRouterLinkActive","active",3,"usefulRouterLink",4,"ngIf","ngIfElse"],["regularLink",""],["usefulRouterLinkActive","active",3,"usefulRouterLink"],[3,"href","target"]],template:function(q,Pe){1&q&&n.YNc(0,We,4,3,"ng-container",0)},directives:[Oe.KI,te.sg,te.O5,we.jY],styles:[".host[_ngcontent-%COMP%]{width:100%;height:48px;padding:.25rem 1rem;display:flex;align-items:center;flex-wrap:nowrap;background:var(--app-color-background);color:var(--app-color-background-contrast);border-bottom:var(--app-size-border) solid var(--app-color-background-shade)}.host.fixed[_ngcontent-%COMP%]{position:fixed;top:64px;left:0;z-index:9999999}.host[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;flex:1;display:flex;align-items:center}.host[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--app-color-foreground-tint);opacity:.7;padding:0 .5rem;margin-left:.5rem}.host[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .host[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;color:var(--app-color-foreground-shade);opacity:1}.host[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:var(--app-color-primary);font-weight:700;opacity:1}"]}),k})(),jo=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4,we.Pf]]}),k})(),Lo=(()=>{class k{constructor(){this.i18n=!1,this.menuItems=[],this.fixed=!1}ngOnInit(){}}return k.\u0275fac=function(q){return new(q||k)},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-tabs"]],inputs:{i18n:"i18n",menuItems:"menuItems",fixed:"fixed"},decls:1,vars:0,consts:[[4,"transloco"],[1,"host"],[3,"class",4,"ngFor","ngForOf"],["usefulRouterLinkActive","active",3,"usefulRouterLink","usefulRouterLinkActiveOptions","usefulRouterBackwardable"],[1,"icon"],[1,"truncate"]],template:function(q,Pe){1&q&&n.YNc(0,st,3,3,"ng-container",0)},directives:[Oe.KI,te.sg,we.jY],styles:[".host[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;width:100%;height:64px;display:flex;align-items:center;justify-content:center;flex-wrap:nowrap;background:var(--app-color-background);border-top:var(--app-size-border) solid var(--app-color-background-shade)}.host.fixed[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;z-index:9999999}.host[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;width:100%;padding:.5rem 0;color:var(--app-color-foreground);display:flex;flex-wrap:wrap;justify-content:center;border-top:3px solid #0000}.host[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .host[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .host[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:var(--app-color-background-shade);text-decoration:none}.host[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-top-color:var(--app-color-foreground)}.host[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.host[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center;width:100%;font-size:.8rem;margin-top:.25rem}@media only screen and (min-width:992px){.tabs[_ngcontent-%COMP%]{width:calc(100% - 250px);left:250px}}"]}),k})(),ko=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4,we.Pf]]}),k})(),Jo=(()=>{class k{constructor(){this.i18n=!1,this.menuItems=[],this.TEXT='Powered by <a href="https://nguix-starter.lamnhan.com" target="_blank">@lamnhan/nguix-starter</a>'}ngOnInit(){}}return k.\u0275fac=function(q){return new(q||k)},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-footer"]],inputs:{i18n:"i18n",menuItems:"menuItems",TEXT:"TEXT"},decls:1,vars:0,consts:[[4,"transloco"],[1,"host"],[1,"text",3,"innerHtml"],[1,"links"],[4,"ngFor","ngForOf"],["usefulRouterLinkActive","active",3,"href","target","usefulRouterLink"]],template:function(q,Pe){1&q&&n.YNc(0,yt,5,2,"ng-container",0)},directives:[Oe.KI,te.sg,we.jY],styles:[".host[_ngcontent-%COMP%]{width:100%;padding:1rem;background:var(--app-color-background);border-top:var(--app-size-border) solid var(--app-color-background-shade)}.host[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:100%;text-align:center}.host[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{list-style:none;padding:0;margin:1rem 0 0;display:flex;justify-content:center;flex-wrap:nowrap}.host[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;padding:0 1rem}@media only screen and (min-width:768px){.host[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1;text-align:left}.host[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{margin-top:0}}"]}),k})(),xo=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4,we.Pf]]}),k})(),Fs=(()=>{class k{constructor(){this.i18n=!1,this.image="/assets/images/404.png",this.actionLink=["/"],this.CONTENT="Page not found!",this.ACTION_TEXT="Go home"}ngOnInit(){}}return k.\u0275fac=function(q){return new(q||k)},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-oops"]],inputs:{i18n:"i18n",image:"image",actionLink:"actionLink",CONTENT:"CONTENT",ACTION_TEXT:"ACTION_TEXT"},decls:1,vars:0,consts:[[4,"transloco"],[1,"host"],[1,"image"],["alt","404",3,"src"],[3,"innerHtml"],[3,"usefulRouterLink"]],template:function(q,Pe){1&q&&n.YNc(0,Bt,8,4,"ng-container",0)},directives:[Oe.KI,we.jY],styles:[".host[_ngcontent-%COMP%]{text-align:center;margin-top:2rem}.host[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:100px}.host[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.host[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;margin-top:1rem}"]}),k})(),Zo=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4,we.Pf]]}),k})(),Ds=(()=>{class k{constructor(){}ngOnInit(){}}return k.\u0275fac=function(q){return new(q||k)},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-spinner"]],decls:2,vars:0,consts:[[1,"la-ball-clip-rotate"]],template:function(q,Pe){1&q&&(n.TgZ(0,"div",0),n._UZ(1,"div"),n.qZA())},styles:[".la-ball-clip-rotate[_ngcontent-%COMP%], .la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:var(--app-color-foreground)}.la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-clip-rotate[_ngcontent-%COMP%]{width:2rem;height:2rem}.la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2rem;height:2rem;background:#0000;border-width:2px;border-bottom-color:#0000;border-radius:100%;animation:ball-clip-rotate .75s linear infinite}@keyframes ball-clip-rotate{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}"]}),k})(),Kr=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[]]}),k})(),vs=(()=>{class k{constructor(q){this.navService=q,this.i18n=!1,this.icon="/assets/images/logo.svg",this.TEXT="Please wait ..."}ngOnInit(){}}return k.\u0275fac=function(q){return new(q||k)(n.Y36(we.tZ))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-nav-indicator"]],inputs:{i18n:"i18n",icon:"icon",TEXT:"TEXT"},decls:1,vars:0,consts:[[4,"transloco"],["id","nguix-nav-indicator","class","host",3,"show",4,"ngIf"],["id","nguix-nav-indicator",1,"host"],[1,"body",3,"click"],[3,"src"]],template:function(q,Pe){1&q&&n.YNc(0,wn,2,1,"ng-container",0)},directives:[Oe.KI,te.O5],styles:[".host[_ngcontent-%COMP%]{z-index:7;position:fixed;width:200px;left:50%;margin-left:-100px;bottom:-5rem;background:none;display:flex;text-align:center;justify-content:center;align-items:center;transition:all .3s ease}.host.show[_ngcontent-%COMP%]{bottom:1rem}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{display:flex;align-items:center;background:var(--app-color-foreground,#f4f5f8);padding:.5rem 1rem;border-radius:100px;cursor:pointer}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2rem}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;color:var(--app-color-background,#222428);margin-left:1rem}"]}),k})(),Us=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4]]}),k})(),Xs=(()=>{class k{constructor(q){this.pwaService=q,this.i18n=!1,this.icon="/assets/images/logo.svg",this.TITLE="Install app?",this.TEXT="Add app to your home screen.",this.DISMISS_TEXT="Already installed",this.HIDE_TEXT="Remind me later",this.iosSafariMessage=["Click the Share button","Then, Add to home screen"],this.iosAnyMessage=["Open this website using the Safari browser",...this.iosSafariMessage],this.androidChromeMessage=["Click the menu at the top right corner","Then, Install app ..."],this.androidAnyMessage=["Open this website using the Chrome browser",...this.androidChromeMessage],this.desktopChromeMessage=["Click the Install button in the address bar","Then, Install"],this.desktopAnyMessage=["Open this website using the Chrome browser",...this.desktopChromeMessage],this.i18nMessageCode="",this.message=""}ngOnInit(){this.i18nMessageCode="NGUIX_PWA_REMINDER.MESSAGES."+(this.pwaService.runtime||"desktop-any").replace(/-/g,"_").toUpperCase(),this.message=this.getMessage()}getMessage(){let q="";switch(this.pwaService.runtime){case"ios-safari":q=this.iosSafariMessage;break;case"ios-any":q=this.iosAnyMessage;break;case"android-chrome":q=this.androidChromeMessage;break;case"android-any":q=this.androidAnyMessage;break;case"desktop-chrome":q=this.desktopChromeMessage;break;case"desktop-any":default:q=this.desktopAnyMessage}return"string"==typeof q?q:"<ul><li>"+q.join("</li><li>")+"</li></ul>"}}return k.\u0275fac=function(q){return new(q||k)(n.Y36(we._E))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-pwa-reminder"]],inputs:{i18n:"i18n",icon:"icon",TITLE:"TITLE",TEXT:"TEXT",DISMISS_TEXT:"DISMISS_TEXT",HIDE_TEXT:"HIDE_TEXT",iosSafariMessage:"iosSafariMessage",iosAnyMessage:"iosAnyMessage",androidChromeMessage:"androidChromeMessage",androidAnyMessage:"androidAnyMessage",desktopChromeMessage:"desktopChromeMessage",desktopAnyMessage:"desktopAnyMessage"},decls:1,vars:0,consts:[[4,"transloco"],["id","nguix-pwa-reminder","class","host",3,"class","show","annoyed",4,"ngIf"],["id","nguix-pwa-reminder",1,"host"],[1,"head"],["alt","title",1,"icon",3,"src"],[1,"text"],[1,"close","button-clear",3,"click"],[1,"body"],[3,"innerHtml"],[1,"foot"],[1,"dismiss","button-link",3,"click"],[1,"hide","button-sm",3,"click"]],template:function(q,Pe){1&q&&n.YNc(0,Pi,2,1,"ng-container",0)},directives:[Oe.KI,te.O5],styles:[".host[_ngcontent-%COMP%]{z-index:7;position:fixed;left:0;bottom:-1000px}.host[_ngcontent-%COMP%]   .android-any-message[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .android-chrome-message[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .desktop-any-message[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .desktop-chrome-message[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .ios-any-message[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .ios-safari-message[_ngcontent-%COMP%]{display:none}.host.android-any[_ngcontent-%COMP%]   .android-any-message[_ngcontent-%COMP%], .host.android-chrome[_ngcontent-%COMP%]   .android-chrome-message[_ngcontent-%COMP%], .host.desktop-any[_ngcontent-%COMP%]   .desktop-any-message[_ngcontent-%COMP%], .host.desktop-chrome[_ngcontent-%COMP%]   .desktop-chrome-message[_ngcontent-%COMP%], .host.ios-any[_ngcontent-%COMP%]   .ios-any-message[_ngcontent-%COMP%], .host.ios-safari[_ngcontent-%COMP%]   .ios-safari-message[_ngcontent-%COMP%]{display:block}.host.android-any[_ngcontent-%COMP%], .host.android-chrome[_ngcontent-%COMP%], .host.desktop-any[_ngcontent-%COMP%], .host.desktop-chrome[_ngcontent-%COMP%], .host.ios-any[_ngcontent-%COMP%], .host.ios-safari[_ngcontent-%COMP%]{width:100%;padding:1rem;left:0;bottom:-500px;background:var(--app-color-background);color:var(--app-color-foreground);border-top:1px solid var(--app-color-background-shade);transition:all .3s ease}.host.android-any.show[_ngcontent-%COMP%], .host.android-chrome.show[_ngcontent-%COMP%], .host.desktop-any.show[_ngcontent-%COMP%], .host.desktop-chrome.show[_ngcontent-%COMP%], .host.ios-any.show[_ngcontent-%COMP%], .host.ios-safari.show[_ngcontent-%COMP%]{bottom:0}.host.android-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .host.android-chrome[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .host.desktop-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .host.desktop-chrome[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .host.ios-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .host.ios-safari[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:1rem}.host.android-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   img.icon[_ngcontent-%COMP%], .host.android-chrome[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   img.icon[_ngcontent-%COMP%], .host.desktop-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   img.icon[_ngcontent-%COMP%], .host.desktop-chrome[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   img.icon[_ngcontent-%COMP%], .host.ios-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   img.icon[_ngcontent-%COMP%], .host.ios-safari[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   img.icon[_ngcontent-%COMP%]{width:40px;height:40px}.host.android-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], .host.android-chrome[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], .host.desktop-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], .host.desktop-chrome[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], .host.ios-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], .host.ios-safari[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1;margin-left:1rem}.host.android-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host.android-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .host.android-chrome[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host.android-chrome[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .host.desktop-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host.desktop-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .host.desktop-chrome[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host.desktop-chrome[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .host.ios-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host.ios-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .host.ios-safari[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host.ios-safari[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block}.host.android-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host.android-chrome[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host.desktop-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host.desktop-chrome[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host.ios-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host.ios-safari[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;color:var(--app-color-medium)}.host.android-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%], .host.android-chrome[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%], .host.desktop-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%], .host.desktop-chrome[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%], .host.ios-any[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%], .host.ios-safari[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%]{color:var(--app-color-medium);margin-top:-1.5rem;margin-right:-.5rem}.host.android-any[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%], .host.android-chrome[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%], .host.desktop-any[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%], .host.desktop-chrome[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%], .host.ios-any[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%], .host.ios-safari[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]{display:none;padding:1rem 0}.host.android-any[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .dismiss[_ngcontent-%COMP%], .host.android-chrome[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .dismiss[_ngcontent-%COMP%], .host.desktop-any[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .dismiss[_ngcontent-%COMP%], .host.desktop-chrome[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .dismiss[_ngcontent-%COMP%], .host.ios-any[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .dismiss[_ngcontent-%COMP%], .host.ios-safari[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .dismiss[_ngcontent-%COMP%]{margin-right:auto;font-size:.9rem;color:var(--app-color-medium)}.host.android-any[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%], .host.android-chrome[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%], .host.desktop-any[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%], .host.desktop-chrome[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%], .host.ios-any[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%], .host.ios-safari[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%]{padding:.25rem 1rem}.host.android-any.annoyed[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%], .host.android-chrome.annoyed[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%], .host.desktop-any.annoyed[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%], .host.desktop-chrome.annoyed[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%], .host.ios-any.annoyed[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%], .host.ios-safari.annoyed[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}"]}),k})(),ys=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4]]}),k})(),Yo=(()=>{class k{constructor(q){this.pwaService=q,this.i18n=!1,this.icon="/assets/images/logo.svg",this.TITLE="Install app?",this.NAME="Install now",this.TAGLINE="Add app to your home screen",this.action=new n.vpe,this.dismiss=new n.vpe}ngOnInit(){}}return k.\u0275fac=function(q){return new(q||k)(n.Y36(we._E))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-pwa-box"]],inputs:{i18n:"i18n",icon:"icon",TITLE:"TITLE",NAME:"NAME",TAGLINE:"TAGLINE"},outputs:{action:"action",dismiss:"dismiss"},decls:1,vars:0,consts:[[4,"transloco"],["class","host",4,"ngIf"],[1,"host"],[1,"head"],[1,"title"],[1,"close","button-clear",3,"click"],[1,"body",3,"click"],["alt","name",1,"thumbnail",3,"src"],[1,"text"]],template:function(q,Pe){1&q&&n.YNc(0,Si,2,1,"ng-container",0)},directives:[Oe.KI,te.O5],styles:[".host[_ngcontent-%COMP%]{width:100%;padding:1rem 1rem 1.5rem}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:nowrap;padding-bottom:.5rem}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%]{color:var(--app-color-medium);margin-top:-.5rem;margin-right:-.5rem}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;cursor:pointer}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   img.thumbnail[_ngcontent-%COMP%]{width:64px;height:64px}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1;margin-left:1rem}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;color:var(--app-color-medium)}"]}),k})(),zs=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4]]}),k})(),Tc=(()=>{class k{constructor(q){this.fetchService=q,this.input="",this.ready=new n.vpe,this.load=new n.vpe,this.error=new n.vpe,this.isExternal=!1}ngOnInit(){}ngOnChanges(){-1!==(this.input||"").indexOf("docs.google.com")?this.googleDoc=this.fetchService.get(this.input,void 0,!1).pipe((0,kn.K)(()=>(0,wt.of)("")),(0,He.U)(q=>{const Pe=q||"",rt=Pe.indexOf("</head>"),Jt=Pe.indexOf("</body>");return Pe.substring(rt+7,Jt).replace(/<body(.*?)>/,"")})):this.isExternal="http"===(this.input||"").substr(0,4)}}return k.\u0275fac=function(q){return new(q||k)(n.Y36(we.rX))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-content"]],inputs:{input:"input"},outputs:{ready:"ready",load:"load",error:"error"},features:[n.TTD],decls:4,vars:2,consts:[[1,"host"],[4,"ngIf","ngIfElse"],["normalContent",""],[4,"ngIf"],[3,"data","ready"],[3,"src","load","error",4,"ngIf","ngIfElse"],["directContent",""],[3,"src","load","error"]],template:function(q,Pe){if(1&q&&(n.TgZ(0,"article",0),n.YNc(1,Ri,3,3,"ng-container",1),n.YNc(2,Vi,3,2,"ng-template",null,2,n.W1O),n.qZA()),2&q){const rt=n.MAs(3);n.xp6(1),n.Q6J("ngIf",Pe.googleDoc)("ngIfElse",rt)}},directives:[te.O5,ve],pipes:[te.Ov],styles:[""]}),k})(),Ys=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({providers:[ce,{provide:Mt,useValue:n.q3G.HTML}],imports:[[te.ez,Fe.JF,bt,we.Pf]]}),k})(),Cs=(()=>{class k{constructor(){this.base="icon",this.pack="bootstrap"}ngOnInit(){}}return k.\u0275fac=function(q){return new(q||k)},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-icon"]],inputs:{base:"base",pack:"pack",name:"name",url:"url",size:"size"},decls:1,vars:8,template:function(q,Pe){1&q&&n._UZ(0,"i"),2&q&&(n.Tol(Pe.base),n.Udp("background-image","url("+(Pe.url||"https://unpkg.com/@unistylus/"+Pe.pack+"-icons@latest/"+Pe.name+".svg")+")")("width",Pe.size+"px")("height",Pe.size+"px"))},styles:["[_nghost-%COMP%]{display:block;line-height:0}"]}),k})(),bs=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez]]}),k})(),Zc=(()=>{class k{constructor(q){this.appService=q,this.title="Share",this.text="This is sommething!",this.url="https://lamnhan.com"}ngOnInit(){}share(){return this.appService.share(this.title,this.text,this.url)}}return k.\u0275fac=function(q){return new(q||k)(n.Y36(we.zi))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-share"]],inputs:{title:"title",text:"text",url:"url"},decls:7,vars:0,consts:[[1,"host"],[1,"facebook",3,"click"],["base","icon-light","name","facebook","size","16"],[1,"twitter",3,"click"],["base","icon-light","name","twitter","size","16"],[1,"linkedin",3,"click"],["base","icon-light","name","linkedin","size","16"]],template:function(q,Pe){1&q&&(n.TgZ(0,"div",0),n.TgZ(1,"button",1),n.NdJ("click",function(){return Pe.share()}),n._UZ(2,"nguix-icon",2),n.qZA(),n.TgZ(3,"button",3),n.NdJ("click",function(){return Pe.share()}),n._UZ(4,"nguix-icon",4),n.qZA(),n.TgZ(5,"button",5),n.NdJ("click",function(){return Pe.share()}),n._UZ(6,"nguix-icon",6),n.qZA(),n.qZA())},directives:[Cs],styles:[".host[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2rem;height:2rem;padding:.5rem;margin-right:.5rem;border:0;border-radius:100%;outline:none}.host[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.host[_ngcontent-%COMP%]   .facebook[_ngcontent-%COMP%]{background-color:#4267b2}.host[_ngcontent-%COMP%]   .twitter[_ngcontent-%COMP%]{background-color:#00acee}.host[_ngcontent-%COMP%]   .linkedin[_ngcontent-%COMP%]{background-color:#006fa6}"]}),k})(),Wa=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,bs]]}),k})(),Eo=(()=>{class k{constructor(q,Pe,rt){this.formBuilder=q,this.alertService=Pe,this.authService=rt,this.i18n=!1,this.registerRouterLink=["register"],this.EMAIL_LABEL="Email",this.EMAIL_PLACEHOLDER="Your email",this.PASSWORD_LABEL="Password",this.PASSWORD_PLACEHOLDER="Your password",this.SUBMIT_TEXT="Sign In",this.FORGOT_PASSWORD="Forgot password?",this.SOCIAL_TEXT="Using social accounts:",this.REGISTER_TEXT="create now?",this.REGISTER_DESCRIPTION="Don't have an account",this.signedIn=new n.vpe,this.error=new n.vpe,this.lockdown=!1,this.isGoogleOauth=!1,this.isFacebookOauth=!1,this.isGithubOauth=!1,this.loginFormGroup=this.formBuilder.group({email:new pi.NI("",[pi.kI.required,pi.kI.email]),password:new pi.NI("",[pi.kI.required,pi.kI.minLength(7)])})}ngOnInit(){this.withSocials&&(this.isGoogleOauth=this.withSocials.includes("google"),this.isFacebookOauth=this.withSocials.includes("facebook"),this.isGithubOauth=this.withSocials.includes("github"))}signIn(){var q,Pe;if(!this.authService.authenticated&&!this.lockdown){this.beforeSignin();const rt=null===(q=this.loginFormGroup.get("email"))||void 0===q?void 0:q.value,Jt=null===(Pe=this.loginFormGroup.get("password"))||void 0===Pe?void 0:Pe.value;this.authService.signInWithEmailAndPassword(rt,Jt).subscribe(Mn=>this.onSignedIn(Mn),Mn=>this.onError(Mn))}}signInWithPopupForGoogle(){!this.authService.authenticated&&!this.lockdown&&(this.beforeSignin(),this.authService.signInWithPopupForGoogle().subscribe(q=>this.onSignedIn(q),q=>this.onError(q)))}signInWithPopupForFacebook(){!this.authService.authenticated&&!this.lockdown&&(this.beforeSignin(),this.authService.signInWithPopupForFacebook().subscribe(q=>this.onSignedIn(q),q=>this.onError(q)))}signInWithPopupForGithub(){!this.authService.authenticated&&!this.lockdown&&(this.beforeSignin(),this.authService.signInWithPopupForGithub().subscribe(q=>this.onSignedIn(q),q=>this.onError(q)))}resetPassword(){!this.authService.authenticated&&!this.lockdown&&this.alertService.prompt({message:"Please enter your email:",title:"Reset password",confirmText:"Send instruction"},q=>{if(q&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(q.toLowerCase())){const Pe=()=>this.alertService.alert({message:"Email sent, now open your inbox and follow the instruction."}).show();this.authService.sendPasswordResetEmail(q).subscribe(()=>Pe(),()=>Pe())}}).show()}beforeSignin(){this.lockdown=!0,this.message=void 0}onSignedIn(q){this.lockdown=!1,this.signedIn.emit(q)}onError(q){const{code:Pe,message:rt,email:Jt}=q;"auth/account-exists-with-different-credential"===Pe?this.authService.handleAccountExistsWithDifferentCredential(Jt).subscribe(()=>this.message=rt):this.message=rt,this.lockdown=!1,this.error.emit(q)}}return k.\u0275fac=function(q){return new(q||k)(n.Y36(pi.qu),n.Y36(we.c9),n.Y36(we.e8))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-login"]],inputs:{i18n:"i18n",registerRouterLink:"registerRouterLink",EMAIL_LABEL:"EMAIL_LABEL",EMAIL_PLACEHOLDER:"EMAIL_PLACEHOLDER",PASSWORD_LABEL:"PASSWORD_LABEL",PASSWORD_PLACEHOLDER:"PASSWORD_PLACEHOLDER",SUBMIT_TEXT:"SUBMIT_TEXT",FORGOT_PASSWORD:"FORGOT_PASSWORD",SOCIAL_TEXT:"SOCIAL_TEXT",REGISTER_TEXT:"REGISTER_TEXT",REGISTER_DESCRIPTION:"REGISTER_DESCRIPTION",withSocials:"withSocials"},outputs:{signedIn:"signedIn",error:"error"},decls:1,vars:0,consts:[[4,"transloco"],["class","host",4,"ngIf"],[1,"host"],[1,"head"],[3,"usefulRouterLink","usefulRouterBackwardable"],["class","message",4,"ngIf"],[4,"ngIf"],["class","socials",4,"ngIf"],[1,"message"],[1,"alert-danger",3,"innerHtml"],[3,"formGroup","ngSubmit"],["loginForm","ngForm"],[1,"group"],[1,"form-label"],["type","email","formControlName","email",1,"form-control",3,"placeholder"],[1,"text"],["for","password",1,"form-label"],["href","#",1,"forgot",3,"click"],["id","password","type","password","formControlName","password",1,"form-control",3,"placeholder"],[1,"action"],["type","submit",1,"button-primary",3,"disabled"],[1,"socials"],["class","button-outline",3,"disabled","click",4,"ngIf"],[1,"button-outline",3,"disabled","click"],["src","https://img.icons8.com/color/48/000000/google-logo.png"],["src","https://img.icons8.com/color/48/000000/facebook-new.png"],["src","https://img.icons8.com/fluent/48/000000/github.png"]],template:function(q,Pe){1&q&&n.YNc(0,ue,2,1,"ng-container",0)},directives:[Oe.KI,te.O5,we.jY,pi._Y,pi.JL,pi.sg,pi.Fj,pi.JJ,pi.u],styles:[".host[_ngcontent-%COMP%]{width:100%}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--app-color-medium)}.host[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{margin-bottom:1rem}.host[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{width:100%}.host[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .forgot[_ngcontent-%COMP%]{margin-bottom:.45rem}.host[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.host[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.host[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.host[_ngcontent-%COMP%]   .socials[_ngcontent-%COMP%]{margin-top:2rem}.host[_ngcontent-%COMP%]   .socials[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center;color:var(--app-color-medium)}.host[_ngcontent-%COMP%]   .socials[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;text-align:center;width:100%;margin-bottom:1rem;position:relative}.host[_ngcontent-%COMP%]   .socials[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;position:absolute;left:1rem}.host[_ngcontent-%COMP%]   .socials[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin-left:1rem}"]}),k})(),Ko=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,pi.UX,Oe.y4,we.Pf]]}),k})(),vc=(()=>{class k{constructor(q,Pe){this.formBuilder=q,this.authService=Pe,this.i18n=!1,this.loginRouterLink=["login"],this.EMAIL_LABEL="Email",this.EMAIL_PLACEHOLDER="Your email",this.PASSWORD_LABEL="Password",this.PASSWORD_PLACEHOLDER="Your password",this.CONFIRM_PASSWORD_LABEL="Confirm password",this.CONFIRM_PASSWORD_PLACEHOLDER="Enter password again",this.SUBMIT_TEXT="Create account",this.LOGIN_TEXT="login here!",this.LOGIN_DESCRIPTION="Already an user",this.signedUp=new n.vpe,this.error=new n.vpe,this.lockdown=!1,this.registerFormGroup=this.formBuilder.group({email:new pi.NI("",[pi.kI.required,pi.kI.email]),password:new pi.NI("",[pi.kI.required,pi.kI.minLength(7)]),passwordConfirm:new pi.NI("",[pi.kI.required])},{validators:rt=>{var Jt,Mn;return(null===(Jt=rt.get("password"))||void 0===Jt?void 0:Jt.value)!==(null===(Mn=rt.get("passwordConfirm"))||void 0===Mn?void 0:Mn.value)?{invalidPasswordConfirm:!0}:null}})}ngOnInit(){}signUp(){var q,Pe;if(!this.authService.authenticated&&!this.lockdown){this.beforeSignup();const rt=null===(q=this.registerFormGroup.get("email"))||void 0===q?void 0:q.value,Jt=null===(Pe=this.registerFormGroup.get("password"))||void 0===Pe?void 0:Pe.value;this.authService.createUserWithEmailAndPassword(rt,Jt).subscribe(()=>this.onSignedUp(),Mn=>this.onError(Mn))}}beforeSignup(){this.lockdown=!0,this.message=void 0}onSignedUp(){this.lockdown=!1,this.signedUp.emit()}onError(q){var Pe,rt;null===(Pe=this.registerFormGroup.get("password"))||void 0===Pe||Pe.setValue(""),null===(rt=this.registerFormGroup.get("passwordConfirm"))||void 0===rt||rt.setValue("");const{message:Jt}=q;this.message=Jt,this.lockdown=!1,this.error.emit(q)}}return k.\u0275fac=function(q){return new(q||k)(n.Y36(pi.qu),n.Y36(we.e8))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-register"]],inputs:{i18n:"i18n",loginRouterLink:"loginRouterLink",EMAIL_LABEL:"EMAIL_LABEL",EMAIL_PLACEHOLDER:"EMAIL_PLACEHOLDER",PASSWORD_LABEL:"PASSWORD_LABEL",PASSWORD_PLACEHOLDER:"PASSWORD_PLACEHOLDER",CONFIRM_PASSWORD_LABEL:"CONFIRM_PASSWORD_LABEL",CONFIRM_PASSWORD_PLACEHOLDER:"CONFIRM_PASSWORD_PLACEHOLDER",SUBMIT_TEXT:"SUBMIT_TEXT",LOGIN_TEXT:"LOGIN_TEXT",LOGIN_DESCRIPTION:"LOGIN_DESCRIPTION"},outputs:{signedUp:"signedUp",error:"error"},decls:1,vars:0,consts:[[4,"transloco"],[1,"host"],[1,"head"],[3,"usefulRouterLink","usefulRouterBackwardable"],["class","message",4,"ngIf"],[3,"formGroup","ngSubmit"],["registerForm","ngForm"],[1,"group"],[1,"form-label"],["type","email","formControlName","email",1,"form-control",3,"placeholder"],["type","password","formControlName","password",1,"form-control",3,"placeholder"],["type","password","formControlName","passwordConfirm",1,"form-control",3,"placeholder"],[1,"action"],["type","submit",1,"button-primary",3,"disabled"],[1,"message"],[1,"alert-danger",3,"innerHtml"]],template:function(q,Pe){1&q&&n.YNc(0,Le,27,15,"ng-container",0)},directives:[Oe.KI,we.jY,te.O5,pi._Y,pi.JL,pi.sg,pi.Fj,pi.JJ,pi.u],styles:[".host[_ngcontent-%COMP%]{width:100%}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--app-color-medium)}.host[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{margin-bottom:1rem}.host[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.host[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.host[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}"]}),k})(),$o=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,pi.UX,Oe.y4,we.Pf]]}),k})(),Qa=(()=>{class k{constructor(){this.i18n=!1,this.editable=!0,this.label="Text",this.type="text",this.value="",this.save=new n.vpe,this.showPubliclyToggler=!1,this.isPublicly=!1,this.publiclyChanged=new n.vpe,this.isEdit=!1}ngOnInit(){this.buildCurrentValue()}ngOnChanges(){this.buildCurrentValue()}submit(){this.save.emit(this.currentValue),this.isEdit=!1}togglePublicly(q){this.publiclyChanged.emit(q.target.checked)}buildCurrentValue(){this.currentValue=this.value}}return k.\u0275fac=function(q){return new(q||k)},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-account-text-editor"]],inputs:{i18n:"i18n",editable:"editable",label:"label",type:"type",value:"value",showPubliclyToggler:"showPubliclyToggler",isPublicly:"isPublicly"},outputs:{save:"save",publiclyChanged:"publiclyChanged"},features:[n.TTD],decls:1,vars:0,consts:[[4,"transloco"],[1,"host"],[1,"label"],[1,"left"],[1,"right"],[4,"ngIf"],["class","value",4,"ngIf","ngIfElse"],["editMode",""],["href","#",3,"click",4,"ngIf"],["class","form-switch",4,"ngIf"],["href","#",3,"click"],[1,"form-switch"],["type","checkbox",3,"checked","change"],[1,"slider"],[1,"value"],[3,"innerHtml",4,"ngIf","ngIfElse"],["noValue",""],[3,"innerHtml"],["href","#",1,"no-value",3,"click"],["class","edit",4,"ngIf"],[1,"edit"],[1,"actions"],[1,"button-outline-foreground-sm",3,"click"],[1,"button-primary-sm",3,"click"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"]],template:function(q,Pe){1&q&&n.YNc(0,hn,10,4,"ng-container",0)},directives:[Oe.KI,te.O5,pi.Fj,pi.JJ,pi.On],styles:[".host[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;margin-bottom:.5rem}.host[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-switch[_ngcontent-%COMP%]{margin-left:1rem}.host[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--app-color-medium)}.host[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .no-value[_ngcontent-%COMP%]{font-size:.75rem;font-style:italic}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;margin-top:.5rem}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:1}"]}),k})(),Dl=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,pi.u5,Oe.y4]]}),k})(),Dc=(()=>{class k{constructor(){this.noFrame=!1,this.change=new n.vpe}ngOnInit(){}ngOnChanges(){var q;if(this.cropperRef&&this.url){const Pe=this.cropperRef.nativeElement;null===(q=this.croppieInstance)||void 0===q||q.destroy();const rt=new Fi(Pe,this.options);rt.bind({url:this.url}),this.croppingSubscription=(0,Yt.R)(Pe,"update").pipe((0,Zn.b)(500)).subscribe(()=>this.onChanges()),this.croppieInstance=rt}}ngOnDestroy(){this.croppingSubscription&&this.croppingSubscription.unsubscribe()}onChanges(){var q;null===(q=this.croppieInstance)||void 0===q||q.result(Object.assign({type:"blob",format:"jpeg",quality:.6},this.resultOptions)).then(Pe=>this.change.emit(Pe))}}return k.\u0275fac=function(q){return new(q||k)},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-image-cropper"]],viewQuery:function(q,Pe){if(1&q&&n.Gf($n,7),2&q){let rt;n.iGM(rt=n.CRH())&&(Pe.cropperRef=rt.first)}},inputs:{url:"url",options:"options",resultOptions:"resultOptions",noFrame:"noFrame"},outputs:{change:"change"},features:[n.TTD],decls:2,vars:2,consts:[[1,"host"],["cropper",""]],template:function(q,Pe){1&q&&n._UZ(0,"div",0,1),2&q&&n.ekj("no-frame",Pe.noFrame)},styles:['@charset "UTF-8";.croppie-container.no-frame .cr-resizer,.croppie-container.no-frame .cr-viewport{border:none!important}.croppie-container{width:100%;height:100%}.croppie-container .cr-image{z-index:-1;position:absolute;top:0;left:0;transform-origin:0 0;max-height:none;max-width:none}.croppie-container .cr-boundary{position:relative;overflow:hidden;margin:0 auto;z-index:1;width:100%;height:100%}.croppie-container .cr-resizer,.croppie-container .cr-viewport{position:absolute;border:2px solid #fff;margin:auto;top:0;bottom:0;right:0;left:0;box-shadow:0 0 2000px 2000px #00000080;z-index:0}.croppie-container .cr-resizer{z-index:2;box-shadow:none;pointer-events:none}.croppie-container .cr-resizer-horisontal,.croppie-container .cr-resizer-vertical{position:absolute;pointer-events:all}.croppie-container .cr-resizer-horisontal:after,.croppie-container .cr-resizer-vertical:after{display:block;position:absolute;box-sizing:border-box;border:1px solid #000;background:#fff;width:10px;height:10px;content:""}.croppie-container .cr-resizer-vertical{bottom:-5px;cursor:row-resize;width:100%;height:10px}.croppie-container .cr-resizer-vertical:after{left:50%;margin-left:-5px}.croppie-container .cr-resizer-horisontal{right:-5px;cursor:col-resize;width:10px;height:100%}.croppie-container .cr-resizer-horisontal:after{top:50%;margin-top:-5px}.croppie-container .cr-original-image{display:none}.croppie-container .cr-vp-circle{border-radius:50%}.croppie-container .cr-overlay{z-index:1;position:absolute;cursor:move;touch-action:none}.croppie-container .cr-slider-wrap{width:75%;margin:15px auto;text-align:center}.croppie-result{position:relative;overflow:hidden}.croppie-result img{position:absolute}.croppie-container .cr-image,.croppie-container .cr-overlay,.croppie-container .cr-viewport{transform:translateZ(0)}.cr-slider{-webkit-appearance:none;width:300px;max-width:100%;padding-top:8px;padding-bottom:8px;background-color:initial}.cr-slider::-webkit-slider-runnable-track{width:100%;height:3px;background:#00000080;border:0;border-radius:3px}.cr-slider::-webkit-slider-thumb{-webkit-appearance:none;border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:focus{outline:none}.cr-slider::-moz-range-track{width:100%;height:3px;background:#00000080;border:0;border-radius:3px}.cr-slider::-moz-range-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:-moz-focusring{outline:1px solid #fff;outline-offset:-1px}.cr-slider::-ms-track{width:100%;height:5px;background:#0000;border-color:#0000;border-width:6px 0;color:#0000}.cr-slider::-ms-fill-lower,.cr-slider::-ms-fill-upper{background:#00000080;border-radius:10px}.cr-slider::-ms-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:1px}.cr-slider:focus::-ms-fill-lower,.cr-slider:focus::-ms-fill-upper{background:#00000080}.cr-rotate-controls{position:absolute;bottom:5px;left:5px;z-index:1}.cr-rotate-controls button{border:0;background:none}.cr-rotate-controls i:before{display:inline-block;font-style:normal;font-weight:900;font-size:22px}.cr-rotate-l i:before{content:"\u21ba"}.cr-rotate-r i:before{content:"\u21bb"}'],encapsulation:3}),k})(),Ss=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez]]}),k})(),Sl=(()=>{class k{constructor(q){this.storageService=q,this.close=new n.vpe,this.done=new n.vpe,this.isProcessing=!1,this.cropperOptions={viewport:{width:120,height:120},boundary:{width:250,height:250},showZoomer:!0},this.cropperResultOptions={size:{width:500,height:500}}}ngOnInit(){}ngOnChanges(){this.storageService.readFileDataUrl(this.file).subscribe(q=>this.fileDataUrl=q)}closeAndReset(){this.isProcessing=!1,this.uploading=void 0,this.cropResult=void 0,this.close.emit()}processAvatar(){this.cropResult&&(this.isProcessing=!0,(0,gn.aj)([this.storageService.compressImage(this.cropResult,{width:40,height:40}),this.storageService.compressImage(this.cropResult,{width:200,height:200}),this.storageService.compressImage(this.cropResult)]).subscribe(q=>this.uploadBlobs([{size:"sm",blob:q[0]},{size:"md",blob:q[1]},{size:"lg",blob:q[2]}],Pe=>{this.done.emit(Pe),this.closeAndReset()})))}uploadBlobs(q,Pe){const rt=q.map(Mn=>Object.assign(Object.assign({},this.storageService.uploadBlob(`${this.uid}/avatar-${Mn.size}.jpg`,Mn.blob,{uploadFolder:"user-content",noDateGrouping:!0,noRandomSuffix:!0})),{input:Mn}));this.uploading={uploadPercent$:(0,gn.aj)(rt.map(Mn=>Mn.task.percentageChanges())).pipe((0,He.U)(Mn=>(Mn.reduce((Bi=0,ir=0)=>Bi+ir,0)||Mn.length)/Mn.length))};const Jt=[];rt.forEach(Mn=>{Mn.task.snapshotChanges().pipe((0,In.x)(()=>Mn.ref.getDownloadURL().subscribe(Bi=>{Jt.push({name:Mn.input.size,src:Bi}),Jt.length===rt.length&&Pe(Jt.reduce((ir,ki)=>(ir[ki.name]=ki,ir),{}))}))).subscribe()})}}return k.\u0275fac=function(q){return new(q||k)(n.Y36(we.V1))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-account-avatar-editor"]],inputs:{uid:"uid",file:"file"},outputs:{close:"close",done:"done"},features:[n.TTD],decls:1,vars:0,consts:[[4,"transloco"],[1,"host"],[1,"head"],[1,"left"],[1,"right"],["href","javascript:void(0)",3,"click"],[1,"body"],[4,"ngIf"],[1,"foot"],[1,"button-primary",3,"disabled","click"],[3,"url","options","resultOptions","change"],["max","100",3,"value"]],template:function(q,Pe){1&q&&n.YNc(0,ui,16,5,"ng-container",0)},directives:[Oe.KI,te.O5,Dc],pipes:[te.Ov],styles:[".host[_ngcontent-%COMP%]{background:var(--app-color-background);border-top:1px solid var(--app-color-medium);color:var(--app-color-foreground);width:100%;max-height:480px;position:fixed;bottom:-480px;left:0;transition:all .3s ease;z-index:9}.host.show[_ngcontent-%COMP%]{bottom:0}.host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{padding:.5rem 1rem;border-bottom:1px solid var(--app-color-background-shade)}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;padding:1rem 1rem 0;min-height:150px;max-height:423px;-ms-overflow-style:none;scrollbar-width:none}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cropper[_ngcontent-%COMP%]{width:100%;max-width:250px;margin:auto}.host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]{padding:.5rem 1rem;border-top:1px solid var(--app-color-background-shade)}"]}),k})(),Qc=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4,Ss]]}),k})(),Xo=(()=>{class k{constructor(q,Pe,rt){this.alertService=q,this.modalService=Pe,this.userService=rt,this.displayName="User"}ngOnInit(){}viewAvatar(){return this.thumbnails?this.modalService.image((this.thumbnails.lg||this.thumbnails.default).src).show():null}avatarSelected(q){if(q.target.value){const Pe=q.target.files[0],{type:rt,size:Jt}=Pe;-1!==["image/jpeg","image/png"].indexOf(rt)&&Jt<10485760?this.avatarEditorFile=Pe:this.alertService.alert({message:"Only image (.jpg, .png) less then 10MB is supported."}).show(),q.target.value=null}}handleAvatarChanged(q){return this.userService.updateProfile({photoURL:q.md.src,thumbnails:q})}}return k.\u0275fac=function(q){return new(q||k)(n.Y36(we.c9),n.Y36(we.Z7),n.Y36(we.KD))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-account-avatar"]],inputs:{uid:"uid",displayName:"displayName",thumbnails:"thumbnails"},decls:8,vars:4,consts:[[1,"host"],["href","#",1,"picture",3,"click"],[3,"src","alt"],["class","menu",4,"ngIf"],[1,"edit","button"],["name","arrow-up-circle-fill","size","16"],["id","avatar","type","file",3,"change"],["class","editor",4,"ngIf"],[1,"menu"],[1,"view",3,"click"],["name","image","size","20"],[1,"change"],["for","avatar"],["name","camera","size","20"],[1,"editor"],[3,"uid","file","close","done"]],template:function(q,Pe){1&q&&(n.TgZ(0,"div",0),n.TgZ(1,"a",1),n.NdJ("click",function(){return!Pe.uid&&Pe.viewAvatar()}),n._UZ(2,"img",2),n.qZA(),n.YNc(3,yi,10,0,"ul",3),n.TgZ(4,"label",4),n._UZ(5,"nguix-icon",5),n.TgZ(6,"input",6),n.NdJ("change",function(Jt){return Pe.avatarSelected(Jt)}),n.qZA(),n.qZA(),n.YNc(7,Ui,2,2,"div",7),n.qZA()),2&q&&(n.xp6(2),n.Q6J("src",(null==((null==Pe.thumbnails?null:Pe.thumbnails.md)||(null==Pe.thumbnails?null:Pe.thumbnails.default))?null:((null==Pe.thumbnails?null:Pe.thumbnails.md)||(null==Pe.thumbnails?null:Pe.thumbnails.default)).src)||"https://www.gravatar.com/avatar/user?d=mp",n.LSH)("alt",Pe.displayName),n.xp6(1),n.Q6J("ngIf",Pe.uid),n.xp6(4),n.Q6J("ngIf",Pe.uid&&Pe.avatarEditorFile))},directives:[te.O5,Cs,Sl],styles:[".host[_ngcontent-%COMP%]{display:block;position:relative;width:6rem;height:6rem;color:var(--app-color-foreground)}.host[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{overflow:hidden;border-radius:100%;width:100%;height:100%}.host[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]:focus + ul.menu[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]:focus-within + ul.menu[_ngcontent-%COMP%]{display:block}.host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]{display:none;list-style:none;margin:0;width:200px;position:absolute;top:7rem;left:calc(-50% - .25rem);background:var(--app-color-background-tint);padding:.3rem;border:1px solid var(--app-color-background-shade);border-radius:var(--app-size-radius);z-index:9}.host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]:focus, .host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]:focus-within, .host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]:hover{display:block}.host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem;font-size:.9rem}.host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:var(--app-color-background)}.host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.5rem}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem;border-radius:100%;background:var(--app-color-background-tint);position:absolute;bottom:0;right:0}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}"]}),k})(),dc=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4,bs,Qc]]}),k})(),eo=(()=>{class k{constructor(q){this.storageService=q,this.close=new n.vpe,this.done=new n.vpe,this.isProcessing=!1,this.cropperResultOptions={size:{width:1920,height:1080}}}ngOnInit(){}ngOnChanges(){this.storageService.readFileDataUrl(this.file).subscribe(q=>{var Pe;this.fileDataUrl=q;const rt=(null===(Pe=document.getElementById("cover-editor"))||void 0===Pe?void 0:Pe.clientWidth)||250,Jt=56.25*rt/100;this.cropperOptions={viewport:{width:rt,height:Jt},boundary:{width:rt,height:Jt},enableZoom:!0,showZoomer:!1}})}closeAndReset(){this.isProcessing=!1,this.uploading=void 0,this.cropResult=void 0,this.close.emit()}processCover(){this.cropResult&&(this.isProcessing=!0,(0,gn.aj)([this.storageService.compressImage(this.cropResult,{width:480,height:270}),this.storageService.compressImage(this.cropResult,{width:720,height:405}),this.storageService.compressImage(this.cropResult,{width:1280,height:720}),this.storageService.compressImage(this.cropResult)]).subscribe(q=>this.uploadBlobs([{size:"sm",blob:q[0]},{size:"md",blob:q[1]},{size:"lg",blob:q[2]},{size:"xl",blob:q[3]}],Pe=>{this.done.emit(Pe),this.closeAndReset()})))}uploadBlobs(q,Pe){const rt=q.map(Mn=>Object.assign(Object.assign({},this.storageService.uploadBlob(`${this.uid}/cover-${Mn.size}.jpg`,Mn.blob,{uploadFolder:"user-content",noDateGrouping:!0,noRandomSuffix:!0})),{input:Mn}));this.uploading={uploadPercent$:(0,gn.aj)(rt.map(Mn=>Mn.task.percentageChanges())).pipe((0,He.U)(Mn=>(Mn.reduce((Bi=0,ir=0)=>Bi+ir,0)||Mn.length)/Mn.length))};const Jt=[];rt.forEach(Mn=>{Mn.task.snapshotChanges().pipe((0,In.x)(()=>Mn.ref.getDownloadURL().subscribe(Bi=>{Jt.push({name:Mn.input.size,src:Bi}),Jt.length===rt.length&&Pe(Jt.reduce((ir,ki)=>(ir[ki.name]=ki,ir),{}))}))).subscribe()})}}return k.\u0275fac=function(q){return new(q||k)(n.Y36(we.V1))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-account-cover-editor"]],inputs:{uid:"uid",file:"file"},outputs:{close:"close",done:"done"},features:[n.TTD],decls:1,vars:0,consts:[[4,"transloco"],["id","cover-editor",1,"host"],[1,"body"],[4,"ngIf"],[1,"foot"],[1,"left"],[1,"right"],[1,"button-foreground-sm",3,"disabled","click"],[1,"button-primary-sm",3,"disabled","click"],[3,"url","options","resultOptions","noFrame","change"],["max","100",3,"value"]],template:function(q,Pe){1&q&&n.YNc(0,gr,12,6,"ng-container",0)},directives:[Oe.KI,te.O5,Dc],pipes:[te.Ov],styles:[".host[_ngcontent-%COMP%]{background:var(--app-color-background);color:var(--app-color-foreground);width:100%;height:0}.host.show[_ngcontent-%COMP%]{height:auto}.host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{width:100%;overflow-x:hidden;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]{padding:0;margin-top:-.5rem}.host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]{width:100%}.host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.5rem}"]}),k})(),dl=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4,Ss]]}),k})(),hl=(()=>{class k{constructor(q,Pe,rt){this.alertService=q,this.modalService=Pe,this.userService=rt,this.isProcessing=!1}ngOnInit(){}viewCover(){return this.images?this.modalService.image((this.images.xl||this.images.default).src).show():null}removeCover(){return this.alertService.confirm({message:"Are you sure to remove your cover photo?",confirmText:"Remove cover"},q=>{q&&this.userService.removeCoverPhoto()}).show()}coverSelected(q){if(q.target.value){const Pe=q.target.files[0],{type:rt,size:Jt}=Pe;-1!==["image/jpeg","image/png"].indexOf(rt)&&Jt<10485760?this.coverEditorFile=Pe:this.alertService.alert({message:"Only image (.jpg, .png) less then 10MB is supported."}).show(),q.target.value=null}}handleCoverChanged(q){return this.userService.updateProfile({coverPhoto:q.xl.src,images:q})}}return k.\u0275fac=function(q){return new(q||k)(n.Y36(we.c9),n.Y36(we.Z7),n.Y36(we.KD))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-account-cover"]],inputs:{uid:"uid",images:"images"},decls:4,vars:2,consts:[[1,"host"],[4,"ngIf","ngIfElse"],["coverEditor",""],[1,"picture"],["href","#",3,"click"],["fallbackCover",""],[1,"edit","button-light-sm"],["base","icon-dark","name","image","size","16"],["class","menu",4,"ngIf"],["id","cover","type","file",3,"change"],["media","(min-width: 1280px)",3,"srcset",4,"ngIf"],["media","(min-width: 720px)",3,"srcset",4,"ngIf"],["media","(min-width: 480px)",3,"srcset",4,"ngIf"],["alt","Cover picture",3,"src"],["media","(min-width: 1280px)",3,"srcset"],["media","(min-width: 720px)",3,"srcset"],["media","(min-width: 480px)",3,"srcset"],["src","https://via.placeholder.com/1920x1080/f1f1f1/000000?text=+","alt","Cover picture"],[1,"menu"],[1,"view",3,"click"],["name","image","size","20"],[1,"change"],["for","cover"],["name","camera","size","20"],[1,"remove",3,"click"],["name","trash","size","20"],["class","editor",4,"ngIf"],[1,"editor"],[3,"uid","file","close","done"]],template:function(q,Pe){if(1&q&&(n.TgZ(0,"div",0),n.YNc(1,zo,12,3,"ng-container",1),n.YNc(2,_s,1,1,"ng-template",null,2,n.W1O),n.qZA()),2&q){const rt=n.MAs(3);n.xp6(1),n.Q6J("ngIf",!Pe.coverEditorFile)("ngIfElse",rt)}},directives:[te.O5,Cs,eo],styles:[".host[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{position:relative}.host[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{display:block;width:100%;padding-top:56.25%;background-color:var(--app-color-medium);border-radius:var(--app-size-radius);overflow:hidden}.host[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}.host[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   picture[_ngcontent-%COMP%]{display:block;width:100%}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:absolute;bottom:.5rem;right:.5rem;display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.5rem;font-size:.9rem}.host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]:focus + ul.menu[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]:focus-within + ul.menu[_ngcontent-%COMP%]{display:block}.host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]{display:none;list-style:none;margin:0;width:200px;position:absolute;top:100%;right:0;background:var(--app-color-background-tint);padding:.3rem;border:1px solid var(--app-color-background-shade);border-radius:var(--app-size-radius);z-index:9}.host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]:focus, .host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]:focus-within, .host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]:hover{display:block}.host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem;font-size:.9rem}.host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:var(--app-color-background)}.host[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.5rem}.host[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}"]}),k})(),xl=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4,bs,dl]]}),k})(),$c=(()=>{class k{constructor(q,Pe,rt,Jt){this.navService=q,this.alertService=Pe,this.authService=rt,this.userService=Jt,this.i18n=!1,this.publicProfileUrlSegment="",this.VERIFY_EMAIL="Verify Email",this.VIEW_PROFILE="View Public Profile",this.GENERAL_TITLE="General",this.INTRO_LABEL="Intro",this.LOGOUT_TEXT="Logout"}ngOnInit(){}verifyEmail(){return this.alertService.confirm({message:"Verify email now?",confirmText:"Send verification"},q=>{q&&this.userService.verifyEmail().subscribe(()=>this.alertService.alert({message:"Please check your inbox for instruction."}).show())}).show()}openPublicProfile(){var q;return this.userService.username&&"publish"===(null===(q=this.userService.publicData)||void 0===q?void 0:q.status)?this.navService.navigate(this.publicProfileUrlSegment?[this.publicProfileUrlSegment,this.userService.username]:[this.userService.username]):this.alertService.confirm({message:"Your profile is private, make it public now?",confirmText:"Make public"},Pe=>{Pe&&this.userService.changePublicity(!0)}).show()}signOut(){return this.alertService.confirm({message:"Are your sure want to sign out?",confirmText:"Sign out"},q=>{q&&this.authService.signOut().subscribe(()=>this.navService.navigate([""]))}).show()}updatePublicity(q){return this.userService.changePublicity(q.target.checked)}updateDisplayName(){var q;return this.alertService.prompt({message:"Please input your display name:",inputValue:null===(q=this.userService.data)||void 0===q?void 0:q.displayName,confirmText:"Change name"},Pe=>{var rt;Pe&&(null===(rt=this.userService.data)||void 0===rt?void 0:rt.displayName)!==Pe&&this.userService.updateProfile({displayName:Pe})}).show()}updateIntro(q){return this.userService.updateProfile({intro:q})}updateEmailPublicly(q){return this.userService.updatePublicly({email:q}),this.alertService.alert({message:"Email status is changed to public."}).show()}}return k.\u0275fac=function(q){return new(q||k)(n.Y36(we.tZ),n.Y36(we.c9),n.Y36(we.e8),n.Y36(we.KD))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-account"]],inputs:{i18n:"i18n",publicProfileUrlSegment:"publicProfileUrlSegment",VERIFY_EMAIL:"VERIFY_EMAIL",VIEW_PROFILE:"VIEW_PROFILE",GENERAL_TITLE:"GENERAL_TITLE",INTRO_LABEL:"INTRO_LABEL",LOGOUT_TEXT:"LOGOUT_TEXT"},decls:1,vars:0,consts:[[4,"transloco"],["class","host",4,"ngIf","ngIfElse"],["noUser",""],[1,"host"],[4,"ngIf"],[1,"head"],[1,"cover"],[3,"uid","images"],[1,"content"],[1,"avatar"],[3,"uid","displayName","thumbnails"],[1,"info"],[1,"name"],[1,"truncate"],[1,"edit","button-clear",3,"click"],["name","pencil-square","size","16"],[1,"email"],["href","#",3,"click",4,"ngIf"],["class","public",4,"ngIf"],[1,"body"],[1,"general"],[1,"title"],[1,"publicity"],[1,"label"],[1,"value"],[1,"form-switch"],["type","checkbox",3,"checked","change"],[1,"slider"],[1,"username"],["label","Username","type","text",3,"i18n","value","editable"],["label","Email","type","email",3,"i18n","value","editable","showPubliclyToggler","isPublicly","publiclyChanged"],[1,"intro"],["type","text",3,"i18n","label","value","save"],[1,"foot"],[1,"button-outline",3,"click"],["href","#",3,"click"],[1,"public"],[1,"button-primary",3,"click"],[3,"usefulRouterLink"]],template:function(q,Pe){1&q&&n.YNc(0,Ro,4,2,"ng-container",0)},directives:[Oe.KI,te.O5,hl,Xo,Cs,Qa,we.jY],styles:[".host[_ngcontent-%COMP%]{width:100%}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:2rem 0}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%;padding-top:1rem}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-bottom:0;display:flex;flex-wrap:nowrap;align-items:center;justify-content:center}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:400}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2rem;height:2rem;margin-left:.5rem;padding-left:.45rem;display:flex;align-items:center;outline:none}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{color:var(--app-color-medium);text-align:center}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{display:block}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-style:normal}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-style:italic;font-size:.75rem}.host[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .public[_ngcontent-%COMP%]{margin-top:1.5rem}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:1rem 0 2rem}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--app-color-medium);padding-bottom:.5rem;border-bottom:1px solid var(--app-color-background-shade)}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:1.5rem 0}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{margin-top:0}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.publicity[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.publicity[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1rem;border-top:1px solid var(--app-color-background-shade);text-align:center}"]}),k})(),Ps=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4,we.Pf,bs,Dl,dc,xl]]}),k})(),Va=(()=>{class k{constructor(){this.i18n=!1,this.layout="thumbnail",this.MIN_READ="min read",this.READ_MORE="Read more"}ngOnInit(){}}return k.\u0275fac=function(q){return new(q||k)},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-posts"]],inputs:{i18n:"i18n",layout:"layout",posts:"posts",MIN_READ:"MIN_READ",READ_MORE:"READ_MORE"},decls:1,vars:0,consts:[[4,"transloco"],["class","host",3,"class",4,"ngIf"],[1,"host"],[4,"ngFor","ngForOf"],[1,"head"],[1,"thumbnail",3,"usefulRouterLink","usefulRouterBackwardable"],[3,"src","alt"],["class","category",3,"class","usefulRouterLink","usefulRouterBackwardable",4,"ngIf"],[1,"body"],[1,"title"],[3,"usefulRouterLink","usefulRouterBackwardable"],[1,"info"],["class","author",4,"ngIf"],[1,"date"],[1,"duration"],[1,"description",3,"innerHtml"],[1,"foot"],[1,"stats"],["class","likes",4,"ngIf"],["class","comments",4,"ngIf"],[1,"action"],[1,"category",3,"usefulRouterLink","usefulRouterBackwardable"],[1,"author"],[1,"muted",3,"usefulRouterLink","usefulRouterBackwardable"],[1,"likes"],[1,"icon","icon-love"],[1,"comments"],[1,"icon","icon-comment"]],template:function(q,Pe){1&q&&n.YNc(0,Dr,2,1,"ng-container",0)},directives:[Oe.KI,te.O5,te.sg,we.jY],pipes:[we.RX,te.uU],styles:[".host.list-card[_ngcontent-%COMP%], .host.list-thumbnail[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.host.list-card[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;display:flex;flex-flow:column;background:var(--app-color-background);border-radius:var(--app-size-radius);margin-bottom:2rem;overflow:hidden;box-shadow:0 0 1px var(--app-color-medium)}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{position:relative;overflow:hidden;padding-top:56.25%;width:100%}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%], .host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{display:block;position:absolute;bottom:.5rem;right:.5rem;text-transform:uppercase;font-size:.75rem;padding:.25rem .5rem;border-radius:var(--app-size-radius);background:var(--app-color-foreground);color:var(--app-color-foreground-contrast)}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .category.web-app[_ngcontent-%COMP%], .host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .category.web-app-vi-vn[_ngcontent-%COMP%]{background:var(--app-color-success);color:var(--app-color-success-contrast)}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:column;padding:0 1rem;margin-top:1rem}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.2rem;font-family:var(--app-font-head);font-weight:500}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--app-color-foreground)}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:.5rem}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem;border-radius:100%;box-shadow:0 0 1px var(--app-color-medium)}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.75rem}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{display:none}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{color:var(--app-color-medium)}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex:1;margin-top:.5rem}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding:0 1rem;margin-top:1rem;margin-bottom:.5rem}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{flex:1;display:flex;flex-wrap:nowrap}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.25rem}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%], .host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .likes[_ngcontent-%COMP%]{margin-right:1rem;display:flex;flex-wrap:nowrap;align-items:center}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .likes[_ngcontent-%COMP%]   i.icon[_ngcontent-%COMP%]{opacity:.3;width:1.2rem;height:1.2rem}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]   i.icon[_ngcontent-%COMP%]{opacity:.3;width:1rem;height:1rem}@media only screen and (min-width:576px){.host.list-card[_ngcontent-%COMP%]{width:calc(100% + 1rem);margin-left:-1rem}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:calc(50% - 1rem);margin-left:1rem}}@media only screen and (min-width:1200px){.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:calc((100% / 3) - 1rem)}}"]}),k})(),Ms=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4,we.Pf,we.v6,we.kp]]}),k})(),hc=(()=>{class k{constructor(q){this.navService=q,this.i18n=!1,this.MIN_READ="min read",this.TLDR_TITLE="Long story short",this.TOC_TITLE="In this post"}ngOnInit(){}}return k.\u0275fac=function(q){return new(q||k)(n.Y36(we.tZ))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-post"]],inputs:{i18n:"i18n",post:"post",MIN_READ:"MIN_READ",TLDR_TITLE:"TLDR_TITLE",TOC_TITLE:"TOC_TITLE"},decls:1,vars:0,consts:[[4,"transloco"],["class","host",4,"ngIf"],[1,"host"],["class","categories",4,"ngIf"],[1,"title"],[1,"info"],["class","author",4,"ngIf"],[1,"date"],[1,"duration"],["class","image",4,"ngIf"],[1,"content"],["class","tldr",4,"ngIf"],[1,"description",3,"innerHtml"],["class","toc",4,"ngIf"],[1,"article"],[3,"input"],[1,"tags"],["class","button-outline-medium-sm",3,"usefulRouterLink",4,"ngFor","ngForOf"],[1,"misc"],[1,"stats"],["class","likes",4,"ngIf"],["class","comments",4,"ngIf"],[1,"action"],[3,"title","text","url"],[1,"categories"],["class","category",3,"class","usefulRouterLink","usefulRouterBackwardable",4,"ngFor","ngForOf"],[1,"category",3,"usefulRouterLink","usefulRouterBackwardable"],[1,"author"],[1,"muted",3,"usefulRouterLink","usefulRouterBackwardable"],[3,"src","alt"],[1,"image"],[1,"tldr"],[1,"name"],[3,"innerHtml"],[1,"toc"],[3,"class",4,"ngFor","ngForOf"],["target","_blank",3,"href",4,"ngIf"],[3,"usefulRouterLink",4,"ngIf"],[3,"href","click",4,"ngIf"],["target","_blank",3,"href"],[3,"usefulRouterLink"],[3,"href","click"],[1,"button-outline-medium-sm",3,"usefulRouterLink"],[1,"likes"],[1,"button-clear"],[1,"icon","icon-love"],[1,"comments"],[1,"icon","icon-comment"]],template:function(q,Pe){1&q&&n.YNc(0,Ce,2,1,"ng-container",0)},directives:[Oe.KI,te.O5,Tc,te.sg,Zc,we.jY],pipes:[we.ac,we.RX,we.Ly],styles:[".host[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   a.category[_ngcontent-%COMP%]{text-transform:uppercase;margin-right:.5rem;font-size:.75rem;padding:.25rem .5rem;border-radius:var(--app-size-radius);background:var(--app-color-foreground);color:var(--app-color-foreground-contrast)}.host[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   a.category.web-app[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   a.category.web-app-vi-vn[_ngcontent-%COMP%]{background:var(--app-color-success);color:var(--app-color-success-contrast)}.host[_ngcontent-%COMP%]   h1.title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin-top:1rem}.host[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;margin-top:.5rem}.host[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:100%;box-shadow:0 0 1px var(--app-color-medium)}.host[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.75rem}.host[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{display:none}.host[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{color:var(--app-color-medium)}.host[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{margin-top:1rem;overflow:hidden}.host[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.host[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:1rem;line-height:1.7}.host[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tldr[_ngcontent-%COMP%]{border:1px solid var(--app-color-foreground);border-radius:var(--app-size-radius)}.host[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tldr[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{padding:.25rem .5rem;background:var(--app-color-foreground);color:var(--app-color-background)}.host[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tldr[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{padding:1rem}.host[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.2rem;color:var(--app-color-medium-shade)}.host[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .toc[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;border:1px solid var(--app-color-medium);border-radius:var(--app-size-radius)}.host[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .toc[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-style:italic}.host[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .toc[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0 0 0 2rem}.host[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .article[_ngcontent-%COMP%]{margin-top:1rem;color:var(--app-color-foreground-tint)}.host[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{margin-top:2rem}.host[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:.5rem}.host[_ngcontent-%COMP%]   .misc[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;margin-top:1rem}.host[_ngcontent-%COMP%]   .misc[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{flex:1;margin-top:.25rem}.host[_ngcontent-%COMP%]   .misc[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .misc[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.host[_ngcontent-%COMP%]   .misc[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-content:center;margin-right:1rem;padding:0;color:var(--app-color-medium)}.host[_ngcontent-%COMP%]   .misc[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--app-color-foreground);text-decoration:underline}.host[_ngcontent-%COMP%]   .misc[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.25rem}.host[_ngcontent-%COMP%]   .misc[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .likes[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.host[_ngcontent-%COMP%]   .misc[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1.3rem;height:1.3rem}"]}),k})(),Xa=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4,we.Pf,we.v6,we.kp,we.VY,Wa,Ys]]}),k})(),yc=(()=>{class k{constructor(){this.i18n=!1,this.layout="thumbnail",this.VIEW_TEXT="views"}ngOnInit(){}}return k.\u0275fac=function(q){return new(q||k)},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-videos"]],inputs:{i18n:"i18n",layout:"layout",videos:"videos",VIEW_TEXT:"VIEW_TEXT"},decls:1,vars:0,consts:[[4,"transloco"],["class","host",3,"class",4,"ngIf"],[1,"host"],[4,"ngFor","ngForOf"],[1,"head"],[1,"thumbnail",3,"usefulRouterLink","usefulRouteData","usefulRouterBackwardable"],[3,"src","alt"],[1,"duration"],[1,"body"],[1,"title"],[3,"usefulRouterLink","usefulRouteData","usefulRouterBackwardable"],[1,"info"],[1,"view"],[1,"date"]],template:function(q,Pe){1&q&&n.YNc(0,Re,2,1,"ng-container",0)},directives:[Oe.KI,te.O5,te.sg,we.jY],pipes:[te.uU],styles:[".host.list-card[_ngcontent-%COMP%], .host.list-thumbnail[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.host.list-card[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;display:flex;flex-flow:column;background:var(--app-color-background);border-radius:var(--app-size-radius);margin-bottom:2rem;overflow:hidden}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{position:relative;overflow:hidden;padding-top:56.25%;width:100%}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%], .host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{position:absolute;right:.5rem;bottom:.5rem;padding:.1rem .25rem;border-radius:var(--app-size-radius);background:var(--app-color-dark);color:var(--app-color-light);font-size:.8rem}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:column;padding:0;margin-top:1rem}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.2rem;font-family:var(--app-font-head);font-weight:500}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--app-color-foreground)}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.5rem;color:var(--app-color-medium);font-size:.9rem;display:flex;flex-wrap:nowrap;align-items:center}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]{flex:1}@media only screen and (min-width:576px){.host.list-card[_ngcontent-%COMP%]{width:calc(100% + 1rem);margin-left:-1rem}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:calc(50% - 1rem);margin-left:1rem}}@media only screen and (min-width:1200px){.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:calc((100% / 3) - 1rem)}}"]}),k})(),ec=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4,we.Pf,we.v6,we.kp]]}),k})(),qc=(()=>{class k{constructor(){this.no=3,this.layout="thumbnail",this.items=[]}ngOnInit(){this.items=Array.from({length:this.no},(q,Pe)=>Pe)}}return k.\u0275fac=function(q){return new(q||k)},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-skeleton-videos"]],inputs:{no:"no",layout:"layout"},decls:2,vars:3,consts:[[1,"host"],[4,"ngFor","ngForOf"],[1,"thumbnail","skeleton-box",2,"width","100%","height","150px"],[1,"title","skeleton-box",2,"width","100%","height","30px"]],template:function(q,Pe){1&q&&(n.TgZ(0,"ul",0),n.YNc(1,en,3,0,"li",1),n.qZA()),2&q&&(n.Tol("list-"+Pe.layout),n.xp6(1),n.Q6J("ngForOf",Pe.items))},directives:[te.sg],styles:['.skeleton-box[_ngcontent-%COMP%]{display:inline-block;height:1em;position:relative;overflow:hidden;background-color:#dddbdd}.skeleton-box[_ngcontent-%COMP%]:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translateX(-100%);background-image:linear-gradient(90deg,#fff0,#fff3 20%,#ffffff80 60%,#fff0);animation:shimmer 2s infinite;content:""}@keyframes shimmer{to{transform:translateX(100%)}}.host.list-card[_ngcontent-%COMP%], .host.list-thumbnail[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}@media only screen and (min-width:576px){.host.list-card[_ngcontent-%COMP%]{width:calc(100% + 1rem);margin-left:-1rem}.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:calc(50% - 1rem);margin-left:1rem}}@media only screen and (min-width:1200px){.host.list-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:calc((100% / 3) - 1rem)}}']}),k})(),Wo=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez]]}),k})(),tc=(()=>{class k{constructor(){this.isYoutube=!1,this.youtubeId=""}ngOnInit(){}ngOnChanges(){const q=Object.keys(this.srcs);this.isYoutube=-1!==q.indexOf("youtube"),this.isYoutube&&(this.youtubeId=this.srcs.youtube.src.split("watch?v=")[1].split("&")[0])}}return k.\u0275fac=function(q){return new(q||k)},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-video-player"]],inputs:{srcs:"srcs"},features:[n.TTD],decls:4,vars:2,consts:[[1,"host"],["class","youtube embedded",4,"ngIf","ngIfElse"],["directSource",""],[1,"youtube","embedded"],[3,"videoId","ready"],[1,"direct"],["controls",""],[3,"src","type",4,"ngFor","ngForOf"],[3,"src","type"]],template:function(q,Pe){if(1&q&&(n.TgZ(0,"div",0),n.YNc(1,Gn,2,1,"div",1),n.YNc(2,Pr,6,3,"ng-template",null,2,n.W1O),n.qZA()),2&q){const rt=n.MAs(3);n.xp6(1),n.Q6J("ngIf",Pe.isYoutube&&Pe.youtubeId)("ngIfElse",rt)}},directives:[te.O5,ii,te.sg],pipes:[we.ac],styles:[".host[_ngcontent-%COMP%]   .direct[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}"]}),k})(),nc=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4,ut,we.Pf,we.v6]]}),k})(),pa=(()=>{class k{constructor(q){this.navService=q,this.i18n=!1}ngOnInit(){}}return k.\u0275fac=function(q){return new(q||k)(n.Y36(we.tZ))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-video"]],inputs:{i18n:"i18n",video:"video"},decls:1,vars:0,consts:[[4,"transloco"],["class","host",4,"ngIf"],[1,"host"],["class","player",4,"ngIf"],[1,"main"],["class","categories",4,"ngIf"],[1,"title"],[1,"info"],[1,"date"],[1,"content"],[1,"description",3,"innerHtml"],[1,"article"],[3,"input"],[1,"tags"],["class","button-outline-medium-sm",3,"usefulRouterLink",4,"ngFor","ngForOf"],[1,"misc"],[1,"stats"],["class","likes",4,"ngIf"],["class","comments",4,"ngIf"],[1,"action"],[3,"title","text","url"],[1,"player"],[3,"srcs"],[1,"categories"],["class","category",3,"class","usefulRouterLink","usefulRouterBackwardable",4,"ngFor","ngForOf"],[1,"category",3,"usefulRouterLink","usefulRouterBackwardable"],[1,"button-outline-medium-sm",3,"usefulRouterLink"],[1,"likes"],[1,"button-clear"],[1,"icon","icon-love"],[1,"comments"],[1,"icon","icon-comment"]],template:function(q,Pe){1&q&&n.YNc(0,xt,2,1,"ng-container",0)},directives:[Oe.KI,te.O5,Tc,te.sg,Zc,tc,we.jY],pipes:[we.ac,we.Ly],styles:[".host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{margin-top:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   a.category[_ngcontent-%COMP%]{text-transform:uppercase;margin-right:.5rem;font-size:.75rem;padding:.25rem .5rem;border-radius:var(--app-size-radius);background:var(--app-color-foreground);color:var(--app-color-foreground-contrast)}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   a.category.web-app[_ngcontent-%COMP%], .host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   a.category.web-app-vi-vn[_ngcontent-%COMP%]{background:var(--app-color-success);color:var(--app-color-success-contrast)}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   h1.title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin-top:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:var(--app-color-medium)}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:1rem;line-height:1.7}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.2rem;color:var(--app-color-medium-shade)}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .article[_ngcontent-%COMP%]{margin-top:1rem;color:var(--app-color-foreground-tint)}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{margin-top:2rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .misc[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;margin-top:1rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .misc[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{flex:1;display:flex;flex-wrap:nowrap;align-items:center;margin-top:.25rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .misc[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;justify-content:center;margin-right:1rem;padding:0;color:var(--app-color-medium)}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .misc[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--app-color-foreground);text-decoration:underline}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .misc[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.25rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .misc[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .likes[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.host[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .misc[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1.3rem;height:1.3rem}"]}),k})(),ga=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4,we.Pf,we.v6,we.kp,we.VY,Wa,Ys,nc]]}),k})(),Sc=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[Ar,jo,ko,xo,Zo,Kr,Us,ys,zs,Ys,bs,Wa,Ko,$o,Ps,Ms,Xa,ec,Wo,ga,nc,Ss],Ar,jo,ko,xo,Zo,Kr,Us,ys,zs,Ys,bs,Wa,Ko,$o,Ps,Ms,Xa,ec,Wo,ga,nc,Ss]}),k})(),es=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({providers:[{provide:Oe.Hn,useValue:{scope:"nguix-header",alias:"NGUIX_HEADER"}}],imports:[[Ar],Ar]}),k})(),Al=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({providers:[{provide:Oe.Hn,useValue:{scope:"nguix-header2nd",alias:"NGUIX_HEADER2ND"}}],imports:[[jo],jo]}),k})(),_a=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({providers:[{provide:Oe.Hn,useValue:{scope:"nguix-tabs",alias:"NGUIX_TABS"}}],imports:[[ko],ko]}),k})(),Bs=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({providers:[{provide:Oe.Hn,useValue:{scope:"nguix-footer",alias:"NGUIX_FOOTER"}}],imports:[[xo],xo]}),k})(),js=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({providers:[{provide:Oe.Hn,useValue:{scope:"nguix-oops",alias:"NGUIX_OOPS"}}],imports:[[Zo],Zo]}),k})(),Vo=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({providers:[{provide:Oe.Hn,useValue:{scope:"nguix-nav-indicator",alias:"NGUIX_NAV_INDICATOR"}}],imports:[[Us],Us]}),k})(),Cr=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({providers:[{provide:Oe.Hn,useValue:{scope:"nguix-pwa-reminder",alias:"NGUIX_PWA_REMINDER"}}],imports:[[ys],ys]}),k})(),ps=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({providers:[{provide:Oe.Hn,useValue:{scope:"nguix-pwa-box",alias:"NGUIX_PWA_BOX"}}],imports:[[zs],zs]}),k})(),Mr=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({providers:[{provide:Oe.Hn,useValue:{scope:"nguix-login",alias:"NGUIX_LOGIN"}}],imports:[[Ko],Ko]}),k})(),lo=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({providers:[{provide:Oe.Hn,useValue:{scope:"nguix-register",alias:"NGUIX_REGISTER"}}],imports:[[$o],$o]}),k})(),Mo=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({providers:[{provide:Oe.Hn,useValue:{scope:"nguix-account",alias:"NGUIX_ACCOUNT"}}],imports:[[Ps],Ps]}),k})(),xs=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({providers:[{provide:Oe.Hn,useValue:{scope:"nguix-posts",alias:"NGUIX_POSTS"}}],imports:[[Ms],Ms]}),k})(),ic=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({providers:[{provide:Oe.Hn,useValue:{scope:"nguix-post",alias:"NGUIX_POST"}}],imports:[[Xa],Xa]}),k})(),Co=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({providers:[{provide:Oe.Hn,useValue:{scope:"nguix-videos",alias:"NGUIX_VIDEOS"}}],imports:[[ec],ec]}),k})(),As=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[es,Al,_a,Bs,js,Kr,Vo,Cr,ps,Ys,bs,Wa,Mr,lo,Mo,xs,ic,Co,ga,nc,Ss],es,Al,_a,Bs,js,Kr,Vo,Cr,ps,Ys,bs,Wa,Mr,lo,Mo,xs,ic,Co,ga,nc,Ss]}),k})(),Os=(()=>{class k{constructor(q,Pe,rt){this.route=q,this.metaService=Pe,this.settingService=rt,this.pageData$=this.route.data.pipe((0,He.U)(Jt=>Object.assign({i18n:this.i18n,title:this.title,image:this.image,actionLink:this.actionLink,CONTENT:this.CONTENT,ACTION_TEXT:this.ACTION_TEXT},Jt)),(0,Hn.b)(()=>this.metaService.changePageMetas({title:this.title,description:this.CONTENT,image:this.image.startsWith("http")?this.image:location.origin+this.image}))),this.i18n=!1,this.title="Oops!",this.image="/assets/images/404.png",this.actionLink=[""],this.CONTENT="Page not found!",this.ACTION_TEXT="Go home"}ngOnInit(){}}return k.\u0275fac=function(q){return new(q||k)(n.Y36($t.gz),n.Y36(we.Rj),n.Y36(we.RC))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-oops-page"]],decls:2,vars:3,consts:[["class","host",4,"ngIf"],[1,"host"],[3,"i18n","image","actionLink","CONTENT","ACTION_TEXT"]],template:function(q,Pe){1&q&&(n.YNc(0,qt,2,5,"div",0),n.ALo(1,"async")),2&q&&n.Q6J("ngIf",n.lcZ(1,1,Pe.pageData$))},directives:[te.O5,Fs],pipes:[te.Ov],styles:[".host[_ngcontent-%COMP%]{padding:1rem;width:100%;max-width:992px;margin:auto}"]}),k})();const be=[{path:"",component:Os}];let ge=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[$t.Bz.forChild(be)],$t.Bz]}),k})(),le=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,we.Pf,Zo,ge]]}),k})(),De=(()=>{class k{constructor(){}ngOnInit(){null!==window.opener&&!window.opener.closed&&window.opener.handleOauthResult(window.location.hash),window.close()}}return k.\u0275fac=function(q){return new(q||k)},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-oauth-popup-page"]],decls:1,vars:0,consts:[[1,"host"]],template:function(q,Pe){1&q&&n._UZ(0,"div",0)},styles:[""]}),k})(),xe=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[]]}),k})(),ht=(()=>{class k{constructor(q,Pe,rt,Jt){this.route=q,this.metaService=Pe,this.settingService=rt,this.pageDataService=Jt,this.page$=this.route.data.pipe((0,He.U)(Mn=>Object.assign({i18n:this.i18n,id:this.id,ids:this.ids},Mn)),(0,ni.w)(Mn=>(0,gn.aj)([(0,wt.of)(Mn),Mn.i18n?this.settingService.onLocaleChanged:(0,wt.of)("en-US")])),(0,ni.w)(([Mn,Bi])=>this.pageDataService.get(Mn.i18n?Mn.ids[Bi]||Mn.ids["en-US"]:Mn.id,{time:10080})),(0,ni.w)(Mn=>Mn?(0,wt.of)(Mn):this.pageDataService.get(this.id,{time:10080})),(0,Hn.b)(Mn=>!!Mn&&this.metaService.changePageMetas(Mn))),this.i18n=!1,this.id="terms",this.ids={"en-US":"terms"}}ngOnInit(){}}return k.\u0275fac=function(q){return new(q||k)(n.Y36($t.gz),n.Y36(we.Rj),n.Y36(we.RC),n.Y36(zt.QX))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-terms-page"]],decls:4,vars:4,consts:[["class","host",4,"ngIf","ngIfElse"],["loading",""],[1,"host"],[1,"main"],[1,"text-medium","margin-bottom"],[1,"article"],[3,"input"],[1,"loading"]],template:function(q,Pe){if(1&q&&(n.YNc(0,On,6,2,"div",0),n.ALo(1,"async"),n.YNc(2,di,2,0,"ng-template",null,1,n.W1O)),2&q){const rt=n.MAs(3);n.Q6J("ngIf",n.lcZ(1,2,Pe.page$))("ngIfElse",rt)}},directives:[te.O5,Tc,Ds],pipes:[te.Ov],styles:[".host[_ngcontent-%COMP%]{padding:1rem;width:100%;max-width:992px;margin:auto}.loading[_ngcontent-%COMP%]{padding:2rem;display:flex;justify-content:center}"]}),k})();const rn=[{path:"",component:ht}];let yn=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[$t.Bz.forChild(rn)],$t.Bz]}),k})(),Nn=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Kr,Ys,yn]]}),k})(),vi=(()=>{class k{constructor(q,Pe,rt,Jt){this.route=q,this.metaService=Pe,this.settingService=rt,this.pageDataService=Jt,this.page$=this.route.data.pipe((0,He.U)(Mn=>Object.assign({i18n:this.i18n,id:this.id,ids:this.ids},Mn)),(0,ni.w)(Mn=>(0,gn.aj)([(0,wt.of)(Mn),Mn.i18n?this.settingService.onLocaleChanged:(0,wt.of)("en-US")])),(0,ni.w)(([Mn,Bi])=>this.pageDataService.get(Mn.i18n?Mn.ids[Bi]||Mn.ids["en-US"]:Mn.id,{time:10080})),(0,ni.w)(Mn=>Mn?(0,wt.of)(Mn):this.pageDataService.get(this.id,{time:10080})),(0,Hn.b)(Mn=>!!Mn&&this.metaService.changePageMetas(Mn))),this.i18n=!1,this.id="privacy",this.ids={"en-US":"privacy"}}ngOnInit(){}}return k.\u0275fac=function(q){return new(q||k)(n.Y36($t.gz),n.Y36(we.Rj),n.Y36(we.RC),n.Y36(zt.QX))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-privacy-page"]],decls:4,vars:4,consts:[["class","host",4,"ngIf","ngIfElse"],["loading",""],[1,"host"],[1,"main"],[1,"text-medium","margin-bottom"],[1,"article"],[3,"input"],[1,"loading"]],template:function(q,Pe){if(1&q&&(n.YNc(0,Ei,6,2,"div",0),n.ALo(1,"async"),n.YNc(2,xr,2,0,"ng-template",null,1,n.W1O)),2&q){const rt=n.MAs(3);n.Q6J("ngIf",n.lcZ(1,2,Pe.page$))("ngIfElse",rt)}},directives:[te.O5,Tc,Ds],pipes:[te.Ov],styles:[".host[_ngcontent-%COMP%]{padding:1rem;width:100%;max-width:992px;margin:auto}.loading[_ngcontent-%COMP%]{padding:2rem;display:flex;justify-content:center}"]}),k})();const wr=[{path:"",component:vi}];let Mi=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[$t.Bz.forChild(wr)],$t.Bz]}),k})(),Vn=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Kr,Ys,Mi]]}),k})(),ai=(()=>{class k{constructor(q,Pe,rt){this.route=q,this.metaService=Pe,this.settingService=rt,this.pageData$=this.route.data.pipe((0,He.U)(Jt=>Object.assign({i18n:this.i18n,TITLE:this.TITLE,THEME_TITLE:this.THEME_TITLE,THEME_DARK_MODE:this.THEME_DARK_MODE,LOCALE_TITLE:this.LOCALE_TITLE,PERSONA_TITLE:this.PERSONA_TITLE},Jt)),(0,Hn.b)(()=>this.metaService.changePageMetas({title:this.TITLE,description:"Change app settings"}))),this.i18n=!1,this.TITLE="Settings",this.THEME_TITLE="Theme",this.THEME_DARK_MODE="Dark mode",this.LOCALE_TITLE="Locale",this.PERSONA_TITLE="Persona"}ngOnInit(){}toggleTheme(q){return this.settingService.changeTheme(q.target.checked?"dark":"light")}}return k.\u0275fac=function(q){return new(q||k)(n.Y36($t.gz),n.Y36(we.Rj),n.Y36(we.RC))},k.\u0275cmp=n.Xpm({type:k,selectors:[["nguix-setting-page"]],decls:1,vars:0,consts:[[4,"transloco"],["class","host",4,"ngIf"],[1,"host"],[1,"title"],[1,"text-medium"],[1,"theme"],[1,"body"],["for","theming",1,"text"],[1,"form-switch"],["type","checkbox","id","theming",3,"checked","change"],[1,"slider"],[1,"locale"],[3,"class","click",4,"ngFor","ngForOf"],[1,"persona"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(q,Pe){1&q&&n.YNc(0,hr,3,3,"ng-container",0)},directives:[Oe.KI,te.O5,te.sg],pipes:[te.Ov],styles:[".host[_ngcontent-%COMP%]{padding:1rem;width:100%;max-width:992px;margin:auto}.host[_ngcontent-%COMP%]   section.title[_ngcontent-%COMP%]{margin-bottom:1rem}.host[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{margin-bottom:2rem}.host[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:1rem}.host[_ngcontent-%COMP%]   section.theme[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.host[_ngcontent-%COMP%]   section.theme[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   section.locale[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1rem}.host[_ngcontent-%COMP%]   section.persona[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.host[_ngcontent-%COMP%]   section.persona[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block}.host[_ngcontent-%COMP%]   section.persona[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1rem;margin-bottom:.5rem}"]}),k})();const bo=[{path:"",component:ai}];let Ws=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[$t.Bz.forChild(bo)],$t.Bz]}),k})(),ts=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[[te.ez,Oe.y4,Ws]]}),k})(),rc=(()=>{class k{}return k.\u0275fac=function(q){return new(q||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({providers:[{provide:Oe.Hn,useValue:{scope:"nguix-setting-page",alias:"NGUIX_SETTING_PAGE"}}],imports:[[ts]]}),k})()},157:(Se,Ze,X)=>{"use strict";X.d(Ze,{i9:()=>_i,bz:()=>Ji,HJ:()=>He,ZO:()=>In,QX:()=>Ae,Vz:()=>tt,DR:()=>Ht,dF:()=>$e,Mn:()=>bi,Er:()=>it,is:()=>wo,lz:()=>Uo,Ii:()=>So});var n=X(7716),te=X(425),Oe=X(5917),we=X(2582),Fe=X(4762),Ue=X(8307);let He=(()=>{class fn extends we.dX{constructor(St){super(St,"categories",{updateEffects:[{collection:"posts",key:"categories"},{collection:"audios",key:"categories"},{collection:"audios",key:"genres"},{collection:"videos",key:"categories"},{collection:"profiles",key:"categories"}],linkingFields:["thumbnails","description","count"],effectDataPickers:{thumbnails:Sn=>Sn?{default:{name:"default",src:(Sn.md||Sn.default).src}}:void 0},linkingHook:(Sn,Ai,Qi,xi)=>"create"===Sn?xi.update(Ai.id,{count:xi.databaseService.getValueIncrement()},Ai):"delete"===Sn?xi.update(Ai.id,{count:xi.databaseService.getValueIncrement(-1)},Ai):(0,Oe.of)(!1)})}}return fn.\u0275fac=function(St){return new(St||fn)(n.LFG(we.k9))},fn.\u0275prov=n.Yz7({token:fn,factory:fn.\u0275fac,providedIn:"root"}),fn})(),$e=(()=>{class fn extends we.dX{constructor(St){super(St,"tags",{updateEffects:[{collection:"posts",key:"tags"},{collection:"audios",key:"tags"},{collection:"videos",key:"tags"},{collection:"profiles",key:"tags"}],linkingFields:["count"],linkingHook:(Sn,Ai,Qi,xi)=>"create"===Sn?xi.update(Ai.id,{count:xi.databaseService.getValueIncrement()},Ai):"delete"===Sn?xi.update(Ai.id,{count:xi.databaseService.getValueIncrement(-1)},Ai):(0,Oe.of)(!1)})}}return fn.\u0275fac=function(St){return new(St||fn)(n.LFG(we.k9))},fn.\u0275prov=n.Yz7({token:fn,factory:fn.\u0275fac,providedIn:"root"}),fn})(),Ae=(()=>{class fn extends we.dX{constructor(St){super(St,"pages")}}return fn.\u0275fac=function(St){return new(St||fn)(n.LFG(we.k9))},fn.\u0275prov=n.Yz7({token:fn,factory:fn.\u0275fac,providedIn:"root"}),fn})(),tt=(()=>{class fn extends we.dX{constructor(St){super(St,"posts",{updateEffects:[{collection:"posts",key:"relatedPosts"}],linkingFields:["createdAt","thumbnails","description","duration"],effectDataPickers:{thumbnails:Sn=>Sn?{default:{name:"default",src:(Sn.md||Sn.default).src}}:void 0}})}}return fn.\u0275fac=function(St){return new(St||fn)(n.LFG(we.k9))},fn.\u0275prov=n.Yz7({token:fn,factory:fn.\u0275fac,providedIn:"root"}),fn})(),Ht=(()=>{class fn extends we.dX{constructor(St){super(St,"profiles",{manualDocumentCounting:!0,manualSearchIndexing:!0,updateEffects:[{collection:"profiles",key:"relatedProfiles"},{collection:"posts",key:"authors"},{collection:"audios",key:"authors"},{collection:"videos",key:"authors"},{collection:"bundles",key:"authors"}],linkingFields:["createdAt","thumbnails","description","role","rank","legit","badges"],effectDataPickers:{thumbnails:Sn=>Sn?{default:{name:"default",src:(Sn.md||Sn.default).src}}:void 0},linkingHook:(Sn,Ai,Qi,xi)=>{const{collection:Xi,data:_r}=Qi,Dr=`${Xi}_${_r.type}`;return"create"===Sn?xi.update(Ai.id,{[`counting.${Dr}`]:xi.databaseService.getValueIncrement()},Ai):"delete"===Sn?xi.update(Ai.id,{[`counting.${Dr}`]:xi.databaseService.getValueIncrement(-1)},Ai):(0,Oe.of)(!1)}})}}return fn.\u0275fac=function(St){return new(St||fn)(n.LFG(we.k9))},fn.\u0275prov=n.Yz7({token:fn,factory:fn.\u0275fac,providedIn:"root"}),fn})(),In=(()=>{class fn extends we.dX{constructor(St){super(St,"options")}}return fn.\u0275fac=function(St){return new(St||fn)(n.LFG(we.k9))},fn.\u0275prov=n.Yz7({token:fn,factory:fn.\u0275fac,providedIn:"root"}),fn})(),bi=(()=>{class fn extends we.dX{constructor(St){super(St,"users")}}return fn.\u0275fac=function(St){return new(St||fn)(n.LFG(we.k9))},fn.\u0275prov=n.Yz7({token:fn,factory:fn.\u0275fac,providedIn:"root"}),fn})(),_i=(()=>{class fn extends we.dX{constructor(St){super(St,"audios",{updateEffects:[{collection:"audios",key:"relatedAudios"}],linkingFields:["createdAt","thumbnails","description","duration"],effectDataPickers:{thumbnails:Sn=>Sn?{default:{name:"default",src:(Sn.md||Sn.default).src}}:void 0}})}}return fn.\u0275fac=function(St){return new(St||fn)(n.LFG(we.k9))},fn.\u0275prov=n.Yz7({token:fn,factory:fn.\u0275fac,providedIn:"root"}),fn})(),Ji=(()=>{class fn extends we.dX{constructor(St){super(St,"bundles",{updateEffects:[{collection:"bundles",key:"relatedBundles"},{collection:"posts",key:"parents"},{collection:"audios",key:"parents"},{collection:"videos",key:"parents"}],linkingFields:["createdAt","thumbnails","description","count"],effectDataPickers:{thumbnails:Sn=>Sn?{default:{name:"default",src:(Sn.md||Sn.default).src}}:void 0},linkingHook:(Sn,Ai,Qi,xi)=>"create"===Sn?xi.update(Ai.id,{count:xi.databaseService.getValueIncrement()},Ai):"delete"===Sn?xi.update(Ai.id,{count:xi.databaseService.getValueIncrement(-1)},Ai):(0,Oe.of)(!1)})}}return fn.\u0275fac=function(St){return new(St||fn)(n.LFG(we.k9))},fn.\u0275prov=n.Yz7({token:fn,factory:fn.\u0275fac,providedIn:"root"}),fn})(),it=(()=>{class fn extends we.dX{constructor(St){super(St,"videos",{updateEffects:[{collection:"videos",key:"relatedVideos"}],linkingFields:["createdAt","thumbnails","description","duration"],effectDataPickers:{thumbnails:Sn=>Sn?{default:{name:"default",src:(Sn.md||Sn.default).src}}:void 0}})}}return fn.\u0275fac=function(St){return new(St||fn)(n.LFG(we.k9))},fn.\u0275prov=n.Yz7({token:fn,factory:fn.\u0275fac,providedIn:"root"}),fn})(),No=(()=>{class fn{constructor(St="default",Sn){this.type=St,this.locale=Sn}}return fn.type="[Video] List",fn})(),Uo=(()=>{class fn{constructor(St,Sn){this.queryId=St,this.queryFn=Sn}}return fn.type="[Video] Query",fn})(),wo=(()=>{class fn{constructor(St){this.id=St}}return fn.type="[Video] Item",fn})(),So=(()=>{let fn=class{constructor(St){this.dataService=St}videoList({getState:St,patchState:Sn},Ai){var Qi;const{locale:xi,defaultList:Xi}=St(),{type:_r,locale:Dr}=Ai;return xi===Dr&&(null===(Qi=null==Xi?void 0:Xi[_r])||void 0===Qi?void 0:Qi.length)?(0,Oe.of)(Xi[_r]):this.dataService.list(ot=>ot.where("status","==","publish").where("type","==",_r).where("locale","==",Dr).orderBy("createdAt","desc"),{name:`[Video] status=publish type=${_r} locale=${Dr} createdAt=desc`}).pipe((0,Ue.b)(ot=>Sn({locale:Dr,defaultList:Object.assign(Object.assign({},Xi),{[_r]:ot})})))}videoQuery({getState:St,patchState:Sn},Ai){var Qi;const{queryList:xi}=St(),{queryId:Xi,queryFn:_r}=Ai;return(null===(Qi=null==xi?void 0:xi[Xi])||void 0===Qi?void 0:Qi.length)?(0,Oe.of)(xi[Xi]):this.dataService.list(_r,{name:`[Video] ${Xi}`}).pipe((0,Ue.b)(Dr=>Sn({queryList:Object.assign(Object.assign({},xi),{[Xi]:Dr})})))}videoItem({getState:St,patchState:Sn},Ai){const{itemRecord:Qi}=St(),{id:xi}=Ai;return Qi[xi]?(0,Oe.of)(Qi[xi]):this.dataService.get(xi).pipe((0,Ue.b)(Xi=>!!Xi&&Sn({itemRecord:Object.assign(Object.assign({},Qi),{[xi]:Xi})})))}};return fn.\u0275fac=function(St){return new(St||fn)(n.LFG(it))},fn.\u0275prov=n.Yz7({token:fn,factory:fn.\u0275fac}),(0,Fe.gn)([(0,te.aU)(No)],fn.prototype,"videoList",null),(0,Fe.gn)([(0,te.aU)(Uo)],fn.prototype,"videoQuery",null),(0,Fe.gn)([(0,te.aU)(wo)],fn.prototype,"videoItem",null),fn=(0,Fe.gn)([(0,te.ZM)({name:"schemata_video",defaults:{locale:"",defaultList:{},queryList:{},itemRecord:{}}})],fn),fn})()},2582:(Se,Ze,X)=>{"use strict";X.d(Ze,{c9:()=>rr,zi:()=>We,a1:()=>lr,e8:()=>Cn,QM:()=>Ni,uF:()=>Yr,dX:()=>ei,k9:()=>wn,Ly:()=>ii,VY:()=>Rt,T_:()=>Tn,rX:()=>Ct,gr:()=>Fn,Rj:()=>dt,Z7:()=>tr,tZ:()=>gn,tz:()=>ti,RX:()=>Ve,kp:()=>It,ac:()=>tn,v6:()=>jn,_4:()=>ao,J$:()=>Ut,_E:()=>st,jY:()=>kn,Pf:()=>Zn,RC:()=>pt,V1:()=>Si,KD:()=>wi});var n=X(7716),te=X(4762),Oe=X(5987),we=X(8229),Fe=X(8891),Ue=X(4402),He=X(739),Ne=X(5917),nt=X(6215),Be=X(205),qe=X(9075),$e=X(8583),Qe=X(2430),Ot=X(3637);const _t=(()=>{function ct(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return ct.prototype=Object.create(Error.prototype),ct})();var Ae=X(9989),Mt=X(5345);class ve{constructor(lt,$,ue,_e){this.waitFor=lt,this.absoluteTimeout=$,this.withObservable=ue,this.scheduler=_e}call(lt,$){return $.subscribe(new Me(lt,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class Me extends Mt.Ds{constructor(lt,$,ue,_e,Le){super(lt),this.absoluteTimeout=$,this.waitFor=ue,this.withObservable=_e,this.scheduler=Le,this.scheduleTimeout()}static dispatchTimeout(lt){const{withObservable:$}=lt;lt._unsubscribeAndRecycle(),lt.add((0,Mt.ft)($,new Mt.IY(lt)))}scheduleTimeout(){const{action:lt}=this;lt?this.action=lt.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(Me.dispatchTimeout,this.waitFor,this))}_next(lt){this.absoluteTimeout||this.scheduleTimeout(),super._next(lt)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var bt=X(8002),Dt=X(3190),cn=X(5257),gt=X(8307),Ht=X(5304),Lt=X(7841),on=X(7597),sn=X(4937),pn=X.n(sn),wt=X(2007);Se=X.hmd(Se);let gn=(()=>{class ct{constructor($,ue){this.router=$,this.route=ue,this.options={},this.integrations={},this.hooks={},this.loading=!1,this.menuVisible=!1,this.backwardEnabled=!1,this.routeUrl="/",this.routePosition=0,this.isBackable=!1,this.previousRoutePosition=0,this.previousRoutes=[],this.i18nLocales=[],this.i18nOrigins={},this.onRefreshRouterLink=new we.t(1),this.onRouteConfigLoadStart=new we.t(1),this.onRouteConfigLoadEnd=new we.t(1),this.onNavigationEnd=new we.t(1),this.onChanges=new we.t(1)}setOptions($){return this.options=$,this.menuIcon=$.menuIcon||"icon-menu",this}setIntegrations($){return this.integrations=$,this}setHooks($){return this.hooks=$,this}setI18n($){const{routes:ue,routeTranslations:_e}=$;return this.i18nLocales=Object.keys(_e[Object.keys(_e)[0]]),this.i18nRouting={},ue.forEach(Le=>{const Xe=Le.path,ft=Xe.split("/").filter(nn=>!!nn),Pt=_e[Xe],Wt={};Pt&&Object.keys(Pt).forEach(nn=>{const Je=Pt[nn];if(!0===Je)Wt[nn]=ft,this.i18nOrigins[ft[0]]=nn;else{const Nt=Je.split("/").filter(mt=>!!mt);Wt[nn]=Nt,this.i18nOrigins[Nt[0]]=nn}}),Object.keys(Wt).forEach(nn=>{var Je;const Nt=Wt[nn][0];(null===(Je=this.i18nRouting)||void 0===Je?void 0:Je[Nt])||(this.i18nRouting[Nt]=Wt)})}),this.integrations.settingService&&this.integrations.settingService.onLocaleChanged.subscribe(()=>this.onRefreshRouterLink.next()),this}init(){return this.router.events.subscribe($=>(0,te.mG)(this,void 0,void 0,function*(){var ue,_e,Le;if($ instanceof Oe.xV)((null===(ue=this.hooks)||void 0===ue?void 0:ue.RouteConfigLoadStart)||(Xe=>Xe))($),this.loadingIndicatorTimer=setTimeout(()=>this.showLoadingIndicator(),1e3),this.onRouteConfigLoadStart.next(this);else if($ instanceof Oe.GH)((null===(_e=this.hooks)||void 0===_e?void 0:_e.RouteConfigLoadEnd)||(Xe=>Xe))($),this.loadingIndicatorTimer&&(clearTimeout(this.loadingIndicatorTimer),setTimeout(()=>this.hideLoadingIndicator(),1e3)),this.onRouteConfigLoadEnd.next(this);else if($ instanceof Oe.m2){if(((null===(Le=this.hooks)||void 0===Le?void 0:Le.NavigationEnd)||(Xe=>Xe))($),this.routeUrl=this.router.url,this.onRefreshRouterLink.next(),this.backwardEnabled){const Xe=$.urlAfterRedirects,ft=this.previousRoutes[this.previousRoutes.length-2];!(null==ft?void 0:ft.url)||(null==ft?void 0:ft.url)&&Xe!==(null==ft?void 0:ft.url)?this.previousRoutes.push({url:Xe,position:this.previousRoutePosition,title:this.routeTitle,data:this.routeData?Object.assign({},this.routeData):void 0,extras:this.routeExtras?Object.assign({},this.routeExtras):void 0}):this.previousRoutes.pop(),this.previousRoutes.length<=1&&(this.previousRoutes=[],this.backwardEnabled=!1)}if(this.integrations.settingService&&!this.integrations.settingService.isInitialized){const ft=this.router.url.split("?").shift().substr(1).split("/").shift();if(""!==ft)if(this.i18nOrigins[ft])this.integrations.settingService.setPrioritizedLocale(this.i18nOrigins[ft]);else{const Je=(()=>{if(-1!==ft.indexOf("-")){if(-1!==this.i18nLocales.indexOf(ft))return ft;const[Nt,mt]=ft.split("-"),Qt=`${Nt}-${mt.toUpperCase()}`;if(-1!==this.i18nLocales.indexOf(Qt))return Qt}else{const Nt=this.i18nLocales.filter(mt=>{const[Qt,un]=mt.split("-"),hn=un.toLowerCase();return ft===Qt||ft===hn});if(Nt.length)return Nt.shift()}return null})();Je&&this.integrations.settingService.setPrioritizedLocale(Je)}const Pt=this.route.snapshot.queryParams,Wt=document.querySelector('meta[itemprop="inLanguage"]'),nn=Wt?Wt.getAttribute("content"):null;(Pt.l||Pt.locale||nn)&&this.integrations.settingService.setInitialLocale(Pt.l||Pt.locale||nn),(Pt.p||Pt.persona)&&this.integrations.settingService.setInitialPersona(Pt.p||Pt.persona),(Pt.t||Pt.theme)&&this.integrations.settingService.setInitialTheme(Pt.t||Pt.theme),this.integrations.settingService.triggerSettingInitilizer()}this.scrollTo(this.routePosition,0,!1),this.onNavigationEnd.next(this)}})),this}isActive($,ue=!1){return this.router.isActive($,ue)}isRouteActive($,ue=!1,_e){const Le=this.getRouteUrl($,_e);return this.isActive(Le,ue)}isBackwardable(){return this.backwardEnabled&&this.previousRoutes.length>1&&""!==this.router.url&&"/"!==this.router.url}getMenuIcon(){return this.isBackwardable()?this.options.backIcon||"icon-back":this.options.menuIcon||"icon-menu"}showLoadingIndicator(){this.loading=!0}hideLoadingIndicator(){this.loading=!1}getRoute($,ue){var _e;if(0===$.length||""===$[0]||1===$.length&&"/"===$[0])return[""];if(this.i18nRouting){const Le=ue||(null===(_e=this.integrations.settingService)||void 0===_e?void 0:_e.locale)||"en-US",Xe=("string"==typeof $?$.split("/"):$.map(Wt=>Wt.startsWith("/")?Wt.substr(1):Wt)).filter(Wt=>!!Wt),ft=(this.i18nRouting[Xe[0]]||{})[Le];return ft?Xe.map((Wt,nn)=>(ft[nn]||":").startsWith(":")?Wt:ft[nn]):Xe}return"string"==typeof $?$.split("/"):$}getRouteUrl($,ue){return this.getRoute($,ue).join("/")}menuAction(){return this.isBackwardable()?this.back():this.toggleMenu()}toggleMenu(){this.menuVisible=!this.menuVisible}back(){const $=this.previousRoutes[this.previousRoutes.length-2];if(!$)return;const{url:ue,title:_e,data:Le,position:Xe,extras:ft}=$;return this.navigate(ue,{title:_e,data:Le,position:Xe,extras:ft})}navigate($,ue={}){const{title:_e,data:Le,position:Xe=0,extras:ft,backwardable:Pt,locale:Wt}=ue;return void 0!==Pt&&(this.backwardEnabled=Pt),this.backwardEnabled?this.previousRoutes.length||this.previousRoutes.push({url:this.router.url,position:window.pageYOffset,title:this.routeTitle,data:this.routeData?Object.assign({},this.routeData):void 0,extras:this.routeExtras?Object.assign({},this.routeExtras):void 0}):this.previousRoutes=[],this.routeTitle=_e,this.routeData=Le,this.routePosition=Xe,this.routeExtras=ft,this.previousRoutePosition=window.pageYOffset,this.onChanges.next(this),this.isBackable=this.isBackwardable(),this.menuIcon=this.getMenuIcon(),this.router.navigate(this.getRoute($,Wt),ft)}scrollToTop($=0,ue=!0){return this.scrollTo(0,$,ue)}scrollTo($,ue=0,_e=!0){var Le,Xe;const ft=("number"==typeof $?$:null===(Xe=null===(Le="string"==typeof $?document.getElementById($):$)||void 0===Le?void 0:Le.getBoundingClientRect())||void 0===Xe?void 0:Xe.top)||0;return window.scrollTo({top:ft+(ue||this.options.globalOffset||0),behavior:_e?"smooth":"auto"})}}return ct.\u0275fac=function($){return new($||ct)(n.LFG(Oe.F0),n.LFG(Oe.gz))},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),kn=(()=>{class ct{constructor($){this.navService=$,this.input=[],this.activeClasses=[],this.activeOptions={}}set usefulRouteTitle($){this.title=$}set usefulRouteData($){this.data=$}set usefulRouteExtras($){this.extras=$}set usefulRouterLink($){$&&$.subscribe?this.inputBuilder=$:this.input=$||[]}set usefulRouterBackwardable($){this.backwardable=$}set usefulRouterLocale($){this.locale=$}set usefulRouterLinkActive($){this.activeClasses=$?"string"==typeof $?$.split(" ").filter(ue=>!!ue):$:[]}set usefulRouterLinkActiveOptions($){this.activeOptions=$||{}}onClick(){return this.navService.navigate(this.input,{title:this.title,data:this.data,extras:this.extras,backwardable:this.backwardable,locale:this.locale}),!1}ngOnInit(){this.refreshSubscription=this.navService.onRefreshRouterLink.subscribe(()=>this.updateTargetAttributes()),this.inputBuilder&&(this.builderSubscription=this.inputBuilder.subscribe($=>{this.input=$,this.updateTargetAttributes()}))}ngOnChanges(){this.updateTargetAttributes()}ngOnDestroy(){this.refreshSubscription.unsubscribe(),this.builderSubscription&&this.builderSubscription.unsubscribe()}updateTargetAttributes(){this.href=this.navService.getRouteUrl(this.input,this.locale);const{exact:$,also:ue}=this.activeOptions;let _e=this.navService.isActive(this.href,!!$);ue&&ue.forEach(Le=>{this.navService.isRouteActive(Le,!!$,this.locale)&&(_e=!0)}),this.class=_e?this.activeClasses:""}}return ct.\u0275fac=function($){return new($||ct)(n.Y36(gn))},ct.\u0275dir=n.lG2({type:ct,selectors:[["a","usefulRouterLink",""]],hostVars:3,hostBindings:function($,ue){1&$&&n.NdJ("click",function(){return ue.onClick()}),2&$&&(n.Ikx("href",ue.href,n.LSH),n.Tol(ue.class))},inputs:{usefulRouteTitle:"usefulRouteTitle",usefulRouteData:"usefulRouteData",usefulRouteExtras:"usefulRouteExtras",usefulRouterLink:"usefulRouterLink",usefulRouterBackwardable:"usefulRouterBackwardable",usefulRouterLocale:"usefulRouterLocale",usefulRouterLinkActive:"usefulRouterLinkActive",usefulRouterLinkActiveOptions:"usefulRouterLinkActiveOptions"},features:[n.TTD]}),ct})(),Zn=(()=>{class ct{}return ct.\u0275fac=function($){return new($||ct)},ct.\u0275mod=n.oAB({type:ct}),ct.\u0275inj=n.cJS({}),ct})();function ni(ct,lt){const $=(65535&ct)+(65535&lt);return(ct>>16)+(lt>>16)+($>>16)<<16|65535&$}function Fi(ct,lt,$,ue,_e,Le){return ni(function(ct,lt){return ct<<lt|ct>>>32-lt}(ni(ni(lt,ct),ni(ue,Le)),_e),$)}function bi(ct,lt,$,ue,_e,Le,Xe){return Fi(lt&$|~lt&ue,ct,lt,_e,Le,Xe)}function fi(ct,lt,$,ue,_e,Le,Xe){return Fi(lt&ue|$&~ue,ct,lt,_e,Le,Xe)}function ri(ct,lt,$,ue,_e,Le,Xe){return Fi(lt^$^ue,ct,lt,_e,Le,Xe)}function zn(ct,lt,$,ue,_e,Le,Xe){return Fi($^(lt|~ue),ct,lt,_e,Le,Xe)}function Un(ct,lt){ct[lt>>5]|=128<<lt%32,ct[14+(lt+64>>>9<<4)]=lt;let $,ue,_e,Le,Xe,ft=1732584193,Pt=-271733879,Wt=-1732584194,nn=271733878;for($=0;$<ct.length;$+=16)ue=ft,_e=Pt,Le=Wt,Xe=nn,ft=bi(ft,Pt,Wt,nn,ct[$],7,-680876936),nn=bi(nn,ft,Pt,Wt,ct[$+1],12,-389564586),Wt=bi(Wt,nn,ft,Pt,ct[$+2],17,606105819),Pt=bi(Pt,Wt,nn,ft,ct[$+3],22,-1044525330),ft=bi(ft,Pt,Wt,nn,ct[$+4],7,-176418897),nn=bi(nn,ft,Pt,Wt,ct[$+5],12,1200080426),Wt=bi(Wt,nn,ft,Pt,ct[$+6],17,-1473231341),Pt=bi(Pt,Wt,nn,ft,ct[$+7],22,-45705983),ft=bi(ft,Pt,Wt,nn,ct[$+8],7,1770035416),nn=bi(nn,ft,Pt,Wt,ct[$+9],12,-1958414417),Wt=bi(Wt,nn,ft,Pt,ct[$+10],17,-42063),Pt=bi(Pt,Wt,nn,ft,ct[$+11],22,-1990404162),ft=bi(ft,Pt,Wt,nn,ct[$+12],7,1804603682),nn=bi(nn,ft,Pt,Wt,ct[$+13],12,-40341101),Wt=bi(Wt,nn,ft,Pt,ct[$+14],17,-1502002290),Pt=bi(Pt,Wt,nn,ft,ct[$+15],22,1236535329),ft=fi(ft,Pt,Wt,nn,ct[$+1],5,-165796510),nn=fi(nn,ft,Pt,Wt,ct[$+6],9,-1069501632),Wt=fi(Wt,nn,ft,Pt,ct[$+11],14,643717713),Pt=fi(Pt,Wt,nn,ft,ct[$],20,-373897302),ft=fi(ft,Pt,Wt,nn,ct[$+5],5,-701558691),nn=fi(nn,ft,Pt,Wt,ct[$+10],9,38016083),Wt=fi(Wt,nn,ft,Pt,ct[$+15],14,-660478335),Pt=fi(Pt,Wt,nn,ft,ct[$+4],20,-405537848),ft=fi(ft,Pt,Wt,nn,ct[$+9],5,568446438),nn=fi(nn,ft,Pt,Wt,ct[$+14],9,-1019803690),Wt=fi(Wt,nn,ft,Pt,ct[$+3],14,-187363961),Pt=fi(Pt,Wt,nn,ft,ct[$+8],20,1163531501),ft=fi(ft,Pt,Wt,nn,ct[$+13],5,-1444681467),nn=fi(nn,ft,Pt,Wt,ct[$+2],9,-51403784),Wt=fi(Wt,nn,ft,Pt,ct[$+7],14,1735328473),Pt=fi(Pt,Wt,nn,ft,ct[$+12],20,-1926607734),ft=ri(ft,Pt,Wt,nn,ct[$+5],4,-378558),nn=ri(nn,ft,Pt,Wt,ct[$+8],11,-2022574463),Wt=ri(Wt,nn,ft,Pt,ct[$+11],16,1839030562),Pt=ri(Pt,Wt,nn,ft,ct[$+14],23,-35309556),ft=ri(ft,Pt,Wt,nn,ct[$+1],4,-1530992060),nn=ri(nn,ft,Pt,Wt,ct[$+4],11,1272893353),Wt=ri(Wt,nn,ft,Pt,ct[$+7],16,-155497632),Pt=ri(Pt,Wt,nn,ft,ct[$+10],23,-1094730640),ft=ri(ft,Pt,Wt,nn,ct[$+13],4,681279174),nn=ri(nn,ft,Pt,Wt,ct[$],11,-358537222),Wt=ri(Wt,nn,ft,Pt,ct[$+3],16,-722521979),Pt=ri(Pt,Wt,nn,ft,ct[$+6],23,76029189),ft=ri(ft,Pt,Wt,nn,ct[$+9],4,-640364487),nn=ri(nn,ft,Pt,Wt,ct[$+12],11,-421815835),Wt=ri(Wt,nn,ft,Pt,ct[$+15],16,530742520),Pt=ri(Pt,Wt,nn,ft,ct[$+2],23,-995338651),ft=zn(ft,Pt,Wt,nn,ct[$],6,-198630844),nn=zn(nn,ft,Pt,Wt,ct[$+7],10,1126891415),Wt=zn(Wt,nn,ft,Pt,ct[$+14],15,-1416354905),Pt=zn(Pt,Wt,nn,ft,ct[$+5],21,-57434055),ft=zn(ft,Pt,Wt,nn,ct[$+12],6,1700485571),nn=zn(nn,ft,Pt,Wt,ct[$+3],10,-1894986606),Wt=zn(Wt,nn,ft,Pt,ct[$+10],15,-1051523),Pt=zn(Pt,Wt,nn,ft,ct[$+1],21,-2054922799),ft=zn(ft,Pt,Wt,nn,ct[$+8],6,1873313359),nn=zn(nn,ft,Pt,Wt,ct[$+15],10,-30611744),Wt=zn(Wt,nn,ft,Pt,ct[$+6],15,-1560198380),Pt=zn(Pt,Wt,nn,ft,ct[$+13],21,1309151649),ft=zn(ft,Pt,Wt,nn,ct[$+4],6,-145523070),nn=zn(nn,ft,Pt,Wt,ct[$+11],10,-1120210379),Wt=zn(Wt,nn,ft,Pt,ct[$+2],15,718787259),Pt=zn(Pt,Wt,nn,ft,ct[$+9],21,-343485551),ft=ni(ft,ue),Pt=ni(Pt,_e),Wt=ni(Wt,Le),nn=ni(nn,Xe);return[ft,Pt,Wt,nn]}function _i(ct){let lt,$="";const ue=32*ct.length;for(lt=0;lt<ue;lt+=8)$+=String.fromCharCode(ct[lt>>5]>>>lt%32&255);return $}function mi(ct){let lt;const $=[];for($[(ct.length>>2)-1]=void 0,lt=0;lt<$.length;lt+=1)$[lt]=0;const ue=8*ct.length;for(lt=0;lt<ue;lt+=8)$[lt>>5]|=(255&ct.charCodeAt(lt/8))<<lt%32;return $}function fr(ct){const lt="0123456789abcdef";let ue,_e,$="";for(_e=0;_e<ct.length;_e+=1)ue=ct.charCodeAt(_e),$+=lt.charAt(ue>>>4&15)+lt.charAt(15&ue);return $}function Ji(ct){return unescape(encodeURIComponent(ct))}function Or(ct){return function(ct){return _i(Un(mi(ct),8*ct.length))}(Ji(ct))}function Yi(ct,lt){return function(ct,lt){let $,ue=mi(ct);const _e=[],Le=[];let Xe;for(_e[15]=Le[15]=void 0,ue.length>16&&(ue=Un(ue,8*ct.length)),$=0;$<16;$+=1)_e[$]=909522486^ue[$],Le[$]=1549556828^ue[$];return Xe=Un(_e.concat(mi(lt)),512+8*lt.length),_i(Un(Le.concat(Xe),640))}(Ji(ct),Ji(lt))}function bn(ct,lt,$,ue){var Xe="__lodash_hash_undefined__",nn=9007199254740991,Je="[object Arguments]",Nt="[object Array]",mt="[object Boolean]",Qt="[object Date]",un="[object Error]",hn="[object Function]",Xn="[object Map]",Ci="[object Number]",ui="[object Object]",yi="[object Promise]",Ui="[object RegExp]",ar="[object Set]",ur="[object String]",gr="[object Symbol]",mr="[object WeakMap]",Wr="[object ArrayBuffer]",Xr="[object DataView]",No=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uo=/^\w*$/,wo=/^\./,So=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fn=/\\(\\)?/g,Kt=/^\[object .+?Constructor\]$/,St=/^(?:0|[1-9]\d*)$/,Sn={};Sn["[object Float32Array]"]=Sn["[object Float64Array]"]=Sn["[object Int8Array]"]=Sn["[object Int16Array]"]=Sn["[object Int32Array]"]=Sn["[object Uint8Array]"]=Sn["[object Uint8ClampedArray]"]=Sn["[object Uint16Array]"]=Sn["[object Uint32Array]"]=!0,Sn[Je]=Sn[Nt]=Sn[Wr]=Sn[mt]=Sn[Xr]=Sn[Qt]=Sn[un]=Sn[hn]=Sn[Xn]=Sn[Ci]=Sn[ui]=Sn[Ui]=Sn[ar]=Sn[ur]=Sn[mr]=!1;var Ai="object"==typeof global&&global&&global.Object===Object&&global,xi=Ai||Function("return this")(),Xi="object"==typeof exports&&exports&&!exports.nodeType&&exports,_r=Xi&&Se&&!Se.nodeType&&Se,ot=_r&&_r.exports===Xi&&Ai.process,an=function(){try{return ot&&ot.binding("util")}catch(k){}}(),Et=an&&an.isTypedArray;function Xt(k,ye){for(var q=-1,Pe=k?k.length:0,rt=Array(Pe);++q<Pe;)rt[q]=ye(k[q],q,k);return rt}function Bn(k,ye){for(var q=-1,Pe=k?k.length:0;++q<Pe;)if(ye(k[q],q,k))return!0;return!1}function dr(k){return function(ye){return k(ye)}}function cr(k){var ye=!1;if(null!=k&&"function"!=typeof k.toString)try{ye=!!(k+"")}catch(q){}return ye}function yo(k){var ye=-1,q=Array(k.size);return k.forEach(function(Pe,rt){q[++ye]=[rt,Pe]}),q}function io(k){var ye=-1,q=Array(k.size);return k.forEach(function(Pe){q[++ye]=Pe}),q}var k,Te=Array.prototype,Ce=Function.prototype,fe=Object.prototype,ne=xi["__core-js_shared__"],se=(k=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",ae=Ce.toString,Re=fe.hasOwnProperty,en=fe.toString,Gn=RegExp("^"+ae.call(Re).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zi=xi.Symbol,Pr=xi.Uint8Array,Tr=fe.propertyIsEnumerable,Vr=Te.splice,ro=function(k,ye){return function(q){return k(ye(q))}}(Object.keys,Object),fo=_a(xi,"DataView"),fs=_a(xi,"Map"),Ke=_a(xi,"Promise"),ke=_a(xi,"Set"),xt=_a(xi,"WeakMap"),qt=_a(Object,"create"),On=As(fo),di=As(fs),Ei=As(Ke),xr=As(ke),or=As(xt),Sr=zi?zi.prototype:void 0,qr=Sr?Sr.valueOf:void 0,li=Sr?Sr.toString:void 0;function hr(k){var ye=-1,q=k?k.length:0;for(this.clear();++ye<q;){var Pe=k[ye];this.set(Pe[0],Pe[1])}}function ko(k){var ye=-1,q=k?k.length:0;for(this.clear();++ye<q;){var Pe=k[ye];this.set(Pe[0],Pe[1])}}function Kr(k){var ye=-1,q=k?k.length:0;for(this.clear();++ye<q;){var Pe=k[ye];this.set(Pe[0],Pe[1])}}function zs(k){var ye=-1,q=k?k.length:0;for(this.__data__=new Kr;++ye<q;)this.add(k[ye])}function Cs(k){this.__data__=new ko(k)}function $o(k,ye){for(var q=k.length;q--;)if(ge(k[q][0],ye))return q;return-1}hr.prototype.clear=function(){this.__data__=qt?qt(null):{}},hr.prototype.delete=function(k){return this.has(k)&&delete this.__data__[k]},hr.prototype.get=function(k){var ye=this.__data__;if(qt){var q=ye[k];return q===Xe?void 0:q}return Re.call(ye,k)?ye[k]:void 0},hr.prototype.has=function(k){var ye=this.__data__;return qt?void 0!==ye[k]:Re.call(ye,k)},hr.prototype.set=function(k,ye){return this.__data__[k]=qt&&void 0===ye?Xe:ye,this},ko.prototype.clear=function(){this.__data__=[]},ko.prototype.delete=function(k){var ye=this.__data__,q=$o(ye,k);return!(q<0||(q==ye.length-1?ye.pop():Vr.call(ye,q,1),0))},ko.prototype.get=function(k){var ye=this.__data__,q=$o(ye,k);return q<0?void 0:ye[q][1]},ko.prototype.has=function(k){return $o(this.__data__,k)>-1},ko.prototype.set=function(k,ye){var q=this.__data__,Pe=$o(q,k);return Pe<0?q.push([k,ye]):q[Pe][1]=ye,this},Kr.prototype.clear=function(){this.__data__={hash:new hr,map:new(fs||ko),string:new hr}},Kr.prototype.delete=function(k){return es(this,k).delete(k)},Kr.prototype.get=function(k){return es(this,k).get(k)},Kr.prototype.has=function(k){return es(this,k).has(k)},Kr.prototype.set=function(k,ye){return es(this,k).set(k,ye),this},zs.prototype.add=zs.prototype.push=function(k){return this.__data__.set(k,Xe),this},zs.prototype.has=function(k){return this.__data__.has(k)},Cs.prototype.clear=function(){this.__data__=new ko},Cs.prototype.delete=function(k){return this.__data__.delete(k)},Cs.prototype.get=function(k){return this.__data__.get(k)},Cs.prototype.has=function(k){return this.__data__.has(k)},Cs.prototype.set=function(k,ye){var q=this.__data__;if(q instanceof ko){var Pe=q.__data__;if(!fs||Pe.length<199)return Pe.push([k,ye]),this;q=this.__data__=new Kr(Pe)}return q.set(k,ye),this};var Qa=function(q,Pe){if(null==q)return q;if(!xe(q))return function(k,ye){return k&&Dl(k,ye,Ws)}(q,Pe);for(var rt=q.length,Jt=-1,Mn=Object(q);++Jt<rt&&!1!==Pe(Mn[Jt],Jt,Mn););return q},Dl=function(ye,q,Pe){for(var rt=-1,Jt=Object(ye),Mn=Pe(ye),Bi=Mn.length;Bi--;){var ir=Mn[++rt];if(!1===q(Jt[ir],ir,Jt))break}return ye};function Ss(k,ye){for(var q=0,Pe=(ye=Cr(ye,k)?[ye]:ec(ye)).length;null!=k&&q<Pe;)k=k[Co(ye[q++])];return q&&q==Pe?k:void 0}function Qc(k,ye){return null!=k&&ye in Object(k)}function Xo(k,ye,q,Pe,rt){return k===ye||(null==k||null==ye||!Nn(k)&&!vi(ye)?k!=k&&ye!=ye:function(k,ye,q,Pe,rt,Jt){var Mn=De(k),Bi=De(ye),ir=Nt,ki=Nt;Mn||(ir=(ir=Bs(k))==Je?ui:ir),Bi||(ki=(ki=Bs(ye))==Je?ui:ki);var sr=ir==ui&&!cr(k),Qo=ki==ui&&!cr(ye),jr=ir==ki;if(jr&&!sr)return Jt||(Jt=new Cs),Mn||Mi(k)?pa(k,ye,q,Pe,rt,Jt):function(k,ye,q,Pe,rt,Jt,Mn){switch(q){case Xr:if(k.byteLength!=ye.byteLength||k.byteOffset!=ye.byteOffset)return!1;k=k.buffer,ye=ye.buffer;case Wr:return!(k.byteLength!=ye.byteLength||!Pe(new Pr(k),new Pr(ye)));case mt:case Qt:case Ci:return ge(+k,+ye);case un:return k.name==ye.name&&k.message==ye.message;case Ui:case ur:return k==ye+"";case Xn:var Bi=yo;case ar:if(Bi||(Bi=io),k.size!=ye.size&&!(2&Jt))return!1;var ki=Mn.get(k);if(ki)return ki==ye;Jt|=1,Mn.set(k,ye);var sr=pa(Bi(k),Bi(ye),Pe,rt,Jt,Mn);return Mn.delete(k),sr;case gr:if(qr)return qr.call(k)==qr.call(ye)}return!1}(k,ye,ir,q,Pe,rt,Jt);if(!(2&rt)){var ns=sr&&Re.call(k,"__wrapped__"),ws=Qo&&Re.call(ye,"__wrapped__");if(ns||ws){var to=ns?k.value():k,Hc=ws?ye.value():ye;return Jt||(Jt=new Cs),q(to,Hc,Pe,rt,Jt)}}return!!jr&&(Jt||(Jt=new Cs),function(k,ye,q,Pe,rt,Jt){var Mn=2&rt,Bi=Ws(k),ir=Bi.length;if(ir!=Ws(ye).length&&!Mn)return!1;for(var Qo=ir;Qo--;){var jr=Bi[Qo];if(!(Mn?jr in ye:Re.call(ye,jr)))return!1}var ns=Jt.get(k);if(ns&&Jt.get(ye))return ns==ye;var ws=!0;Jt.set(k,ye),Jt.set(ye,k);for(var to=Mn;++Qo<ir;){var Hc=k[jr=Bi[Qo]],is=ye[jr];if(Pe)var To=Mn?Pe(is,Hc,jr,ye,k,Jt):Pe(Hc,is,jr,k,ye,Jt);if(!(void 0===To?Hc===is||q(Hc,is,Pe,rt,Jt):To)){ws=!1;break}to||(to="constructor"==jr)}if(ws&&!to){var _u=k.constructor,as=ye.constructor;_u!=as&&"constructor"in k&&"constructor"in ye&&!("function"==typeof _u&&_u instanceof _u&&"function"==typeof as&&as instanceof as)&&(ws=!1)}return Jt.delete(k),Jt.delete(ye),ws}(k,ye,q,Pe,rt,Jt))}(k,ye,Xo,q,Pe,rt))}function xl(k){return"function"==typeof k?k:null==k?ts:"object"==typeof k?De(k)?function(k,ye){return Cr(k)&&Mo(ye)?xs(Co(k),ye):function(q){var Pe=function(k,ye,q){var Pe=null==k?void 0:Ss(k,ye);return void 0===Pe?void 0:Pe}(q,k);return void 0===Pe&&Pe===ye?function(k,ye){return null!=k&&function(k,ye,q){for(var Pe,rt=-1,Jt=(ye=Cr(ye,k)?[ye]:ec(ye)).length;++rt<Jt;){var Mn=Co(ye[rt]);if(!(Pe=null!=k&&q(k,Mn)))break;k=k[Mn]}return Pe||!!(Jt=k?k.length:0)&&yn(Jt)&&Vo(Mn,Jt)&&(De(k)||le(k))}(k,ye,Qc)}(q,k):Xo(ye,Pe,void 0,3)}}(k[0],k[1]):function(k){var ye=function(k){for(var ye=Ws(k),q=ye.length;q--;){var Pe=ye[q],rt=k[Pe];ye[q]=[Pe,rt,Mo(rt)]}return ye}(k);return 1==ye.length&&ye[0][2]?xs(ye[0][0],ye[0][1]):function(q){return q===k||function(k,ye,q,Pe){var rt=q.length,Jt=rt;if(null==k)return!Jt;for(k=Object(k);rt--;){var Bi=q[rt];if(Bi[2]?Bi[1]!==k[Bi[0]]:!(Bi[0]in k))return!1}for(;++rt<Jt;){var ir=(Bi=q[rt])[0],ki=k[ir],sr=Bi[1];if(Bi[2]){if(void 0===ki&&!(ir in k))return!1}else{var jr,Qo=new Cs;if(!(void 0===jr?Xo(sr,ki,Pe,3,Qo):jr))return!1}}return!0}(q,0,ye)}}(k):function(k){return Cr(k)?function(k){return function(ye){return null==ye?void 0:ye[k]}}(Co(k)):function(k){return function(ye){return Ss(ye,k)}}(k)}(k)}function ec(k){return De(k)?k:ic(k)}function qc(k,ye){if(k!==ye){var q=void 0!==k,Pe=null===k,rt=k==k,Jt=wr(k),Mn=void 0!==ye,Bi=null===ye,ir=ye==ye,ki=wr(ye);if(!Bi&&!ki&&!Jt&&k>ye||Jt&&Mn&&ir&&!Bi&&!ki||Pe&&Mn&&ir||!q&&ir||!rt)return 1;if(!Pe&&!Jt&&!ki&&k<ye||ki&&q&&rt&&!Pe&&!Jt||Bi&&q&&rt||!Mn&&rt||!ir)return-1}return 0}function pa(k,ye,q,Pe,rt,Jt){var Mn=2&rt,Bi=k.length,ir=ye.length;if(Bi!=ir&&!(Mn&&ir>Bi))return!1;var ki=Jt.get(k);if(ki&&Jt.get(ye))return ki==ye;var sr=-1,Qo=!0,jr=1&rt?new zs:void 0;for(Jt.set(k,ye),Jt.set(ye,k);++sr<Bi;){var ns=k[sr],ws=ye[sr];if(Pe)var to=Mn?Pe(ws,ns,sr,ye,k,Jt):Pe(ns,ws,sr,k,ye,Jt);if(void 0!==to){if(to)continue;Qo=!1;break}if(jr){if(!Bn(ye,function(Hc,is){if(!jr.has(is)&&(ns===Hc||q(ns,Hc,Pe,rt,Jt)))return jr.add(is)})){Qo=!1;break}}else if(ns!==ws&&!q(ns,ws,Pe,rt,Jt)){Qo=!1;break}}return Jt.delete(k),Jt.delete(ye),Qo}function es(k,ye){var q=k.__data__;return function(k){var ye=typeof k;return"string"==ye||"number"==ye||"symbol"==ye||"boolean"==ye?"__proto__"!==k:null===k}(ye)?q["string"==typeof ye?"string":"hash"]:q.map}function _a(k,ye){var q=function(k,ye){return null==k?void 0:k[ye]}(k,ye);return function(k){return!(!Nn(k)||function(k){return!!se&&se in k}(k))&&(rn(k)||cr(k)?Gn:Kt).test(As(k))}(q)?q:void 0}var Bs=function(k){return en.call(k)};function Vo(k,ye){return!!(ye=null==ye?nn:ye)&&("number"==typeof k||St.test(k))&&k>-1&&k%1==0&&k<ye}function Cr(k,ye){if(De(k))return!1;var q=typeof k;return!("number"!=q&&"symbol"!=q&&"boolean"!=q&&null!=k&&!wr(k))||Uo.test(k)||!No.test(k)||null!=ye&&k in Object(ye)}function Mo(k){return k==k&&!Nn(k)}function xs(k,ye){return function(q){return null!=q&&q[k]===ye&&(void 0!==ye||k in Object(q))}}(fo&&Bs(new fo(new ArrayBuffer(1)))!=Xr||fs&&Bs(new fs)!=Xn||Ke&&Bs(Ke.resolve())!=yi||ke&&Bs(new ke)!=ar||xt&&Bs(new xt)!=mr)&&(Bs=function(k){var ye=en.call(k),q=ye==ui?k.constructor:void 0,Pe=q?As(q):void 0;if(Pe)switch(Pe){case On:return Xr;case di:return Xn;case Ei:return yi;case xr:return ar;case or:return mr}return ye});var ic=be(function(k){k=function(k){return null==k?"":function(k){if("string"==typeof k)return k;if(wr(k))return li?li.call(k):"";var ye=k+"";return"0"==ye&&1/k==-1/0?"-0":ye}(k)}(k);var ye=[];return wo.test(k)&&ye.push(""),k.replace(So,function(q,Pe,rt,Jt){ye.push(rt?Jt.replace(fn,"$1"):Pe||q)}),ye});function Co(k){if("string"==typeof k||wr(k))return k;var ye=k+"";return"0"==ye&&1/k==-1/0?"-0":ye}function As(k){if(null!=k){try{return ae.call(k)}catch(ye){}try{return k+""}catch(ye){}}return""}function be(k,ye){if("function"!=typeof k||ye&&"function"!=typeof ye)throw new TypeError("Expected a function");var q=function(){var Pe=arguments,rt=ye?ye.apply(this,Pe):Pe[0],Jt=q.cache;if(Jt.has(rt))return Jt.get(rt);var Mn=k.apply(this,Pe);return q.cache=Jt.set(rt,Mn),Mn};return q.cache=new(be.Cache||Kr),q}function ge(k,ye){return k===ye||k!=k&&ye!=ye}function le(k){return function(k){return vi(k)&&xe(k)}(k)&&Re.call(k,"callee")&&(!Tr.call(k,"callee")||en.call(k)==Je)}be.Cache=Kr;var De=Array.isArray;function xe(k){return null!=k&&yn(k.length)&&!rn(k)}function rn(k){var ye=Nn(k)?en.call(k):"";return ye==hn||"[object GeneratorFunction]"==ye}function yn(k){return"number"==typeof k&&k>-1&&k%1==0&&k<=nn}function Nn(k){var ye=typeof k;return!!k&&("object"==ye||"function"==ye)}function vi(k){return!!k&&"object"==typeof k}function wr(k){return"symbol"==typeof k||vi(k)&&en.call(k)==gr}var Mi=Et?dr(Et):function(k){return vi(k)&&yn(k.length)&&!!Sn[en.call(k)]};function Ws(k){return xe(k)?function(k,ye){var q=De(k)||le(k)?function(k,ye){for(var q=-1,Pe=Array(k);++q<k;)Pe[q]=ye(q);return Pe}(k.length,String):[],Pe=q.length,rt=!!Pe;for(var Jt in k)(ye||Re.call(k,Jt))&&(!rt||"length"!=Jt&&!Vo(Jt,Pe))&&q.push(Jt);return q}(k):function(k){if(!function(k){var ye=k&&k.constructor;return k===("function"==typeof ye&&ye.prototype||fe)}(k))return ro(k);var ye=[];for(var q in Object(k))Re.call(k,q)&&"constructor"!=q&&ye.push(q);return ye}(k)}function ts(k){return k}return function(k,ye,q,Pe){return null==k?[]:(De(ye)||(ye=null==ye?[]:[ye]),De(q=Pe?void 0:q)||(q=null==q?[]:[q]),function(k,ye,q){var Pe=-1;return ye=Xt(ye.length?ye:[ts],dr(xl)),function(k,ye){var q=k.length;for(k.sort(ye);q--;)k[q]=k[q].value;return k}(function(k,ye){var q=-1,Pe=xe(k)?Array(k.length):[];return Qa(k,function(rt,Jt,Mn){Pe[++q]=ye(rt)}),Pe}(k,function(Jt,Mn,Bi){return{criteria:Xt(ye,function(ki){return ki(Jt)}),index:++Pe,value:Jt}}),function(Jt,Mn){return function(k,ye,q){for(var Pe=-1,rt=k.criteria,Jt=ye.criteria,Mn=rt.length,Bi=q.length;++Pe<Mn;){var ir=qc(rt[Pe],Jt[Pe]);if(ir)return Pe>=Bi?ir:ir*("desc"==q[Pe]?-1:1)}return k.index-ye.index}(Jt,Mn,q)})}(k,ye,q))}(ct,lt,$,ue)}let jt=(()=>{class ct{constructor(){}md5($,ue,_e){return function(ct,lt,$=!1){return lt?$?Yi(lt,ct):function(ct,lt){return fr(Yi(ct,lt))}(lt,ct):$?Or(ct):function(ct){return fr(Or(ct))}(ct)}($,ue,_e)}orderBy($,ue,_e,Le){return bn($,ue,_e,Le)}retryInterval($,ue=1,_e=7){return new Fe.y(Le=>{const Xe=Pt=>{$()&&(clearInterval(Pt),Le.next(!0),Le.complete())},ft=setInterval(()=>Xe(ft),1e3*ue);Xe(ft),setTimeout(()=>{clearInterval(ft),Le.complete()},1e3*_e)})}o1i($,ue=!1){const _e=Object.keys($).shift();if(!_e)return null;const Le=$[_e];return ue?Object.assign({},Le):Le}o2a($,ue=!1,_e){let Le=[];ue&&($=Object.assign({},$||{}));for(const Xe of Object.keys($))Le.push($[Xe]);return _e&&Le.splice(_e,Le.length),Le}cleanupStr($){return $.toLowerCase().replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a").replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e").replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i").replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o").replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u").replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y").replace(/\u0111/g,"d")}filter($,ue,_e){const Le=ft=>{const Pt=this.cleanupStr(ft),Wt=Pt.replace(/\-|\_/g," "),nn=Pt.replace(/\-|\_/g,"");return Pt+" | "+Wt+" | "+nn},Xe=(ft,Pt)=>{let Wt=ft.title||ft.$key;return(_e||[]).forEach(nn=>{const Je=ft[nn];Je&&(Wt=Je instanceof Object?Wt+" "+JSON.stringify(Je).replace(/\{/g,"").replace(/\"\}/g,"").replace(/\{\"/g,"").replace(/\"\:\"/g," ").replace(/\"\,\"/g," ").replace(/\"/g,""):Wt+" "+Je)}),Wt=Le(Wt),Pt=this.cleanupStr(Pt),-1!==Wt.indexOf(Pt)};return ue?($||[]).filter(ft=>Xe(ft,ue)):$}decodeJWTPayloadWithoutVerification($){const[,ue]=$.split(".");return JSON.parse(atob(ue))}isExpiredJWTWithoutVerification($){const{exp:ue}=this.decodeJWTPayloadWithoutVerification($);return this.isExpiredInSeconds(ue||0,60)}isExpiredInSeconds($,ue=0){return Math.ceil((new Date).getTime()/1e3)+ue>=$}createPopup($){const Le=$.options||"location=0,status=0,width="+window.innerWidth+",height="+window.innerHeight,Xe=$.callback||(()=>!0),ft=window.open($.url||"/",$.name||"AppOAuthLogin",Le),Pt=window.setInterval(()=>{if(ft&&ft.closed)return window.clearInterval(Pt),Xe()},1e3)}getHost(){let $;const ue=document.getElementsByTagName("base");if(ue.length)$=ue[0].href;else{const[_e,Le]=window.location.href.split("/").filter(Boolean);$=_e+"//"+Le}return $}}return ct.\u0275fac=function($){return new($||ct)},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),tn=(()=>{class ct{constructor($){this.helperService=$}transform($,...ue){return $?this.helperService.o2a($,...ue):null}}return ct.\u0275fac=function($){return new($||ct)(n.Y36(jt,16))},ct.\u0275pipe=n.Yjl({name:"o2a",type:ct,pure:!0}),ct})(),jn=(()=>{class ct{}return ct.\u0275fac=function($){return new($||ct)},ct.\u0275mod=n.oAB({type:ct}),ct.\u0275inj=n.cJS({imports:[[]]}),ct})(),Ve=(()=>{class ct{constructor($){this.helperService=$}transform($,...ue){return $?this.helperService.o1i($,...ue):null}}return ct.\u0275fac=function($){return new($||ct)(n.Y36(jt,16))},ct.\u0275pipe=n.Yjl({name:"o1i",type:ct,pure:!0}),ct})(),It=(()=>{class ct{}return ct.\u0275fac=function($){return new($||ct)},ct.\u0275mod=n.oAB({type:ct}),ct.\u0275inj=n.cJS({imports:[[]]}),ct})(),Yn=(()=>{class ct{constructor(){this.configs={},this.datePipe=new $e.uU("en-US")}init($,ue="en-US"){return(0,te.mG)(this,void 0,void 0,function*(){return $.locale=$.locale||ue||"en-US",this.configs=$,this.datePipe=new $e.uU(ue),this})}format($,ue,_e,Le){return this.datePipe.transform($,ue||this.configs.format||"mediumDate",_e||this.configs.timezone||"+0000",Le||this.configs.locale||"en-US")}relative($,ue){const _e=new Date,Le=new Date($),Xe=_e.getTime()-Le.getTime(),Wt=36e5,{now:Nt="now",ago:mt="ago",later:Qt="later",seconds:un="seconds",minutes:hn="minutes",hours:$n="hours",days:Xn="days"}=this.configs.translator||{};return isNaN(Xe)?"":Xe<0?Qt:Xe<=3e3?Nt:Xe<=6e4?Math.floor(Xe/1e3)+` ${un} ${mt}`:Xe<=Wt?Math.floor(Xe/6e4)+` ${hn} ${mt}`:Xe<=864e5?Math.floor(Xe/Wt)+` ${$n} ${mt}`:Xe<=6048e5?Math.floor(Xe/864e5)+` ${Xn} ${mt}`:ue?ue(Le):this.format(Le)}}return ct.\u0275fac=function($){return new($||ct)},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),ii=(()=>{class ct{constructor($){this.dateService=$}transform($,...ue){return this.dateService.format($,...ue)}}return ct.\u0275fac=function($){return new($||ct)(n.Y36(Yn,16))},ct.\u0275pipe=n.Yjl({name:"datex",type:ct,pure:!0}),ct})(),Rt=(()=>{class ct{}return ct.\u0275fac=function($){return new($||ct)},ct.\u0275mod=n.oAB({type:ct}),ct.\u0275inj=n.cJS({imports:[[]]}),ct})(),Tn=(()=>{class ct{constructor(){this.options={},this.integrations={},this.baseAPIUrl="https://clouderrorreporting.googleapis.com/v1beta1/projects/"}setOptions($){return this.options=$,this}setIntegrations($){return this.integrations=$,this}init($){return this.config=$,this.integrations.userService&&this.integrations.userService.onUserChanged.subscribe(ue=>this.user=ue?ue.uid:void 0),this}report($){const{projectId:ue,apiKey:_e,service:Le,version:Xe}=this.config;if("string"==typeof $)try{throw new Error($)}catch(Pt){$=Pt}const ft={serviceContext:Object.assign({service:Le||"web"},Xe?{version:Xe}:void 0),context:Object.assign(Object.assign({},this.user?{user:this.user}:{}),{httpRequest:{userAgent:window.navigator.userAgent,url:window.location.href}}),message:$.stack};this.options.disabled?console.error("[Error] "+ft.message,ft):fetch(this.baseAPIUrl+ue+"/events:report?key="+_e,{method:"POST",body:JSON.stringify(ft),headers:{"Content-Type":"application/json; charset=UTF-8"}}).catch(Pt=>!1)}}return ct.\u0275fac=function($){return new($||ct)},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),ti=(()=>{class ct{constructor(){this.onChanged=new we.t(1),this.isOnline=!1}init(){return window.addEventListener("online",()=>{this.onChanged.next(!0),this.isOnline=!0}),window.addEventListener("offline",()=>{this.onChanged.next(!1),this.isOnline=!1}),this.onChanged.next(navigator.onLine),this.isOnline=navigator.onLine,this}}return ct.\u0275fac=function($){return new($||ct)},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),Fn=(()=>{class ct{constructor(){}init($={}){return this.localforage=(0,Qe.createInstance)(Object.assign({name:"APP_LOCAL_STORAGE"},$)),this}getLocalforage(){if(!this.localforage)throw new Error("No localforage instance, please init first!");return this.localforage}set($,ue){return(0,Ue.D)(this.getLocalforage().setItem($,ue))}setBulk($){const ue=Object.keys($).map(_e=>this.set(_e,$[_e]));return(0,He.aj)(ue)}increment($,ue=1){return(0,Ue.D)(((Le,Xe)=>(0,te.mG)(this,void 0,void 0,function*(){const Pt=+((yield this.getLocalforage().getItem(Le))||0)+Xe;return yield this.getLocalforage().setItem(Le,Pt),Pt}))($,ue))}get($){return(0,Ue.D)(this.getLocalforage().getItem($))}getBulk($){return(0,Ue.D)((_e=>(0,te.mG)(this,void 0,void 0,function*(){const Le=[];for(let Xe=0;Xe<_e.length;Xe++){const ft=yield this.getLocalforage().getItem(_e[Xe]);Le.push(ft)}return Le}))($))}iterate($){return(0,Ue.D)(this.getLocalforage().iterate($))}iterateKeys($){return(0,Ue.D)((_e=>(0,te.mG)(this,void 0,void 0,function*(){const Le=yield this.getLocalforage().keys();for(let Xe=0;Xe<Le.length;Xe++)yield _e(Le[Xe],Xe)}))($))}remove($){return(0,Ue.D)(this.getLocalforage().removeItem($))}removeBulk($){return(0,Ue.D)((_e=>(0,te.mG)(this,void 0,void 0,function*(){for(let Le=0;Le<_e.length;Le++)yield this.getLocalforage().removeItem(_e[Le])}))($))}removeByPrefix($){return(0,Ue.D)((_e=>(0,te.mG)(this,void 0,void 0,function*(){const Le=yield this.getLocalforage().keys();for(let Xe=0;Xe<Le.length;Xe++)Le[Xe].substr(0,_e.length)===_e&&(yield this.getLocalforage().removeItem(Le[Xe]))}))($))}removeBySuffix($){return(0,Ue.D)((_e=>(0,te.mG)(this,void 0,void 0,function*(){const Le=yield this.getLocalforage().keys();for(let Xe=0;Xe<Le.length;Xe++)Le[Xe].substr(-_e.length)===_e&&(yield this.getLocalforage().removeItem(Le[Xe]))}))($))}clear(){return(0,Ue.D)(this.getLocalforage().clear())}keys(){return(0,Ue.D)(this.getLocalforage().keys())}}return ct.\u0275fac=function($){return new($||ct)},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),Ni=(()=>{class ct{constructor(){}init($={}){return this.localstorage=(new Fn).init(Object.assign({name:"APP_LOCAL_CACHE"},$)),this}caching($,ue,_e){return new it(this,$,ue,_e)}set($,ue,_e){return this.localstorage.setBulk({[$+"__expiration"]:(new Date).getTime()+6e4*Math.abs(_e),[$]:ue}).pipe((0,bt.U)(()=>ue))}get($,ue,_e){return this.localstorage.getBulk([`${$}__expiration`,$]).pipe((0,Dt.w)(Le=>{const[Xe,ft]=Le,Pt=(0,Ne.of)(ft),Wt=ue?ue.pipe((0,Dt.w)(nn=>nn&&_e?this.set($,nn,_e):Pt),(0,cn.q)(1)):Pt;return ft?(!Xe||Xe<=(new Date).getTime())&&ue?Wt:Pt:ue?Wt:Pt}))}iterate($){return this.localstorage.iterate($)}iterateKeys($){return this.localstorage.iterateKeys($)}remove($,ue=!1){const _e=[$+"__expiration"];return ue||_e.push($),this.localstorage.removeBulk(_e)}removeBulk($){const ue=[];return $.forEach(_e=>ue.push(_e+"__expiration",_e)),this.localstorage.removeBulk(ue)}removeByPrefix($){return this.localstorage.removeByPrefix($)}removeBySuffix($){return this.localstorage.removeBySuffix($)}flush(){return this.localstorage.clear()}flushExpired(){return this.localstorage.iterateKeys($=>(0,te.mG)(this,void 0,void 0,function*(){if(-1!==$.indexOf("__expiration")){const ue=yield this.localstorage.getLocalforage().getItem($);(!ue||ue<=(new Date).getTime())&&(yield this.localstorage.getLocalforage().removeItem($),yield this.localstorage.getLocalforage().removeItem($.replace("__expiration","")))}}))}}return ct.\u0275fac=function($){return new($||ct)},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})();class it{constructor(lt,$,ue,_e){this.cacheService=lt,this.key=$,this.refresher=ue,this.cacheTime=_e,this.data=null,this.onData=new we.t(1),this.get()}get(){return this.cacheService.get(this.key,this.refresher,this.cacheTime).pipe((0,gt.b)(lt=>this.handleData(lt)))}update(lt){return(0,Ne.of)(lt).pipe((0,gt.b)($=>this.handleData($)))}refresh(){return this.cacheService.remove(this.key,!0).pipe((0,Dt.w)(()=>this.get()))}remove(){return this.cacheService.remove(this.key).pipe((0,gt.b)(()=>this.handleData(null)),(0,bt.U)(()=>null))}handleData(lt){this.data=lt,this.onData.next(this.data)}}let Ct=(()=>{class ct{constructor($){this.helperService=$,this.options={},this.integrations={}}setOptions($){return this.options=$,this}setIntegrations($){return this.integrations=$,this}init(){return this}get($,ue,_e=!0){return this.fetch($,Object.assign(Object.assign({},ue),{method:"GET"}),_e)}cachingGet($,ue,_e,Le=!0){if(!this.integrations.cacheService)throw new Error("No cache service integration.");const Xe=(null==ue?void 0:ue.time)||this.options.cacheTime||0,ft=this.helperService.md5((null==ue?void 0:ue.name)||$);return this.integrations.cacheService.caching(`fetch/${(null==ue?void 0:ue.group)||"app"}/${ft}`,this.get($,_e,Le),Xe)}post($,ue){return this.fetch($,Object.assign(Object.assign({},ue),{method:"POST"}))}put($,ue){return this.fetch($,Object.assign(Object.assign({},ue),{method:"PUT"}))}patch($,ue){return this.fetch($,Object.assign(Object.assign({},ue),{method:"PATCH"}))}delete($,ue){return this.fetch($,Object.assign(Object.assign({},ue),{method:"DELETE"}))}fetch($,ue,_e=!0){return(0,Ue.D)(((Xe,ft,Pt=!0)=>(0,te.mG)(this,void 0,void 0,function*(){const Wt=yield fetch(Xe,ft);if(!Wt.ok)throw new Error("Fetch failed!");return Pt?Wt.json():Wt.text()}))($,ue,_e))}}return ct.\u0275fac=function($){return new($||ct)(n.LFG(jt))},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),dt=(()=>{class ct{constructor($,ue){this.title=$,this.meta=ue,this.options={},this.integrations={},this.defaultMetas={},this.metaTranslations={},this.defaultSuffix="",this.suffixTranslations={},this.appSuffix="",this.appMetas={}}setOptions($){return this.options=$,this}setIntegrations($){return this.integrations=$,this}setSuffix($,ue={}){return this.defaultSuffix=$,this.appSuffix=$,this.suffixTranslations=ue,this}init($,ue={}){return this.defaultMetas=$,this.appMetas=this.defaultMetas,this.metaTranslations=ue,this.integrations.settingService&&this.integrations.settingService.onLocaleChanged.subscribe(_e=>{this.appSuffix=this.getAppSuffix(_e),this.appMetas=this.getAppMetas(_e)}),this}changePageTitle($){return this.title.setTitle($),this}changePageLang($){return document.documentElement.setAttribute("lang",$),this}changePageMetas($={},ue=!1,_e){const Le=$;if(!Le.image&&$.images&&(Le.image=($.images.xl||$.images.default).src),(!Le.authorName||!Le.authorUrl)&&$.authors){const ft=Object.keys($.authors)[0];if(ft){const Pt=$.authors[ft];Le.authorName||(Le.authorName=Pt.title),Le.authorUrl||(Le.authorUrl=`${location.origin}/${this.options.authorUrlSegment||"member"}/${Pt.id}`)}}const Xe=this.processMetaData(Le,ue,_e);return this.changePageTitle(Xe.title||"App"),this.changePageLang(Xe.lang||"en"),this.changeMetaTags(Xe),this}getAppSuffix($){var ue,_e;return this.suffixTranslations[$||(null===(_e=null===(ue=this.integrations)||void 0===ue?void 0:ue.settingService)||void 0===_e?void 0:_e.locale)||"en-US"]||this.defaultSuffix}getAppMetas($){var ue,_e;return this.metaTranslations[$||(null===(_e=null===(ue=this.integrations)||void 0===ue?void 0:ue.settingService)||void 0===_e?void 0:_e.locale)||"en-US"]||this.defaultMetas}processMetaData($,ue=!1,_e){const Le=this.getAppSuffix(_e),Xe=this.getAppMetas(_e),ft=$.url||location.href;let Pt=$.title||Xe.title;ue&&Le&&(Pt=`${Pt} ${this.options.suffixSeparator||"\u2014"} ${Le}`);const Wt=$.description||Xe.description,nn=$.image||Xe.image,Je=$.locale||Xe.locale,Nt=$.lang||(Je?Je.split("-").shift():"")||Xe.lang;return{url:ft,title:Pt,description:Wt,image:nn,locale:Je,lang:Nt,authorName:$.authorName||Xe.authorName,authorUrl:$.authorUrl||Xe.authorUrl,createdAt:$.createdAt||Xe.createdAt,updatedAt:$.updatedAt||Xe.updatedAt,ogType:$.ogType||Xe.ogType,ogSiteName:Xe.ogSiteName,fbAppId:Xe.fbAppId,twitterCard:$.twitterCard||Xe.twitterCard,twitterCreator:$.twitterCreator||Xe.twitterCreator,twitterSite:Xe.twitterSite}}changeMetaTags($){const{url:ue,title:_e,description:Le,image:Xe,locale:ft,authorName:Pt,authorUrl:Wt,createdAt:nn,updatedAt:Je,ogType:Nt,ogSiteName:mt,fbAppId:Qt,twitterCard:un,twitterCreator:hn,twitterSite:$n}=$;ue&&(this.meta.removeTag('itemprop="url"'),this.changeHTMLLinkTags([{rel:"canonical",href:ue}]),this.meta.updateTag({itemprop:"url",content:ue}),this.meta.updateTag({property:"og:url",content:ue})),_e&&(this.meta.removeTag('itemprop="name"'),this.meta.updateTag({itemprop:"name",content:_e}),this.meta.updateTag({property:"og:title",content:_e})),Le&&(this.meta.removeTag('itemprop="description"'),this.meta.updateTag({name:"description",content:Le}),this.meta.updateTag({itemprop:"description",content:Le}),this.meta.updateTag({property:"og:description",content:Le})),Xe&&(this.meta.removeTag('itemprop="image"'),this.meta.updateTag({itemprop:"image",content:Xe}),this.meta.updateTag({property:"og:image",content:Xe})),ft&&(this.meta.removeTag('itemprop="inLanguage"'),this.meta.updateTag({itemprop:"inLanguage",content:ft}),this.meta.updateTag({property:"og:locale",content:ft})),Pt&&(this.meta.removeTag('itemprop="author"'),this.meta.updateTag({itemprop:"author",content:Pt})),Wt&&this.changeHTMLLinkTags([{rel:"author",href:Wt}]),nn&&(this.meta.removeTag('itemprop="dateCreated"'),this.meta.removeTag('itemprop="datePublished"'),this.meta.updateTag({itemprop:"dateCreated",content:nn}),this.meta.updateTag({itemprop:"datePublished",content:nn})),Je&&(this.meta.removeTag('itemprop="dateModified"'),this.meta.updateTag({itemprop:"dateModified",content:Je})),Nt&&this.meta.updateTag({property:"og:type",content:Nt}),mt&&this.meta.updateTag({property:"og:site_name",content:mt}),Qt&&this.meta.updateTag({property:"fb:app_id",content:Qt}),un&&this.meta.updateTag({name:"twitter:card",content:un}),hn&&this.meta.updateTag({name:"twitter:creator",content:hn}),$n&&this.meta.updateTag({name:"twitter:site",content:$n})}changeHTMLLinkTags($){const ue=window.document;for(const _e of $){const{rel:Le,href:Xe}=_e;let ft=ue.querySelector(`link[rel=${Le}]`);ft||(ft=ue.createElement("link"),ft.setAttribute("rel",Le),ue.head.appendChild(ft)),ft.setAttribute("href",Xe)}}}return ct.\u0275fac=function($){return new($||ct)(n.LFG(qe.Dx),n.LFG(qe.h_))},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),We=(()=>{class ct{constructor(){this.options={},this.customData={},this.host="",this.viewWidth=0,this.viewHeight=0}setOptions($){return this.options=$,this}setData($){return this.customData=$,this}setDataLoader($){return $.pipe((0,cn.q)(1)).subscribe(ue=>this.customData=Object.assign(Object.assign({},this.customData),ue)),this}init(){return this.setHost(),window.addEventListener("resize",()=>this.setViewport()),this.setViewport(),this}getData($){return(this.customData||{})[$]}addData($){return this.customData=Object.assign(Object.assign({},$),this.customData||{}),this}share($,ue,_e){if($&&ue&&_e)return navigator.share?navigator.share({title:$,text:ue,url:_e}):window.prompt("Please copy and share the url:",_e);throw new Error("No title or description or url for sharing.")}hideSplashScreen(){if(this.options.splashScreen){const $=document.getElementById("string"==typeof this.options.splashScreen?this.options.splashScreen:"app-splash-screen");$&&($.classList.add("hidden"),setTimeout(()=>{var ue;return null===(ue=$.parentNode)||void 0===ue?void 0:ue.removeChild($)},1e3))}}setHost(){const $=((document.getElementsByTagName("base")[0]||{}).href||"").slice(0,-1);if($)this.host=$;else{const ue=window.location.href.split("/").filter(Boolean);this.host=ue[0]+"//"+ue[1]}}setViewport(){this.viewWidth=window.innerWidth,this.viewHeight=window.innerHeight,document.documentElement.style.setProperty("--app-view-width",`${this.viewWidth}px`),document.documentElement.style.setProperty("--app-view-height",`${this.viewHeight}px`)}}return ct.\u0275fac=function($){return new($||ct)},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),pt=(()=>{class ct{constructor($){this.zone=$,this.LSK_THEME="setting_theme",this.LSK_PERSONA="setting_persona",this.LSK_LOCALE="setting_locale",this.options={},this.integrations={},this.settingInitilizer=new we.t(1),this.isInitialized=!1,this.themes=[{text:"Light",value:"light"}],this.personas=[{text:"Default",value:"default"}],this.locales=[{text:"English",value:"en-US"}],this.defaultTheme="light",this.theme=this.defaultTheme,this.defaultPersona="default",this.persona=this.defaultPersona,this.defaultLocale="en-US",this.locale=this.defaultLocale,this.onThemeChanged=new we.t(1),this.onThemeChangedAnyEmitted=!1,this.onPersonaChanged=new we.t(1),this.onPersonaChangedAnyEmitted=!1,this.onLocaleChanged=new we.t(1),this.onLocaleChangedAnyEmitted=!1}setOptions($){return this.options=$,this}setIntegrations($){return this.integrations=$,this}setListing($){const{themes:ue,personas:_e,locales:Le}=$;return ue&&(this.themes=ue),_e&&(this.personas=_e),Le&&(this.locales=Le),this}setDefaults($){const{theme:ue,persona:_e,locale:Le}=$;return ue&&(this.defaultTheme=ue),_e&&(this.defaultPersona=_e),Le&&(this.defaultLocale=Le),this}init(){return(0,He.aj)([this.remoteLoader(),this.initLoader()]).pipe((0,Dt.w)(([{theme:$,persona:ue,locale:_e}])=>(0,He.aj)([this.loadTheme($),this.loadPersona(ue),this.loadLocale(_e)]))).subscribe($=>this.zone.run(()=>{const[ue,_e,Le]=$;this.changeTheme(ue),this.changePersona(_e),this.changeLocale(Le),this.options.onReady&&this.options.onReady(),this.isInitialized=!0})),this}triggerSettingInitilizer(){this.settingInitilizer.next()}setInitialTheme($){this.inititalTheme=$}setPrioritizedTheme($){this.prioritizedTheme=$}setInitialPersona($){this.inititalPersona=$}setPrioritizedPersona($){this.prioritizedPersona=$}setInitialLocale($){this.inititalLocale=$}setPrioritizedLocale($){this.prioritizedLocale=$}changeTheme($){var ue,_e,Le;const Xe=this.theme;this.theme=$,this.integrations.localstorageService&&this.integrations.localstorageService.set(this.LSK_THEME,$),Xe!==$&&(document.body.setAttribute("data-theme",$),(null===(ue=this.integrations.userService)||void 0===ue?void 0:ue.currentUser)&&(null===(Le=null===(_e=this.integrations.userService.data)||void 0===_e?void 0:_e.settings)||void 0===Le?void 0:Le.theme)!==$&&this.integrations.userService.updateSettings({theme:$})),(Xe!==$||!this.onThemeChangedAnyEmitted)&&(this.onThemeChangedAnyEmitted=!0,this.onThemeChanged.next($))}changePersona($){var ue,_e,Le;const Xe=this.persona;$=!this.options.personaValidator||this.options.personaValidator($,this.integrations.userService)?$:"default",this.persona=$,this.integrations.localstorageService&&this.integrations.localstorageService.set(this.LSK_PERSONA,$),Xe!==$&&(null===(ue=this.integrations.userService)||void 0===ue?void 0:ue.currentUser)&&(null===(Le=null===(_e=this.integrations.userService.data)||void 0===_e?void 0:_e.settings)||void 0===Le?void 0:Le.persona)!==$&&this.integrations.userService.updateSettings({persona:$}),(Xe!==$||!this.onPersonaChangedAnyEmitted)&&(this.onPersonaChangedAnyEmitted=!0,this.onPersonaChanged.next($))}changeLocale($){var ue,_e,Le;const Xe=this.locale;this.locale=$,this.integrations.localstorageService&&this.integrations.localstorageService.set(this.LSK_LOCALE,$),Xe!==$&&(this.integrations.translateService&&this.integrations.translateService.setActiveLang($),(null===(ue=this.integrations.userService)||void 0===ue?void 0:ue.currentUser)&&(null===(Le=null===(_e=this.integrations.userService.data)||void 0===_e?void 0:_e.settings)||void 0===Le?void 0:Le.locale)!==$&&this.integrations.userService.updateSettings({locale:$})),(Xe!==$||!this.onLocaleChangedAnyEmitted)&&(this.onLocaleChangedAnyEmitted=!0,this.onLocaleChanged.next($))}initLoader(){return this.options.waitForNavigationEnd?this.settingInitilizer:(0,Ne.of)({})}remoteLoader(){return this.integrations.userService?this.integrations.userService.onUserChanged.pipe((0,cn.q)(1),(0,Dt.w)($=>(0,Ne.of)((null==$?void 0:$.settings)?$.settings:{}))):(0,Ne.of)({})}loadTheme($){return this.options.usePrioritized&&this.prioritizedTheme?(0,Ne.of)(this.prioritizedTheme):$?(0,Ne.of)($):this.integrations.localstorageService?this.integrations.localstorageService.get(this.LSK_THEME).pipe((0,Dt.w)(ue=>(0,Ne.of)(ue||(this.inititalTheme?this.inititalTheme:this.options.browserColor&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":this.defaultTheme)))):(0,Ne.of)(this.inititalTheme||"light")}loadPersona($){return this.options.usePrioritized&&this.prioritizedPersona?(0,Ne.of)(this.prioritizedPersona):$?(0,Ne.of)($):this.integrations.localstorageService?this.integrations.localstorageService.get(this.LSK_PERSONA).pipe((0,Dt.w)(ue=>(0,Ne.of)(ue||(this.inititalPersona?this.inititalPersona:this.defaultPersona)))):(0,Ne.of)(this.inititalPersona||"default")}loadLocale($){return this.options.usePrioritized&&this.prioritizedLocale?(0,Ne.of)(this.prioritizedLocale):$?(0,Ne.of)($):this.integrations.localstorageService?this.integrations.localstorageService.get(this.LSK_LOCALE).pipe((0,Dt.w)(ue=>(0,Ne.of)(ue||(this.inititalLocale?this.inititalLocale:this.options.browserLocale&&-1!==navigator.language.indexOf("-")?navigator.language:this.defaultLocale)))):(0,Ne.of)(this.inititalLocale||"en-US")}}return ct.\u0275fac=function($){return new($||ct)(n.LFG(n.R0b))},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),Ut=(()=>{class ct{constructor(){this.options={},this.integrations={},this.menuRegistry={},this.personaActions={},this.data={},this.name="default",this.properties={},this.menu=[],this.menu2nd=[],this.tabs=[],this.more=[]}setOptions($){return this.options=$,this}setIntegrations($){return this.integrations=$,this}setMenuRegistry($){return this.menuRegistry=$,this}setActions($){return this.personaActions=$,this}init($){return this.menuRegistry&&Object.keys($).forEach(ue=>{const{menu:_e,menu2nd:Le,tabs:Xe,more:ft}=$[ue];_e&&($[ue].menu=_e.map(Pt=>"string"==typeof Pt?this.menuRegistry[Pt]:Pt)),Le&&($[ue].menu2nd=Le.map(Pt=>"string"==typeof Pt?this.menuRegistry[Pt]:Pt)),Xe&&($[ue].tabs=Xe.map(Pt=>"string"==typeof Pt?this.menuRegistry[Pt]:Pt)),ft&&($[ue].more=ft.map(Pt=>"string"==typeof Pt?this.menuRegistry[Pt]:Pt))}),this.data=$,this.setData("default"),this.integrations.settingService&&this.integrations.settingService.onPersonaChanged.subscribe(ue=>{var _e;this.setData(ue);const Le=null===(_e=this.personaActions)||void 0===_e?void 0:_e[ue];(null==Le?void 0:Le.theme)&&this.integrations.settingService&&this.integrations.settingService.changeTheme(Le.theme),(null==Le?void 0:Le.redirect)&&this.integrations.navService&&this.integrations.navService.navigate(Le.redirect)}),this}get($,ue){return(this.data[ue||this.name]||{})[$]||(this.data.default||{})[$]}setData($){this.name=$,this.properties=this.data[this.name]||this.data.default||{},this.menu=this.get("menu")||[],this.menu2nd=this.get("menu2nd")||[],this.tabs=this.get("tabs")||[],this.more=this.get("more")||[]}}return ct.\u0275fac=function($){return new($||ct)},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),st=(()=>{class ct{constructor($){this.localstorageService=$,this.LSK_INSTALLED="pwa_installed",this.LSK_REMINDER_TIMESTAMP="pwa_reminder_timestamp",this.LSK_REMINDER_COUNT="pwa_reminder_count",this.options={},this.runtime="desktop-any",this.installed=!0,this.reminderCount=0,this.reminderTimestamp=0,this.reminderShowed=!1,this.reminderAnnoying=3}setOptions($){return this.options=$,this.options.reminderAnnoying&&(this.reminderAnnoying=this.options.reminderAnnoying),this}init(){return this.setRuntime(),this.loadLocalMetrics().subscribe(({installed:$,reminderCount:ue,reminderTimestamp:_e,reminderShowed:Le})=>{this.installed=$,this.reminderCount=ue,this.reminderTimestamp=_e,!this.installed&&this.options.reminder&&Le&&setTimeout(()=>this.showReminder(),!0===this.options.reminder?0:1e3*this.options.reminder)}),this}showReminder($){if(!this.installed&&this.options.reminder){const ue="android-chrome"===this.runtime&&0===this.reminderCount;this.reminderShowed=!ue,(ue||!$)&&(this.reminderCount++,this.reminderTimestamp=(new Date).getTime(),this.localstorageService.set(this.LSK_REMINDER_COUNT,this.reminderCount),this.localstorageService.set(this.LSK_REMINDER_TIMESTAMP,this.reminderTimestamp))}}hideReminder(){!this.installed&&this.options.reminder&&(this.reminderShowed=!1)}dismissReminder(){!this.installed&&this.options.reminder&&(this.hideReminder(),this.installed=!0,this.localstorageService.set(this.LSK_INSTALLED,this.installed))}setRuntime(){const $=window.navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test($)?this.runtime=/crios/.test($)||/fxios/.test($)||/opios/.test($)?"ios-any":"ios-safari":/android/.test($)?this.runtime=/chrome/.test($)&&!/edga/.test($)?"android-chrome":"android-any":/windows|macintosh/.test($)&&(this.runtime=/chrome/.test($)&&!/edg/.test($)?"desktop-chrome":"desktop-any")}loadLocalMetrics(){return this.localstorageService.getBulk([this.LSK_INSTALLED,this.LSK_REMINDER_COUNT,this.LSK_REMINDER_TIMESTAMP]).pipe((0,Dt.w)(([$,ue,_e,Le])=>{$=$||navigator.standalone||window.matchMedia("(display-mode: standalone)").matches,ue=ue||0,_e=_e||0,Le=Le||!1;const{reminderEvery:Xe,reminderMax:ft}=this.options;return Le=(!ft||ue<ft)&&(Xe?6e4*Xe:432e5)<(new Date).getTime()-new Date(_e).getTime(),(0,Ne.of)({installed:$,reminderCount:ue,reminderTimestamp:_e,reminderShowed:Le})}))}}return ct.\u0275fac=function($){return new($||ct)(n.LFG(Fn))},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),Cn=(()=>{class ct{constructor(){this.options={},this.driver="firebase",this.methodAllowedForEmailPassword=!0,this.methodAllowedForGoogle=!0,this.methodAllowedForFacebook=!0,this.methodAllowedForGithub=!0,this.onAuthStateChanged=new we.t(1)}setOptions($){return this.options=$,$.driver&&(this.driver=$.driver),this}init($){return this.service=$,this.service.onAuthStateChanged(ue=>{this.authenticated=!!ue,this.onAuthStateChanged.next(ue)}),this}getClaimNames(){return[...this.options.additionalClaims||[],"role","legit"]}setRedirectUrl($){this.redirectUrl=$}handleAccountExistsWithDifferentCredential($){return(0,Ue.D)(this.service.fetchSignInMethodsForEmail($)).pipe((0,gt.b)(ue=>ue.forEach(_e=>{this.methodAllowedForEmailPassword="email/password"===_e,this.methodAllowedForGoogle="google.com"===_e,this.methodAllowedForFacebook="facebook.com"===_e,this.methodAllowedForGithub="github.com"===_e})))}createUserWithEmailAndPassword($,ue){return(0,Ue.D)(this.service.createUserWithEmailAndPassword($,ue)).pipe((0,gt.b)(_e=>this.credential=_e))}signInWithEmailAndPassword($,ue){return(0,Ue.D)(this.service.signInWithEmailAndPassword($,ue)).pipe((0,gt.b)(_e=>this.credential=_e))}sendPasswordResetEmail($){return(0,Ue.D)(this.service.sendPasswordResetEmail($))}signInWithPopupForGoogle(){const $=new Lt.Z.auth.GoogleAuthProvider;return(0,Ue.D)(this.service.signInWithPopup($)).pipe((0,gt.b)(ue=>this.credential=ue))}signInWithPopupForFacebook(){const $=new Lt.Z.auth.FacebookAuthProvider;return(0,Ue.D)(this.service.signInWithPopup($)).pipe((0,gt.b)(ue=>this.credential=ue))}signInWithPopupForGithub(){const $=new Lt.Z.auth.GithubAuthProvider;return(0,Ue.D)(this.service.signInWithPopup($)).pipe((0,gt.b)(ue=>this.credential=ue))}signOut(){return(0,Ue.D)(this.service.signOut())}}return ct.\u0275fac=function($){return new($||ct)},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),wn=(()=>{class ct{constructor($){this.helperService=$,this.options={},this.integrations={},this.driver="firebase"}setOptions($){return this.options=$,$.driver&&(this.driver=$.driver),this}setIntegrations($){return this.integrations=$,this}init($){return this.service=$,this}getOptions(){return this.options}getIntegrations(){return this.integrations}getVendorService(){return this.service}getValueIncrement($=1){return Lt.Z.firestore.FieldValue.increment($)}isTypeIncrement($){return $ instanceof Lt.Z.firestore.FieldValue&&$.isEqual(this.getValueIncrement())}getValueDelete(){return Lt.Z.firestore.FieldValue.delete()}isTypeDelete($){return $ instanceof Lt.Z.firestore.FieldValue&&$.isEqual(this.getValueDelete())}isGlobalCachingEnabled(){return!!this.options.cacheTime}createId(){return this.service.createId()}exists($,ue){return ue?this.flatList($,ue).pipe((0,bt.U)(_e=>!!(_e||[]).length)):this.flatGet($).pipe((0,bt.U)(_e=>!!_e))}doc($){return this.service.doc($)}collection($,ue){return this.service.collection($,ue)}set($,ue){return(0,Ue.D)(this.doc($).set(ue))}update($,ue){return(0,Ue.D)(this.doc($).update(ue))}increment($,ue){const _e={};return Object.keys(ue).forEach(Le=>_e[Le]=this.getValueIncrement(ue[Le])),this.update($,_e)}delete($){return(0,Ue.D)(this.doc($).delete())}streamGet($,ue){return new Fe.y(_e=>ue?this.collection($,ue).ref.onSnapshot(Le=>_e.next(1===Le.docs.length?Le.docs[0].data():null)):this.doc($).ref.onSnapshot(Le=>_e.next(Le.data())))}streamList($,ue){return new Fe.y(_e=>this.collection($,ue).ref.onSnapshot(Le=>_e.next(Le.docs.map(Xe=>Xe.data()))))}streamRecord($,ue){return new Fe.y(_e=>this.collection($,ue).ref.onSnapshot(Le=>{const Xe={};Le.docs.forEach(ft=>{const Pt=ft.data();Xe[Pt.id]=Pt}),_e.next(Xe)}))}flatGet($,ue){const _e=ue?null:$.split("/").pop(),Le=this.options.prerendering&&window.sessionStorage&&_e?sessionStorage.getItem(`prerender_data:${_e}`):null;return Le?(0,Ne.of)(JSON.parse(Le)):ue?this.collection($,ue).get().pipe((0,cn.q)(1),(0,bt.U)(Xe=>1===Xe.docs.length?Xe.docs[0].data():null)):this.doc($).get().pipe((0,cn.q)(1),(0,bt.U)(Xe=>Xe.data()||null))}flatList($,ue){return this.collection($,ue).get().pipe((0,cn.q)(1),(0,bt.U)(_e=>_e.docs.map(Le=>Le.data())))}flatRecord($,ue){return this.collection($,ue).get().pipe((0,cn.q)(1),(0,bt.U)(_e=>{const Le={};return _e.docs.forEach(Xe=>{const ft=Xe.data();Le[ft.id]=ft}),Le}))}get($,ue,_e){return!1===_e?this.flatGet($,ue):this.cacheManager(this.flatGet($,ue),$,ue,_e)}list($,ue,_e){return!1===_e?this.flatList($,ue):this.cacheManager(this.flatList($,ue),$,ue,_e)}record($,ue,_e){return!1===_e?this.flatRecord($,ue):this.cacheManager(this.flatRecord($,ue),$,ue,_e)}cachingGet($,ue,_e){return this.cacheManager(this.flatGet($,ue),$,ue,_e,!0)}cachingList($,ue,_e){return this.cacheManager(this.flatList($,ue),$,ue,_e,!0)}cachingRecord($,ue,_e){return this.cacheManager(this.flatRecord($,ue),$,ue,_e,!0)}cacheManager($,ue,_e,Le,Xe=!1){if(!this.integrations.cacheService)throw new Error("No cache service integration.");if(_e&&!(null==Le?void 0:Le.name))throw new Error("Querying without a cache name.");const ft=(null==Le?void 0:Le.time)||this.options.cacheTime||1,Pt=this.helperService.md5((null==Le?void 0:Le.name)||ue),Wt=(null==Le?void 0:Le.group)||ue.split("/").shift();return Xe?this.integrations.cacheService.caching(`database/${Wt}/${Pt}`,$,ft):this.integrations.cacheService.get(`database/${Wt}/${Pt}`,$,ft)}}return ct.\u0275fac=function($){return new($||ct)(n.LFG(jt))},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})();class ei{constructor(lt,$,ue={}){this.databaseService=lt,this.name=$,this.options=ue,this.metas={},this.searchIndexingKeys=[],this.searchIndexingItems={},this.contextualIndexes={},this.minimumLinkingFields=["id","title","type"]}setOptions(lt){return this.options=Object.assign(Object.assign({},this.options),lt),this}init(){return this.options.advancedMode&&this.getRemoteMetas(this.options.metaCaching).subscribe(lt=>this.metas=lt?lt.value:{}),this}getOptions(){return this.options}getLinkingFields(){return[...this.options.linkingFields||[],...this.minimumLinkingFields]}getDataPickers(){return this.options.effectDataPickers||{}}getRemoteMetas(lt){return this.databaseService.get(`metas/$${this.name}`,void 0,lt)}getMetas(){if(!this.options.advancedMode||!Object.keys(this.metas).length)throw new Error('Metas only available when enabling "advancedMode" option with a proper setup.');return this.metas}getCounting(lt,$){if(!this.options.advancedMode||!this.metas.documentCounting)throw new Error('Counting only work when enabling "advancedMode" option with a proper setup.');const{documentCounting:ue}=this.metas;return lt?$?ue[lt][$]:ue[lt]:ue}getRemoteSearchIndexes(lt,$){return this.databaseService.list("metas",ue=>{let _e=ue.where("master","==",this.name).where("type","==","default").where("group","==","search_index").orderBy("createdAt","desc");return $&&(_e=_e.startAfter($.createdAt)),_e.limit(this.options.searchIndexingRetrievalLimit||3)},lt)}getSearchingData(){if(!this.options.advancedMode||!this.defaultIndex)throw new Error('Searching only available when enabling "advancedMode" option with a proper setup.');return{keys:this.searchIndexingKeys,items:this.searchIndexingItems,default:this.defaultIndex,contextuals:this.contextualIndexes,lastRetrieval:this.lastSearchRetrieval}}createSearchIndex(lt){const $=new on.Document(Object.assign({document:{index:"content"}},this.options.flexsearchOptions)),ue=[];return lt&&("function"==typeof lt?this.searchIndexingKeys.forEach(_e=>{lt(this.searchIndexingItems[_e])&&($.add(this.searchIndexingItems[_e]),ue.push(_e))}):lt.forEach(_e=>{$.add(_e),ue.push(_e.docId)})),{index:$,keys:ue}}setupSearching(lt=!1,$=!1){return this.defaultIndex?(0,Ne.of)(this.getSearchingData()):this.getRemoteSearchIndexes(!$&&(void 0!==this.options.searchCaching?this.options.searchCaching:!!this.databaseService.isGlobalCachingEnabled()&&{name:"Search indexes of collection: "+this.name})).pipe((0,bt.U)(ue=>{this.lastSearchRetrieval=ue[ue.length-1],this.defaultIndex=this.createSearchIndex(),(this.options.predefinedSearchingContextuals||[]).forEach(({name:Le})=>{this.contextualIndexes[Le]=this.createSearchIndex()});let _e=0;return ue.forEach(Le=>{const{items:Xe={}}=Le.value;Object.keys(Xe).map(Pt=>({docId:Pt,item:Xe[Pt]})).sort((Pt,Wt)=>Pt.item.createdAt<Wt.item.createdAt?1:-1).forEach(({docId:Pt,item:Wt})=>{const nn=_e++;this.searchIndexingKeys[nn]=Pt,this.searchIndexingItems[Pt]=Object.assign({id:nn,docId:Pt},Wt);const{status:Je,type:Nt,locale:mt}=this.searchIndexingItems[Pt],{settingService:Qt}=this.databaseService.getIntegrations();!lt&&"default"===Nt&&"publish"===Je&&(!mt||!Qt||mt===Qt.locale)&&(this.defaultIndex.index.add(this.searchIndexingItems[Pt]),this.defaultIndex.keys.push(Pt)),(this.options.predefinedSearchingContextuals||[]).forEach(({name:un,picker:hn})=>{hn(this.searchIndexingItems[Pt])&&(this.contextualIndexes[un].index.add(this.searchIndexingItems[Pt]),this.contextualIndexes[un].keys.push(Pt))})})}),this.getSearchingData()}))}count(lt,$,ue){const _e=this.getCounting();if(lt){if($){if(ue)return _e[lt][$][ue];{let Le=0;return Object.keys(_e[lt][$]).forEach(Xe=>Le+=_e[lt][$][Xe]),Le}}{let Le=0;return Object.keys(_e[lt]).forEach(Xe=>Object.keys(_e[lt][Xe]).forEach(ft=>Le+=_e[lt][Xe][ft])),Le}}{let Le=0;return Object.keys(_e).forEach(Xe=>Object.keys(_e[Xe]).forEach(ft=>Object.keys(_e[Xe][ft]).forEach(Pt=>Le+=_e[Xe][ft][Pt]))),Le}}onLinking(lt,$,ue){return this.options.linkingHook?this.options.linkingHook(lt,$,ue,this):(0,Ne.of)(!1)}exists(lt){return"string"==typeof lt?this.databaseService.exists(`${this.name}/${lt}`):this.databaseService.exists(this.name,lt)}doc(lt){return this.databaseService.doc(`${this.name}/${lt}`)}collection(lt){return this.databaseService.collection(this.name,lt)}create(lt,$){const ue=[],{settingService:_e,userService:Le}=this.databaseService.getIntegrations(),Xe=$.uid||(Le&&Le.uid?Le.uid:""),ft=$.title||lt,Pt=$.status||"draft",Wt=$.type||"default",nn=$.createdAt||(new Date).toISOString(),Je=$.updatedAt||nn,Nt=Object.assign(Object.assign({},$),{uid:Xe,id:lt,title:ft,status:Pt,type:Wt,createdAt:nn,updatedAt:Je});if(ue.push(this.databaseService.set(`${this.name}/${lt}`,Nt)),this.options.advancedMode&&this.options.docMetaRegistry&&ue.push(this.addDocMetas(lt,Nt,this.options.docMetaRegistry)),!this.options.manualDocumentCounting&&this.options.advancedMode&&this.metas.documentCounting){const mt=$.locale||(null==_e?void 0:_e.locale)||"en-US";ue.push(this.databaseService.update(`metas/$${this.name}`,{[`value.documentCounting.${Wt}.${mt}.${Pt}`]:this.databaseService.getValueIncrement()}).pipe((0,gt.b)(()=>++this.metas.documentCounting[Wt][mt][Pt])))}return!this.options.manualSearchIndexing&&this.options.advancedMode&&this.metas.searchIndexing&&ue.push(this.addSearchIndexingItem(Nt,this.metas.searchIndexing)),(0,He.aj)(ue).pipe((0,bt.U)(()=>!0))}update(lt,$,ue){var _e;const Le=[],Xe=$.updatedAt||(new Date).toISOString(),ft=Object.assign(Object.assign({},$),{updatedAt:Xe});Le.push(this.databaseService.update(`${this.name}/${lt}`,ft));const Pt=$.status;if(!this.options.manualDocumentCounting&&this.options.advancedMode&&this.metas.documentCounting&&Pt&&ue){const Wt=ue.type,nn=ue.locale||(null===(_e=this.databaseService.getIntegrations().settingService)||void 0===_e?void 0:_e.defaultLocale)||"en-US",Je=ue.status;Pt!==Je&&Le.push(this.databaseService.update(`metas/$${this.name}`,{[`value.documentCounting.${Wt}.${nn}.${Pt}`]:this.databaseService.getValueIncrement(),[`value.documentCounting.${Wt}.${nn}.${Je}`]:this.databaseService.getValueIncrement(-1)}).pipe((0,gt.b)(()=>++this.metas.documentCounting[Wt][nn][Pt]&&--this.metas.documentCounting[Wt][nn][Je])))}return!this.options.manualSearchIndexing&&this.options.advancedMode&&this.metas.searchIndexing&&Le.push(this.updateSearchIndexingItem(lt,ft,ue)),(0,He.aj)(Le).pipe((0,bt.U)(()=>!0))}updateEffects(lt,$){var ue;const _e=this.getLinkingFields().filter(Wt=>!!$[Wt]);if(!_e.length||!(null===(ue=this.options.updateEffects)||void 0===ue?void 0:ue.length))return(0,Ne.of)({count:0,percentage$:(0,Ne.of)(100)});const Le=this.options.effectDataPickers||{},Xe=_e.reduce((Wt,nn)=>{const Je=Le[nn]?Le[nn]($[nn],$):$[nn];return Je&&(Wt[nn]=Je),Wt},{}),ft=$.status,Pt=[];return(0,He.aj)(this.options.updateEffects.map(({collection:Wt,key:nn},Je)=>this.databaseService.collection(Wt,Nt=>Nt.where(`${nn}.${lt}.id`,"==",lt)).get().pipe((0,Ht.K)(()=>(0,Ne.of)({docs:[]})),(0,gt.b)(Nt=>{Pt.push(...Nt.docs.map(mt=>(0,Ue.D)(mt.ref.update({[`${nn}.${lt}`]:ft&&"publish"!==ft?this.databaseService.getValueDelete():Xe}))))})))).pipe((0,bt.U)(()=>{const Wt=Pt.length,nn=new nt.X(0);let Je=0;return Pt.forEach(Nt=>{Nt.pipe((0,gt.b)(()=>{Je++,nn.next(Je/Wt*100)})).subscribe()}),{count:Wt,percentage$:nn}}))}trash(lt,$){return this.update(lt,{status:"trash"},$)}trashEffects(lt){return this.updateEffects(lt,{status:"trash"})}delete(lt,$){var ue;const _e=[];if(_e.push(this.databaseService.delete(`${this.name}/${lt}`)),!this.options.manualDocumentCounting&&this.options.advancedMode&&this.metas.documentCounting&&$){const Le=$.type,Xe=$.locale||(null===(ue=this.databaseService.getIntegrations().settingService)||void 0===ue?void 0:ue.defaultLocale)||"en-US",ft=$.status;_e.push(this.databaseService.update(`metas/$${this.name}`,{[`value.documentCounting.${Le}.${Xe}.${ft}`]:this.databaseService.getValueIncrement(-1)}).pipe((0,gt.b)(()=>--this.metas.documentCounting[Le][Xe][ft])))}return!this.options.manualSearchIndexing&&this.options.advancedMode&&this.metas.searchIndexing&&_e.push(this.removeSearchIndexingItem(lt,$)),(0,He.aj)(_e).pipe((0,bt.U)(()=>!0))}deleteEffects(lt){return this.trashEffects(lt)}increment(lt,$){return this.databaseService.increment(`${this.name}/${lt}`,$)}streamGet(lt){return"string"==typeof lt?this.databaseService.streamGet(`${this.name}/${lt}`):this.databaseService.streamGet(this.name,lt)}streamList(lt){return this.databaseService.streamList(this.name,lt)}streamRecord(lt){return this.databaseService.streamRecord(this.name,lt)}flatGet(lt){return"string"==typeof lt?this.databaseService.flatGet(`${this.name}/${lt}`):this.databaseService.flatGet(this.name,lt)}flatList(lt){return this.databaseService.flatList(this.name,lt)}flatRecord(lt){return this.databaseService.flatRecord(this.name,lt)}get(lt,$){return"string"==typeof lt?this.databaseService.get(`${this.name}/${lt}`,void 0,$):this.databaseService.get(this.name,lt,$)}list(lt,$){return this.databaseService.list(this.name,lt,$)}record(lt,$){return this.databaseService.record(this.name,lt,$)}cachingGet(lt,$){return"string"==typeof lt?this.databaseService.cachingGet(`${this.name}/${lt}`,void 0,$):this.databaseService.cachingGet(this.name,lt,$)}cachingList(lt,$){return this.databaseService.cachingList(this.name,lt,$)}cachingRecord(lt,$){return this.databaseService.cachingRecord(this.name,lt,$)}getItems(lt,$,ue=7e3){return lt.length?(0,He.aj)(lt.map(_e=>this.get(_e,$).pipe(function(ct,lt=Ot.P){return function(ct,lt,$=Ot.P){return ue=>{let _e=(0,Ae.J)(ct),Le=_e?+ct-$.now():Math.abs(ct);return ue.lift(new ve(Le,_e,lt,$))}}(ct,(0,Be._)(new _t),lt)}(ue),(0,Ht.K)(()=>(0,Ne.of)(null))))).pipe((0,bt.U)(_e=>_e.filter(Le=>!!Le))):(0,Ne.of)([])}lookup(lt,$=10,ue,_e=!1){const{keyword:Le,type:Xe,status:ft,locale:Pt}=lt;return this.list(Wt=>{let nn=Wt.where("type","==",Xe).where("status","==",ft).where("keywords","array-contains",Le).orderBy("createdAt","desc");return Pt&&(nn=nn.where("locale","==",Pt)),ue&&(nn=nn.startAfter(ue.createdAt)),nn.limit($)},_e)}search(lt,$=10,ue){const _e=ue?"string"==typeof ue?this.contextualIndexes[ue]:ue:this.defaultIndex;if(!_e)throw new Error('No index found, please run "setupSearching()" first.');const[Le]=lt?_e.index.search(lt):[];return new Pi(this,_e,$,Le?Le.result:[])}buildSearchIndexingItem(lt){const $=lt.type,ue=lt.status,_e=lt.createdAt,Le=lt.locale,Xe=[lt.id,...lt.keywords||[],...Object.keys(lt.authors||{}),...Object.keys(lt.categories||{}),...Object.keys(lt.tags||{})].join(" ").replace(/\-|\_/g," ").toLowerCase(),ft=Object.assign(Object.assign({content:Xe,type:$,status:ue,createdAt:_e},Le?{locale:Le}:{}),this.options.searchIndexingBuildItemExtender?this.options.searchIndexingBuildItemExtender(lt):{}),Pt=JSON.stringify(ft).length;if(Pt<1e3)return ft;{const Wt=Xe.substr(0,Xe.length-(Pt-1e3));return Object.assign(Object.assign({},ft),{content:Wt})}}addSearchIndexingItem(lt,$){const{currentId:ue,map:_e}=$,{count:Le,nextId:Xe}=_e[ue],ft=Le<1e3?ue:Xe||void 0;if(!ft)return(0,Ne.of)([]);const Pt=lt.id,Wt=this.buildSearchIndexingItem(lt);return(0,He.aj)([this.databaseService.update(`metas/${ft}`,{updatedAt:(new Date).toISOString(),[`value.items.${Pt}`]:Wt}),this.databaseService.update(`metas/$${this.name}`,{[`value.searchIndexing.map.${ft}.count`]:this.databaseService.getValueIncrement()}).pipe((0,gt.b)(()=>{this.metas.searchIndexing.currentId=ft,++this.metas.searchIndexing.map[ft].count}))])}updateSearchIndexingItem(lt,$,ue){return(Xe=$).status||Xe.keywords||(this.options.searchIndexingCheckUpdateExtender||(Xe=>!1))($)?(ue?(0,Ne.of)(ue):this.get(lt)).pipe((0,Dt.w)(Xe=>Xe?(0,He.aj)([(0,Ne.of)(Xe),this.databaseService.list("metas",ft=>ft.where("master","==",this.name).where("type","==","default").where("group","==","search_index").where("createdAt","<=",Xe.createdAt).orderBy("createdAt","desc").limit(1),!1).pipe((0,bt.U)(ft=>ft[0]))]):(0,Ne.of)([])),(0,Dt.w)(([Xe,ft])=>Xe&&ft?this.databaseService.update(`metas/${ft.id}`,{updatedAt:(new Date).toISOString(),[`value.items.${lt}`]:this.buildSearchIndexingItem(Object.assign(Object.assign({},Xe),$))}):(0,Ne.of)(null))):(0,Ne.of)(null);var Xe}removeSearchIndexingItem(lt,$){return($?(0,Ne.of)($):this.get(lt)).pipe((0,Dt.w)(ue=>ue?this.databaseService.list("metas",_e=>_e.where("master","==",this.name).where("type","==","default").where("group","==","search_index").where("createdAt","<=",ue.createdAt).orderBy("createdAt","desc").limit(1),!1).pipe((0,bt.U)(_e=>_e[0])):(0,Ne.of)(void 0)),(0,Dt.w)(ue=>ue?(0,He.aj)([this.databaseService.update(`metas/${ue.id}`,{updatedAt:(new Date).toISOString(),[`value.items.${lt}`]:this.databaseService.getValueDelete()}),this.databaseService.update(`metas/$${this.name}`,{[`value.searchIndexing.map.${ue.id}.count`]:this.databaseService.getValueIncrement(-1)}).pipe((0,gt.b)(()=>{--this.metas.searchIndexing.map[ue.id].count}))]):(0,Ne.of)(null)))}addDocMetas(lt,$,ue){const _e=Object.keys(ue).map(Le=>{const{group:Xe,valueBuilder:ft}=ue[Le],{userService:Pt}=this.databaseService.getIntegrations(),Wt=Pt&&Pt.uid?Pt.uid:"",nn=`${lt}_${this.name}_${Le}`,Je=(new Date).toISOString(),mt={uid:Wt,id:nn,title:lt,type:"default",status:"publish",createdAt:Je,updatedAt:Je,master:`${this.name}#${lt}`,group:Xe,value:null};return ft(lt,$,mt).pipe((0,Dt.w)(Qt=>this.databaseService.set(`metas/${lt}`,Object.assign(Object.assign({},mt),{value:Qt}))))});return(0,He.aj)(_e)}}class Pi{constructor(lt,$,ue,_e){this.dataService=lt,this.indexData=$,this.limit=ue,this.searchResult=_e;const{keys:Le}=this.dataService.getSearchingData();this.indexingKeys=Le}count(){return this.searchResult.length}list(lt=1,$,ue=7e3){const _e=(lt-1)*this.limit,Le=this.searchResult.slice(_e,_e+this.limit);return this.dataService.getItems(Le.map(Xe=>this.indexingKeys[Xe]),$,ue)}listDefault(lt=1,$,ue=7e3){const _e=(lt-1)*this.limit,Le=this.indexData.keys.slice(_e,_e+this.limit);return this.dataService.getItems(Le,$,ue)}}let wi=(()=>{class ct{constructor($,ue,_e){this.helperService=$,this.databaseService=ue,this.authService=_e,this.options={},this.role="subscriber",this.level=1,this.onUserChanged=new we.t(1)}setOptions($){return this.options=$,this}init($,ue){return this.userDataService=$,this.profileDataService=ue,this.authService.onAuthStateChanged.pipe((0,Dt.w)(_e=>(0,He.aj)([(0,Ne.of)(_e),(null==_e?void 0:_e.uid)?this.userDataService.flatGet(_e.uid):(0,Ne.of)(void 0),(null==_e?void 0:_e.uid)?this.profileDataService.flatGet(Le=>Le.where("uid","==",_e.uid).where("type","==","default")):(0,Ne.of)(void 0)])),(0,Dt.w)(([_e,Le,Xe])=>this.handleAuthChanged(_e,Le,Xe)),(0,Ht.K)(()=>(0,Ne.of)({nativeUser:void 0,data:void 0,publicData:void 0}))).subscribe(({nativeUser:_e,data:Le,publicData:Xe})=>{var ft,Pt,Wt;this.currentUser=_e,this.data=Le,this.publicData=Xe,this.uid=null===(ft=this.currentUser)||void 0===ft?void 0:ft.uid,this.username=null===(Pt=this.data)||void 0===Pt?void 0:Pt.username,this.role=this.getRole(null===(Wt=this.data)||void 0===Wt?void 0:Wt.claims),this.level=this.getLevel(this.role),this.onUserChanged.next(this.data)}),this}getRoleingRegistry(){return this.options.roleingRegistry||{}}getRoleing($){var ue;return null===(ue=this.options.roleingRegistry)||void 0===ue?void 0:ue[$]}getRankingRegistry(){return this.options.rankingRegistry||{}}getRanking($){var ue;return null===(ue=this.options.rankingRegistry)||void 0===ue?void 0:ue[$]}getBadgingRegistry(){return this.options.badgingRegistry||{}}getBadging($){var ue;return null===(ue=this.options.badgingRegistry)||void 0===ue?void 0:ue[$]}allowedLevel($){return this.level>=$}checkUsernameExists($){return this.profileDataService.exists($)}verifyEmail(){return this.currentUser&&this.data?this.data.emailVerified?(0,Be._)("Email already verified."):(0,Ue.D)(this.currentUser.sendEmailVerification()):(0,Be._)("No user.")}changeEmail($){console.log("TODO: ...")}changePhoneNumber($){console.log("TODO: ...")}changeUsername($){console.log("TODO: ...")}changePublicity($=!1){if(!this.currentUser||!this.data||!this.publicData)return(0,Be._)("No user.");const ue=$?Object.assign(Object.assign({},this.getPublicProfileProperties(this.data)),{status:"publish"}):Object.assign(Object.assign({},this.getCleanupPublicProfileProperties()),{status:"draft"});return $?this.publicData=Object.assign(Object.assign({},this.publicData),ue):(this.publicData.status="draft",Object.keys(ue).forEach(_e=>{var Le;this.databaseService.isTypeDelete(ue[_e])&&(null===(Le=this.publicData)||void 0===Le||delete Le[_e])})),this.profileDataService.update(this.publicData.id,ue)}updateSettings($){var ue;if(!this.currentUser||!this.data)return(0,Be._)("No user.");const _e=this.currentUser.uid;return this.data.settings=Object.assign(Object.assign({},null===(ue=this.data)||void 0===ue?void 0:ue.settings),$),this.userDataService.update(_e,{settings:this.data.settings})}updateAddresses($){var ue,_e;if(!this.currentUser||!this.data)return(0,Be._)("No user.");const Le=null===(ue=this.currentUser)||void 0===ue?void 0:ue.uid;return this.data.addresses=(null===(_e=this.data)||void 0===_e?void 0:_e.addresses)&&"string"!=typeof this.data.addresses?[...this.data.addresses,...$]:$,this.userDataService.update(Le,{addresses:this.data.addresses})}updatePublicly($){if(!this.currentUser||!this.data)return(0,Be._)("No user.");const ue=this.databaseService.getValueDelete(),_e=this.currentUser.uid,Le=this.data.username;let Xe={};return Object.keys($).forEach(ft=>{var Pt;if(this.data)if(!0===$[ft]){if(this.data.publicly=Object.assign(Object.assign({},this.data.publicly),{[ft]:!0}),this.publicData){const{email:Wt,phoneNumber:nn,additionalData:Je}=this.data;if("email"===ft)this.publicData.email=Wt,Xe=Object.assign(Object.assign({},Xe),{email:Wt});else if("phoneNumber"===ft)this.publicData.phoneNumber=nn,Xe=Object.assign(Object.assign({},Xe),{phoneNumber:nn});else if(null==Je?void 0:Je[ft]){const Nt=Je[ft];this.publicData.props=Object.assign(Object.assign({},this.publicData.props),{[ft]:Nt}),Xe=Object.assign(Object.assign({},Xe),{props:this.publicData.props})}}}else null===(Pt=this.data.publicly)||void 0===Pt||delete Pt[ft],this.publicData&&("email"===ft?(delete this.publicData.email,Xe=Object.assign(Object.assign({},Xe),{email:ue})):"phoneNumber"===ft?(delete this.publicData.phoneNumber,Xe=Object.assign(Object.assign({},Xe),{phoneNumber:ue})):this.publicData.props&&(delete this.publicData.props[ft],Xe=Object.assign(Object.assign({},Xe),{props:this.publicData.props&&Object.keys(this.publicData.props).length?this.publicData.props:ue})))}),(0,He.aj)([this.userDataService.update(_e,{publicly:this.data.publicly&&Object.keys(this.data.publicly).length?this.data.publicly:this.databaseService.getValueDelete()}),this.profileDataService.update(Le,Xe)])}updateAdditionalData($,ue){if(!this.currentUser||!this.data)return(0,Be._)("No user.");const _e=this.currentUser.uid;return this.data.additionalData=Object.assign(Object.assign({},this.data.additionalData),$),this.userDataService.update(_e,{additionalData:this.data.additionalData}).pipe((0,Dt.w)(()=>ue?this.updatePublicly(ue):(0,Ne.of)(void 0)))}updateProfile($){if(!this.currentUser||!this.data)return(0,Be._)("No user.");const ue=this.currentUser.uid,_e=this.data.username,{displayName:Le,photoURL:Xe,thumbnails:ft,coverPhoto:Pt,images:Wt,intro:nn,detail:Je,url:Nt}=$;let mt,Qt,un;return Le&&(mt=Object.assign(Object.assign({},mt),{displayName:Le}),Qt=Object.assign(Object.assign({},Qt),{title:Le}),un=Object.assign(Object.assign({},un),{displayName:Le})),Xe&&ft&&(mt=Object.assign(Object.assign({},mt),{photoURL:Xe}),Qt=Object.assign(Object.assign({},Qt),{thumbnails:Object.assign(Object.assign({},ft),{default:{name:"default",src:Xe}})}),un=Object.assign(Object.assign({},un),{photoURL:Xe})),Pt&&Wt&&(mt=Object.assign(Object.assign({},mt),{coverPhoto:Pt}),Qt=Object.assign(Object.assign({},Qt),{images:Object.assign(Object.assign({},Wt),{default:{name:"default",src:Pt}})})),nn&&(mt=Object.assign(Object.assign({},mt),{intro:nn}),Qt=Object.assign(Object.assign({},Qt),{description:nn})),Je&&(mt=Object.assign(Object.assign({},mt),{detail:Je}),Qt=Object.assign(Object.assign({},Qt),{content:Je})),Nt&&(mt=Object.assign(Object.assign({},mt),{url:Nt}),Qt=Object.assign(Object.assign({},Qt),{url:Nt})),this.data=Object.assign(Object.assign({},this.data),mt),this.publicData=Object.assign(Object.assign({},this.publicData),Qt),(0,He.aj)([un&&this.currentUser?(0,Ue.D)(this.currentUser.updateProfile(un)):(0,Ne.of)(void 0),mt?this.userDataService.update(ue,mt):(0,Ne.of)(void 0),Qt?this.profileDataService.update(_e,Qt):(0,Ne.of)(void 0)])}removeCoverPhoto(){if(!this.currentUser||!this.data||!this.publicData)return(0,Be._)("No user.");const $=this.currentUser.uid,ue=this.data.username,_e=this.databaseService.getValueDelete();return delete this.data.coverPhoto,delete this.publicData.images,(0,He.aj)([this.userDataService.update($,{coverPhoto:_e}),this.profileDataService.update(ue,{images:_e})])}getRole($={}){return $.role||"subscriber"}getLevel($){return"sadmin"===$?6:"admin"===$?5:"editor"===$?4:"author"===$?3:"contributor"===$?2:1}handleAuthChanged($,ue,_e){var Le,Xe;if(!$)return(0,Ne.of)({nativeUser:void 0,data:void 0,publicData:void 0});const Pt=(null===(Xe=null===(Le=this.authService.credential)||void 0===Le?void 0:Le.additionalUserInfo)||void 0===Xe?void 0:Xe.username)||($.email?$.email.split("@").shift():$.uid.substr(-7));return ue&&_e?this.proccessUserData($,ue).pipe((0,bt.U)(Wt=>({nativeUser:$,data:Wt,publicData:_e}))):this.profileDataService.exists(Pt).pipe((0,Dt.w)(Wt=>{const nn=$.uid,Je=(new Date).toISOString(),Nt={uid:nn,id:nn,title:nn,type:"default",status:"publish",createdAt:Je,updatedAt:Je,username:Wt?$.uid:Pt};return this.proccessUserData($,Nt).pipe((0,bt.U)(mt=>({initialUserDoc:Nt,userDoc:mt})))}),(0,Dt.w)(({initialUserDoc:Wt,userDoc:nn})=>this.profileInitializer($,nn).pipe((0,Dt.w)(Je=>this.userDataService.create($.uid,Wt).pipe((0,bt.U)(()=>Je))))))}profileInitializer($,ue){const{profilePublished:_e}=this.options,Xe=ue.username,Pt=ue.createdAt,Wt=Object.assign({uid:$.uid,id:Xe,title:_e?ue.displayName:Xe,type:"default",status:_e?"publish":"draft",createdAt:Pt,updatedAt:Pt,role:"subscriber"},_e?this.getPublicProfileProperties(ue):{});return this.profileDataService.create(Xe,Wt).pipe((0,bt.U)(()=>({nativeUser:$,data:ue,publicData:Wt})))}proccessUserData($,ue){return(0,Ue.D)($.getIdTokenResult()).pipe((0,bt.U)(_e=>{var Le,Xe,ft,Pt,Wt,nn,Je,Nt,mt;const Qt=!!(null===(Xe=null===(Le=this.authService.credential)||void 0===Le?void 0:Le.additionalUserInfo)||void 0===Xe?void 0:Xe.isNewUser);return Object.assign(Object.assign({},ue),{isAnonymous:null!==(ft=$.isAnonymous)&&void 0!==ft&&ft,isNew:Qt,emailVerified:null!==(Pt=$.emailVerified)&&void 0!==Pt&&Pt,uid:$.uid,email:null!==(Wt=$.email)&&void 0!==Wt?Wt:"",phoneNumber:null!==(nn=$.phoneNumber)&&void 0!==nn?nn:"",providerId:$.providerId,providerData:null!==(Je=$.providerData)&&void 0!==Je?Je:void 0,metadata:$.metadata,claims:_e.claims,displayName:null!==(Nt=$.displayName)&&void 0!==Nt?Nt:ue.username,photoURL:null!==(mt=$.photoURL)&&void 0!==mt?mt:`https://www.gravatar.com/avatar/${this.helperService.md5($.email||"user@lamnhan.com")}?d=retro`})}))}getPublicProfileProperties($){const ue={},{photoURL:_e,coverPhoto:Le,intro:Xe,detail:ft,url:Pt,email:Wt,phoneNumber:nn,additionalData:Je,publicly:Nt}=$;if(_e&&(ue.thumbnails={default:{name:"default",src:_e}}),Le&&(ue.images={default:{name:"default",src:Le}}),Xe&&(ue.description=Xe),ft&&(ue.content=ft),Pt&&(ue.url=Pt),Wt&&(null==Nt?void 0:Nt.email)&&(ue.email=Wt),nn&&(null==Nt?void 0:Nt.phoneNumber)&&(ue.phoneNumber=nn),Je){const mt={};Object.keys(Je).forEach(Qt=>!!(null==Nt?void 0:Nt[Qt])&&!!(mt[Qt]=Je[Qt])),ue.props=mt}return ue}getCleanupPublicProfileProperties(){const $={},ue=this.databaseService.getValueDelete();return $.thumbnails=ue,$.images=ue,$.description=ue,$.content=ue,$.url=ue,$.email=ue,$.phoneNumber=ue,$.props=ue,$}}return ct.\u0275fac=function($){return new($||ct)(n.LFG(jt),n.LFG(wn),n.LFG(Cn))},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),Si=(()=>{class ct{constructor($){this.helperService=$,this.options={},this.integrations={},this.driver="firebase",this.defaultFolder="app-content/uploads"}setOptions($){return this.options=$,$.driver&&(this.driver=$.driver),this}setIntegrations($){return this.integrations=$,this}init($){return this.service=$,this}getUploadFolder($){return $||this.options.uploadFolder||this.defaultFolder}ref($){return this.service.ref($)}delete($){return this.ref($).delete()}upload($,ue,_e={}){const{fileName:Le,fullPath:Xe,metadata:ft}=this.extractUploadInputs($,_e),Pt=this.ref(Xe),Wt=Pt.put(ue,ft);return{name:Le,fullPath:Xe,ref:Pt,task:Wt}}uploadFile($,ue,_e={}){return this.upload($,ue,_e)}uploadBlob($,ue,_e={}){return this.upload($,ue,_e)}vendorList($){return this.ref(this.getUploadFolder($)).listAll()}list($,ue){const _e=this.getUploadFolder(ue),Le=this.vendorList(_e).pipe((0,bt.U)(ft=>({folders:ft.prefixes.map(Pt=>Pt.fullPath),files:ft.items.map(Pt=>Pt.fullPath)}))),Xe=this.getCacheTime($);return Xe?this.integrations.cacheService.get(`storage/list/${this.helperService.md5(_e)}`,Le,Xe):Le}listDeep($,ue){const _e=this.getUploadFolder(ue),Le=new Fe.y(ft=>{const Pt=[],Wt=[],nn={},Je=Nt=>{nn[Nt]=!0,this.list($,Nt).subscribe(({folders:mt,files:Qt})=>{mt.forEach(un=>Je(un)),delete nn[Nt],(Qt.length||!Qt.length&&!this.options.listingIgnoreEmptyFolder)&&Pt.push(Nt),Wt.push(...Qt),!mt.length&&!Object.keys(nn).length&&(ft.next({folders:Pt,files:Wt}),ft.complete())})};Je(_e)}),Xe=this.getCacheTime($);return Xe?this.integrations.cacheService.get(`storage/list/${this.helperService.md5(`deep:${_e}`)}`,Le,Xe):Le}listFolders($,ue){return this.list($,ue).pipe((0,bt.U)(_e=>_e.folders))}listDeepFolders($,ue){return this.listDeep($,ue).pipe((0,bt.U)(_e=>_e.folders))}listFiles($,ue){return this.list($,ue).pipe((0,Dt.w)(_e=>_e.files.length?(0,He.aj)(_e.files.map(Le=>this.buildStorageItem(Le))):(0,Ne.of)([])))}listDeepFiles($,ue){return this.listDeep($,ue).pipe((0,Dt.w)(_e=>_e.files.length?(0,He.aj)(_e.files.map(Le=>this.buildStorageItem(Le))):(0,Ne.of)([])))}getFiles($,ue){const _e=$.length?(0,He.aj)($.map(Xe=>this.buildStorageItem(Xe))):(0,Ne.of)([]),Le=this.getCacheTime(ue);return Le?this.integrations.cacheService.get(`storage/list/${this.helperService.md5($.join(","))}`,_e,Le):_e}searchFiles($,ue,_e=10,Le=!1){const Xe=$.index.search(ue);return new si(this,$.index,_e,Xe,$.indexingKeys,Le)}getSearching($,ue){return this.listDeep($,ue).pipe((0,bt.U)(({files:_e})=>{const Le=new on.Index(this.options.flexsearchOptions);return _e.forEach((Xe,ft)=>{const Pt=Xe.split("/").pop().split(".").shift().replace(/\-|\_/g," ");Le.add(ft,Pt)}),{index:Le,indexingKeys:_e}}))}buildStorageItem($){const ue=this.ref($),_e={name:this.getFileName($),type:this.getFileType($),fullPath:$};return(0,He.aj)([ue.getDownloadURL(),ue.getMetadata()]).pipe((0,bt.U)(([Le,Xe])=>Object.assign(Object.assign({},_e),{downloadUrl:Le,metadata:Xe})))}readFileDataUrl($){return new Fe.y(ue=>{const _e=new FileReader;_e.onload=Le=>{ue.next(Le.target.result),ue.complete()},_e.readAsDataURL($)})}compressImage($,ue={}){const _e=new Promise((Le,Xe)=>new(pn())($,Object.assign(Object.assign({},Object.assign({quality:.6,mimeType:"auto"},ue)),{success:ft=>Le(ft),error:ft=>Xe(ft)})));return(0,Ue.D)(_e)}extractUploadInputs($,ue={}){const{uploadFolder:_e,noDateGrouping:Le,noRandomSuffix:Xe}=ue;if(!Xe&&this.options.randomSuffix){const nn=Math.random().toString(36).substring(7),Je=-1===$.indexOf(".")?null:$.split(".").pop();$=Je?$.replace(`.${Je}`,`-${nn}.${Je}`):`${$}-${nn}`}const ft=this.getUploadFolder(_e)+"/"+(Le||!this.options.dateGrouping?"":this.getDateGroupingPath()+"/")+$;return{fileName:ft.split("/").pop(),fullPath:ft,metadata:Object.assign({cacheControl:this.options.cacheControl||"private, max-age=2628000",customMetadata:this.options.customMetadata||{}},ue.metadata||{})}}getDateGroupingPath(){const $=new Date,ue=$.getFullYear(),_e=$.getMonth()+1;return ue+"/"+(_e>=10?_e:`0${_e}`)}getFileName($){return $.split("/").pop()}getFileType($){const ue=$.split(".").pop();return["png","jpg","jpeg","gif","webp"].indexOf(ue)>-1?"image":["mp3","wav","ogg","wma","m4a"].indexOf(ue)>-1?"audio":["mp4","avi","mov","wmv","mpg","mpeg","3gp","mkv"].indexOf(ue)>-1?"video":["doc","docx","xls","xlsx","ppt","pptx","pdf","txt","html","csv","xml","json"].indexOf(ue)>-1?"document":["zip","rar","tar","gz","7z","bz2"].indexOf(ue)>-1?"archive":"unknown"}getCacheTime($){return this.integrations.cacheService&&!1!==$&&((null==$?void 0:$.time)||this.options.listingCacheTime)||0}}return ct.\u0275fac=function($){return new($||ct)(n.LFG(jt))},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})();class si{constructor(lt,$,ue,_e,Le,Xe){this.storageService=lt,this.index=$,this.limit=ue,this.searchResult=_e,this.indexingKeys=Le,this.caching=Xe}count(){return this.searchResult.length}list(lt=1){const $=(lt-1)*this.limit,ue=this.searchResult.slice($,$+this.limit);return this.storageService.getFiles(ue.map(_e=>this.indexingKeys[_e]),this.caching)}}let Ri=(()=>{class ct{constructor(){this.authHandler=["login"],this.dashboardHandler=["login","guard","dashboard"],this.adminHandler=["login","guard","admin"],this.onlineHandler=[""]}setHandlers($){return $.auth&&(this.authHandler=$.auth),$.dashboard&&(this.dashboardHandler=$.dashboard),$.admin&&(this.adminHandler=$.admin),$.online&&(this.onlineHandler=$.online),this}init(){return this}}return ct.\u0275fac=function($){return new($||ct)},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),tr=(()=>{class ct{constructor(){}image($,ue){return wt.create(`<img src="${$}">`,ue)}video($,ue){return wt.create(`<video src="${$}" controls></video>`,ue)}iframe($,ue){return wt.create($,ue)}html($,ue){return wt.create($,ue)}template($,ue){return wt.create($,ue)}}return ct.\u0275fac=function($){return new($||ct)},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),rr=(()=>{class ct{constructor(){}alert($,ue,_e){const{message:Le,title:Xe,icon:ft,closable:Pt,closeText:Wt}=$,nn=[];nn.push('<div class="content">'),ft&&nn.push(`<p><img src="${ft}"></p>`),nn.push(`<p>${Le}</p>`),nn.push("</div>");const Je=[];Je.push(`<button id="close" class="button-primary">${Wt||"OK"}</button>`);const Nt=this.buildHtml($,nn.join(""),"",Je.join(""));return wt.create(Nt,{closable:Pt,onShow:mt=>{const Qt=mt.element();return Xe&&(Qt.querySelector(".head button").onclick=mt.close),Qt.querySelector(".foot button#close").onclick=mt.close,_e&&_e(mt),!0},onClose:mt=>(ue&&ue(mt),!0)})}confirm($,ue,_e){const{message:Le,title:Xe,icon:ft,closable:Pt,confirmText:Wt,closeText:nn}=$,Je=[];Je.push('<div class="content">'),ft&&Je.push(`<p><img src="${ft}"></p>`),Je.push(`<p>${Le}</p>`),Je.push("</div>");const Nt=[];Nt.push(`<button id="close" class="button">${nn||"Cancel"}</button>`);const mt=[];mt.push(`<button id="confirm" class="button-primary">${Wt||"Confirm"}</button>`);const Qt=this.buildHtml($,Je.join(""),Nt.join(""),mt.join(""));let un=!1;return wt.create(Qt,{closable:Pt,onShow:hn=>{const $n=hn.element();return Xe&&($n.querySelector(".head button").onclick=hn.close),$n.querySelector(".foot button#close").onclick=hn.close,$n.querySelector(".foot button#confirm").onclick=ui=>(un=!0,hn.close(ui)),_e&&_e(hn),!0},onClose:hn=>(ue&&ue(un,hn),!0)})}prompt($,ue,_e){const{message:Le,title:Xe,icon:ft,closable:Pt,confirmText:Wt,closeText:nn,inputType:Je="text",inputPlaceholder:Nt}=$,mt=$.inputValue||("number"===Je?0:""),Qt=[];Qt.push('<label class="content" for="input">'),ft&&Qt.push(`<p><img src="${ft}"></p>`),Qt.push(`<p>${Le}</p>`),Qt.push("</label>"),Qt.push("textarea"===Je?`<textarea id="input" class="form-control"${Nt?` placeholder="${Nt}"`:""}>${mt}</textarea>`:`<input id="input" class="form-control" type="${Je}" value="${mt}"${Nt?` placeholder="${Nt}"`:""}>`);const un=[];un.push(`<button id="close" class="button">${nn||"Cancel"}</button>`);const hn=[];hn.push(`<button id="confirm" class="button-primary">${Wt||"Confirm"}</button>`);const $n=this.buildHtml($,Qt.join(""),un.join(""),hn.join(""));let Xn="";return wt.create($n,{closable:Pt,onShow:Ci=>{const ui=Ci.element();return Xe&&(ui.querySelector(".head button").onclick=Ci.close),ui.querySelector(".foot button#close").onclick=Ci.close,ui.querySelector(".foot button#confirm").onclick=ar=>(Xn=ui.querySelector(".body #input").value,Ci.close(ar)),_e&&_e(Ci),!0},onClose:Ci=>(ue&&ue(Xn,Ci),!0)})}buildHtml($,ue,_e,Le){const{title:Xe,width:ft}=$,Pt=[];return Pt.push(`<div class="modal-alert"${ft?` style="width:${ft}px;"`:""}>`),Xe&&Pt.push(`\n        <div class="head">\n          <strong>${Xe}</strong>\n          <button class="button-clear">\xd7</button>\n        </div>\n      `),Pt.push('<div class="body">'),Pt.push(ue),Pt.push("</div>"),Pt.push('<div class="foot">'),Pt.push(`<div class="left">${_e}</div>`),Pt.push(`<div class="right">${Le}</div>`),Pt.push("</div>"),Pt.push("</div>"),Pt.join("")}}return ct.\u0275fac=function($){return new($||ct)},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),lr=(()=>{class ct{constructor($,ue,_e,Le){this.ngZone=$,this.guardService=ue,this.navService=_e,this.authService=Le}canActivate($,ue){return this.handler(ue.url)}canLoad($){return this.handler($.path)}handler($){return!!this.authService.authenticated||(this.authService.setRedirectUrl($),this.ngZone.run(()=>this.navService.navigate(this.guardService.authHandler)),!1)}}return ct.\u0275fac=function($){return new($||ct)(n.LFG(n.R0b),n.LFG(Ri),n.LFG(gn),n.LFG(Cn))},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),Yr=(()=>{class ct{constructor($,ue,_e,Le,Xe){this.ngZone=$,this.guardService=ue,this.navService=_e,this.authService=Le,this.userService=Xe}canActivate($,ue){return this.handler(ue.url)}canLoad($){return this.handler($.path)}handler($){return!!this.userService.allowedLevel(2)||(this.authService.setRedirectUrl($),this.ngZone.run(()=>this.navService.navigate(this.guardService.dashboardHandler)),!1)}}return ct.\u0275fac=function($){return new($||ct)(n.LFG(n.R0b),n.LFG(Ri),n.LFG(gn),n.LFG(Cn),n.LFG(wi))},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),ao=(()=>{class ct{constructor($,ue,_e,Le){this.ngZone=$,this.guardService=ue,this.navService=_e,this.networkService=Le}canActivate($,ue){return this.handler(ue.url)}canLoad($){return this.handler($.path)}handler($){return!!this.networkService.isOnline||(this.ngZone.run(()=>this.navService.navigate(this.guardService.onlineHandler)),!1)}}return ct.\u0275fac=function($){return new($||ct)(n.LFG(n.R0b),n.LFG(Ri),n.LFG(gn),n.LFG(ti))},ct.\u0275prov=n.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})()},8394:(Se,Ze,X)=>{"use strict";X.d(Ze,{hG:()=>Fi,K0:()=>tt,AN:()=>er,Hn:()=>ut,KI:()=>Gt,y4:()=>Fn,Ot:()=>Tn,Vn:()=>En});var n=X(5808),te=X.n(n),Oe=X(7393);class Fe{constructor(Ge,yt){this.count=Ge,this.source=yt}call(Ge,yt){return yt.subscribe(new Ue(Ge,this.count,this.source))}}class Ue extends Oe.L{constructor(Ge,yt,Bt){super(Ge),this.count=yt,this.source=Bt}error(Ge){if(!this.isStopped){const{source:yt,count:Bt}=this;if(0===Bt)return super.error(Ge);Bt>-1&&(this.count=Bt-1),yt.subscribe(this._unsubscribeAndRecycle())}}}var He=X(5257),Ne=X(8002),nt=X(8307),Be=X(5304),qe=X(7349),$e=X(3190),Qe=X(7716),Ot=X(5917),Zt=X(4402),_t=X(9765),Ae=X(6215),Mt=X(5758),ce=X(739),ve=X(9193);class Me{constructor(Ge){this.translations=Ge}getTranslation(Ge){return(0,Ot.of)(this.translations.get(Ge)||{})}}const tt=new Qe.OlP("TRANSLOCO_LOADER");function bt(st,Ge){return st&&st.hasOwnProperty(Ge)?st[Ge]:Ge.split(".").reduce((yt,Bt)=>yt&&yt[Bt],st)}function cn(st){return st?Array.isArray(st)?st.length:sn(st)?Object.keys(st).length:st?st.length:0:0}function Lt(st){return"string"==typeof st}function sn(st){return st&&"object"==typeof st&&!Array.isArray(st)}function wt(st){return st.replace(/(?:^\w|[A-Z]|\b\w)/g,(Ge,yt)=>0==yt?Ge.toLowerCase():Ge.toUpperCase()).replace(/\s+|_|-|\//g,"")}function gn(st){return null==st}function kn(st){return!1===gn(st)}function In(st){return st&&"string"==typeof st.scope}function pi(st){return te()(st,{safe:!0})}const Fi=new Qe.OlP("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>({})}),bi={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"]},zn=new Qe.OlP("TRANSLOCO_TRANSPILER"),er=new Qe.OlP("TRANSLOCO_MISSING_HANDLER");let fr=(()=>{class st{handle(yt,Bt){return Bt.missingHandler.logMissingKey&&!Bt.prodMode&&console.warn(`%c Missing translation for '${yt}'`,"font-size: 12px; color: red"),yt}}return st.\u0275fac=function(yt){return new(yt||st)},st.\u0275prov=Qe.Yz7({token:st,factory:st.\u0275fac}),st})();const Ji=new Qe.OlP("TRANSLOCO_INTERCEPTOR");let Or=(()=>{class st{preSaveTranslation(yt,Bt){return yt}preSaveTranslationKey(yt,Bt,Cn){return Bt}}return st.\u0275fac=function(yt){return new(yt||st)},st.\u0275prov=Qe.Yz7({token:st,factory:st.\u0275fac}),st})();const Qn=new Qe.OlP("TRANSLOCO_FALLBACK_STRATEGY");function pr(st){if(!st)return"";const Ge=st.split("/");return Ge.pop(),Ge.join("/")}function bn(st){return st?st.split("/").pop():""}function jt(st,Ge,yt="|"){if(Lt(st)){const Bt=st.split(yt),Cn=Bt.pop();return Cn===Ge?[!0,Bt.toString()]:[!1,Cn]}return[!1,""]}function tn(st,Ge){const[yt]=jt(Ge,"static");return!1===yt&&st.config.reRenderOnLangChange}function jn(st){return st?Ge=>Ge:(0,He.q)(1)}function It(st,Ge){return function(st){return st&&sn(st.loader)}(st)?function(st,Ge){return Object.keys(st).reduce((yt,Bt)=>(yt[`${Ge}/${Bt}`]=st[Bt],yt),{})}(st.loader,Ge):null}function vt(st){return{scope:pr(st)||null,langName:bn(st),lang:st}}function mn(st,Ge,yt,Bt){if(yt){if(!1===function(st){return"function"==typeof st}(yt[st]))throw`You're using an inline loader but didn't provide a loader for ${st}`;return yt[st]().then(wn=>wn.default?wn.default:wn)}return Ge.getTranslation(st,Bt)}let _n;class En{constructor(Ge,yt,Bt,Cn,wn,ei){this.loader=Ge,this.parser=yt,this.missingHandler=Bt,this.interceptor=Cn,this.userConfig=wn,this.fallbackStrategy=ei,this.translations=new Map,this.cache=new Map,this.firstFallbackLang=null,this.availableLangs=[],this.isResolvedMissingOnce=!1,this.events=new _t.xQ,this.events$=this.events.asObservable(),this.failedLangs=new Set,this.loader||(this.loader=new Me(this.translations)),_n=this,this.mergedConfig=function(st,Ge){return Object.assign({},st,Ge,{missingHandler:Object.assign({},st.missingHandler,Ge.missingHandler),flatten:Object.assign({},st.flatten,Ge.flatten)})}(bi,wn),this.setAvailableLangs(this.mergedConfig.availableLangs),this.setFallbackLangForMissingTranslation(this.mergedConfig),this.setDefaultLang(this.mergedConfig.defaultLang),this.lang=new Ae.X(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.subscription=this.events$.subscribe(Pi=>{if("translationLoadSuccess"===Pi.type&&Pi.wasFailure){const wi=bn(Pi.payload.lang);this.setActiveLang(wi)}})}get config(){return this.mergedConfig}getDefaultLang(){return this.defaultLang}setDefaultLang(Ge){this.defaultLang=Ge}getActiveLang(){return this.lang.getValue()}setActiveLang(Ge){return this.parser.onLangChanged&&this.parser.onLangChanged(Ge),this.lang.next(Ge),this}setAvailableLangs(Ge){this.availableLangs=Ge}getAvailableLangs(){return this.availableLangs}load(Ge,yt={}){if(!1===this.cache.has(Ge)){let Bt;const Cn=this._isLangScoped(Ge),wn=Cn?pr(Ge):null;if(this.useFallbackTranslation(Ge)){const wi=function(st,Ge,yt,Bt,Cn){return[st,Ge].map(wn=>{const ei=mn(wn,yt,Bt,Cn);return(0,Zt.D)(ei).pipe((0,Ne.U)(Pi=>({translation:Pi,lang:wn})))})}(Ge,Cn?`${wn}/${this.firstFallbackLang}`:this.firstFallbackLang,this.loader,yt.inlineLoader,{scope:wn});Bt=(0,Mt.D)(wi)}else{const Pi=mn(Ge,this.loader,yt.inlineLoader,{scope:wn});Bt=(0,Zt.D)(Pi)}const ei=Bt.pipe(function(st=-1){return Ge=>Ge.lift(new Fe(st,Ge))}(this.config.failedRetries),(0,nt.b)(Pi=>{Array.isArray(Pi)?Pi.forEach(wi=>{this.handleSuccess(wi.lang,wi.translation),wi.lang!==Ge&&this.cache.set(wi.lang,(0,Ot.of)({}))}):this.handleSuccess(Ge,Pi)}),(0,Be.K)(()=>this.handleFailure(Ge,yt)),(0,qe.d)(1));this.cache.set(Ge,ei)}return this.cache.get(Ge)}translate(Ge,yt={},Bt=this.getActiveLang()){if(!Ge)return Ge;const{scope:Cn,resolveLang:wn}=this.resolveLangAndScope(Bt);if(Array.isArray(Ge))return Ge.map(wi=>this.translate(Cn?`${Cn}.${wi}`:wi,yt,wn));Ge=Cn?`${Cn}.${Ge}`:Ge;const ei=this.getTranslation(wn),Pi=ei[Ge];return Pi?this.parser.transpile(Pi,yt,ei):this._handleMissingKey(Ge,Pi,yt)}selectTranslate(Ge,yt,Bt,Cn=!1){let wn=null;const ei=(wi,Si)=>this.load(wi,Si).pipe((0,Ne.U)(()=>Cn?this.translateObject(Ge,yt,wi):this.translate(Ge,yt,wi)));if(gn(Bt))return this.langChanges$.pipe((0,$e.w)(wi=>ei(wi)));if(In(Bt)){const wi=Bt;Bt=wi.scope,wn=It(wi,wi.scope)}if(this.isLang(Bt=Bt)||this.isScopeWithLang(Bt))return ei(Bt);const Pi=Bt;return this.langChanges$.pipe((0,$e.w)(wi=>ei(`${Pi}/${wi}`,{inlineLoader:wn})))}isScopeWithLang(Ge){return this.isLang(bn(Ge))}translateObject(Ge,yt,Bt=this.getActiveLang()){if(Lt(Ge)||Array.isArray(Ge)){if(Array.isArray(Ge))return Ge.map(Si=>this.translateObject(ei?`${ei}.${Si}`:Si,yt,wn));const{resolveLang:wn,scope:ei}=this.resolveLangAndScope(Bt),Pi=this.getTranslation(wn),wi=(st=this.getObjectByKey(Pi,Ge=ei?`${ei}.${Ge}`:Ge),te().unflatten(st,{safe:!0}));return function(st){return 0===cn(st)}(wi)?this.translate(Ge,yt,Bt):this.parser.transpile(wi,yt,Pi)}var st;const Cn=[];for(const[wn,ei]of this.getEntries(Ge))Cn.push(this.translateObject(wn,ei,Bt));return Cn}selectTranslateObject(Ge,yt,Bt){if(Lt(Ge)||Array.isArray(Ge))return this.selectTranslate(Ge,yt,Bt,!0);const[[Cn,wn],...ei]=this.getEntries(Ge);return this.selectTranslateObject(Cn,wn,Bt).pipe((0,Ne.U)(Pi=>{const wi=[Pi];for(const[Si,si]of ei)wi.push(this.translateObject(Si,si,Bt));return wi}))}getTranslation(Ge){if(Ge){if(this.isLang(Ge))return this.translations.get(Ge)||{};{const{scope:yt,resolveLang:Bt}=this.resolveLangAndScope(Ge),Cn=this.translations.get(Bt)||{};return this.getObjectByKey(Cn,yt)}}return this.translations}selectTranslation(Ge){let yt=this.langChanges$;if(Ge){const Bt=bn(Ge)!==Ge;yt=this.isLang(Ge)||Bt?(0,Ot.of)(Ge):this.langChanges$.pipe((0,Ne.U)(Cn=>`${Ge}/${Cn}`))}return yt.pipe((0,$e.w)(Bt=>this.load(Bt).pipe((0,Ne.U)(()=>this.getTranslation(Bt)))))}setTranslation(Ge,yt=this.getActiveLang(),Bt={}){const wn=Object.assign({},{merge:!0,emitChange:!0},Bt),ei=pr(yt);let Pi=Ge;ei&&(Pi=pi({[this.getMappedScope(ei)]:Ge}));const wi=ei?bn(yt):yt,Si=Object.assign({},wn.merge&&this.getTranslation(wi),Pi),si=this.mergedConfig.flatten.aot?Si:pi(Si),Ri=this.interceptor.preSaveTranslation(si,wi);this.translations.set(wi,Ri),wn.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(Ge,yt,Bt=this.getActiveLang(),Cn={}){const wn=this.interceptor.preSaveTranslationKey(Ge,yt,Bt);this.setTranslation({[Ge]:wn},Bt,Object.assign({},Cn,{merge:!0}))}setFallbackLangForMissingTranslation({fallbackLang:Ge}){const yt=Array.isArray(Ge)?Ge[0]:Ge;this.useFallbackTranslation(yt)&&Ge&&(this.firstFallbackLang=yt)}_handleMissingKey(Ge,yt,Bt){if(this.config.missingHandler.allowEmpty&&""===yt)return"";if(this.useFallbackTranslation()&&!this.isResolvedMissingOnce){this.isResolvedMissingOnce=!0;const Cn=this.translate(Ge,Bt,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,Cn}return this.missingHandler.handle(Ge,this.getMissingHandlerData(),Bt)}_isLangScoped(Ge){return-1===this.getAvailableLangsIds().indexOf(Ge)}isLang(Ge){return-1!==this.getAvailableLangsIds().indexOf(Ge)}_loadDependencies(Ge,yt){const Bt=bn(Ge);return this._isLangScoped(Ge)&&!this.isLoadedTranslation(Bt)?(0,ce.aj)(this.load(Bt),this.load(Ge,{inlineLoader:yt})):this.load(Ge,{inlineLoader:yt})}_completeScopeWithLang(Ge){return this._isLangScoped(Ge)&&!this.isLang(bn(Ge))?`${Ge}/${this.getActiveLang()}`:Ge}_setScopeAlias(Ge,yt){this.mergedConfig.scopeMapping||(this.mergedConfig.scopeMapping={}),this.mergedConfig.scopeMapping[Ge]=yt}ngOnDestroy(){this.subscription.unsubscribe(),this.cache.clear()}isLoadedTranslation(Ge){return cn(this.getTranslation(Ge))}getAvailableLangsIds(){return Lt(this.getAvailableLangs()[0])?this.getAvailableLangs():this.getAvailableLangs().map(yt=>yt.id)}getMissingHandlerData(){return Object.assign({},this.config,{activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang})}useFallbackTranslation(Ge){return this.config.missingHandler.useFallbackTranslation&&Ge!==this.firstFallbackLang}handleSuccess(Ge,yt){this.setTranslation(yt,Ge,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:vt(Ge)}),this.failedLangs.forEach(Bt=>this.cache.delete(Bt)),this.failedLangs.clear()}handleFailure(Ge,yt){gn(yt.failedCounter)&&(yt.failedCounter=0,yt.fallbackLangs||(yt.fallbackLangs=this.fallbackStrategy.getNextLangs(Ge)));const Bt=Ge.split("/"),wn=yt.fallbackLangs[yt.failedCounter];if(this.failedLangs.add(Ge),this.cache.has(wn))return this.handleSuccess(wn,this.getTranslation(wn)),ve.E;if(!wn||wn===Bt[Bt.length-1]){let wi="Unable to load translation and all the fallback languages";throw Bt.length>1&&(wi+=", did you misspelled the scope name?"),new Error(wi)}let Pi=wn;return Bt.length>1&&(Bt[Bt.length-1]=wn,Pi=Bt.join("/")),yt.failedCounter++,this.events.next({type:"translationLoadFailure",payload:vt(Ge)}),this.load(Pi,yt)}getMappedScope(Ge){const{scopeMapping:yt={}}=this.config;return yt[Ge]||wt(Ge)}resolveLangAndScope(Ge){let Bt,yt=Ge;if(this._isLangScoped(Ge)){const Cn=bn(Ge),wn=this.isLang(Cn);yt=wn?Cn:this.getActiveLang(),Bt=this.getMappedScope(wn?pr(Ge):Ge)}return{scope:Bt,resolveLang:yt}}getObjectByKey(Ge,yt){const Bt={},Cn=`${yt}.`;for(const wn in Ge)wn.startsWith(Cn)&&(Bt[wn.replace(Cn,"")]=Ge[wn]);return Bt}getEntries(Ge){return Ge instanceof Map?Ge.entries():Object.entries(Ge)}}En.\u0275fac=function(Ge){return new(Ge||En)(Qe.LFG(tt,8),Qe.LFG(zn),Qe.LFG(er),Qe.LFG(Ji),Qe.LFG(Fi),Qe.LFG(Qn))},En.\u0275prov=Qe.Yz7({token:En,factory:En.\u0275fac,providedIn:"root"}),En.ngInjectableDef=(0,Qe.Ez6)({factory:function(){return new En((0,Qe.f3M)(tt,8),(0,Qe.f3M)(zn),(0,Qe.f3M)(er),(0,Qe.f3M)(Ji),(0,Qe.f3M)(Fi),(0,Qe.f3M)(Qn))},token:En,providedIn:"root"});let Jn=(()=>{class st{}return st.\u0275fac=function(yt){return new(yt||st)},st.\u0275cmp=Qe.Xpm({type:st,selectors:[["ng-component"]],inputs:{html:"html"},decls:1,vars:1,consts:[[1,"transloco-loader-template",3,"innerHTML"]],template:function(yt,Bt){1&yt&&Qe._UZ(0,"div",0),2&yt&&Qe.Q6J("innerHTML",Bt.html,Qe.oJD)},encapsulation:2}),st})();class Yn{constructor(Ge,yt){this.view=Ge,this.vcr=yt,this.injector=this.vcr.injector}attachView(){if(this.view instanceof Qe.Rgc)this.vcr.createEmbeddedView(this.view);else if(Lt(this.view)){const Ge=this.createComponent(Jn);Ge.instance.html=this.view,Ge.hostView.detectChanges()}else this.createComponent(this.view)}detachView(){this.vcr.clear()}createComponent(Ge){const Bt=this.injector.get(Qe._Vd).resolveComponentFactory(Ge);return this.vcr.createComponent(Bt)}}const ii=new Qe.OlP("TRANSLOCO_LANG"),Rt=new Qe.OlP("TRANSLOCO_LOADING_TEMPLATE"),ut=new Qe.OlP("TRANSLOCO_SCOPE");class $t{constructor(){this.initialized=!1}resolve({inline:Ge,provider:yt,active:Bt}={inline:void 0,provider:void 0,active:void 0}){let Cn=Bt;if(this.initialized)return Cn=Bt,Cn;if(yt){const[wn,ei]=jt(yt,"static");Cn=ei}if(Ge){const[wn,ei]=jt(Ge,"static");Cn=ei}return this.initialized=!0,Cn}resolveLangBasedOnScope(Ge){return pr(Ge)?bn(Ge):Ge}resolveLangPath(Ge,yt){return yt?`${yt}/${Ge}`:Ge}}class zt{constructor(Ge){this.translocoService=Ge}resolve({inline:Ge,provider:yt}={inline:void 0,provider:void 0}){if(Ge)return Ge;if(yt){if(In(yt)){const{scope:Bt,alias:Cn=wt(Bt)}=yt;return this.translocoService._setScopeAlias(Bt,Cn),Bt}return yt}}}let Gt=(()=>{class st{constructor(yt,Bt,Cn,wn,ei,Pi,wi,Si){this.translocoService=yt,this.tpl=Bt,this.providerScope=Cn,this.providerLang=wn,this.providedLoadingTpl=ei,this.vcr=Pi,this.cdr=wi,this.host=Si,this.translationMemo={},this.params={},this.loaderTplHandler=null,this.initialized=!1,this.langResolver=new $t,this.scopeResolver=new zt(this.translocoService)}ngOnInit(){const yt=tn(this.translocoService,this.providerLang||this.inlineLang);this.subscription=this.translocoService.langChanges$.pipe((0,$e.w)(Cn=>{const wn=this.langResolver.resolve({inline:this.inlineLang,provider:this.providerLang,active:Cn});return Array.isArray(this.providerScope)?(0,Mt.D)(this.providerScope.map(ei=>this.resolveScope(wn,ei))):this.resolveScope(wn,this.providerScope)}),jn(yt)).subscribe(()=>{this.currentLang=this.langResolver.resolveLangBasedOnScope(this.path),null===this.tpl?this.simpleStrategy():this.structuralStrategy(this.currentLang,this.inlineRead),this.cdr.markForCheck(),this.initialized=!0});const Bt=this.getLoadingTpl();!this.initialized&&Bt&&(this.loaderTplHandler=new Yn(Bt,this.vcr),this.loaderTplHandler.attachView())}ngOnChanges(yt){Object.keys(yt).some(Cn=>!1===yt[Cn].firstChange)&&this.simpleStrategy()}simpleStrategy(){this.detachLoader(),this.host.nativeElement.innerText=this.translocoService.translate(this.key,this.params,this.currentLang)}structuralStrategy(yt,Bt){this.translationMemo={},this.view?(this.view.context.$implicit=this.getTranslateFn(yt,Bt),this.view.context.currentLang=this.currentLang):(this.detachLoader(),this.view=this.vcr.createEmbeddedView(this.tpl,{$implicit:this.getTranslateFn(yt,Bt),currentLang:this.currentLang}))}getTranslateFn(yt,Bt){return(Cn,wn)=>{const ei=Bt?`${Bt}.${Cn}`:Cn,Pi=wn?`${ei}${JSON.stringify(wn)}`:ei;return this.translationMemo.hasOwnProperty(Pi)||(this.translationMemo[Pi]={params:wn,value:this.translocoService.translate(ei,wn,yt)}),this.translationMemo[Pi].value}}getLoadingTpl(){return this.inlineTpl||this.providedLoadingTpl}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}detachLoader(){this.loaderTplHandler&&this.loaderTplHandler.detachView()}resolveScope(yt,Bt){let Cn=this.scopeResolver.resolve({inline:this.inlineScope,provider:Bt});this.path=this.langResolver.resolveLangPath(yt,Cn);const wn=It(Bt,Cn);return this.translocoService._loadDependencies(this.path,wn)}}return st.\u0275fac=function(yt){return new(yt||st)(Qe.Y36(En),Qe.Y36(Qe.Rgc,8),Qe.Y36(ut,8),Qe.Y36(ii,8),Qe.Y36(Rt,8),Qe.Y36(Qe.s_b),Qe.Y36(Qe.sBO),Qe.Y36(Qe.SBq))},st.\u0275dir=Qe.lG2({type:st,selectors:[["","transloco",""]],inputs:{params:["translocoParams","params"],key:["transloco","key"],inlineScope:["translocoScope","inlineScope"],inlineRead:["translocoRead","inlineRead"],inlineLang:["translocoLang","inlineLang"],inlineTpl:["translocoLoadingTpl","inlineTpl"]},features:[Qe.TTD]}),st})(),Tn=(()=>{class st{constructor(yt,Bt,Cn,wn){this.translocoService=yt,this.providerScope=Bt,this.providerLang=Cn,this.cdr=wn,this.subscription=null,this.lastValue="",this.langResolver=new $t,this.scopeResolver=new zt(this.translocoService),this.listenToLangChange=tn(this.translocoService,this.providerLang)}transform(yt,Bt,Cn){if(!yt)return yt;const wn=Bt?`${yt}${JSON.stringify(Bt)}`:yt;return wn===this.lastKey||(this.lastKey=wn,this.subscription&&this.subscription.unsubscribe(),this.subscription=this.translocoService.langChanges$.pipe((0,$e.w)(ei=>{const Pi=this.langResolver.resolve({inline:Cn,provider:this.providerLang,active:ei});return Array.isArray(this.providerScope)?(0,Mt.D)(this.providerScope.map(wi=>this.resolveScope(Pi,wi))):this.resolveScope(Pi,this.providerScope)}),jn(this.listenToLangChange)).subscribe(()=>this.updateValue(yt,Bt))),this.lastValue}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateValue(yt,Bt){const Cn=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.translocoService.translate(yt,Bt,Cn),this.cdr.markForCheck()}resolveScope(yt,Bt){let Cn=this.scopeResolver.resolve({inline:void 0,provider:Bt});this.path=this.langResolver.resolveLangPath(yt,Cn);const wn=It(Bt,Cn);return this.translocoService._loadDependencies(this.path,wn)}}return st.\u0275fac=function(yt){return new(yt||st)(Qe.Y36(En,16),Qe.Y36(ut,24),Qe.Y36(ii,24),Qe.Y36(Qe.sBO,16))},st.\u0275pipe=Qe.Yjl({name:"transloco",type:st,pure:!1}),st})();const ti=[{provide:zn,useClass:class{constructor(Ge){this.interpolationMatcher=function(st){const[Ge,yt]=st&&st.interpolation?st.interpolation:bi.interpolation;return new RegExp(`${Ge}(.*?)${yt}`,"g")}(Ge)}transpile(Ge,yt={},Bt){return Lt(Ge)?Ge.replace(this.interpolationMatcher,(Cn,wn)=>(wn=wn.trim(),kn(yt[wn])?yt[wn]:kn(Bt[wn])?this.transpile(Bt[wn],yt,Bt):"")):(yt&&(sn(Ge)?Ge=this.handleObject(Ge,yt,Bt):Array.isArray(Ge)&&(Ge=this.handleArray(Ge,yt,Bt))),Ge)}handleObject(Ge,yt={},Bt){let Cn=Ge;return Object.keys(yt).forEach(wn=>{const ei=bt(Cn,wn),Pi=bt(yt,wn),wi=this.transpile(ei,Pi,Bt);Cn=function(st,Ge,yt){st=Object.assign({},st);const Bt=Ge.split("."),Cn=Bt.length-1;return Bt.reduce((wn,ei,Pi)=>(wn[ei]=Pi===Cn?yt:Array.isArray(wn[ei])?wn[ei].slice():Object.assign({},wn[ei]),wn&&wn[ei]),st),st}(Cn,wn,wi)}),Cn}handleArray(Ge,yt={},Bt){return Ge.map(Cn=>this.transpile(Cn,yt,Bt))}},deps:[Fi]},{provide:er,useClass:fr},{provide:Ji,useClass:Or},{provide:Qn,useClass:class{constructor(Ge){this.userConfig=Ge}getNextLangs(Ge){const yt=this.userConfig.fallbackLang;if(!yt)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(yt)?yt:[yt]}},deps:[Fi]}];let Fn=(()=>{class st{}return st.\u0275fac=function(yt){return new(yt||st)},st.\u0275mod=Qe.oAB({type:st}),st.\u0275inj=Qe.cJS({providers:[ti]}),st})();new Qe.OlP("TRANSLOCO_TEST_LANGS - Available testing languages"),new Qe.OlP("TRANSLOCO_TEST_OPTIONS - Testing options")},425:(Se,Ze,X)=>{"use strict";X.d(Ze,{aU:()=>_s,$l:()=>Qr,ZM:()=>Ts,yh:()=>gr});var n=X(7716),te=X(8229);function Oe(ot,an){return ot===an}function we(ot,an,Et){if(null===an||null===Et||an.length!==Et.length)return!1;const Xt=an.length;for(let Bn=0;Bn<Xt;Bn++)if(!ot(an[Bn],Et[Bn]))return!1;return!0}function Fe(ot,an=Oe){let Et=null,Xt=null;function Bn(){return we(an,Et,arguments)||(Xt=ot.apply(null,arguments)),Et=arguments,Xt}return Bn.reset=function(){Et=null,Xt=null},Bn}const He=Fe(function(){const ot=(0,n.XfM)();if(!ot)return!1;const an=ot.injector.get(n.QSY,null);return!!an&&an.some(Xt=>(Xt&&Xt.providers||[]).some(oi=>oi&&oi.provide&&"MockNgModuleResolver"===oi.provide.name||!1))});let Ne=(()=>{class ot{constructor(){this.bootstrap$=new te.t(1)}get appBootstrapped$(){return this.bootstrap$.asObservable()}bootstrap(){this.bootstrap$.next(!0),this.bootstrap$.complete()}}return ot.\u0275fac=function(Et){return new(Et||ot)},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const nt=new n.OlP("INITIAL_STATE_TOKEN");let Be=(()=>{class ot{static set(Et){this.value=Et}static pop(){const Et=this.value;return this.value={},Et}}return ot.value={},ot})();const qe=new n.OlP("Internals.StateContextFactory"),$e=new n.OlP("Internals.StateFactory");var Qe=X(8583),Ot=X(8891),Zt=X(9765),_t=X(6215),Ae=X(5917),Mt=X(5758),ce=X(205),ve=X(9193),Me=X(4402),tt=X(8002),bt=X(5345);function Dt(ot,an){return an?Et=>Et.pipe(Dt((Xt,Bn)=>(0,Me.D)(ot(Xt,Bn)).pipe((0,tt.U)((oi,Gi)=>an(Xt,oi,Bn,Gi))))):Et=>Et.lift(new cn(ot))}class cn{constructor(an){this.project=an}call(an,Et){return Et.subscribe(new gt(an,this.project))}}class gt extends bt.Ds{constructor(an,Et){super(an),this.project=Et,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(an){this.hasSubscription||this.tryNext(an)}tryNext(an){let Et;const Xt=this.index++;try{Et=this.project(an,Xt)}catch(Bn){return void this.destination.error(Bn)}this.hasSubscription=!0,this._innerSub(Et)}_innerSub(an){const Et=new bt.IY(this),Xt=this.destination;Xt.add(Et);const Bn=(0,bt.ft)(an,Et);Bn!==Et&&Xt.add(Bn)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(an){this.destination.next(an)}notifyError(an){this.destination.error(an)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function Ht(ot){return an=>an.lift(new Lt(ot))}class Lt{constructor(an){this.notifier=an}call(an,Et){const Xt=new on(an),Bn=(0,bt.ft)(this.notifier,new bt.IY(Xt));return Bn&&!Xt.seenValue?(Xt.add(Bn),Et.subscribe(Xt)):Xt}}class on extends bt.Ds{constructor(an){super(an),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var sn=X(5435),pn=X(7349),wt=X(5257),Yt=X(9773),gn=X(5242),kn=X(5304),Zn=X(8307),In=X(7519);const ni={STATE_NAME:ot=>`${ot} is not a valid state name. It needs to be a valid object property name.`,STATE_NAME_PROPERTY:()=>"States must register a 'name' property",STATE_UNIQUE:(ot,an,Et)=>`State name '${ot}' from ${an} already exists in ${Et}`,STATE_DECORATOR:()=>"States must be decorated with @State() decorator",INCORRECT_PRODUCTION:()=>"Angular is running in production mode but NGXS is still running in the development mode!\nPlease set developmentMode to false on the NgxsModule options when in production mode.\nNgxsModule.forRoot(states, { developmentMode: !environment.production })",INCORRECT_DEVELOPMENT:()=>"RECOMMENDATION: Set developmentMode to true on the NgxsModule when Angular is running in development mode.\nNgxsModule.forRoot(states, { developmentMode: !environment.production })",SELECT_FACTORY_NOT_CONNECTED:()=>"You have forgotten to import the NGXS module!",ACTION_DECORATOR:()=>"@Action() decorator cannot be used with static methods",SELECTOR_DECORATOR:()=>"Selectors only work on methods",ZONE_WARNING:()=>"Your application was bootstrapped with nooped zone and your execution strategy requires an actual NgZone!\nPlease set the value of the executionStrategy property to NoopNgxsExecutionStrategy.\nNgxsModule.forRoot(states, { executionStrategy: NoopNgxsExecutionStrategy })",PATCHING_ARRAY:()=>"Patching arrays is not supported.",PATCHING_PRIMITIVE:()=>"Patching primitives is not supported.",UNDECORATED_STATE_IN_IVY:ot=>`'${ot}' class should be decorated with @Injectable() right after the @State() decorator`};let pi=(()=>{class ot{constructor(Et,Xt){this._ngZone=Et,this._platformId=Xt,this.verifyZoneIsNotNooped(this._ngZone)}enter(Et){return(0,Qe.PM)(this._platformId)?this.runInsideAngular(Et):this.runOutsideAngular(Et)}leave(Et){return this.runInsideAngular(Et)}runInsideAngular(Et){return n.R0b.isInAngularZone()?Et():this._ngZone.run(Et)}runOutsideAngular(Et){return n.R0b.isInAngularZone()?this._ngZone.runOutsideAngular(Et):Et()}verifyZoneIsNotNooped(Et){Et instanceof n.R0b||console.warn(ni.ZONE_WARNING())}}return ot.\u0275fac=function(Et){return new(Et||ot)(n.LFG(n.R0b),n.LFG(n.Lbi))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const Fi=new n.OlP("ROOT_STATE_TOKEN"),bi=new n.OlP("FEATURE_STATE_TOKEN"),fi=new n.OlP("NGXS_PLUGINS"),ri=new n.OlP("NG_TEST_MODE"),zn=new n.OlP("NG_DEV_MODE"),Un="NGXS_META",_i="NGXS_OPTIONS_META";let ji=(()=>{class ot{constructor(){this.defaultsState={},this.selectorOptions={injectContainerState:!0,suppressErrors:!0},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=pi}}return ot.\u0275fac=function(Et){return new(Et||ot)},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class Or{constructor(an,Et,Xt){this.previousValue=an,this.currentValue=Et,this.firstChange=Xt}}const pr=new n.OlP("NGXS_EXECUTION_STRATEGY");function jt(ot){return ot.constructor&&ot.constructor.type?ot.constructor.type:ot.type}const jn=(ot,an,Et)=>{ot=Object.assign({},ot);const Xt=an.split("."),Bn=Xt.length-1;return Xt.reduce((oi,Gi,nr)=>(oi[Gi]=nr===Bn?Et:Array.isArray(oi[Gi])?oi[Gi].slice():Object.assign({},oi[Gi]),oi&&oi[Gi]),ot),ot},Ve=(ot,an)=>an.split(".").reduce((Et,Xt)=>Et&&Et[Xt],ot),It=ot=>ot&&"object"==typeof ot&&!Array.isArray(ot),vt=(ot,...an)=>{if(!an.length)return ot;const Et=an.shift();if(It(ot)&&It(Et))for(const Xt in Et)It(Et[Xt])?(ot[Xt]||Object.assign(ot,{[Xt]:{}}),vt(ot[Xt],Et[Xt])):Object.assign(ot,{[Xt]:Et[Xt]});return vt(ot,...an)};function ut(ot){if(!ot.hasOwnProperty(Un)){const an={name:null,actions:{},defaults:{},path:null,makeRootSelector:Et=>Et.getStateGetter(an.name),children:[]};Object.defineProperty(ot,Un,{value:an})}return $t(ot)}function $t(ot){return ot[Un]}function pt(ot,an){const Et=Ve(an.currentAppState,ot.path),Xt=Ve(an.newAppState,ot.path);return new Or(Et,Xt,!ot.isInitialised)}function Ge(...ot){return function(ot,an,Et=Si){const Xt=function(ot){return ot.reduce((an,Et)=>(an[jt(Et)]=!0,an),{})}(ot),Bn=an&&function(ot){return ot.reduce((an,Et)=>(an[Et]=!0,an),{})}(an);return function(oi){return oi.pipe(function(ot,an){return(0,sn.h)(Et=>{const Xt=jt(Et.action);return ot[Xt]&&(!an||an[Et.status])})}(Xt,Bn),Et())}}(ot,["DISPATCHED"])}function Si(){return(0,tt.U)(ot=>ot.action)}function rr(ot){return an=>new Ot.y(Et=>an.subscribe({next(Xt){ot.leave(()=>Et.next(Xt))},error(Xt){ot.leave(()=>Et.error(Xt))},complete(){ot.leave(()=>Et.complete())}}))}let Vi=(()=>{class ot{constructor(Et){this._executionStrategy=Et}enter(Et){return this._executionStrategy.enter(Et)}leave(Et){return this._executionStrategy.leave(Et)}}return ot.\u0275fac=function(Et){return new(Et||ot)(n.LFG(pr))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class Ur extends Zt.xQ{constructor(){super(...arguments),this._itemQueue=[],this._busyPushingNext=!1}next(an){if(this._busyPushingNext)this._itemQueue.unshift(an);else{for(this._busyPushingNext=!0,super.next(an);this._itemQueue.length>0;){const Et=this._itemQueue.pop();super.next(Et)}this._busyPushingNext=!1}}}let ao=(()=>{class ot extends Ur{}return ot.\u0275fac=function(){let an;return function(Xt){return(an||(an=n.n5z(ot)))(Xt||ot)}}(),ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),ct=(()=>{class ot extends Ot.y{constructor(Et,Xt){super(Bn=>{const oi=Et.pipe(rr(Xt)).subscribe({next:Gi=>Bn.next(Gi),error:Gi=>Bn.error(Gi),complete:()=>Bn.complete()});Bn.add(oi)})}}return ot.\u0275fac=function(Et){return new(Et||ot)(n.LFG(ao),n.LFG(Vi))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const lt=ot=>(...an)=>ot.shift()(...an,(...Xt)=>lt(ot)(...Xt));let $=(()=>{class ot extends _t.X{constructor(){super({})}}return ot.\u0275fac=function(Et){return new(Et||ot)},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),ue=(()=>{class ot{constructor(Et,Xt){this._parentManager=Et,this._pluginHandlers=Xt,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){const Et=this.getPluginHandlers();this.rootPlugins.push(...Et)}getPluginHandlers(){return(this._pluginHandlers||[]).map(Xt=>Xt.handle?Xt.handle.bind(Xt):Xt)}}return ot.\u0275fac=function(Et){return new(Et||ot)(n.LFG(ot,12),n.LFG(fi,8))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),_e=(()=>{class ot extends Zt.xQ{}return ot.\u0275fac=function(){let an;return function(Xt){return(an||(an=n.n5z(ot)))(Xt||ot)}}(),ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),Le=(()=>{class ot{constructor(Et,Xt,Bn,oi,Gi,nr){this._injector=Et,this._actions=Xt,this._actionResults=Bn,this._pluginManager=oi,this._stateStream=Gi,this._ngxsExecutionStrategy=nr}dispatch(Et){const Xt=this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(Et));return Xt.subscribe({error:Bn=>this._ngxsExecutionStrategy.leave(()=>{try{this._errorHandler=this._errorHandler||this._injector.get(n.qLn),this._errorHandler.handleError(Bn)}catch(oi){}})}),Xt.pipe(rr(this._ngxsExecutionStrategy))}dispatchByEvents(Et){return Array.isArray(Et)?0===Et.length?(0,Ae.of)(this._stateStream.getValue()):(0,Mt.D)(Et.map(Xt=>this.dispatchSingle(Xt))):this.dispatchSingle(Et)}dispatchSingle(Et){if(!jt(Et)){const Gi=new Error(`This action doesn't have a type property: ${Et.constructor.name}`);return(0,ce._)(Gi)}const Bn=this._stateStream.getValue();return lt([...this._pluginManager.plugins,(Gi,nr)=>{Gi!==Bn&&this._stateStream.next(Gi);const dr=this.getActionResultStream(nr);return dr.subscribe(Rr=>this._actions.next(Rr)),this._actions.next({action:nr,status:"DISPATCHED"}),this.createDispatchObservable(dr)}])(Bn,Et).pipe((0,pn.d)())}getActionResultStream(Et){return this._actionResults.pipe((0,sn.h)(Xt=>Xt.action===Et&&"DISPATCHED"!==Xt.status),(0,wt.q)(1),(0,pn.d)())}createDispatchObservable(Et){return Et.pipe(Dt(Xt=>{switch(Xt.status){case"SUCCESSFUL":return(0,Ae.of)(this._stateStream.getValue());case"ERRORED":return(0,ce._)(Xt.error);default:return ve.E}})).pipe((0,pn.d)())}}return ot.\u0275fac=function(Et){return new(Et||ot)(n.LFG(n.zs3),n.LFG(ao),n.LFG(_e),n.LFG(ue),n.LFG($),n.LFG(Vi))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const Xe=ot=>{Object.freeze(ot);const an="function"==typeof ot,Et=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(ot).forEach(function(Xt){Et.call(ot,Xt)&&(!an||"caller"!==Xt&&"callee"!==Xt&&"arguments"!==Xt)&&null!==ot[Xt]&&("object"==typeof ot[Xt]||"function"==typeof ot[Xt])&&!Object.isFrozen(ot[Xt])&&Xe(ot[Xt])}),ot};let ft=(()=>{class ot{constructor(Et,Xt){this.isDevMode=Et,this.isTestMode=Xt}}return ot.\u0275fac=function(Et){return new(Et||ot)(n.LFG(zn),n.LFG(ri))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),Pt=(()=>{class ot{constructor(Et,Xt){this._host=Et,this._config=Xt}get isIncorrectProduction(){return!this._host.isDevMode()&&this._config.developmentMode}get isIncorrectDevelopment(){return this._host.isDevMode()&&!this._config.developmentMode}verifyDevMode(){this._host.isTestMode()||(this.isIncorrectProduction?console.warn(ni.INCORRECT_PRODUCTION()):this.isIncorrectDevelopment&&console.warn(ni.INCORRECT_DEVELOPMENT()))}}return ot.\u0275fac=function(Et){return new(Et||ot)(n.LFG(ft),n.LFG(ji))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),Wt=(()=>{class ot{constructor(Et,Xt,Bn,oi){this._stateStream=Et,this._dispatcher=Xt,this._config=Bn,oi.verifyDevMode()}getRootStateOperations(){const Et={getState:()=>this._stateStream.getValue(),setState:Xt=>this._stateStream.next(Xt),dispatch:Xt=>this._dispatcher.dispatch(Xt)};return this._config.developmentMode?this.ensureStateAndActionsAreImmutable(Et):Et}ensureStateAndActionsAreImmutable(Et){return{getState:()=>Et.getState(),setState:Xt=>{const Bn=Xe(Xt);return Et.setState(Bn)},dispatch:Xt=>Et.dispatch(Xt)}}setStateToTheCurrentWithNew(Et){const Xt=this.getRootStateOperations(),Bn=Xt.getState();Xt.setState(Object.assign({},Bn,Et.defaults))}}return ot.\u0275fac=function(Et){return new(Et||ot)(n.LFG($),n.LFG(Le),n.LFG(ji),n.LFG(Pt))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),Je=(()=>{class ot{constructor(Et){this._internalStateOperations=Et}createStateContext(Et){const Xt=this._internalStateOperations.getRootStateOperations();function Bn(dr){return Ve(dr,Et.path)}function oi(dr,Rr){const cr=jn(dr,Et.path,Rr),yo=Et.instance;if(yo.ngxsOnChanges){const mo=pt(Et,{currentAppState:dr,newAppState:cr});yo.ngxsOnChanges(mo)}return Xt.setState(cr),cr}function Gi(dr,Rr){return oi(dr,Rr(Bn(dr)))}return{getState:()=>Bn(Xt.getState()),patchState:dr=>Gi(Xt.getState(),function(ot){return an=>{if(Array.isArray(ot))throw new Error(ni.PATCHING_ARRAY());if("object"!=typeof ot)throw new Error(ni.PATCHING_PRIMITIVE());const Et=Object.assign({},an);for(const Xt in ot)Et[Xt]=ot[Xt];return Et}}(dr)),setState(dr){const Rr=Xt.getState();return function(dr){return"function"==typeof dr}(dr)?Gi(Rr,dr):oi(Rr,dr)},dispatch:dr=>Xt.dispatch(dr)}}}return ot.\u0275fac=function(Et){return new(Et||ot)(n.LFG(Wt))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class Nt{static stateNameErrorMessage(an){return ni.STATE_NAME(an)}static checkCorrectStateName(an){if(!an)throw new Error(ni.STATE_NAME_PROPERTY());if(!this.stateNameRegex.test(an))throw new Error(this.stateNameErrorMessage(an))}static checkStateNameIsUnique(an,Et){const Bn=this.getValidStateMeta(an).name,oi=Et[Bn];if(oi&&oi!==an)throw new Error(ni.STATE_UNIQUE(Bn,an.name,oi.name));return Bn}static getValidStateMeta(an){const Et=$t(an);if(!Et)throw new Error(ni.STATE_DECORATOR());return Et}}Nt.stateNameRegex=new RegExp("^[a-zA-Z0-9_]+$");let mt=(()=>{class ot{constructor(Et,Xt,Bn,oi,Gi,nr,dr){this._injector=Et,this._config=Xt,this._parentFactory=Bn,this._actions=oi,this._actionResults=Gi,this._stateContextFactory=nr,this._initialState=dr,this._actionsSubscription=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=Fe(()=>{const Rr=this;function cr(mo){const io=Rr.statePaths[mo];return io?function(ot,an){return an&&an.compatibility&&an.compatibility.strictContentSecurityPolicy?function(ot){const an=ot.slice();return Et=>an.reduce((Xt,Bn)=>Xt&&Xt[Bn],Et)}(ot):function(ot){const an=ot;let Et="store."+an[0],Xt=0;const Bn=an.length;let oi=Et;for(;++Xt<Bn;)oi=oi+" && "+(Et=Et+"."+an[Xt]);return new Function("store","return "+oi+";")}(ot)}(io.split("."),Rr._config):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(mo){let io=cr(mo);return io||((...Te)=>(io||(io=cr(mo)),io?io(...Te):void 0))},getSelectorOptions:mo=>Object.assign({},Rr._config.selectorOptions,mo||{})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}static cloneDefaults(Et){let Xt={};return Xt=Array.isArray(Et)?Et.slice():function(ot){return"object"==typeof ot&&null!==ot||"function"==typeof ot}(Et)?Object.assign({},Et):void 0===Et?{}:Et,Xt}static checkStatesAreValid(Et){Et.forEach(Nt.getValidStateMeta)}ngOnDestroy(){this._actionsSubscription.unsubscribe()}add(Et){ot.checkStatesAreValid(Et);const{newStates:Xt}=this.addToStatesMap(Et);if(!Xt.length)return[];const Bn=function(ot){const an=Et=>{const Xt=ot.find(Bn=>Bn===Et);if(!Xt)throw new Error(`Child state not found: ${Et}. \r\nYou may have forgotten to add states to module`);return Xt[Un].name};return ot.reduce((Et,Xt)=>{const{name:Bn,children:oi}=Xt[Un];return Et[Bn]=(oi||[]).map(an),Et},{})}(Xt),oi=function(ot){const an=[],Et={},Xt=(Bn,oi=[])=>{Array.isArray(oi)||(oi=[]),oi.push(Bn),Et[Bn]=!0,ot[Bn].forEach(Gi=>{if(oi.indexOf(Gi)>=0)throw new Error(`Circular dependency '${Gi}' is required by '${Bn}': ${oi.join(" -> ")}`);Et[Gi]||Xt(Gi,oi.slice(0))}),an.indexOf(Bn)<0&&an.push(Bn)};return Object.keys(ot).forEach(Bn=>Xt(Bn)),an.reverse()}(Bn),Gi=function(ot,an={}){const Et=(Xt,Bn)=>{for(const oi in Xt)if(Xt.hasOwnProperty(oi)&&Xt[oi].indexOf(Bn)>=0){const Gi=Et(Xt,oi);return null!==Gi?`${Gi}.${oi}`:oi}return null};for(const Xt in ot)if(ot.hasOwnProperty(Xt)){const Bn=Et(ot,Xt);an[Xt]=Bn?`${Bn}.${Xt}`:Xt}return an}(Bn),nr=function(ot){return ot.reduce((an,Et)=>(an[Et[Un].name]=Et,an),{})}(Xt),dr=[];for(const Rr of oi){const cr=nr[Rr],yo=Gi[Rr],mo=cr[Un];this.addRuntimeInfoToMeta(mo,yo);const io={name:Rr,path:yo,isInitialised:!1,actions:mo.actions,instance:this._injector.get(cr),defaults:ot.cloneDefaults(mo.defaults)};this.hasBeenMountedAndBootstrapped(Rr,yo)||dr.push(io),this.states.push(io)}return dr}addAndReturnDefaults(Et){const Bn=this.add(Et||[]);return{defaults:Bn.reduce((Gi,nr)=>jn(Gi,nr.path,nr.defaults),{}),states:Bn}}connectActionHandlers(){null===this._actionsSubscription&&(this._actionsSubscription=this._actions.pipe((0,sn.h)(Et=>"DISPATCHED"===Et.status),(0,Yt.zg)(({action:Et})=>this.invokeActions(this._actions,Et).pipe((0,tt.U)(()=>({action:Et,status:"SUCCESSFUL"})),(0,gn.d)({action:Et,status:"CANCELED"}),(0,kn.K)(Xt=>(0,Ae.of)({action:Et,status:"ERRORED",error:Xt}))))).subscribe(Et=>this._actionResults.next(Et)))}invokeActions(Et,Xt){const Bn=jt(Xt),oi=[];for(const Gi of this.states){const nr=Gi.actions[Bn];if(nr)for(const dr of nr){const Rr=this._stateContextFactory.createStateContext(Gi);try{let cr=Gi.instance[dr.fn](Rr,Xt);cr instanceof Promise&&(cr=(0,Me.D)(cr)),cr instanceof Ot.y?(cr=cr.pipe((0,gn.d)({})),dr.options.cancelUncompleted&&(cr=cr.pipe(Ht(Et.pipe(Ge(Xt)))))):cr=(0,Ae.of)({}).pipe((0,pn.d)()),oi.push(cr)}catch(cr){oi.push((0,ce._)(cr))}}}return oi.length||oi.push((0,Ae.of)({})),(0,Mt.D)(oi)}addToStatesMap(Et){const Xt=[],Bn=this.statesByName;for(const oi of Et){const Gi=Nt.checkStateNameIsUnique(oi,Bn);!Bn[Gi]&&(Xt.push(oi),Bn[Gi]=oi)}return{newStates:Xt}}addRuntimeInfoToMeta(Et,Xt){this.statePaths[Et.name]=Xt,Et.path=Xt}hasBeenMountedAndBootstrapped(Et,Xt){const Bn=void 0!==Ve(this._initialState,Xt);return this.statesByName[Et]&&Bn}}return ot.\u0275fac=function(Et){return new(Et||ot)(n.LFG(n.zs3),n.LFG(ji),n.LFG(ot,12),n.LFG(ao),n.LFG(_e),n.LFG(Je),n.LFG(nt,8))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),Qt=(()=>{class ot{constructor(Et,Xt,Bn){this.internalStateOperations=Et,this.stateContextFactory=Xt,this.bootstrapper=Bn}ngxsBootstrap(Et,Xt){this.internalStateOperations.getRootStateOperations().dispatch(Et).pipe((0,sn.h)(()=>!!Xt),(0,Zn.b)(()=>this.invokeInit(Xt.states)),(0,Yt.zg)(()=>this.bootstrapper.appBootstrapped$),(0,sn.h)(Bn=>!!Bn)).subscribe(()=>this.invokeBootstrap(Xt.states))}invokeInit(Et){for(const Xt of Et){const Bn=Xt.instance;if(Bn.ngxsOnChanges){const nr=pt(Xt,{currentAppState:{},newAppState:this.internalStateOperations.getRootStateOperations().getState()});Bn.ngxsOnChanges(nr)}Bn.ngxsOnInit&&Bn.ngxsOnInit(this.getStateContext(Xt)),Xt.isInitialised=!0}}invokeBootstrap(Et){for(const Xt of Et){const Bn=Xt.instance;Bn.ngxsAfterBootstrap&&Bn.ngxsAfterBootstrap(this.getStateContext(Xt))}}getStateContext(Et){return this.stateContextFactory.createStateContext(Et)}}return ot.\u0275fac=function(Et){return new(Et||ot)(n.LFG(Wt),n.LFG(Je),n.LFG(Ne))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})();let gr=(()=>{class ot{constructor(Et,Xt,Bn,oi,Gi,nr){this._stateStream=Et,this._internalStateOperations=Xt,this._config=Bn,this._internalExecutionStrategy=oi,this._stateFactory=Gi,this.initStateStream(nr)}dispatch(Et){return this._internalStateOperations.getRootStateOperations().dispatch(Et)}select(Et){const Xt=this.getStoreBoundSelectorFn(Et);return this._stateStream.pipe((0,tt.U)(Xt),(0,kn.K)(Bn=>{const{suppressErrors:oi}=this._config.selectorOptions;return Bn instanceof TypeError&&oi?(0,Ae.of)(void 0):(0,ce._)(Bn)}),(0,In.x)(),rr(this._internalExecutionStrategy))}selectOnce(Et){return this.select(Et).pipe((0,wt.q)(1))}selectSnapshot(Et){return this.getStoreBoundSelectorFn(Et)(this._stateStream.getValue())}subscribe(Et){return this._stateStream.pipe(rr(this._internalExecutionStrategy)).subscribe(Et)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(Et){return this._internalStateOperations.getRootStateOperations().setState(Et)}getStoreBoundSelectorFn(Et){return function(ot){const an=function(ot){return ot.NGXS_SELECTOR_META}(ot)||$t(ot);return an&&an.makeRootSelector||(()=>ot)}(Et)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(Et){const Xt=this._stateStream.value;if(!Xt||0===Object.keys(Xt).length){const Gi=Object.keys(this._config.defaultsState).length>0?Object.assign({},this._config.defaultsState,Et):Et;this._stateStream.next(Gi)}}}return ot.\u0275fac=function(Et){return new(Et||ot)(n.LFG($),n.LFG(Wt),n.LFG(ji),n.LFG(Vi),n.LFG(mt),n.LFG(nt,8))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),mr=(()=>{class ot{constructor(Et,Xt){ot.store=Et,ot.config=Xt}ngOnDestroy(){ot.store=null,ot.config=null}}return ot.\u0275fac=function(Et){return new(Et||ot)(n.LFG(gr),n.LFG(ji))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot.store=null,ot.config=null,ot})();class Wr{static get type(){return"@@INIT"}}class Xr{constructor(an){this.addedStates=an}static get type(){return"@@UPDATE_STATE"}}const co=new te.t(1);let Io=(()=>{class ot{constructor(Et,Xt,Bn,oi,Gi=[],nr){!function(){try{const ot=window.ng,Et=!(ot.probe&&ot.coreTokens)&&(0,n.X6Q)();co.next(Et)}catch(ot){co.next(!1)}finally{co.complete()}}();const dr=Et.addAndReturnDefaults(Gi);Xt.setStateToTheCurrentWithNew(dr),Et.connectActionHandlers(),nr.ngxsBootstrap(new Wr,dr)}}return ot.\u0275fac=function(Et){return new(Et||ot)(n.LFG(mt),n.LFG(Wt),n.LFG(gr),n.LFG(mr),n.LFG(Fi,8),n.LFG(Qt))},ot.\u0275mod=n.oAB({type:ot}),ot.\u0275inj=n.cJS({}),ot})(),zo=(()=>{class ot{constructor(Et,Xt,Bn,oi=[],Gi){const nr=ot.flattenStates(oi),dr=Bn.addAndReturnDefaults(nr);dr.states.length&&(Xt.setStateToTheCurrentWithNew(dr),Gi.ngxsBootstrap(new Xr(dr.defaults),dr))}static flattenStates(Et=[]){return Et.reduce((Xt,Bn)=>Xt.concat(Bn),[])}}return ot.\u0275fac=function(Et){return new(Et||ot)(n.LFG(gr),n.LFG(Wt),n.LFG(mt),n.LFG(bi,8),n.LFG(Qt))},ot.\u0275mod=n.oAB({type:ot}),ot.\u0275inj=n.cJS({}),ot})();class Qr{static forRoot(an=[],Et={}){return{ngModule:Io,providers:[mt,Je,ct,ao,Ne,Pt,ft,Qt,Le,_e,Wt,Vi,gr,$,mr,ue,...an,...Qr.ngxsTokenProviders(an,Et)]}}static forFeature(an=[]){return{ngModule:zo,providers:[mt,ue,...an,{provide:bi,multi:!0,useValue:an}]}}static ngxsTokenProviders(an,Et){return[{provide:ri,useValue:He},{provide:zn,useValue:n.X6Q},{provide:pr,useClass:Et.executionStrategy||pi},{provide:Fi,useValue:an},{provide:Qr.ROOT_OPTIONS,useValue:Et},{provide:ji,useFactory:Qr.ngxsConfigFactory,deps:[Qr.ROOT_OPTIONS]},{provide:n.tb,useFactory:Qr.appBootstrapListenerFactory,multi:!0,deps:[Ne]},{provide:nt,useFactory:Qr.getInitialState},{provide:qe,useExisting:Je},{provide:$e,useExisting:mt}]}static ngxsConfigFactory(an){return vt(new ji,an)}static appBootstrapListenerFactory(an){return()=>an.bootstrap()}static getInitialState(){return Be.pop()}}function _s(ot,an){return(Et,Xt)=>{if(Et.hasOwnProperty("prototype"))throw new Error(ni.ACTION_DECORATOR());const oi=ut(Et.constructor);Array.isArray(ot)||(ot=[ot]);for(const Gi of ot){const nr=Gi.type;oi.actions[nr]||(oi.actions[nr]=[]),oi.actions[nr].push({fn:Xt,options:an||{},type:nr})}}}function Ts(ot){return Xt=>{!function(ot){co.subscribe(an=>{an&&(ot.\u0275prov||console.warn(ni.UNDECORATED_STATE_IN_IVY(ot.name)))})}(Xt);const Bn=Xt,oi=ut(Bn),Gi=Object.getPrototypeOf(Bn),nr=function(Xt){return Object.assign({},Xt[_i]||{},ot)}(Gi);(function(Xt){const{meta:Bn,inheritedStateClass:oi,optionsWithInheritance:Gi}=Xt,{children:nr,defaults:dr,name:Rr}=Gi,cr="string"==typeof Rr?Rr:Rr&&Rr.getName()||null;Nt.checkCorrectStateName(cr),oi.hasOwnProperty(Un)&&(Bn.actions=Object.assign({},Bn.actions,(oi[Un]||{}).actions)),Bn.children=nr,Bn.defaults=dr,Bn.name=cr})({meta:oi,inheritedStateClass:Gi,optionsWithInheritance:nr}),Bn[_i]=nr}}Qr.\u0275fac=function(an){return new(an||Qr)},Qr.\u0275mod=n.oAB({type:Qr}),Qr.\u0275inj=n.cJS({}),Qr.ROOT_OPTIONS=new n.OlP("ROOT_OPTIONS")},5278:function(Se){Se.exports=function(){"use strict";function Ze(ce,ve,Me){return ve in ce?Object.defineProperty(ce,ve,{value:Me,enumerable:!0,configurable:!0,writable:!0}):ce[ve]=Me,ce}function X(ce,ve){var Me=Object.keys(ce);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(ce);ve&&(tt=tt.filter(function(bt){return Object.getOwnPropertyDescriptor(ce,bt).enumerable})),Me.push.apply(Me,tt)}return Me}function n(ce){for(var ve=1;ve<arguments.length;ve++){var Me=null!=arguments[ve]?arguments[ve]:{};ve%2?X(Object(Me),!0).forEach(function(tt){Ze(ce,tt,Me[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(Me)):X(Object(Me)).forEach(function(tt){Object.defineProperty(ce,tt,Object.getOwnPropertyDescriptor(Me,tt))})}return ce}const te=(ce,ve,Me,tt)=>(ce=""+ce,ve=""+ve,tt&&(ce=ce.trim(),ve=ve.trim()),Me?ce==ve:ce.toLowerCase()==ve.toLowerCase());function Oe(ce,ve){var Me,tt={};for(Me in ce)ve.indexOf(Me)<0&&(tt[Me]=ce[Me]);return tt}function we(ce){var ve=document.createElement("div");return ce.replace(/\&#?[0-9a-z]+;/gi,function(Me){return ve.innerHTML=Me,ve.innerText})}function Fe(ce,ve){for(ve=ve||"previous";ce=ce[ve+"Sibling"];)if(3==ce.nodeType)return ce}function Ue(ce){return"string"==typeof ce?ce.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;"):ce}function He(ce){var ve=Object.prototype.toString.call(ce).split(" ")[1].slice(0,-1);return ce===Object(ce)&&"Array"!=ve&&"Function"!=ve&&"RegExp"!=ve&&"HTMLUnknownElement"!=ve}function Ne(ce,ve,Me){function tt(bt,Dt){for(var cn in Dt)if(Dt.hasOwnProperty(cn)){if(He(Dt[cn])){He(bt[cn])?tt(bt[cn],Dt[cn]):bt[cn]=Object.assign({},Dt[cn]);continue}if(Array.isArray(Dt[cn])){bt[cn]=Object.assign([],Dt[cn]);continue}bt[cn]=Dt[cn]}}return ce instanceof Object||(ce={}),tt(ce,ve),Me&&tt(ce,Me),ce}function nt(ce){return String.prototype.normalize?"string"==typeof ce?ce.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:ce}var Be=()=>/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent),qe={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,keepInvalidTags:!1,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:()=>{},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:"\xa0"},autoComplete:{enabled:!0,rightKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tag:"tagify__tag",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",inputInvalid:"tagify__input--invalid",tagX:"tagify__tag__removeBtn",tagText:"tagify__tag-text",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownInital:"tagify__dropdown--initial",scopeLoading:"tagify--loading",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:()=>Promise.resolve(),beforePaste:()=>Promise.resolve(),suggestionClick:()=>Promise.resolve()}};function $e(){this.dropdown={};for(let ce in this._dropdown)this.dropdown[ce]="function"==typeof this._dropdown[ce]?this._dropdown[ce].bind(this):this._dropdown[ce];this.settings.dropdown.enabled>=0&&this.dropdown.init()}var Qe,Zt={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"};function Mt(ce,ve){return ce?ce.previousElementSibling&&ce.previousElementSibling.classList.contains("tagify")?(console.warn("Tagify: ","input element is already Tagified",ce),this):(Ne(this,function(Me){var tt=document.createTextNode("");function bt(Dt,cn,gt){gt&&cn.split(/\s+/g).forEach(Ht=>tt[Dt+"EventListener"].call(tt,Ht,gt))}return{off(Dt,cn){return bt("remove",Dt,cn),this},on(Dt,cn){return cn&&"function"==typeof cn&&bt("add",Dt,cn),this},trigger(Dt,cn,gt){var Ht;if(gt=gt||{cloneData:!0},Dt)if(Me.settings.isJQueryPlugin)"remove"==Dt&&(Dt="removeTag"),jQuery(Me.DOM.originalInput).triggerHandler(Dt,[cn]);else{try{var Lt="object"==typeof cn?cn:{value:cn};if((Lt=gt.cloneData?Ne({},Lt):Lt).tagify=this,cn instanceof Object)for(var on in cn)cn[on]instanceof HTMLElement&&(Lt[on]=cn[on]);Ht=new CustomEvent(Dt,{detail:Lt})}catch(sn){console.warn(sn)}tt.dispatchEvent(Ht)}}}}(this)),this.isFirefox="undefined"!=typeof InstallTrigger,this.isIE=window.document.documentMode,this.applySettings(ce,ve||{}),this.state={inputText:"",editing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(ce),$e.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),void(ce.autofocus&&this.DOM.input.focus())):(console.warn("Tagify: ","input element not found",ce),this)}return(Mt.prototype={_dropdown:{init(){this.DOM.dropdown=this.parseTemplate("dropdown",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownWrapperSelector)},show(ce){var ve,Me,tt,bt=this.settings,Dt="mix"==bt.mode&&!bt.enforceWhitelist,gt="manual"==bt.dropdown.position;if(ce=void 0===ce?this.state.inputText:ce,(bt.whitelist&&bt.whitelist.length||Dt||bt.templates.dropdownItemNoMatch)&&!1!==bt.dropdown.enable&&!this.state.isLoading){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(ce),ce&&!this.suggestedListItems.length&&(this.trigger("dropdown:noMatch",ce),bt.templates.dropdownItemNoMatch&&(tt=bt.templates.dropdownItemNoMatch.call(this,{value:ce}))),!tt){if(this.suggestedListItems.length)ce&&Dt&&!this.state.editing.scope&&!te(this.suggestedListItems[0].value,ce)&&this.suggestedListItems.unshift({value:ce});else{if(!ce||!Dt||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:ce}]}Me=""+(He(ve=this.suggestedListItems[0])?ve.value:ve),bt.autoComplete&&Me&&0==Me.indexOf(ce)&&this.input.autocomplete.suggest.call(this,ve)}this.dropdown.fill(tt),bt.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.children[0]),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=ce||!0,this.state.dropdown.query=ce,this.setStateSelection(),gt||setTimeout(()=>{this.dropdown.position(),this.dropdown.render()}),setTimeout(()=>{this.trigger("dropdown:show",this.DOM.dropdown)})}},hide(ce){var ve=this.DOM,Me=ve.scope,tt=ve.dropdown,bt="manual"==this.settings.dropdown.position&&!ce;if(tt&&document.body.contains(tt)&&!bt)return window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),Me.setAttribute("aria-expanded",!1),tt.parentNode.removeChild(tt),setTimeout(()=>{this.state.dropdown.visible=!1},100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",tt),this},toggle(ce){this.dropdown[this.state.dropdown.visible&&!ce?"hide":"show"]()},render(){var ve,Me,tt=((Me=this.DOM.dropdown.cloneNode(!0)).style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(Me),ve=Me.clientHeight,Me.parentNode.removeChild(Me),ve),bt=this.settings;return this.DOM.scope.setAttribute("aria-expanded",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(bt.classNames.dropdownInital),this.dropdown.position(tt),bt.dropdown.appendTarget.appendChild(this.DOM.dropdown),setTimeout(()=>this.DOM.dropdown.classList.remove(bt.classNames.dropdownInital))),this},fill(ce){var ve;ce="string"==typeof ce?ce:this.dropdown.createListHTML(ce||this.suggestedListItems),this.DOM.dropdown.content.innerHTML=(ve=ce)?ve.replace(/\>[\r\n ]+\</g,"><").replace(/(<.*?>)|\s+/g,(Me,tt)=>tt||" "):""},refilter(ce){this.suggestedListItems=this.dropdown.filterListItems(ce=ce||this.state.dropdown.query||""),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},position(ce){var ve=this.settings.dropdown;if("manual"!=ve.position){var Me,tt,bt,Dt,cn,gt,Ht=this.DOM.dropdown,Lt=ve.placeAbove,on=document.documentElement.clientHeight,sn=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)>480?ve.position:"all",pn=this.DOM["input"==sn?"input":"scope"];ce=ce||Ht.clientHeight,this.state.dropdown.visible&&("text"==sn?(bt=(Me=this.getCaretGlobalPosition()).bottom,tt=Me.top,Dt=Me.left,cn="auto"):(gt=function(wt){for(var Yt=0,gn=0;wt;)Yt+=wt.offsetLeft||0,gn+=wt.offsetTop||0,wt=wt.parentNode;return{left:Yt,top:gn}}(this.settings.dropdown.appendTarget),tt=(Me=pn.getBoundingClientRect()).top-gt.top,bt=Me.bottom-1-gt.top,Dt=Me.left-gt.left,cn=Me.width+"px"),tt=Math.floor(tt),bt=Math.ceil(bt),Lt=void 0===Lt?on-Me.bottom<ce:Lt,Ht.style.cssText="left:"+(Dt+window.pageXOffset)+"px; width:"+cn+";"+(Lt?"top: "+(tt+window.pageYOffset)+"px":"top: "+(bt+window.pageYOffset)+"px"),Ht.setAttribute("placement",Lt?"top":"bottom"),Ht.setAttribute("position",sn))}},events:{binding(ce=!0){var ve=this.dropdown.events.callbacks,Me=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this),onKeyDown:ve.onKeyDown.bind(this),onMouseOver:ve.onMouseOver.bind(this),onMouseLeave:ve.onMouseLeave.bind(this),onClick:ve.onClick.bind(this),onScroll:ve.onScroll.bind(this)},tt=ce?"addEventListener":"removeEventListener";"manual"!=this.settings.dropdown.position&&(window[tt]("resize",Me.position),window[tt]("keydown",Me.onKeyDown)),this.DOM.dropdown[tt]("mouseover",Me.onMouseOver),this.DOM.dropdown[tt]("mouseleave",Me.onMouseLeave),this.DOM.dropdown[tt]("mousedown",Me.onClick),this.DOM.dropdown.content[tt]("scroll",Me.onScroll)},callbacks:{onKeyDown(ce){var ve=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector),Me=this.dropdown.getSuggestionDataByNode(ve);switch(ce.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":var tt;ce.preventDefault(),ve&&(ve=ve[("ArrowUp"==ce.key||"Up"==ce.key?"previous":"next")+"ElementSibling"]),ve||(ve=(tt=this.DOM.dropdown.content.children)["ArrowUp"==ce.key||"Up"==ce.key?tt.length-1:0]),Me=this.dropdown.getSuggestionDataByNode(ve),this.dropdown.highlightOption(ve,!0);break;case"Escape":case"Esc":this.dropdown.hide();break;case"ArrowRight":if(this.state.actions.ArrowLeft)return;case"Tab":if("mix"!=this.settings.mode&&ve&&!this.settings.autoComplete.rightKey&&!this.state.editing){ce.preventDefault();var bt=this.dropdown.getMappedValue(Me);return this.input.autocomplete.set.call(this,bt),!1}return!0;case"Enter":ce.preventDefault(),this.settings.hooks.suggestionClick(ce,{tagify:this,tagData:Me,suggestionElm:ve}).then(()=>{if(ve)return this.dropdown.selectOption(ve);this.dropdown.hide(),"mix"!=this.settings.mode&&this.addTags(this.state.inputText.trim(),!0)}).catch(Dt=>Dt);break;case"Backspace":{if("mix"==this.settings.mode||this.state.editing.scope)return;let Dt=this.state.inputText.trim();""!=Dt&&8203!=Dt.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():"edit"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0))}}},onMouseOver(ce){var ve=ce.target.closest(this.settings.classNames.dropdownItemSelector);ve&&this.dropdown.highlightOption(ve)},onMouseLeave(ce){this.dropdown.highlightOption()},onClick(ce){if(0==ce.button&&ce.target!=this.DOM.dropdown&&ce.target!=this.DOM.dropdown.content){var ve=ce.target.closest(this.settings.classNames.dropdownItemSelector),Me=this.dropdown.getSuggestionDataByNode(ve);this.state.actions.selectOption=!0,setTimeout(()=>this.state.actions.selectOption=!1,50),this.settings.hooks.suggestionClick(ce,{tagify:this,tagData:Me,suggestionElm:ve}).then(()=>{ve?this.dropdown.selectOption(ve):this.dropdown.hide()}).catch(tt=>tt)}},onScroll(ce){var ve=ce.target;this.trigger("dropdown:scroll",{percentage:Math.round(ve.scrollTop/(ve.scrollHeight-ve.parentNode.clientHeight)*100)})}}},getSuggestionDataByNode(ce){var ve=ce?+ce.getAttribute("tagifySuggestionIdx"):-1;return this.suggestedListItems[ve]||null},highlightOption(ce,ve){var Me,tt=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(tt),this.state.ddItemElm.removeAttribute("aria-selected")),!ce)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);Me=this.suggestedListItems[this.getNodeIndex(ce)],this.state.ddItemData=Me,this.state.ddItemElm=ce,ce.classList.add(tt),ce.setAttribute("aria-selected",!0),ve&&(ce.parentNode.scrollTop=ce.clientHeight+ce.offsetTop-ce.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,Me),this.dropdown.position())},selectOption(ce){var ve,Me=this.settings.dropdown,tt=Me.clearOnSelect,bt=Me.closeOnSelect;if(!ce)return ve=this.addTags(this.state.inputText,!0),void(bt&&this.dropdown.hide());var Dt=ce.getAttribute("tagifySuggestionIdx"),cn=this.suggestedListItems[+Dt];this.trigger("dropdown:select",{data:cn,elm:ce}),Dt&&cn?(this.state.editing?this.onEditTagDone(null,Ne({__isValid:!0},cn)):ve=this["mix"==this.settings.mode?"addMixTags":"addTags"]([cn],tt),this.DOM.input.parentNode&&(setTimeout(()=>{this.DOM.input.focus(),this.toggleFocusClass(!0),this.placeCaretAfterNode(ve)}),bt?setTimeout(this.dropdown.hide.bind(this)):this.dropdown.refilter())):this.dropdown.hide()},selectAll(){return this.suggestedListItems.length=0,this.dropdown.hide(),this.addTags(this.dropdown.filterListItems(""),!0),this},filterListItems(ce,ve){var Me,tt,bt,Dt,cn,gt=this.settings,Ht=gt.dropdown,Lt=(ve=ve||{},ce="select"==gt.mode&&this.value.length&&this.value[0][gt.tagTextProp]==ce?"":ce,[]),on=gt.whitelist,sn=Ht.maxItems||1/0,pn=Ht.searchKeys,wt=0;if(!ce||!pn.length)return(gt.duplicates?on:on.filter(gn=>!this.isTagDuplicate(He(gn)?gn.value:gn))).slice(0,sn);function Yt(gn,kn){return kn.toLowerCase().split(" ").every(Zn=>gn.includes(Zn.toLowerCase()))}for(cn=Ht.caseSensitive?""+ce:(""+ce).toLowerCase();wt<on.length;wt++){Me=on[wt]instanceof Object?on[wt]:{value:on[wt]};let gn=Object.keys(Me).some(kn=>pn.includes(kn))?pn:["value"];if(Ht.fuzzySearch&&!ve.exact?(bt=gn.reduce((kn,Zn)=>kn+" "+(Me[Zn]||""),"").toLowerCase(),Ht.accentedSearch&&(bt=nt(bt),cn=nt(cn)),tt=Yt(bt,cn)):tt=gn.some(kn=>{var Zn=""+(Me[kn]||"");return Ht.accentedSearch&&(Zn=nt(Zn),cn=nt(cn)),Ht.caseSensitive||(Zn=Zn.toLowerCase()),ve.exact?Zn==cn:0==Zn.indexOf(cn)}),Dt=!gt.duplicates&&this.isTagDuplicate(He(Me)?Me.value:Me),tt&&!Dt&&sn--&&Lt.push(Me),0==sn)break}return Lt},getMappedValue(ce){var ve=this.settings.dropdown.mapValueTo;return ve?"function"==typeof ve?ve(ce):ce[ve]||ce.value:ce.value},createListHTML(ce){return Ne([],ce).map((ve,Me)=>{"string"!=typeof ve&&"number"!=typeof ve||(ve={value:ve});var tt=this.dropdown.getMappedValue(ve);return ve.value=tt&&"string"==typeof tt?Ue(tt):tt,this.settings.templates.dropdownItem.apply(this,[ve,this]).replace(/\s*tagifySuggestionIdx=(["'])(.*?)\1/gim,"").replace(">",` tagifySuggestionIdx="${Me}">`)}).join("")}},customEventsList:["change","add","remove","invalid","input","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim(ce){return this.settings.trim&&ce&&"string"==typeof ce?ce.trim():ce},parseHTML:function(ce){return(new DOMParser).parseFromString(ce.trim(),"text/html").body.firstElementChild},templates:{wrapper:(ce,ve)=>`<tags class="${ve.classNames.namespace} ${ve.mode?`${ve.classNames[ve.mode+"Mode"]}`:""} ${ce.className}"\n                    ${ve.readonly?"readonly":""}\n                    ${ve.disabled?"disabled":""}\n                    ${ve.required?"required":""}\n                    tabIndex="-1">\n            <span ${!ve.readonly&&ve.userInput?"contenteditable":""} tabIndex="0" data-placeholder="${ve.placeholder||"&#8203;"}" aria-placeholder="${ve.placeholder||""}"\n                class="${ve.classNames.input}"\n                role="textbox"\n                aria-autocomplete="both"\n                aria-multiline="${"mix"==ve.mode}"></span>\n        </tags>`,tag(ce,ve){var Me=this.settings;return`<tag title="${ce.title||ce.value}"\n                    contenteditable='false'\n                    spellcheck='false'\n                    tabIndex="${Me.a11y.focusableTags?0:-1}"\n                    class="${Me.classNames.tag} ${ce.class||""}"\n                    ${this.getAttributes(ce)}>\n            <x title='' class="${Me.classNames.tagX}" role='button' aria-label='remove tag'></x>\n            <div>\n                <span class="${Me.classNames.tagText}">${ce[Me.tagTextProp]||ce.value}</span>\n            </div>\n        </tag>`},dropdown(ce){var ve=ce.dropdown;return`<div class="${"manual"==ve.position?"":`${ce.classNames.dropdown}`} ${ve.classname}" role="listbox" aria-labelledby="dropdown">\n                    <div class="${ce.classNames.dropdownWrapper}"></div>\n                </div>`},dropdownItem(ce,ve){return`<div ${this.getAttributes(ce)}\n                    class='${this.settings.classNames.dropdownItem} ${ce.class?ce.class:""}'\n                    tabindex="0"\n                    role="option">${ce.value}</div>`},dropdownItemNoMatch:null},parseTemplate(ce,ve){return this.parseHTML((ce=this.settings.templates[ce]||ce).apply(this,ve))},set whitelist(ce){this.settings.whitelist=ce&&Array.isArray(ce)?ce:[]},get whitelist(){return this.settings.whitelist},applySettings(ce,ve){qe.templates=this.templates;var Me=this.settings=Ne({},qe,ve);Me.disabled=ce.hasAttribute("disabled"),Me.readonly=ce.hasAttribute("readonly"),Me.placeholder=ce.getAttribute("placeholder")||Me.placeholder||"",Me.required=ce.hasAttribute("required");for(let tt in Me.classNames)Object.defineProperty(Me.classNames,tt+"Selector",{get(){return"."+this[tt].split(" ")[0]}});if(this.isIE&&(Me.autoComplete=!1),["whitelist","blacklist"].forEach(tt=>{var bt=ce.getAttribute("data-"+tt);bt&&(bt=bt.split(Me.delimiters))instanceof Array&&(Me[tt]=bt)}),"autoComplete"in ve&&!He(ve.autoComplete)&&(Me.autoComplete=qe.autoComplete,Me.autoComplete.enabled=ve.autoComplete),"mix"==Me.mode&&(Me.autoComplete.rightKey=!0,Me.delimiters=ve.delimiters||null,Me.tagTextProp&&!Me.dropdown.searchKeys.includes(Me.tagTextProp)&&Me.dropdown.searchKeys.push(Me.tagTextProp)),ce.pattern)try{Me.pattern=new RegExp(ce.pattern)}catch(tt){}if(this.settings.delimiters)try{Me.delimiters=new RegExp(this.settings.delimiters,"g")}catch(tt){}this.TEXTS=n(n({},Zt),Me.texts||{}),"select"!=Me.mode&&Me.userInput||(Me.dropdown.enabled=0),Me.dropdown.appendTarget=ve.dropdown&&ve.dropdown.appendTarget?ve.dropdown.appendTarget:document.body},getAttributes(ce){var ve,Me=this.getCustomAttributes(ce),tt="";for(ve in Me)tt+=" "+ve+(void 0!==ce[ve]?`="${Me[ve]}"`:"");return tt},getCustomAttributes(ce){if(!He(ce))return"";var ve,Me={};for(ve in ce)"__"!=ve.slice(0,2)&&"class"!=ve&&ce.hasOwnProperty(ve)&&void 0!==ce[ve]&&(Me[ve]=Ue(ce[ve]));return Me},setStateSelection(){var ce=window.getSelection(),ve={anchorOffset:ce.anchorOffset,anchorNode:ce.anchorNode,range:ce.getRangeAt&&ce.rangeCount&&ce.getRangeAt(0)};return this.state.selection=ve,ve},getCaretGlobalPosition(){const ce=document.getSelection();if(ce.rangeCount){const ve=ce.getRangeAt(0),Me=ve.startContainer,tt=ve.startOffset;let bt,Dt;if(tt>0)return Dt=document.createRange(),Dt.setStart(Me,tt-1),Dt.setEnd(Me,tt),bt=Dt.getBoundingClientRect(),{left:bt.right,top:bt.top,bottom:bt.bottom};if(Me.getBoundingClientRect)return Me.getBoundingClientRect()}return{left:-9999,top:-9999}},getCSSVars(){var ce=getComputedStyle(this.DOM.scope,null);this.CSSVars={tagHideTransition:(({value:Me,unit:tt})=>"s"==tt?1e3*Me:Me)(function(Me){if(!Me)return{};var tt=(Me=Me.trim().split(" ")[0]).split(/\d+/g).filter(bt=>bt).pop().trim();return{value:+Me.split(tt).filter(bt=>bt)[0].trim(),unit:tt}}(("tag-hide-transition",ce.getPropertyValue("--tag-hide-transition"))))}},build(ce){var ve=this.DOM;this.settings.mixMode.integrated?(ve.originalInput=null,ve.scope=ce,ve.input=ce):(ve.originalInput=ce,ve.scope=this.parseTemplate("wrapper",[ce,this.settings]),ve.input=ve.scope.querySelector(this.settings.classNames.inputSelector),ce.parentNode.insertBefore(ve.scope,ce))},destroy(){this.events.unbindGlobal.call(this),this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.dropdown.hide(!0),clearTimeout(this.dropdownHide__bindEventsTimeout)},loadOriginalValues(ce){var ve,Me=this.settings;if(void 0===ce&&(ce=Me.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value),this.removeAllTags({withoutChangeEvent:!0}),ce)if("mix"==Me.mode)this.parseMixTags(ce.trim()),(ve=this.DOM.input.lastChild)&&"BR"==ve.tagName||this.DOM.input.insertAdjacentHTML("beforeend","<br>");else{try{JSON.parse(ce)instanceof Array&&(ce=JSON.parse(ce))}catch(tt){}this.addTags(ce).forEach(tt=>tt&&tt.classList.add(Me.classNames.tagNoAnimation))}else this.postUpdate();this.state.lastOriginalValueReported=Me.mixMode.integrated?"":this.DOM.originalInput.value,this.state.loadedOriginalValues=!0},cloneEvent(ce){var ve={};for(var Me in ce)ve[Me]=ce[Me];return ve},loading(ce){return this.state.isLoading=ce,this.DOM.scope.classList[ce?"add":"remove"](this.settings.classNames.scopeLoading),this},tagLoading(ce,ve){return ce&&ce.classList[ve?"add":"remove"](this.settings.classNames.tagLoading),this},toggleClass(ce,ve){"string"==typeof ce&&this.DOM.scope.classList.toggle(ce,ve)},toggleFocusClass(ce){this.toggleClass(this.settings.classNames.focus,!!ce)},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var ce=this.DOM.originalInput,ve=this.state.lastOriginalValueReported!==ce.value,Me=new CustomEvent("change",{bubbles:!0});ve&&(this.state.lastOriginalValueReported=ce.value,Me.simulated=!0,ce._valueTracker&&ce._valueTracker.setValue(Math.random()),ce.dispatchEvent(Me),this.trigger("change",this.state.lastOriginalValueReported),ce.value=this.state.lastOriginalValueReported)}},events:{customBinding(){this.customEventsList.forEach(ce=>{this.on(ce,this.settings.callbacks[ce])})},binding(ce=!0){var ve,Me=this.events.callbacks,tt=ce?"addEventListener":"removeEventListener";if(!this.state.mainEvents||!ce)for(var bt in this.state.mainEvents=ce,ce&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),ve=this.listeners.main=this.listeners.main||{focus:["input",Me.onFocusBlur.bind(this)],keydown:["input",Me.onKeydown.bind(this)],click:["scope",Me.onClickScope.bind(this)],dblclick:["scope",Me.onDoubleClickScope.bind(this)],paste:["input",Me.onPaste.bind(this)]})this.DOM[ve[bt][0]][tt](bt,ve[bt][1])},bindGlobal(ce){var ve,Me=this.events.callbacks,tt=ce?"removeEventListener":"addEventListener";if(ce||!this.listeners.global)for(ve of(this.listeners.global=this.listeners&&this.listeners.global||[{type:this.isIE?"keydown":"input",target:this.DOM.input,cb:Me[this.isIE?"onInputIE":"onInput"].bind(this)},{type:"keydown",target:window,cb:Me.onWindowKeyDown.bind(this)},{type:"blur",target:this.DOM.input,cb:Me.onFocusBlur.bind(this)}],this.listeners.global))ve.target[tt](ve.type,ve.cb)},unbindGlobal(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur(ce){var ve=ce.target?this.trim(ce.target.textContent):"",Me=this.settings,tt=ce.type,bt=Me.dropdown.enabled>=0,Dt={relatedTarget:ce.relatedTarget},cn=this.state.actions.selectOption&&(bt||!Me.dropdown.closeOnSelect),gt=this.state.actions.addNew&&bt,Ht=ce.relatedTarget&&ce.relatedTarget.classList.contains(Me.classNames.tag)&&this.DOM.scope.contains(ce.relatedTarget);if("blur"==tt){if(ce.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),this.triggerChangeEvent()}if(!cn&&!gt)if(this.state.hasFocus="focus"==tt&&+new Date,this.toggleFocusClass(this.state.hasFocus),"mix"!=Me.mode){if("focus"==tt)return this.trigger("focus",Dt),void(0!==Me.dropdown.enabled&&Me.userInput||this.dropdown.show());"blur"==tt&&(this.trigger("blur",Dt),this.loading(!1),"select"==this.settings.mode&&Ht&&(ve=""),("select"==this.settings.mode&&ve?!this.value.length||this.value[0].value!=ve:ve&&!this.state.actions.selectOption&&Me.addTagOnBlur)&&this.addTags(ve,!0),"select"!=this.settings.mode||ve||this.removeTags()),this.DOM.input.removeAttribute("style"),this.dropdown.hide()}else"focus"==tt?this.trigger("focus",Dt):"blur"==ce.type&&(this.trigger("blur",Dt),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())},onWindowKeyDown(ce){var ve,Me=document.activeElement;if(Me.classList.contains(this.settings.classNames.tag)&&this.DOM.scope.contains(document.activeElement))switch(ve=Me.nextElementSibling,ce.key){case"Backspace":this.removeTags(Me),(ve||this.DOM.input).focus();break;case"Enter":setTimeout(this.editTag.bind(this),0,Me)}},onKeydown(ce){"select"==this.settings.mode&&this.settings.enforceWhitelist&&this.value.length&&ce.preventDefault();var ve=this.trim(ce.target.textContent);if(this.trigger("keydown",{originalEvent:this.cloneEvent(ce)}),"mix"==this.settings.mode){switch(ce.key){case"Left":case"ArrowLeft":this.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(this.state.editing)return;var Me,tt,bt,Dt=document.getSelection(),cn="Delete"==ce.key&&Dt.anchorOffset==(Dt.anchorNode.length||0),gt=1==Dt.anchorNode.nodeType||!Dt.anchorOffset&&Dt.anchorNode.previousElementSibling,Ht=we(this.DOM.input.innerHTML),Lt=this.getTagElms();if("edit"==this.settings.backspace&&gt)return Me=1==Dt.anchorNode.nodeType?null:Dt.anchorNode.previousElementSibling,setTimeout(this.editTag.bind(this),0,Me),void ce.preventDefault();if(Be()&&gt)return bt=Fe(gt),gt.hasAttribute("readonly")||gt.remove(),this.DOM.input.focus(),void setTimeout(()=>{this.placeCaretAfterNode(bt),this.DOM.input.click()});if("BR"==Dt.anchorNode.nodeName)return;if((cn||gt)&&1==Dt.anchorNode.nodeType?tt=0==Dt.anchorOffset?cn?Lt[0]:null:Lt[Dt.anchorOffset-1]:cn?tt=Dt.anchorNode.nextElementSibling:gt&&(tt=gt),3==Dt.anchorNode.nodeType&&!Dt.anchorNode.nodeValue&&Dt.anchorNode.previousElementSibling&&ce.preventDefault(),(gt||cn)&&!this.settings.backspace||"Range"!=Dt.type&&!Dt.anchorOffset&&Dt.anchorNode==this.DOM.input&&"Delete"!=ce.key)return void ce.preventDefault();if("Range"!=Dt.type&&tt&&tt.hasAttribute("readonly"))return void this.placeCaretAfterNode(Fe(tt));clearTimeout(Qe),Qe=setTimeout(()=>{var on=document.getSelection(),sn=we(this.DOM.input.innerHTML),pn=!cn&&on.anchorNode.previousElementSibling;if(!Be()&&sn.length>=Ht.length&&pn&&!pn.hasAttribute("readonly")&&(this.removeTags(pn),this.fixFirefoxLastTagNoCaret(),2==this.DOM.input.children.length&&"BR"==this.DOM.input.children[1].tagName))return this.DOM.input.innerHTML="",this.value.length=0,!0;this.value=[].map.call(Lt,(wt,Yt)=>{var gn=this.tagData(wt);if(wt.parentNode||gn.readonly)return gn;this.trigger("remove",{tag:wt,index:Yt,data:gn})}).filter(wt=>wt)},20)}return!0}switch(ce.key){case"Backspace":"select"==this.settings.mode&&this.settings.enforceWhitelist?this.removeTags():this.state.dropdown.visible&&"manual"!=this.settings.dropdown.position||""!=ve&&8203!=ve.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():"edit"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0));break;case"Esc":case"Escape":if(this.state.dropdown.visible)return;ce.target.blur();break;case"Down":case"ArrowDown":this.state.dropdown.visible||this.dropdown.show();break;case"ArrowRight":{let on=this.state.inputSuggestion||this.state.ddItemData;if(on&&this.settings.autoComplete.rightKey)return void this.addTags([on],!0);break}case"Tab":{let on="select"==this.settings.mode;if(!ve||on)return!0;ce.preventDefault()}case"Enter":if(this.state.dropdown.visible||229==ce.keyCode)return;ce.preventDefault(),setTimeout(()=>{this.state.actions.selectOption||this.addTags(ve,!0)})}},onInput(ce){if("mix"==this.settings.mode)return this.events.callbacks.onMixTagsInput.call(this,ce);var ve=this.input.normalize.call(this),Me=ve.length>=this.settings.dropdown.enabled,tt={value:ve,inputElm:this.DOM.input};tt.isValid=this.validateTag({value:ve}),this.state.inputText!=ve&&(this.input.set.call(this,ve,!1),-1!=ve.search(this.settings.delimiters)?this.addTags(ve)&&this.input.set.call(this):this.settings.dropdown.enabled>=0&&this.dropdown[Me?"show":"hide"](ve),this.trigger("input",tt))},onMixTagsInput(ce){var ve,Me,tt,bt,Dt,cn,gt,Ht,Lt=this.settings,on=this.value.length,sn=this.getTagElms(),pn=document.createDocumentFragment(),wt=window.getSelection().getRangeAt(0),Yt=[].map.call(sn,gn=>this.tagData(gn).value);if("deleteContentBackward"==ce.inputType&&Be()&&this.events.callbacks.onKeydown.call(this,{target:ce.target,key:"Backspace"}),this.value.slice().forEach(gn=>{gn.readonly&&!Yt.includes(gn.value)&&pn.appendChild(this.createTagElem(gn))}),pn.childNodes.length&&(wt.insertNode(pn),this.setRangeAtStartEnd(!1,pn.lastChild)),sn.length!=on)return this.value=[].map.call(this.getTagElms(),gn=>this.tagData(gn)),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(cn=window.getSelection()).rangeCount>0&&3==cn.anchorNode.nodeType){if((wt=cn.getRangeAt(0).cloneRange()).collapse(!0),wt.setStart(cn.focusNode,0),tt=(ve=wt.toString().slice(0,wt.endOffset)).split(Lt.pattern).length-1,(Me=ve.match(Lt.pattern))&&(bt=ve.slice(ve.lastIndexOf(Me[Me.length-1]))),bt){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:bt.match(Lt.pattern)[0],value:bt.replace(Lt.pattern,"")},this.state.tag.baseOffset=cn.baseOffset-this.state.tag.value.length,Ht=this.state.tag.value.match(Lt.delimiters))return this.state.tag.value=this.state.tag.value.replace(Lt.delimiters,""),this.state.tag.delimiters=Ht[0],this.addTags(this.state.tag.value,Lt.dropdown.clearOnSelect),void this.dropdown.hide();Dt=this.state.tag.value.length>=Lt.dropdown.enabled;try{gt=(gt=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&gt.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch(gn){}(gt||tt<this.state.mixMode.matchedPatternCount)&&(Dt=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=tt}setTimeout(()=>{this.update({withoutChangeEvent:!0}),this.trigger("input",Ne({},this.state.tag,{textContent:this.DOM.input.textContent})),this.state.tag&&this.dropdown[Dt?"show":"hide"](this.state.tag.value)},10)},onInputIE(ce){var ve=this;setTimeout(function(){ve.events.callbacks.onInput.call(ve,ce)})},onClickScope(ce){var ve=this.settings,Me=ce.target.closest("."+ve.classNames.tag),tt=+new Date-this.state.hasFocus;if(ce.target!=this.DOM.scope){if(!ce.target.classList.contains(ve.classNames.tagX))return Me?(this.trigger("click",{tag:Me,index:this.getNodeIndex(Me),data:this.tagData(Me),originalEvent:this.cloneEvent(ce)}),void(1!==ve.editTags&&1!==ve.editTags.clicks||this.events.callbacks.onDoubleClickScope.call(this,ce))):void(ce.target==this.DOM.input&&("mix"==ve.mode&&this.fixFirefoxLastTagNoCaret(),tt>500)?this.state.dropdown.visible?this.dropdown.hide():0===ve.dropdown.enabled&&"mix"!=ve.mode&&this.dropdown.show():"select"==ve.mode&&!this.state.dropdown.visible&&this.dropdown.show());this.removeTags(ce.target.parentNode)}else this.state.hasFocus||this.DOM.input.focus()},onPaste(ce){ce.preventDefault();var ve,Me,tt=this.settings;if("select"==tt.mode&&tt.enforceWhitelist||!tt.userInput)return!1;tt.readonly||(ve=ce.clipboardData||window.clipboardData,Me=ve.getData("Text"),tt.hooks.beforePaste(ce,{tagify:this,pastedText:Me,clipboardData:ve}).then(bt=>{void 0===bt&&(bt=Me),bt&&(this.injectAtCaret(bt,window.getSelection().getRangeAt(0)),"mix"==this.settings.mode?this.events.callbacks.onMixTagsInput.call(this,ce):this.settings.pasteAsTags?this.addTags(bt,!0):this.state.inputText=bt)}).catch(bt=>bt))},onEditTagInput(ce,ve){var Me=ce.closest("."+this.settings.classNames.tag),tt=this.getNodeIndex(Me),bt=this.tagData(Me),Dt=this.input.normalize.call(this,ce),cn=Me.innerHTML!=Me.__tagifyTagData.__originalHTML,gt=this.validateTag({[this.settings.tagTextProp]:Dt});cn||!0!==ce.originalIsValid||(gt=!0),Me.classList.toggle(this.settings.classNames.tagInvalid,!0!==gt),bt.__isValid=gt,Me.title=!0===gt?bt.title||bt.value:gt,Dt.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=Dt),this.dropdown.show(Dt)),this.trigger("edit:input",{tag:Me,index:tt,data:Ne({},this.value[tt],{newValue:Dt}),originalEvent:this.cloneEvent(ve)})},onEditTagFocus(ce){this.state.editing={scope:ce,input:ce.querySelector("[contenteditable]")}},onEditTagBlur(ce){if(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(ce)){var ve,Me,tt=this.settings,bt=ce.closest("."+tt.classNames.tag),Dt=this.input.normalize.call(this,ce),cn=this.tagData(bt).__originalData,gt=bt.innerHTML!=bt.__tagifyTagData.__originalHTML,Ht=this.validateTag({[tt.tagTextProp]:Dt});if(Dt)if(gt){if(ve=this.hasMaxTags(),Me=this.getWhitelistItem(Dt)||Ne({},cn,{[tt.tagTextProp]:Dt,value:Dt,__isValid:Ht}),tt.transformTag.call(this,Me,cn),!0!==(Ht=!ve&&this.validateTag({[tt.tagTextProp]:Me[tt.tagTextProp]}))){if(this.trigger("invalid",{data:Me,tag:bt,message:Ht}),tt.editTags.keepInvalid)return;tt.keepInvalidTags?Me.__isValid=Ht:Me=cn}else tt.keepInvalidTags&&(delete Me.title,delete Me["aria-invalid"],delete Me.class);this.onEditTagDone(bt,Me)}else this.onEditTagDone(bt,cn);else this.onEditTagDone(bt)}},onEditTagkeydown(ce,ve){switch(this.trigger("edit:keydown",{originalEvent:this.cloneEvent(ce)}),ce.key){case"Esc":case"Escape":ve.innerHTML=ve.__tagifyTagData.__originalHTML;case"Enter":case"Tab":ce.preventDefault(),ce.target.blur()}},onDoubleClickScope(ce){var ve,Me,tt=ce.target.closest("."+this.settings.classNames.tag),bt=this.settings;tt&&bt.userInput&&(ve=tt.classList.contains(this.settings.classNames.tagEditing),Me=tt.hasAttribute("readonly"),"select"==bt.mode||bt.readonly||ve||Me||!this.settings.editTags||this.editTag(tt),this.toggleFocusClass(!0),this.trigger("dblclick",{tag:tt,index:this.getNodeIndex(tt),data:this.tagData(tt)}))}}},fixFirefoxLastTagNoCaret(){},placeCaretAfterNode(ce){if(ce&&ce.parentNode){var ve=ce.nextSibling,Me=window.getSelection(),tt=Me.getRangeAt(0);Me.rangeCount&&(tt.setStartBefore(ve||ce),tt.setEndBefore(ve||ce),Me.removeAllRanges(),Me.addRange(tt))}},insertAfterTag(ce,ve){if(ve=ve||this.settings.mixMode.insertAfterTag,ce&&ce.parentNode&&ve)return ve="string"==typeof ve?document.createTextNode(ve):ve,ce.parentNode.insertBefore(ve,ce.nextSibling),ve},editTag(ce,ve){ce=ce||this.getLastTag(),ve=ve||{},this.dropdown.hide();var Me=this.settings;function tt(){return ce.querySelector(Me.classNames.tagTextSelector)}var bt=tt(),Dt=this.getNodeIndex(ce),cn=this.tagData(ce),gt=this.events.callbacks,Ht=this,Lt=!0;if(bt){if(!(cn instanceof Object&&"editable"in cn)||cn.editable)return bt.setAttribute("contenteditable",!0),ce.classList.add(Me.classNames.tagEditing),this.tagData(ce,{__originalData:Ne({},cn),__originalHTML:ce.innerHTML}),bt.addEventListener("focus",gt.onEditTagFocus.bind(this,ce)),bt.addEventListener("blur",function(){setTimeout(()=>gt.onEditTagBlur.call(Ht,tt()))}),bt.addEventListener("input",gt.onEditTagInput.bind(this,bt)),bt.addEventListener("keydown",on=>gt.onEditTagkeydown.call(this,on,ce)),bt.focus(),this.setRangeAtStartEnd(!1,bt),ve.skipValidation||(Lt=this.editTagToggleValidity(ce)),bt.originalIsValid=Lt,this.trigger("edit:start",{tag:ce,index:Dt,data:cn,isValid:Lt}),this}else console.warn("Cannot find element in Tag template: .",Me.classNames.tagTextSelector)},editTagToggleValidity(ce,ve){var Me;if(ve=ve||this.tagData(ce))return(Me=!("__isValid"in ve)||!0===ve.__isValid)||this.removeTagsFromValue(ce),this.update(),ce.classList.toggle(this.settings.classNames.tagNotAllowed,!Me),ve.__isValid;console.warn("tag has no data: ",ce,ve)},onEditTagDone(ce,ve){ve=ve||{};var Me={tag:ce=ce||this.state.editing.scope,index:this.getNodeIndex(ce),previousData:this.tagData(ce),data:ve};this.trigger("edit:beforeUpdate",Me,{cloneData:!1}),this.state.editing=!1,delete ve.__originalData,delete ve.__originalHTML,ce&&ve[this.settings.tagTextProp]?(ce=this.replaceTag(ce,ve),this.editTagToggleValidity(ce,ve),this.settings.a11y.focusableTags&&ce.focus()):ce&&this.removeTags(ce),this.trigger("edit:updated",Me),this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag(ce,ve){ve&&ve.value||(ve=ce.__tagifyTagData),ve.__isValid&&1!=ve.__isValid&&Ne(ve,this.getInvalidTagAttrs(ve,ve.__isValid));var Me=this.createTagElem(ve);return ce.parentNode.replaceChild(Me,ce),this.updateValueByDOMTags(),Me},updateValueByDOMTags(){this.value.length=0,[].forEach.call(this.getTagElms(),ce=>{ce.classList.contains(this.settings.classNames.tagNotAllowed.split(" ")[0])||this.value.push(this.tagData(ce))}),this.update()},setRangeAtStartEnd(ce,ve){ce="number"==typeof ce?ce:!!ce,ve=(ve=ve||this.DOM.input).lastChild||ve;var Me=document.getSelection();try{Me.rangeCount>=1&&["Start","End"].forEach(tt=>Me.getRangeAt(0)["set"+tt](ve,ce||ve.length))}catch(tt){console.warn("Tagify: ",tt)}},injectAtCaret(ce,ve){if(ve=ve||this.state.selection.range)return"string"==typeof ce&&(ce=document.createTextNode(ce)),ve.deleteContents(),ve.insertNode(ce),this.setRangeAtStartEnd(!1,ce),this.updateValueByDOMTags(),this.update(),this},input:{set(ce="",ve=!0){var Me=this.settings.dropdown.closeOnSelect;this.state.inputText=ce,ve&&(this.DOM.input.innerHTML=Ue(""+ce)),!ce&&Me&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},validate(){var ce=!this.state.inputText||!0===this.validateTag({value:this.state.inputText});return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!ce),ce},normalize(ce){var Me=[];(ce||this.DOM.input).childNodes.forEach(tt=>3==tt.nodeType&&Me.push(tt.nodeValue)),Me=Me.join("\n");try{Me=Me.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch(tt){}return Me=Me.replace(/\s/g," "),this.settings.trim&&(Me=Me.replace(/^\s+/,"")),Me},autocomplete:{suggest(ce){if(this.settings.autoComplete.enabled){"string"==typeof(ce=ce||{})&&(ce={value:ce});var ve=ce.value?""+ce.value:"",Me=ve.substr(0,this.state.inputText.length).toLowerCase(),tt=ve.substring(this.state.inputText.length);ve&&this.state.inputText&&Me==this.state.inputText.toLowerCase()?(this.DOM.input.setAttribute("data-suggest",tt),this.state.inputSuggestion=ce):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}},set(ce){var ve=this.DOM.input.getAttribute("data-suggest"),Me=ce||(ve?this.state.inputText+ve:null);return!!Me&&("mix"==this.settings.mode?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+Me)):(this.input.set.call(this,Me),this.setRangeAtStartEnd()),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx(ce){return this.value.findIndex(ve=>ve.__tagId==(ce||{}).__tagId)},getNodeIndex(ce){var ve=0;if(ce)for(;ce=ce.previousElementSibling;)ve++;return ve},getTagElms(...ce){var ve="."+[...this.settings.classNames.tag.split(" "),...ce].join(".");return[].slice.call(this.DOM.scope.querySelectorAll(ve))},getLastTag(){var ce=this.DOM.scope.querySelectorAll(`${this.settings.classNames.tagSelector}:not(.${this.settings.classNames.tagHide}):not([readonly])`);return ce[ce.length-1]},tagData:(ce,ve,Me)=>ce?(ve&&(ce.__tagifyTagData=Me?ve:Ne({},ce.__tagifyTagData||{},ve)),ce.__tagifyTagData):(console.warn("tag elment doesn't exist",ce,ve),ve),isTagDuplicate(ce,ve){var Me=this.settings;return"select"!=Me.mode&&this.value.reduce((tt,bt)=>te(this.trim(""+ce),bt.value,ve||Me.dropdown.caseSensitive)?tt+1:tt,0)},getTagIndexByValue(ce){var ve=[];return this.getTagElms().forEach((Me,tt)=>{te(this.trim(Me.textContent),ce,this.settings.dropdown.caseSensitive)&&ve.push(tt)}),ve},getTagElmByValue(ce){var ve=this.getTagIndexByValue(ce)[0];return this.getTagElms()[ve]},flashTag(ce){ce&&(ce.classList.add(this.settings.classNames.tagFlash),setTimeout(()=>{ce.classList.remove(this.settings.classNames.tagFlash)},100))},isTagBlacklisted(ce){return ce=this.trim(ce.toLowerCase()),this.settings.blacklist.filter(ve=>(""+ve).toLowerCase()==ce).length},isTagWhitelisted(ce){return!!this.getWhitelistItem(ce)},getWhitelistItem(ce,ve,Me){ve=ve||"value";var tt,bt=this.settings;return(Me=Me||bt.whitelist).some(Dt=>{if(te("string"==typeof Dt?Dt:Dt[ve]||Dt.value,ce,bt.dropdown.caseSensitive,bt.trim))return tt="string"==typeof Dt?{value:Dt}:Dt,!0}),tt||"value"!=ve||"value"==bt.tagTextProp||(tt=this.getWhitelistItem(ce,bt.tagTextProp,Me)),tt},validateTag(ce){var ve=this.settings,Me="value"in ce?"value":ve.tagTextProp,tt=this.trim(ce[Me]+"");return(ce[Me]+"").trim()?ve.pattern&&ve.pattern instanceof RegExp&&!ve.pattern.test(tt)?this.TEXTS.pattern:!ve.duplicates&&this.isTagDuplicate(tt,this.state.editing)?this.TEXTS.duplicate:this.isTagBlacklisted(tt)||ve.enforceWhitelist&&!this.isTagWhitelisted(tt)?this.TEXTS.notAllowed:!ve.validate||ve.validate(ce):this.TEXTS.empty},getInvalidTagAttrs(ce,ve){return{"aria-invalid":!0,class:`${ce.class||""} ${this.settings.classNames.tagNotAllowed}`.trim(),title:ve}},hasMaxTags(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly(ce,ve){var Me=this.settings;document.activeElement.blur(),Me[ve||"readonly"]=ce,this.DOM.scope[(ce?"set":"remove")+"Attribute"](ve||"readonly",!0),"mix"==Me.mode&&(this.DOM.input.contentEditable=!ce)},setDisabled(ce){this.setReadonly(ce,"disabled")},normalizeTags(ce){var ve=this.settings,Me=ve.whitelist,tt=ve.delimiters,bt=ve.mode,Dt=ve.tagTextProp,cn=[],gt=!!Me&&Me[0]instanceof Object,Ht=ce instanceof Array,Lt=on=>(on+"").split(tt).filter(sn=>sn).map(sn=>({[Dt]:this.trim(sn),value:this.trim(sn)}));if("number"==typeof ce&&(ce=ce.toString()),"string"==typeof ce){if(!ce.trim())return[];ce=Lt(ce)}else Ht&&(ce=[].concat(...ce.map(on=>on.value?on:Lt(on))));return gt&&(ce.forEach(on=>{var sn=cn.map(Yt=>Yt.value),pn=this.dropdown.filterListItems.call(this,on[Dt],{exact:!0});this.settings.duplicates||(pn=pn.filter(Yt=>!sn.includes(Yt.value)));var wt=pn.length>1?this.getWhitelistItem(on[Dt],Dt,pn):pn[0];wt&&wt instanceof Object?cn.push(wt):"mix"!=bt&&(null==on.value&&(on.value=on[Dt]),cn.push(on))}),ce=cn),ce},parseMixTags(ce){var ve=this.settings,Me=ve.mixTagsInterpolator,tt=ve.duplicates,bt=ve.transformTag,Dt=ve.enforceWhitelist,cn=ve.maxTags,gt=ve.tagTextProp,Ht=[];return ce=ce.split(Me[0]).map((Lt,on)=>{var sn,pn,wt,Yt=Lt.split(Me[1]),gn=Yt[0],kn=Ht.length==cn;try{if(gn==+gn)throw Error;pn=JSON.parse(gn)}catch(Zn){pn=this.normalizeTags(gn)[0]||{value:gn}}if(kn||!(Yt.length>1)||Dt&&!this.isTagWhitelisted(pn.value)||!tt&&this.isTagDuplicate(pn.value)){if(Lt)return on?Me[0]+Lt:Lt}else bt.call(this,pn),pn[sn=pn[gt]?gt:"value"]=this.trim(pn[sn]),wt=this.createTagElem(pn),Ht.push(pn),wt.classList.add(this.settings.classNames.tagNoAnimation),Yt[0]=wt.outerHTML,this.value.push(pn);return Yt.join("")}).join(""),this.DOM.input.innerHTML=ce,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize(),this.getTagElms().forEach((Lt,on)=>this.tagData(Lt,Ht[on])),this.update({withoutChangeEvent:!0}),ce},replaceTextWithNode(ce,ve){if(this.state.tag||ve){ve=ve||this.state.tag.prefix+this.state.tag.value;var Me,tt,bt=window.getSelection(),Dt=bt.anchorNode;return Dt.splitText(bt.anchorOffset-(this.state.tag.delimiters?this.state.tag.delimiters.length:0)),Me=Dt.nodeValue.lastIndexOf(ve),tt=Dt.splitText(Me),ce&&Dt.parentNode.replaceChild(ce,tt),!0}},selectTag(ce,ve){var Me=this.settings;if(!Me.enforceWhitelist||this.isTagWhitelisted(ve.value)){this.input.set.call(this,ve[Me.tagTextProp||"value"],!0),this.state.actions.selectOption&&setTimeout(this.setRangeAtStartEnd.bind(this));var tt=this.getLastTag();return tt?this.replaceTag(tt,ve):this.appendTag(ce),Me.enforceWhitelist&&this.DOM.input.removeAttribute("contenteditable"),this.value[0]=ve,this.trigger("add",{tag:ce,data:ve}),this.update(),[ce]}},addEmptyTag(ce){var ve=Ne({value:""},ce||{}),Me=this.createTagElem(ve);this.tagData(Me,ve),this.appendTag(Me),this.editTag(Me,{skipValidation:!0})},addTags(ce,ve,Me=this.settings.skipInvalid){var tt=[],bt=this.settings,Dt=document.createDocumentFragment();return ce&&0!=ce.length?(ce=this.normalizeTags(ce),"mix"==bt.mode?this.addMixTags(ce):("select"==bt.mode&&(ve=!1),this.DOM.input.removeAttribute("style"),ce.forEach(cn=>{var gt,Ht={},Lt=Object.assign({},cn,{value:cn.value+""});if((cn=Object.assign({},Lt)).__isValid=this.hasMaxTags()||this.validateTag(cn),bt.transformTag.call(this,cn),!0!==cn.__isValid){if(Me)return;Ne(Ht,this.getInvalidTagAttrs(cn,cn.__isValid),{__preInvalidData:Lt}),cn.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(cn.value))}if(cn.readonly&&(Ht["aria-readonly"]=!0),gt=this.createTagElem(cn,Ht),tt.push(gt),"select"==bt.mode)return this.selectTag(gt,cn);Dt.appendChild(gt),cn.__isValid&&!0===cn.__isValid?(this.value.push(cn),this.trigger("add",{tag:gt,index:this.value.length-1,data:cn})):(this.trigger("invalid",{data:cn,index:this.value.length,tag:gt,message:cn.__isValid}),bt.keepInvalidTags||setTimeout(()=>this.removeTags(gt,!0),1e3)),this.dropdown.position()}),this.appendTag(Dt),this.update(),ce.length&&ve&&this.input.set.call(this),this.dropdown.refilter(),tt)):("select"==bt.mode&&this.removeAllTags(),tt)},addMixTags(ce){if((ce=this.normalizeTags(ce))[0].prefix||this.state.tag)return this.prefixedTextToTag(ce[0]);"string"==typeof ce&&(ce=[{value:ce}]);var ve=!!this.state.selection,Me=document.createDocumentFragment();return ce.forEach(tt=>{var bt=this.createTagElem(tt);Me.appendChild(bt),this.insertAfterTag(bt)}),ve?this.injectAtCaret(Me):(this.DOM.input.focus(),(ve=this.setStateSelection()).range.setStart(this.DOM.input,ve.range.endOffset),ve.range.setEnd(this.DOM.input,ve.range.endOffset),this.DOM.input.appendChild(Me),this.updateValueByDOMTags(),this.update()),Me},prefixedTextToTag(ce){var ve,Me=this.settings,tt=this.state.tag.delimiters;if(Me.transformTag.call(this,ce),ce.prefix=ce.prefix||this.state.tag?this.state.tag.prefix:(Me.pattern.source||Me.pattern)[0],ve=this.createTagElem(ce),this.replaceTextWithNode(ve)||this.DOM.input.appendChild(ve),setTimeout(()=>ve.classList.add(this.settings.classNames.tagNoAnimation),300),this.value.push(ce),this.update(),!tt){var bt=this.insertAfterTag(ve)||ve;this.placeCaretAfterNode(bt)}return this.state.tag=null,this.trigger("add",Ne({},{tag:ve},{data:ce})),ve},appendTag(ce){var ve=this.DOM,Me=ve.scope.lastElementChild;Me===ve.input?ve.scope.insertBefore(ce,Me):ve.scope.appendChild(ce)},createTagElem(ce,ve){ce.__tagId=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,bt=>(bt^crypto.getRandomValues(new Uint8Array(1))[0]&15>>bt/4).toString(16));var Me,tt=Ne({},ce,n({value:Ue(ce.value+"")},ve));return function(bt){for(var Dt,cn=document.createNodeIterator(bt,NodeFilter.SHOW_TEXT,null,!1);Dt=cn.nextNode();)Dt.textContent.trim()||Dt.parentNode.removeChild(Dt)}(Me=this.parseTemplate("tag",[tt])),this.tagData(Me,ce),Me},reCheckInvalidTags(){this.getTagElms(this.settings.classNames.tagNotAllowed).forEach((ve,Me)=>{var tt=this.tagData(ve),bt=this.hasMaxTags(),Dt=this.validateTag(tt);if(!0===Dt&&!bt)return this.replaceTag(ve,tt=tt.__preInvalidData?tt.__preInvalidData:{value:tt.value});ve.title=bt||Dt})},removeTags(ce,ve,Me){var tt;ce=ce&&ce instanceof HTMLElement?[ce]:ce instanceof Array?ce:ce?[ce]:[this.getLastTag()],tt=ce.reduce((bt,Dt)=>(Dt&&"string"==typeof Dt&&(Dt=this.getTagElmByValue(Dt)),Dt&&this.tagData(Dt)&&bt.push({node:Dt,idx:this.getTagIdx(this.tagData(Dt)),data:this.tagData(Dt,{__removed:!0})}),bt),[]),Me="number"==typeof Me?Me:this.CSSVars.tagHideTransition,"select"==this.settings.mode&&(Me=0,this.input.set.call(this)),1==tt.length&&tt[0].node.classList.contains(this.settings.classNames.tagNotAllowed)&&(ve=!0),tt.length&&this.settings.hooks.beforeRemoveTag(tt,{tagify:this}).then(()=>{function bt(Dt){Dt.node.parentNode&&(Dt.node.parentNode.removeChild(Dt.node),ve?this.settings.keepInvalidTags&&this.trigger("remove",{tag:Dt.node,index:Dt.idx}):(this.trigger("remove",{tag:Dt.node,index:Dt.idx,data:Dt.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()))}Me&&Me>10&&1==tt.length?function(Dt){Dt.node.style.width=parseFloat(window.getComputedStyle(Dt.node).width)+"px",document,Dt.node.classList.add(this.settings.classNames.tagHide),setTimeout(bt.bind(this),Me,Dt)}.call(this,tt[0]):tt.forEach(bt.bind(this)),ve||(this.removeTagsFromValue(tt.map(Dt=>Dt.node)),this.update(),"select"==this.settings.mode&&this.DOM.input.setAttribute("contenteditable",!0))}).catch(bt=>{})},removeTagsFromDOM(){[].slice.call(this.getTagElms()).forEach(ce=>ce.parentNode.removeChild(ce))},removeTagsFromValue(ce){(ce=Array.isArray(ce)?ce:[ce]).forEach(ve=>{var Me=this.tagData(ve),tt=this.getTagIdx(Me);tt>-1&&this.value.splice(tt,1)})},removeAllTags(ce){ce=ce||{},this.value=[],"mix"==this.settings.mode?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.position(),"select"==this.settings.mode&&this.input.set.call(this),this.update(ce)},postUpdate(){var ce=this.settings.classNames,ve="mix"==this.settings.mode?this.settings.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value:this.value.length;this.toggleClass(ce.hasMaxTags,this.value.length>=this.settings.maxTags),this.toggleClass(ce.hasNoTags,!this.value.length),this.toggleClass(ce.empty,!ve)},update(ce){this.settings.mixMode.integrated||(this.DOM.originalInput.value=this.getInputValue()),this.postUpdate(),!(ce||{}).withoutChangeEvent&&this.state.loadedOriginalValues&&this.triggerChangeEvent()},getInputValue(){var ce=this.getCleanValue();return"mix"==this.settings.mode?this.getMixedTagsAsString(ce):ce.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(ce):JSON.stringify(ce):""},getCleanValue(ce){return Me=this.dataProps,(ve=ce||this.value)&&Array.isArray(ve)&&ve.map(tt=>Oe(tt,Me));var ve,Me},getMixedTagsAsString(){var ce="",ve=this,Me=this.settings.mixTagsInterpolator;return this.DOM.input.childNodes.forEach(tt=>{if(1==tt.nodeType){const bt=ve.tagData(tt);if(tt.classList.contains(ve.settings.classNames.tag)&&bt)return bt.__removed?void 0:void(ce+=Me[0]+JSON.stringify(Oe(bt,ve.dataProps))+Me[1]);"BR"!=tt.tagName||tt.parentNode!=ve.DOM.input&&1!=tt.parentNode.childNodes.length?"DIV"!=tt.tagName&&"P"!=tt.tagName||(ce+="\r\n",!tt.children.length&&tt.textContent&&(ce+=tt.textContent)):ce+="\r\n"}else ce+=tt.textContent}),ce}}).removeTag=Mt.prototype.removeTags,Mt}()},2007:Se=>{Se.exports=function Ze(X,n,te){function Oe(Ue,He){if(!n[Ue]){if(!X[Ue]){if(we)return we(Ue,!0);var nt=new Error("Cannot find module '"+Ue+"'");throw nt.code="MODULE_NOT_FOUND",nt}var Be=n[Ue]={exports:{}};X[Ue][0].call(Be.exports,function(qe){return Oe(X[Ue][1][qe]||qe)},Be,Be.exports,Ze,X,n,te)}return n[Ue].exports}for(var we=void 0,Fe=0;Fe<te.length;Fe++)Oe(te[Fe]);return Oe}({1:[function(Ze,X,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.visible=void 0;var te=function(Fe){var Ue=arguments.length>1&&void 0!==arguments[1]&&arguments[1],He=document.createElement("div");return He.innerHTML=Fe.trim(),!0===Ue?He.children:He.firstChild},Oe=function(Fe,Ue){var He=Fe.children;return 1===He.length&&He[0].tagName===Ue},we=function(Fe){return null!=(Fe=Fe||document.querySelector(".basicLightbox"))&&!0===Fe.ownerDocument.body.contains(Fe)};n.visible=we,n.create=function(Fe,Ue){var He=function(Be,qe){var $e=te('\n\t\t<div class="basicLightbox '.concat(qe.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),Qe=$e.querySelector(".basicLightbox__placeholder");Be.forEach(function(Ae){return Qe.appendChild(Ae)});var Ot=Oe(Qe,"IMG"),Zt=Oe(Qe,"VIDEO"),_t=Oe(Qe,"IFRAME");return!0===Ot&&$e.classList.add("basicLightbox--img"),!0===Zt&&$e.classList.add("basicLightbox--video"),!0===_t&&$e.classList.add("basicLightbox--iframe"),$e}(Fe=function(Be){var qe="string"==typeof Be,$e=Be instanceof HTMLElement==1;if(!1===qe&&!1===$e)throw new Error("Content must be a DOM element/node or string");return!0===qe?Array.from(te(Be,!0)):"TEMPLATE"===Be.tagName?[Be.content.cloneNode(!0)]:Array.from(Be.children)}(Fe),Ue=function(){var Be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(Be=Object.assign({},Be)).closable&&(Be.closable=!0),null==Be.className&&(Be.className=""),null==Be.onShow&&(Be.onShow=function(){}),null==Be.onClose&&(Be.onClose=function(){}),"boolean"!=typeof Be.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof Be.className)throw new Error("Property `className` must be a string");if("function"!=typeof Be.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof Be.onClose)throw new Error("Property `onClose` must be a function");return Be}(Ue)),Ne=function(Be){return!1!==Ue.onClose(nt)&&($e=function(){if("function"==typeof Be)return Be(nt)},(qe=He).classList.remove("basicLightbox--visible"),setTimeout(function(){return!1===we(qe)||qe.parentElement.removeChild(qe),$e()},410),!0);var qe,$e};!0===Ue.closable&&He.addEventListener("click",function(Be){Be.target===He&&Ne()});var nt={element:function(){return He},visible:function(){return we(He)},show:function(Be){return!1!==Ue.onShow(nt)&&(qe=He,$e=function(){if("function"==typeof Be)return Be(nt)},document.body.appendChild(qe),setTimeout(function(){requestAnimationFrame(function(){return qe.classList.add("basicLightbox--visible"),$e()})},10),!0);var qe,$e},close:Ne};return nt}},{}]},{},[1])(1)},4937:function(Se){Se.exports=function(){"use strict";function X(wt,Yt){for(var gn=0;gn<Yt.length;gn++){var kn=Yt[gn];kn.enumerable=kn.enumerable||!1,kn.configurable=!0,"value"in kn&&(kn.writable=!0),Object.defineProperty(wt,kn.key,kn)}}function te(wt,Yt,gn){return Yt in wt?Object.defineProperty(wt,Yt,{value:gn,enumerable:!0,configurable:!0,writable:!0}):wt[Yt]=gn,wt}function Oe(){return(Oe=Object.assign||function(wt){for(var Yt=1;Yt<arguments.length;Yt++){var gn=arguments[Yt];for(var kn in gn)Object.prototype.hasOwnProperty.call(gn,kn)&&(wt[kn]=gn[kn])}return wt}).apply(this,arguments)}function we(wt,Yt){var gn=Object.keys(wt);if(Object.getOwnPropertySymbols){var kn=Object.getOwnPropertySymbols(wt);Yt&&(kn=kn.filter(function(Zn){return Object.getOwnPropertyDescriptor(wt,Zn).enumerable})),gn.push.apply(gn,kn)}return gn}function Fe(wt){for(var Yt=1;Yt<arguments.length;Yt++){var gn=null!=arguments[Yt]?arguments[Yt]:{};Yt%2?we(Object(gn),!0).forEach(function(kn){te(wt,kn,gn[kn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(wt,Object.getOwnPropertyDescriptors(gn)):we(Object(gn)).forEach(function(kn){Object.defineProperty(wt,kn,Object.getOwnPropertyDescriptor(gn,kn))})}return wt}var Yt,gn,Ne=(function(wt){var Yt,gn,kn,Zn,In,Hn,ni;"undefined"!=typeof window&&(Yt=window,gn=Yt.HTMLCanvasElement&&Yt.HTMLCanvasElement.prototype,kn=Yt.Blob&&function(){try{return Boolean(new Blob)}catch(pi){return!1}}(),Zn=kn&&Yt.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(pi){return!1}}(),In=Yt.BlobBuilder||Yt.WebKitBlobBuilder||Yt.MozBlobBuilder||Yt.MSBlobBuilder,Hn=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,ni=(kn||In)&&Yt.atob&&Yt.ArrayBuffer&&Yt.Uint8Array&&function(pi){var Fi,bi,fi,ri,zn,Un,_i,mi,ji;if(!(Fi=pi.match(Hn)))throw new Error("invalid data URI");for(bi=Fi[2]?Fi[1]:"text/plain"+(Fi[3]||";charset=US-ASCII"),fi=!!Fi[4],ri=pi.slice(Fi[0].length),zn=fi?atob(ri):decodeURIComponent(ri),Un=new ArrayBuffer(zn.length),_i=new Uint8Array(Un),mi=0;mi<zn.length;mi+=1)_i[mi]=zn.charCodeAt(mi);return kn?new Blob([Zn?_i:Un],{type:bi}):((ji=new In).append(Un),ji.getBlob(bi))},Yt.HTMLCanvasElement&&!gn.toBlob&&(gn.mozGetAsFile?gn.toBlob=function(pi,Fi,bi){var fi=this;setTimeout(function(){pi(bi&&gn.toDataURL&&ni?ni(fi.toDataURL(Fi,bi)):fi.mozGetAsFile("blob",Fi))})}:gn.toDataURL&&ni&&(gn.toBlob=gn.msToBlob?function(pi,Fi,bi){var fi=this;setTimeout(function(){pi((Fi&&"image/png"!==Fi||bi)&&gn.toDataURL&&ni?ni(fi.toDataURL(Fi,bi)):fi.msToBlob(Fi))})}:function(pi,Fi,bi){var fi=this;setTimeout(function(){pi(ni(fi.toDataURL(Fi,bi)))})})),wt.exports?wt.exports=ni:Yt.dataURLtoBlob=ni)}(gn={path:Yt,exports:{},require:function(kn,Zn){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},gn.exports),gn.exports),Be={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},$e="undefined"!=typeof window&&void 0!==window.document?window:{},Qe=Array.prototype.slice;function Ot(wt){return Array.from?Array.from(wt):Qe.call(wt)}var Zt=/^image\/.+$/;function _t(wt){return Zt.test(wt)}var Mt=String.fromCharCode;var ve=$e.btoa;function tt(wt){var gn,Yt=new DataView(wt);try{var kn,Zn,In;if(255===Yt.getUint8(0)&&216===Yt.getUint8(1))for(var Hn=Yt.byteLength,ni=2;ni+1<Hn;){if(255===Yt.getUint8(ni)&&225===Yt.getUint8(ni+1)){Zn=ni;break}ni+=1}if(Zn){var Fi=Zn+10;if("Exif"===function(wt,Yt,gn){var Zn,kn="";for(gn+=Yt,Zn=Yt;Zn<gn;Zn+=1)kn+=Mt(wt.getUint8(Zn));return kn}(Yt,Zn+4,4)){var bi=Yt.getUint16(Fi);if(((kn=18761===bi)||19789===bi)&&42===Yt.getUint16(Fi+2,kn)){var fi=Yt.getUint32(Fi+4,kn);fi>=8&&(In=Fi+fi)}}}if(In){var zn,Un,ri=Yt.getUint16(In,kn);for(Un=0;Un<ri;Un+=1)if(274===Yt.getUint16(zn=In+12*Un+2,kn)){gn=Yt.getUint16(zn+=8,kn),Yt.setUint16(zn,1,kn);break}}}catch(_i){gn=1}return gn}var Dt=/\.\d*(?:0|9){12}\d*$/;function cn(wt){var Yt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Dt.test(wt)?Math.round(wt*Yt)/Yt:wt}var gt=$e.ArrayBuffer,Ht=$e.FileReader,Lt=$e.URL||$e.webkitURL,on=/\.\w+$/,sn=$e.Compressor;return function(){function wt(Yt,gn){(function(wt,Yt){if(!(wt instanceof Yt))throw new TypeError("Cannot call a class as a function")})(this,wt),this.file=Yt,this.image=new Image,this.options=Fe(Fe({},Be),gn),this.aborted=!1,this.result=null,this.init()}return function(wt,Yt,gn){Yt&&X(wt.prototype,Yt),gn&&X(wt,gn)}(wt,[{key:"init",value:function(){var gn=this,kn=this.file,Zn=this.options;if(function(Yt){return"undefined"!=typeof Blob&&(Yt instanceof Blob||"[object Blob]"===Object.prototype.toString.call(Yt))}(kn)){var In=kn.type;if(_t(In))if(Lt&&Ht)if(gt||(Zn.checkOrientation=!1),Lt&&!Zn.checkOrientation)this.load({url:Lt.createObjectURL(kn)});else{var Hn=new Ht,ni=Zn.checkOrientation&&"image/jpeg"===In;this.reader=Hn,Hn.onload=function(pi){var bi=pi.target.result,fi={};if(ni){var ri=tt(bi);ri>1||!Lt?(fi.url=function(wt,Yt){for(var gn=[],Zn=new Uint8Array(wt);Zn.length>0;)gn.push(Mt.apply(null,Ot(Zn.subarray(0,8192)))),Zn=Zn.subarray(8192);return"data:".concat(Yt,";base64,").concat(ve(gn.join("")))}(bi,In),ri>1&&Oe(fi,function(wt){var Yt=0,gn=1,kn=1;switch(wt){case 2:gn=-1;break;case 3:Yt=-180;break;case 4:kn=-1;break;case 5:Yt=90,kn=-1;break;case 6:Yt=90;break;case 7:Yt=90,gn=-1;break;case 8:Yt=-90}return{rotate:Yt,scaleX:gn,scaleY:kn}}(ri))):fi.url=Lt.createObjectURL(kn)}else fi.url=bi;gn.load(fi)},Hn.onabort=function(){gn.fail(new Error("Aborted to read the image with FileReader."))},Hn.onerror=function(){gn.fail(new Error("Failed to read the image with FileReader."))},Hn.onloadend=function(){gn.reader=null},ni?Hn.readAsArrayBuffer(kn):Hn.readAsDataURL(kn)}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(gn){var kn=this,Zn=this.file,In=this.image;In.onload=function(){kn.draw(Fe(Fe({},gn),{},{naturalWidth:In.naturalWidth,naturalHeight:In.naturalHeight}))},In.onabort=function(){kn.fail(new Error("Aborted to load the image."))},In.onerror=function(){kn.fail(new Error("Failed to load the image."))},$e.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test($e.navigator.userAgent)&&(In.crossOrigin="anonymous"),In.alt=Zn.name,In.src=gn.url}},{key:"draw",value:function(gn){var kn=this,Zn=gn.naturalWidth,In=gn.naturalHeight,Hn=gn.rotate,ni=void 0===Hn?0:Hn,pi=gn.scaleX,Fi=void 0===pi?1:pi,bi=gn.scaleY,fi=void 0===bi?1:bi,ri=this.file,zn=this.image,Un=this.options,_i=document.createElement("canvas"),mi=_i.getContext("2d"),ji=Zn/In,er=Math.abs(ni)%180==90,fr=Math.max(Un.maxWidth,0)||1/0,Ji=Math.max(Un.maxHeight,0)||1/0,Or=Math.max(Un.minWidth,0)||0,Qn=Math.max(Un.minHeight,0)||0,Yi=Math.max(Un.width,0)||Zn,yr=Math.max(Un.height,0)||In;if(er){var pr=[Ji,fr];fr=pr[0],Ji=pr[1];var bn=[Qn,Or];Or=bn[0],Qn=bn[1];var jt=[yr,Yi];Yi=jt[0],yr=jt[1]}fr<1/0&&Ji<1/0?Ji*ji>fr?Ji=fr/ji:fr=Ji*ji:fr<1/0?Ji=fr/ji:Ji<1/0&&(fr=Ji*ji),Or>0&&Qn>0?Qn*ji>Or?Qn=Or/ji:Or=Qn*ji:Or>0?Qn=Or/ji:Qn>0&&(Or=Qn*ji),yr*ji>Yi?yr=Yi/ji:Yi=yr*ji;var tn=-(Yi=Math.floor(cn(Math.min(Math.max(Yi,Or),fr))))/2,jn=-(yr=Math.floor(cn(Math.min(Math.max(yr,Qn),Ji))))/2,Ve=Yi,It=yr;if(er){var vt=[yr,Yi];Yi=vt[0],yr=vt[1]}_i.width=Yi,_i.height=yr,_t(Un.mimeType)||(Un.mimeType=ri.type);var mn="transparent";if(ri.size>Un.convertSize&&"image/png"===Un.mimeType&&(mn="#fff",Un.mimeType="image/jpeg"),mi.fillStyle=mn,mi.fillRect(0,0,Yi,yr),Un.beforeDraw&&Un.beforeDraw.call(this,mi,_i),!this.aborted&&(mi.save(),mi.translate(Yi/2,yr/2),mi.rotate(ni*Math.PI/180),mi.scale(Fi,fi),mi.drawImage(zn,tn,jn,Ve,It),mi.restore(),Un.drew&&Un.drew.call(this,mi,_i),!this.aborted)){var Rn=function(Pn){kn.aborted||kn.done({naturalWidth:Zn,naturalHeight:In,result:Pn})};_i.toBlob?_i.toBlob(Rn,Un.mimeType,Un.quality):Rn(Ne(_i.toDataURL(Un.mimeType,Un.quality)))}}},{key:"done",value:function(gn){var kn=gn.naturalWidth,Zn=gn.naturalHeight,In=gn.result,Hn=this.file,pi=this.options;if(Lt&&!pi.checkOrientation&&Lt.revokeObjectURL(this.image.src),In)if(pi.strict&&In.size>Hn.size&&pi.mimeType===Hn.type&&!(pi.width>kn||pi.height>Zn||pi.minWidth>kn||pi.minHeight>Zn))In=Hn;else{var Fi=new Date;In.lastModified=Fi.getTime(),In.lastModifiedDate=Fi,In.name=Hn.name,In.name&&In.type!==Hn.type&&(In.name=In.name.replace(on,function(wt){var Yt=_t(wt)?wt.substr(6):"";return"jpeg"===Yt&&(Yt="jpg"),".".concat(Yt)}(In.type)))}else In=Hn;this.result=In,pi.success&&pi.success.call(this,In)}},{key:"fail",value:function(gn){var kn=this.options;if(!kn.error)throw gn;kn.error.call(this,gn)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=sn,wt}},{key:"setDefaults",value:function(gn){Oe(Be,gn)}}]),wt}()}()},1674:function(Se,Ze,X){var n,te;"undefined"!=typeof self&&self,void 0!==(te="function"==typeof(n=function(){"function"!=typeof Promise&&function(Ve){function It(ut,$t){return function(){ut.apply($t,arguments)}}function vt(ut){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof ut)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],Jn(ut,It(Rn,this),It(_n,this))}function mn(ut){var $t=this;return null===this._state?void this._deferreds.push(ut):void ii(function(){var zt=$t._state?ut.onFulfilled:ut.onRejected;if(null!==zt){var Gt;try{Gt=zt($t._value)}catch(Tn){return void ut.reject(Tn)}ut.resolve(Gt)}else($t._state?ut.resolve:ut.reject)($t._value)})}function Rn(ut){try{if(ut===this)throw new TypeError("A promise cannot be resolved with itself.");if(ut&&("object"==typeof ut||"function"==typeof ut)){var $t=ut.then;if("function"==typeof $t)return void Jn(It($t,ut),It(Rn,this),It(_n,this))}this._state=!0,this._value=ut,Pn.call(this)}catch(zt){_n.call(this,zt)}}function _n(ut){this._state=!1,this._value=ut,Pn.call(this)}function Pn(){for(var ut=0,$t=this._deferreds.length;$t>ut;ut++)mn.call(this,this._deferreds[ut]);this._deferreds=null}function En(ut,$t,zt,Gt){this.onFulfilled="function"==typeof ut?ut:null,this.onRejected="function"==typeof $t?$t:null,this.resolve=zt,this.reject=Gt}function Jn(ut,$t,zt){var Gt=!1;try{ut(function(Tn){Gt||(Gt=!0,$t(Tn))},function(Tn){Gt||(Gt=!0,zt(Tn))})}catch(Tn){if(Gt)return;Gt=!0,zt(Tn)}}var Yn=setTimeout,ii="function"==typeof setImmediate&&setImmediate||function(ut){Yn(ut,1)},Rt=Array.isArray||function(ut){return"[object Array]"===Object.prototype.toString.call(ut)};vt.prototype.catch=function(ut){return this.then(null,ut)},vt.prototype.then=function(ut,$t){var zt=this;return new vt(function(Gt,Tn){mn.call(zt,new En(ut,$t,Gt,Tn))})},vt.all=function(){var ut=Array.prototype.slice.call(1===arguments.length&&Rt(arguments[0])?arguments[0]:arguments);return new vt(function($t,zt){function Gt(Fn,Ni){try{if(Ni&&("object"==typeof Ni||"function"==typeof Ni)){var it=Ni.then;if("function"==typeof it)return void it.call(Ni,function(Ct){Gt(Fn,Ct)},zt)}ut[Fn]=Ni,0==--Tn&&$t(ut)}catch(Ct){zt(Ct)}}if(0===ut.length)return $t([]);for(var Tn=ut.length,ti=0;ti<ut.length;ti++)Gt(ti,ut[ti])})},vt.resolve=function(ut){return ut&&"object"==typeof ut&&ut.constructor===vt?ut:new vt(function($t){$t(ut)})},vt.reject=function(ut){return new vt(function($t,zt){zt(ut)})},vt.race=function(ut){return new vt(function($t,zt){for(var Gt=0,Tn=ut.length;Tn>Gt;Gt++)ut[Gt].then($t,zt)})},vt._setImmediateFn=function(ut){ii=ut},Se.exports?Se.exports=vt:Ve.Promise||(Ve.Promise=vt)}(this),"undefined"!=typeof window&&"function"!=typeof window.CustomEvent&&function(){function Ve(It,vt){vt=vt||{bubbles:!1,cancelable:!1,detail:void 0};var mn=document.createEvent("CustomEvent");return mn.initCustomEvent(It,vt.bubbles,vt.cancelable,vt.detail),mn}Ve.prototype=window.Event.prototype,window.CustomEvent=Ve}(),"undefined"!=typeof HTMLCanvasElement&&!HTMLCanvasElement.prototype.toBlob&&Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(Ve,It,vt){for(var mn=atob(this.toDataURL(It,vt).split(",")[1]),Rn=mn.length,_n=new Uint8Array(Rn),Pn=0;Pn<Rn;Pn++)_n[Pn]=mn.charCodeAt(Pn);Ve(new Blob([_n],{type:It||"image/png"}))}});var He,Ne,nt,Oe=["Webkit","Moz","ms"],we="undefined"!=typeof document?document.createElement("div").style:{},Fe=[1,8,3,6],Ue=[2,7,4,5];function Be(Ve){if(Ve in we)return Ve;for(var It=Ve[0].toUpperCase()+Ve.slice(1),vt=Oe.length;vt--;)if((Ve=Oe[vt]+It)in we)return Ve}function $e(Ve,It){for(var vt in Ve=Ve||{},It)It[vt]&&It[vt].constructor&&It[vt].constructor===Object?(Ve[vt]=Ve[vt]||{},$e(Ve[vt],It[vt])):Ve[vt]=It[vt];return Ve}function Qe(Ve){return $e({},Ve)}function Zt(Ve){if("createEvent"in document){var It=document.createEvent("HTMLEvents");It.initEvent("change",!1,!0),Ve.dispatchEvent(It)}else Ve.fireEvent("onchange")}function _t(Ve,It,vt){if("string"==typeof It){var mn=It;(It={})[mn]=vt}for(var Rn in It)Ve.style[Rn]=It[Rn]}function Ae(Ve,It){Ve.classList?Ve.classList.add(It):Ve.className+=" "+It}function ce(Ve,It){for(var vt in It)Ve.setAttribute(vt,It[vt])}function ve(Ve){return parseInt(Ve,10)}function tt(Ve,It){var vt=Ve.naturalWidth,mn=Ve.naturalHeight,Rn=It||gt(Ve);if(Rn&&Rn>=5){var _n=vt;vt=mn,mn=_n}return{width:vt,height:mn}}Ne=Be("transform"),He=Be("transformOrigin"),nt=Be("userSelect");var bt={translate3d:{suffix:", 0px"},translate:{suffix:""}},Dt=function(Ve,It,vt){this.x=parseFloat(Ve),this.y=parseFloat(It),this.scale=parseFloat(vt)};Dt.parse=function(Ve){return Ve.style?Dt.parse(Ve.style[Ne]):Ve.indexOf("matrix")>-1||Ve.indexOf("none")>-1?Dt.fromMatrix(Ve):Dt.fromString(Ve)},Dt.fromMatrix=function(Ve){var It=Ve.substring(7).split(",");return(!It.length||"none"===Ve)&&(It=[1,0,0,1,0,0]),new Dt(ve(It[4]),ve(It[5]),parseFloat(It[0]))},Dt.fromString=function(Ve){var It=Ve.split(") "),vt=It[0].substring(jn.globals.translate.length+1).split(","),mn=It.length>1?It[1].substring(6):1;return new Dt(vt.length>1?vt[0]:0,vt.length>1?vt[1]:0,mn)},Dt.prototype.toString=function(){return jn.globals.translate+"("+this.x+"px, "+this.y+"px"+(bt[jn.globals.translate].suffix||"")+") scale("+this.scale+")"};var cn=function(Ve){if(!Ve||!Ve.style[He])return this.x=0,void(this.y=0);var It=Ve.style[He].split(" ");this.x=parseFloat(It[0]),this.y=parseFloat(It[1])};function gt(Ve){return Ve.exifdata&&Ve.exifdata.Orientation?ve(Ve.exifdata.Orientation):1}function Ht(Ve,It,vt){var mn=It.width,Rn=It.height,_n=Ve.getContext("2d");switch(Ve.width=It.width,Ve.height=It.height,_n.save(),vt){case 2:_n.translate(mn,0),_n.scale(-1,1);break;case 3:_n.translate(mn,Rn),_n.rotate(180*Math.PI/180);break;case 4:_n.translate(0,Rn),_n.scale(1,-1);break;case 5:Ve.width=Rn,Ve.height=mn,_n.rotate(90*Math.PI/180),_n.scale(1,-1);break;case 6:Ve.width=Rn,Ve.height=mn,_n.rotate(90*Math.PI/180),_n.translate(0,-Rn);break;case 7:Ve.width=Rn,Ve.height=mn,_n.rotate(-90*Math.PI/180),_n.translate(-mn,Rn),_n.scale(1,-1);break;case 8:Ve.width=Rn,Ve.height=mn,_n.translate(0,mn),_n.rotate(-90*Math.PI/180)}_n.drawImage(It,0,0,mn,Rn),_n.restore()}function Lt(){var mn,Rn,_n,Pn,En,Jn,Ve=this,vt=Ve.options.viewport.type?"cr-vp-"+Ve.options.viewport.type:null;Ve.options.useCanvas=Ve.options.enableOrientation||on.call(Ve),Ve.data={},Ve.elements={},mn=Ve.elements.boundary=document.createElement("div"),_n=Ve.elements.viewport=document.createElement("div"),Rn=Ve.elements.img=document.createElement("img"),Pn=Ve.elements.overlay=document.createElement("div"),Ve.options.useCanvas?(Ve.elements.canvas=document.createElement("canvas"),Ve.elements.preview=Ve.elements.canvas):Ve.elements.preview=Rn,Ae(mn,"cr-boundary"),mn.setAttribute("aria-dropeffect","none"),Jn=Ve.options.boundary.height,_t(mn,{width:(En=Ve.options.boundary.width)+(isNaN(En)?"":"px"),height:Jn+(isNaN(Jn)?"":"px")}),Ae(_n,"cr-viewport"),vt&&Ae(_n,vt),_t(_n,{width:Ve.options.viewport.width+"px",height:Ve.options.viewport.height+"px"}),_n.setAttribute("tabindex",0),Ae(Ve.elements.preview,"cr-image"),ce(Ve.elements.preview,{alt:"preview","aria-grabbed":"false"}),Ae(Pn,"cr-overlay"),Ve.element.appendChild(mn),mn.appendChild(Ve.elements.preview),mn.appendChild(_n),mn.appendChild(Pn),Ae(Ve.element,"croppie-container"),Ve.options.customClass&&Ae(Ve.element,Ve.options.customClass),Zn.call(this),Ve.options.enableZoom&&wt.call(Ve),Ve.options.enableResize&&sn.call(Ve)}function on(){return this.options.enableExif&&window.EXIF}function sn(){var mn,Rn,_n,En,Jn,Yn,ii,Ve=this,It=document.createElement("div"),vt=!1;function Rt(zt){if((void 0===zt.button||0===zt.button)&&(zt.preventDefault(),!vt)){var Gt=Ve.elements.overlay.getBoundingClientRect();if(vt=!0,Rn=zt.pageX,_n=zt.pageY,mn=-1!==zt.currentTarget.className.indexOf("vertical")?"v":"h",En=Gt.width,Jn=Gt.height,zt.touches){var Tn=zt.touches[0];Rn=Tn.pageX,_n=Tn.pageY}window.addEventListener("mousemove",ut),window.addEventListener("touchmove",ut),window.addEventListener("mouseup",$t),window.addEventListener("touchend",$t),document.body.style[nt]="none"}}function ut(zt){var Gt=zt.pageX,Tn=zt.pageY;if(zt.preventDefault(),zt.touches){var ti=zt.touches[0];Gt=ti.pageX,Tn=ti.pageY}var Fn=Gt-Rn,Ni=Tn-_n,it=Ve.options.viewport.height+Ni,Ct=Ve.options.viewport.width+Fn;"v"===mn&&it>=50&&it<=Jn?(_t(It,{height:it+"px"}),Ve.options.boundary.height+=Ni,_t(Ve.elements.boundary,{height:Ve.options.boundary.height+"px"}),Ve.options.viewport.height+=Ni,_t(Ve.elements.viewport,{height:Ve.options.viewport.height+"px"})):"h"===mn&&Ct>=50&&Ct<=En&&(_t(It,{width:Ct+"px"}),Ve.options.boundary.width+=Fn,_t(Ve.elements.boundary,{width:Ve.options.boundary.width+"px"}),Ve.options.viewport.width+=Fn,_t(Ve.elements.viewport,{width:Ve.options.viewport.width+"px"})),In.call(Ve),bi.call(Ve),kn.call(Ve),ni.call(Ve),_n=Tn,Rn=Gt}function $t(){vt=!1,window.removeEventListener("mousemove",ut),window.removeEventListener("touchmove",ut),window.removeEventListener("mouseup",$t),window.removeEventListener("touchend",$t),document.body.style[nt]=""}Ae(It,"cr-resizer"),_t(It,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"}),this.options.resizeControls.height&&(Ae(Yn=document.createElement("div"),"cr-resizer-vertical"),It.appendChild(Yn)),this.options.resizeControls.width&&(Ae(ii=document.createElement("div"),"cr-resizer-horisontal"),It.appendChild(ii)),Yn&&(Yn.addEventListener("mousedown",Rt),Yn.addEventListener("touchstart",Rt)),ii&&(ii.addEventListener("mousedown",Rt),ii.addEventListener("touchstart",Rt)),this.elements.boundary.appendChild(It)}function pn(Ve){if(this.options.enableZoom){var It=this.elements.zoomer,vt=Ji(Ve,4);It.value=Math.max(parseFloat(It.min),Math.min(parseFloat(It.max),vt)).toString()}}function wt(){var Ve=this,It=Ve.elements.zoomerWrap=document.createElement("div"),vt=Ve.elements.zoomer=document.createElement("input");function mn(){Yt.call(Ve,{value:parseFloat(vt.value),origin:new cn(Ve.elements.preview),viewportRect:Ve.elements.viewport.getBoundingClientRect(),transform:Dt.parse(Ve.elements.preview)})}function Rn(_n){var En;if("ctrl"===Ve.options.mouseWheelZoom&&!0!==_n.ctrlKey)return 0;En=Ve._currentZoom+(_n.wheelDelta?_n.wheelDelta/1200:_n.deltaY?_n.deltaY/1060:_n.detail?_n.detail/-60:0)*Ve._currentZoom,_n.preventDefault(),pn.call(Ve,En),mn.call(Ve)}Ae(It,"cr-slider-wrap"),Ae(vt,"cr-slider"),vt.type="range",vt.step="0.0001",vt.value="1",vt.style.display=Ve.options.showZoomer?"":"none",vt.setAttribute("aria-label","zoom"),Ve.element.appendChild(It),It.appendChild(vt),Ve._currentZoom=1,Ve.elements.zoomer.addEventListener("input",mn),Ve.elements.zoomer.addEventListener("change",mn),Ve.options.mouseWheelZoom&&(Ve.elements.boundary.addEventListener("mousewheel",Rn),Ve.elements.boundary.addEventListener("DOMMouseScroll",Rn))}function Yt(Ve){var It=this,vt=Ve?Ve.transform:Dt.parse(It.elements.preview),mn=Ve?Ve.viewportRect:It.elements.viewport.getBoundingClientRect(),Rn=Ve?Ve.origin:new cn(It.elements.preview);function _n(){var Yn={};Yn[Ne]=vt.toString(),Yn[He]=Rn.toString(),_t(It.elements.preview,Yn)}if(It._currentZoom=Ve?Ve.value:It._currentZoom,vt.scale=It._currentZoom,It.elements.zoomer.setAttribute("aria-valuenow",It._currentZoom),_n(),It.options.enforceBoundary){var Pn=gn.call(It,mn),En=Pn.translate,Jn=Pn.origin;vt.x>=En.maxX&&(Rn.x=Jn.minX,vt.x=En.maxX),vt.x<=En.minX&&(Rn.x=Jn.maxX,vt.x=En.minX),vt.y>=En.maxY&&(Rn.y=Jn.minY,vt.y=En.maxY),vt.y<=En.minY&&(Rn.y=Jn.maxY,vt.y=En.minY)}_n(),Hn.call(It),ni.call(It)}function gn(Ve){var vt=this._currentZoom,mn=Ve.width,Rn=Ve.height,_n=this.elements.boundary.clientWidth/2,Pn=this.elements.boundary.clientHeight/2,En=this.elements.preview.getBoundingClientRect(),Jn=En.width,Yn=En.height,ii=mn/2,Rt=Rn/2,ut=-1*(ii/vt-_n),zt=-1*(Rt/vt-Pn),Tn=1/vt*ii,Fn=1/vt*Rt;return{translate:{maxX:ut,minX:ut-(Jn*(1/vt)-mn*(1/vt)),maxY:zt,minY:zt-(Yn*(1/vt)-Rn*(1/vt))},origin:{maxX:Jn*(1/vt)-Tn,minX:Tn,maxY:Yn*(1/vt)-Fn,minY:Fn}}}function kn(Ve){var It=this,vt=It._currentZoom,mn=It.elements.preview.getBoundingClientRect(),Rn=It.elements.viewport.getBoundingClientRect(),_n=Dt.parse(It.elements.preview.style[Ne]),Pn=new cn(It.elements.preview),En=Rn.top-mn.top+Rn.height/2,Jn=Rn.left-mn.left+Rn.width/2,Yn={},ii={};if(Ve){var ut=Pn.y,$t=_n.x,zt=_n.y;Yn.y=Pn.x,Yn.x=ut,_n.y=$t,_n.x=zt}else Yn.y=En/vt,Yn.x=Jn/vt,ii.y=(Yn.y-Pn.y)*(1-vt),ii.x=(Yn.x-Pn.x)*(1-vt),_n.x-=ii.x,_n.y-=ii.y;var Gt={};Gt[He]=Yn.x+"px "+Yn.y+"px",Gt[Ne]=_n.toString(),_t(It.elements.preview,Gt)}function Zn(){var vt,mn,Rn,_n,Pn,Ve=this,It=!1;function En(zt,Gt){var Tn=Ve.elements.preview.getBoundingClientRect(),ti=Pn.y+Gt,Fn=Pn.x+zt;Ve.options.enforceBoundary?(_n.top>Tn.top+Gt&&_n.bottom<Tn.bottom+Gt&&(Pn.y=ti),_n.left>Tn.left+zt&&_n.right<Tn.right+zt&&(Pn.x=Fn)):(Pn.y=ti,Pn.x=Fn)}function Jn(zt){Ve.elements.preview.setAttribute("aria-grabbed",zt),Ve.elements.boundary.setAttribute("aria-dropeffect",zt?"move":"none")}function Rt(zt){if((void 0===zt.button||0===zt.button)&&(zt.preventDefault(),!It)){if(vt=zt.pageX,mn=zt.pageY,zt.touches){var Gt=zt.touches[0];vt=Gt.pageX,mn=Gt.pageY}Jn(It=!0),Pn=Dt.parse(Ve.elements.preview),window.addEventListener("mousemove",ut),window.addEventListener("touchmove",ut),window.addEventListener("mouseup",$t),window.addEventListener("touchend",$t),document.body.style[nt]="none",_n=Ve.elements.viewport.getBoundingClientRect()}}function ut(zt){zt.preventDefault();var Gt=zt.pageX,Tn=zt.pageY;if(zt.touches){var ti=zt.touches[0];Gt=ti.pageX,Tn=ti.pageY}var Fn=Gt-vt,Ni=Tn-mn,it={};if("touchmove"===zt.type&&zt.touches.length>1){var Ct=zt.touches[0],dt=zt.touches[1],We=Math.sqrt((Ct.pageX-dt.pageX)*(Ct.pageX-dt.pageX)+(Ct.pageY-dt.pageY)*(Ct.pageY-dt.pageY));return Rn||(Rn=We/Ve._currentZoom),pn.call(Ve,We/Rn),void Zt(Ve.elements.zoomer)}En(Fn,Ni),it[Ne]=Pn.toString(),_t(Ve.elements.preview,it),In.call(Ve),mn=Tn,vt=Gt}function $t(){Jn(It=!1),window.removeEventListener("mousemove",ut),window.removeEventListener("touchmove",ut),window.removeEventListener("mouseup",$t),window.removeEventListener("touchend",$t),document.body.style[nt]="",kn.call(Ve),ni.call(Ve),Rn=0}Ve.elements.overlay.addEventListener("mousedown",Rt),Ve.elements.viewport.addEventListener("keydown",function(zt){var Ni;if(!zt.shiftKey||38!==zt.keyCode&&40!==zt.keyCode){if(Ve.options.enableKeyMovement&&zt.keyCode>=37&&zt.keyCode<=40){zt.preventDefault();var it=function(dt){switch(dt){case 37:return[1,0];case 38:return[0,1];case 39:return[-1,0];case 40:return[0,-1]}}(zt.keyCode);Pn=Dt.parse(Ve.elements.preview),document.body.style[nt]="none",_n=Ve.elements.viewport.getBoundingClientRect(),function(zt){var ti={};En(zt[0],zt[1]),ti[Ne]=Pn.toString(),_t(Ve.elements.preview,ti),In.call(Ve),document.body.style[nt]="",kn.call(Ve),ni.call(Ve),Rn=0}(it)}}else Ni=38===zt.keyCode?parseFloat(Ve.elements.zoomer.value)+parseFloat(Ve.elements.zoomer.step):parseFloat(Ve.elements.zoomer.value)-parseFloat(Ve.elements.zoomer.step),Ve.setZoom(Ni)}),Ve.elements.overlay.addEventListener("touchstart",Rt)}function In(){if(this.elements){var It=this.elements.boundary.getBoundingClientRect(),vt=this.elements.preview.getBoundingClientRect();_t(this.elements.overlay,{width:vt.width+"px",height:vt.height+"px",top:vt.top-It.top+"px",left:vt.left-It.left+"px"})}}cn.prototype.toString=function(){return this.x+"px "+this.y+"px"};var Ve,It,vt,mn,Hn=(Ve=In,It=500,function(){var Rn=this,_n=arguments,Pn=function(){mn=null,vt||Ve.apply(Rn,_n)},En=vt&&!mn;clearTimeout(mn),mn=setTimeout(Pn,It),En&&Ve.apply(Rn,_n)});function ni(){var Ve=this,It=Ve.get();if(pi.call(Ve))if(Ve.options.update.call(Ve,It),Ve.$&&"undefined"==typeof Prototype)Ve.$(Ve.element).trigger("update.croppie",It);else{var vt;window.CustomEvent?vt=new CustomEvent("update",{detail:It}):(vt=document.createEvent("CustomEvent")).initCustomEvent("update",!0,!0,It),Ve.element.dispatchEvent(vt)}}function pi(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function Fi(){var Rn,Ve=this,vt={},mn=Ve.elements.preview,_n=new Dt(0,0,1),Pn=new cn;!pi.call(Ve)||Ve.data.bound||(Ve.data.bound=!0,vt[Ne]=_n.toString(),vt[He]=Pn.toString(),vt.opacity=1,_t(mn,vt),Rn=Ve.elements.preview.getBoundingClientRect(),Ve._originalImageWidth=Rn.width,Ve._originalImageHeight=Rn.height,Ve.data.orientation=on.call(Ve)?gt(Ve.elements.img):Ve.data.orientation,Ve.options.enableZoom?bi.call(Ve,!0):Ve._currentZoom=1,_n.scale=Ve._currentZoom,vt[Ne]=_n.toString(),_t(mn,vt),Ve.data.points.length?fi.call(Ve,Ve.data.points):ri.call(Ve),kn.call(Ve),In.call(Ve))}function bi(Ve){var _n,It=this,vt=Math.max(It.options.minZoom,0)||0,mn=It.options.maxZoom||1.5,Pn=It.elements.zoomer,En=parseFloat(Pn.value),Jn=It.elements.boundary.getBoundingClientRect(),Yn=tt(It.elements.img,It.data.orientation),ii=It.elements.viewport.getBoundingClientRect();It.options.enforceBoundary&&(vt=Math.max(ii.width/Yn.width,ii.height/Yn.height)),vt>=mn&&(mn=vt+1),Pn.min=Ji(vt,4),Pn.max=Ji(mn,4),!Ve&&(En<Pn.min||En>Pn.max)?pn.call(It,En<Pn.min?Pn.min:Pn.max):Ve&&(_n=Math.max(Jn.width/Yn.width,Jn.height/Yn.height),pn.call(It,null!==It.data.boundZoom?It.data.boundZoom:_n)),Zt(Pn)}function fi(Ve){if(4!==Ve.length)throw"Croppie - Invalid number of points supplied: "+Ve;var It=this,vt=Ve[2]-Ve[0],mn=It.elements.viewport.getBoundingClientRect(),Rn=It.elements.boundary.getBoundingClientRect(),Pn=mn.width/vt,Yn=-1*Ve[1]+(mn.top-Rn.top),ii=-1*Ve[0]+(mn.left-Rn.left),Rt={};Rt[He]=Ve[0]+"px "+Ve[1]+"px",Rt[Ne]=new Dt(ii,Yn,Pn).toString(),_t(It.elements.preview,Rt),pn.call(It,Pn),It._currentZoom=Pn}function ri(){var Ve=this,It=Ve.elements.preview.getBoundingClientRect(),vt=Ve.elements.viewport.getBoundingClientRect(),mn=Ve.elements.boundary.getBoundingClientRect(),Jn=new Dt(vt.left-mn.left-(It.width-vt.width)/2,vt.top-mn.top-(It.height-vt.height)/2,Ve._currentZoom);_t(Ve.elements.preview,Ne,Jn.toString())}function zn(Ve){var vt=this.elements.canvas,mn=this.elements.img;vt.getContext("2d").clearRect(0,0,vt.width,vt.height),vt.width=mn.width,vt.height=mn.height,Ht(vt,mn,this.options.enableOrientation&&Ve||gt(mn))}function Un(Ve){var vt=Ve.points,mn=ve(vt[0]),Rn=ve(vt[1]),En=ve(vt[2])-mn,Jn=ve(vt[3])-Rn,Yn=Ve.circle,ii=document.createElement("canvas"),Rt=ii.getContext("2d"),zt=Ve.outputWidth||En,Gt=Ve.outputHeight||Jn;ii.width=zt,ii.height=Gt,Ve.backgroundColor&&(Rt.fillStyle=Ve.backgroundColor,Rt.fillRect(0,0,zt,Gt));var Tn=mn,ti=Rn,Fn=En,Ni=Jn,it=0,Ct=0,dt=zt,We=Gt;return mn<0&&(Tn=0,it=Math.abs(mn)/En*zt),Fn+Tn>this._originalImageWidth&&(dt=(Fn=this._originalImageWidth-Tn)/En*zt),Rn<0&&(ti=0,Ct=Math.abs(Rn)/Jn*Gt),Ni+ti>this._originalImageHeight&&(We=(Ni=this._originalImageHeight-ti)/Jn*Gt),Rt.drawImage(this.elements.preview,Tn,ti,Fn,Ni,it,Ct,dt,We),Yn&&(Rt.fillStyle="#fff",Rt.globalCompositeOperation="destination-in",Rt.beginPath(),Rt.arc(ii.width/2,ii.height/2,ii.width/2,0,2*Math.PI,!0),Rt.closePath(),Rt.fill()),ii}function _i(Ve){var It=Ve.points,vt=document.createElement("div"),mn=document.createElement("img"),Rn=It[2]-It[0],_n=It[3]-It[1];return Ae(vt,"croppie-result"),vt.appendChild(mn),_t(mn,{left:-1*It[0]+"px",top:-1*It[1]+"px"}),mn.src=Ve.url,_t(vt,{width:Rn+"px",height:_n+"px"}),vt}function mi(Ve){return Un.call(this,Ve).toDataURL(Ve.format,Ve.quality)}function ji(Ve){var It=this;return new Promise(function(vt){Un.call(It,Ve).toBlob(function(mn){vt(mn)},Ve.format,Ve.quality)})}function er(Ve){this.elements.img.parentNode&&(Array.prototype.forEach.call(this.elements.img.classList,function(It){Ve.classList.add(It)}),this.elements.img.parentNode.replaceChild(Ve,this.elements.img),this.elements.preview=Ve),this.elements.img=Ve}function fr(Ve,It){var mn,vt=this,Rn=[],_n=null,Pn=on.call(vt);if("string"==typeof Ve)mn=Ve,Ve={};else if(Array.isArray(Ve))Rn=Ve.slice();else{if(void 0===Ve&&vt.data.url)return Fi.call(vt),ni.call(vt),null;mn=Ve.url,Rn=Ve.points||[],_n=void 0===Ve.zoom?null:Ve.zoom}return vt.data.bound=!1,vt.data.url=mn||vt.data.url,vt.data.boundZoom=_n,function(Ve,It){if(!Ve)throw"Source image missing";var vt=new Image;return vt.style.opacity="0",new Promise(function(mn,Rn){function _n(){vt.style.opacity="1",setTimeout(function(){mn(vt)},1)}vt.removeAttribute("crossOrigin"),Ve.match(/^https?:\/\/|^\/\//)&&vt.setAttribute("crossOrigin","anonymous"),vt.onload=function(){It?EXIF.getData(vt,function(){_n()}):_n()},vt.onerror=function(Pn){vt.style.opacity=1,setTimeout(function(){Rn(Pn)},1)},vt.src=Ve})}(mn,Pn).then(function(En){if(er.call(vt,En),Rn.length)vt.options.relative&&(Rn=[Rn[0]*En.naturalWidth/100,Rn[1]*En.naturalHeight/100,Rn[2]*En.naturalWidth/100,Rn[3]*En.naturalHeight/100]);else{var ut,$t,Jn=tt(En),Yn=vt.elements.viewport.getBoundingClientRect(),ii=Yn.width/Yn.height;Jn.width/Jn.height>ii?ut=($t=Jn.height)*ii:(ut=Jn.width,$t=Jn.height/ii);var zt=(Jn.width-ut)/2,Gt=(Jn.height-$t)/2;vt.data.points=[zt,Gt,zt+ut,Gt+$t]}vt.data.orientation=Ve.orientation||1,vt.data.points=Rn.map(function(Fn){return parseFloat(Fn)}),vt.options.useCanvas&&zn.call(vt,vt.data.orientation),Fi.call(vt),ni.call(vt),It&&It()})}function Ji(Ve,It){return parseFloat(Ve).toFixed(It||0)}function Or(){var Ve=this,It=Ve.elements.preview.getBoundingClientRect(),vt=Ve.elements.viewport.getBoundingClientRect(),mn=vt.left-It.left,Rn=vt.top-It.top,En=mn+Ve.elements.viewport.offsetWidth+(vt.width-Ve.elements.viewport.offsetWidth)/2,Jn=Rn+Ve.elements.viewport.offsetHeight+(vt.height-Ve.elements.viewport.offsetHeight)/2,Yn=Ve._currentZoom;(Yn===1/0||isNaN(Yn))&&(Yn=1);var ii=Ve.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return mn=Math.max(ii,mn/Yn),Rn=Math.max(ii,Rn/Yn),En=Math.max(ii,En/Yn),Jn=Math.max(ii,Jn/Yn),{points:[Ji(mn),Ji(Rn),Ji(En),Ji(Jn)],zoom:Yn,orientation:Ve.data.orientation}}var Qn={type:"canvas",format:"png",quality:1},Yi=["jpeg","webp","png"];function yr(Ve){var It=this,vt=Or.call(It),mn=$e(Qe(Qn),Qe(Ve)),Rn="string"==typeof Ve?Ve:mn.type||"base64",_n=mn.size||"viewport",Pn=mn.format,En=mn.quality,Jn=mn.backgroundColor,Yn="boolean"==typeof mn.circle?mn.circle:"circle"===It.options.viewport.type,ii=It.elements.viewport.getBoundingClientRect(),Rt=ii.width/ii.height;return"viewport"===_n?(vt.outputWidth=ii.width,vt.outputHeight=ii.height):"object"==typeof _n&&(_n.width&&_n.height?(vt.outputWidth=_n.width,vt.outputHeight=_n.height):_n.width?(vt.outputWidth=_n.width,vt.outputHeight=_n.width/Rt):_n.height&&(vt.outputWidth=_n.height*Rt,vt.outputHeight=_n.height)),Yi.indexOf(Pn)>-1&&(vt.format="image/"+Pn,vt.quality=En),vt.circle=Yn,vt.url=It.data.url,vt.backgroundColor=Jn,new Promise(function($t){switch(Rn.toLowerCase()){case"rawcanvas":$t(Un.call(It,vt));break;case"canvas":case"base64":$t(mi.call(It,vt));break;case"blob":ji.call(It,vt).then($t);break;default:$t(_i.call(It,vt))}})}function pr(){Fi.call(this)}function bn(Ve){if(!this.options.useCanvas||!this.options.enableOrientation)throw"Croppie: Cannot rotate without enableOrientation && EXIF.js included";var It=this,vt=It.elements.canvas;if(It.data.orientation=function(Ve,It){var vt=Fe.indexOf(Ve)>-1?Fe:Ue,mn=vt.indexOf(Ve);return vt[(vt.length+mn+It/90%vt.length%vt.length)%vt.length]}(It.data.orientation,Ve),Ht(vt,It.elements.img,It.data.orientation),kn.call(It,!0),bi.call(It),Math.abs(Ve)/90%2==1){var Rn=It._originalImageWidth;It._originalImageWidth=It._originalImageHeight,It._originalImageHeight=Rn}}function jt(){var Ve=this;Ve.element.removeChild(Ve.elements.boundary),function(Ve,It){Ve.classList?Ve.classList.remove(It):Ve.className=Ve.className.replace(It,"")}(Ve.element,"croppie-container"),Ve.options.enableZoom&&Ve.element.removeChild(Ve.elements.zoomerWrap),delete Ve.elements}if("undefined"!=typeof window&&window.jQuery){var tn=window.jQuery;tn.fn.croppie=function(Ve){if("string"==typeof Ve){var vt=Array.prototype.slice.call(arguments,1),mn=tn(this).data("croppie");return"get"===Ve?mn.get():"result"===Ve?mn.result.apply(mn,vt):"bind"===Ve?mn.bind.apply(mn,vt):this.each(function(){var Rn=tn(this).data("croppie");if(Rn){var _n=Rn[Ve];if(!tn.isFunction(_n))throw"Croppie "+Ve+" method not found";_n.apply(Rn,vt),"destroy"===Ve&&tn(this).removeData("croppie")}})}return this.each(function(){var Rn=new jn(this,Ve);Rn.$=tn,tn(this).data("croppie",Rn)})}}function jn(Ve,It){if(Ve.className.indexOf("croppie-container")>-1)throw new Error("Croppie: Can't initialize croppie more than once");if(this.element=Ve,this.options=$e(Qe(jn.defaults),It),"img"===this.element.tagName.toLowerCase()){var vt=this.element;Ae(vt,"cr-original-image"),ce(vt,{"aria-hidden":"true",alt:""});var mn=document.createElement("div");this.element.parentNode.appendChild(mn),mn.appendChild(vt),this.element=mn,this.options.url=this.options.url||vt.src}if(Lt.call(this),this.options.url){var Rn={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,fr.call(this,Rn)}}return jn.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},resizeControls:{width:!0,height:!0},customClass:"",showZoomer:!0,enableZoom:!0,enableResize:!1,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,enableKeyMovement:!0,update:function(){}},jn.globals={translate:"translate3d"},$e(jn.prototype,{bind:function(Ve,It){return fr.call(this,Ve,It)},get:function(){var Ve=Or.call(this),It=Ve.points;return this.options.relative&&(It[0]/=this.elements.img.naturalWidth/100,It[1]/=this.elements.img.naturalHeight/100,It[2]/=this.elements.img.naturalWidth/100,It[3]/=this.elements.img.naturalHeight/100),Ve},result:function(Ve){return yr.call(this,Ve)},refresh:function(){return pr.call(this)},setZoom:function(Ve){pn.call(this,Ve),Zt(this.elements.zoomer)},rotate:function(Ve){bn.call(this,Ve)},destroy:function(){return jt.call(this)}}),jn})?n.call(Ze,X,Ze,Se):n)&&(Se.exports=te)},7612:function(Se){Se.exports=function(){"use strict";var Ze=/^(b|B)$/,X={iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},n={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},te={floor:Math.floor,ceil:Math.ceil};function Oe(we){var Fe,Ue,He,Ne,nt,Be,qe,$e,Qe,Ot,Zt,_t,Ae,Mt,ce,ve,Me,tt,bt,Dt,cn,gt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ht=[],Lt=0;if(isNaN(we))throw new TypeError("Invalid number");if(He=!0===gt.bits,ce=!0===gt.unix,_t=!0===gt.pad,Ae=void 0!==gt.round?gt.round:ce?1:2,qe=void 0!==gt.locale?gt.locale:"",$e=gt.localeOptions||{},ve=void 0!==gt.separator?gt.separator:"",Me=void 0!==gt.spacer?gt.spacer:ce?"":" ",bt=gt.symbols||{},tt=2===(Ue=gt.base||10)?gt.standard||"iec":"jedec",Zt=gt.output||"string",nt=!0===gt.fullform,Be=gt.fullforms instanceof Array?gt.fullforms:[],Fe=void 0!==gt.exponent?gt.exponent:-1,Dt=te[gt.roundingMethod]||Math.round,Qe=(Ot=Number(we))<0,Ne=Ue>2?1e3:1024,cn=!1===isNaN(gt.precision)?parseInt(gt.precision,10):0,Qe&&(Ot=-Ot),(-1===Fe||isNaN(Fe))&&(Fe=Math.floor(Math.log(Ot)/Math.log(Ne)))<0&&(Fe=0),Fe>8&&(cn>0&&(cn+=8-Fe),Fe=8),"exponent"===Zt)return Fe;if(0===Ot)Ht[0]=0,Mt=Ht[1]=ce?"":X[tt][He?"bits":"bytes"][Fe];else{Lt=Ot/(2===Ue?Math.pow(2,10*Fe):Math.pow(1e3,Fe)),He&&(Lt*=8)>=Ne&&Fe<8&&(Lt/=Ne,Fe++);var on=Math.pow(10,Fe>0?Ae:0);Ht[0]=Dt(Lt*on)/on,Ht[0]===Ne&&Fe<8&&void 0===gt.exponent&&(Ht[0]=1,Fe++),Mt=Ht[1]=10===Ue&&1===Fe?He?"kbit":"kB":X[tt][He?"bits":"bytes"][Fe],ce&&(Ht[1]=Ht[1].charAt(0),Ze.test(Ht[1])&&(Ht[0]=Math.floor(Ht[0]),Ht[1]=""))}if(Qe&&(Ht[0]=-Ht[0]),cn>0&&(Ht[0]=Ht[0].toPrecision(cn)),Ht[1]=bt[Ht[1]]||Ht[1],!0===qe?Ht[0]=Ht[0].toLocaleString():qe.length>0?Ht[0]=Ht[0].toLocaleString(qe,$e):ve.length>0&&(Ht[0]=Ht[0].toString().replace(".",ve)),_t&&!1===Number.isInteger(Ht[0])&&Ae>0){var sn=ve||".",pn=Ht[0].toString().split(sn),wt=pn[1]||"",Yt=wt.length,gn=Ae-Yt;Ht[0]="".concat(pn[0]).concat(sn).concat(wt.padEnd(Yt+gn,"0"))}return nt&&(Ht[1]=Be[Fe]?Be[Fe]:n[tt][Fe]+(He?"bit":"byte")+(1===Ht[0]?"":"s")),"array"===Zt?Ht:"object"===Zt?{value:Ht[0],symbol:Ht[1],exponent:Fe,unit:Mt}:Ht.join(Me)}return Oe.partial=function(we){return function(Fe){return Oe(Fe,we)}},Oe}()},7841:(Se,Ze,X)=>{"use strict";X.d(Ze,{Z:()=>n.Z});var n=X(4486);n.Z.registerVersion("firebase","9.0.2","app-compat")},6780:(Se,Ze,X)=>{"use strict";X.r(Ze);var n=X(8239),te=X(4486),Oe=X(4685),we=X(5452),Fe=X(4762),Ue=X(300),He=X(6034);const Zt=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},_t=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ae=new Oe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ce=new Ue.Yd("@firebase/auth");function ve(oe,...j){ce.logLevel<=Ue.in.ERROR&&ce.error(`Auth (${we.SDK_VERSION}): ${oe}`,...j)}function Me(oe,...j){throw cn(oe,...j)}function tt(oe,...j){return cn(oe,...j)}function bt(oe,j,H){const de=Object.assign(Object.assign({},_t()),{[j]:H});return new Oe.LL("auth","Firebase",de).create(j,{appName:oe.name})}function Dt(oe,j,H){if(!(j instanceof H))throw H.name!==j.constructor.name&&Me(oe,"argument-error"),bt(oe,"argument-error",`Type of ${j.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cn(oe,...j){if("string"!=typeof oe){const H=j[0],de=[...j.slice(1)];return de[0]&&(de[0].appName=oe.name),oe._errorFactory.create(H,...de)}return Ae.create(oe,...j)}function gt(oe,j,...H){if(!oe)throw cn(j,...H)}function Ht(oe){const j="INTERNAL ASSERTION FAILED: "+oe;throw ve(j),new Error(j)}function Lt(oe,j){oe||Ht(j)}const on=new Map;function sn(oe){Lt(oe instanceof Function,"Expected a class definition");let j=on.get(oe);return j?(Lt(j instanceof oe,"Instance stored in cache mismatched with class"),j):(j=new oe,on.set(oe,j),j)}function Yt(){var oe;return"undefined"!=typeof self&&(null===(oe=self.location)||void 0===oe?void 0:oe.href)||""}function gn(){return"http:"===kn()||"https:"===kn()}function kn(){var oe;return"undefined"!=typeof self&&(null===(oe=self.location)||void 0===oe?void 0:oe.protocol)||null}class Hn{constructor(j,H){this.shortDelay=j,this.longDelay=H,Lt(H>j,"Short delay should be less than long delay!"),this.isMobile=(0,Oe.uI)()||(0,Oe.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gn()||(0,Oe.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ni(oe,j){Lt(oe.emulator,"Emulator should always be set here");const{url:H}=oe.emulator;return j?`${H}${j.startsWith("/")?j.slice(1):j}`:H}class pi{static initialize(j,H,de){this.fetchImpl=j,H&&(this.headersImpl=H),de&&(this.responseImpl=de)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},bi=new Hn(3e4,6e4);function fi(oe,j){return oe.tenantId&&!j.tenantId?Object.assign(Object.assign({},j),{tenantId:oe.tenantId}):j}function ri(oe,j,H,de){return zn.apply(this,arguments)}function zn(){return(zn=(0,n.Z)(function*(oe,j,H,de,Ye={}){return Un(oe,Ye,()=>{let At={},An={};de&&("GET"===j?An=de:At={body:JSON.stringify(de)});const hi=(0,Oe.xO)(Object.assign({key:oe.config.apiKey},An)).slice(1),qi=new(pi.headers());return qi.set("Content-Type","application/json"),qi.set("X-Client-Version",oe._getSdkClientVersion()),oe.languageCode&&qi.set("X-Firebase-Locale",oe.languageCode),pi.fetch()(er(oe,oe.config.apiHost,H,hi),Object.assign({method:j,headers:qi,referrerPolicy:"no-referrer"},At))})})).apply(this,arguments)}function Un(oe,j,H){return _i.apply(this,arguments)}function _i(){return(_i=(0,n.Z)(function*(oe,j,H){oe._canInitEmulator=!1;const de=Object.assign(Object.assign({},Fi),j);try{const Ye=new fr(oe),At=yield Promise.race([H(),Ye.promise]);Ye.clearNetworkTimeout();const An=yield At.json();if("needConfirmation"in An)throw Ji(oe,"account-exists-with-different-credential",An);if(At.ok&&!("errorMessage"in An))return An;{const hi=At.ok?An.errorMessage:An.error.message,[qi,Er]=hi.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qi)throw Ji(oe,"credential-already-in-use",An);if("EMAIL_EXISTS"===qi)throw Ji(oe,"email-already-in-use",An);const Zr=de[qi]||qi.toLowerCase().replace(/[_\s]+/g,"-");if(Er)throw bt(oe,Zr,Er);Me(oe,Zr)}}catch(Ye){if(Ye instanceof Oe.ZR)throw Ye;Me(oe,"network-request-failed")}})).apply(this,arguments)}function mi(oe,j,H,de){return ji.apply(this,arguments)}function ji(){return(ji=(0,n.Z)(function*(oe,j,H,de,Ye={}){const At=yield ri(oe,j,H,de,Ye);return"mfaPendingCredential"in At&&Me(oe,"multi-factor-auth-required",{serverResponse:At}),At})).apply(this,arguments)}function er(oe,j,H,de){const Ye=`${j}${H}?${de}`;return oe.config.emulator?ni(oe.config,Ye):`${oe.config.apiScheme}://${Ye}`}class fr{constructor(j){this.auth=j,this.timer=null,this.promise=new Promise((H,de)=>{this.timer=setTimeout(()=>de(tt(this.auth,"timeout")),bi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ji(oe,j,H){const de={appName:oe.name};H.email&&(de.email=H.email),H.phoneNumber&&(de.phoneNumber=H.phoneNumber);const Ye=tt(oe,j,de);return Ye.customData._tokenResponse=H,Ye}function Qn(){return(Qn=(0,n.Z)(function*(oe,j){return ri(oe,"POST","/v1/accounts:delete",j)})).apply(this,arguments)}function Yi(oe,j){return yr.apply(this,arguments)}function yr(){return(yr=(0,n.Z)(function*(oe,j){return ri(oe,"POST","/v1/accounts:update",j)})).apply(this,arguments)}function pr(oe,j){return bn.apply(this,arguments)}function bn(){return(bn=(0,n.Z)(function*(oe,j){return ri(oe,"POST","/v1/accounts:lookup",j)})).apply(this,arguments)}function jt(oe){if(oe)try{const j=new Date(Number(oe));if(!isNaN(j.getTime()))return j.toUTCString()}catch(j){}}function Ve(){return(Ve=(0,n.Z)(function*(oe,j=!1){const H=(0,Oe.m9)(oe),de=yield H.getIdToken(j),Ye=vt(de);gt(Ye&&Ye.exp&&Ye.auth_time&&Ye.iat,H.auth,"internal-error");const At="object"==typeof Ye.firebase?Ye.firebase:void 0,An=null==At?void 0:At.sign_in_provider;return{claims:Ye,token:de,authTime:jt(It(Ye.auth_time)),issuedAtTime:jt(It(Ye.iat)),expirationTime:jt(It(Ye.exp)),signInProvider:An||null,signInSecondFactor:(null==At?void 0:At.sign_in_second_factor)||null}})).apply(this,arguments)}function It(oe){return 1e3*Number(oe)}function vt(oe){const[j,H,de]=oe.split(".");if(void 0===j||void 0===H||void 0===de)return ve("JWT malformed, contained fewer than 3 sections"),null;try{const Ye=(0,Oe.tV)(H);return Ye?JSON.parse(Ye):(ve("Failed to decode base64 JWT payload"),null)}catch(Ye){return ve("Caught error parsing JWT payload as JSON",Ye),null}}function Rn(oe,j){return _n.apply(this,arguments)}function _n(){return(_n=(0,n.Z)(function*(oe,j,H=!1){if(H)return j;try{return yield j}catch(de){throw de instanceof Oe.ZR&&Pn(de)&&oe.auth.currentUser===oe&&(yield oe.auth.signOut()),de}})).apply(this,arguments)}function Pn({code:oe}){return"auth/user-disabled"===oe||"auth/user-token-expired"===oe}class En{constructor(j){this.user=j,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(j){var H;if(j){const de=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),de}{this.errorBackoff=3e4;const Ye=(null!==(H=this.user.stsTokenManager.expirationTime)&&void 0!==H?H:0)-Date.now()-3e5;return Math.max(0,Ye)}}schedule(j=!1){var H=this;if(!this.isRunning)return;const de=this.getInterval(j);this.timerId=setTimeout((0,n.Z)(function*(){yield H.iteration()}),de)}iteration(){var j=this;return(0,n.Z)(function*(){try{yield j.user.getIdToken(!0)}catch(H){return void("auth/network-request-failed"===H.code&&j.schedule(!0))}j.schedule()})()}}class Jn{constructor(j,H){this.createdAt=j,this.lastLoginAt=H,this._initializeTime()}_initializeTime(){this.lastSignInTime=jt(this.lastLoginAt),this.creationTime=jt(this.createdAt)}_copy(j){this.createdAt=j.createdAt,this.lastLoginAt=j.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yn(oe){return ii.apply(this,arguments)}function ii(){return(ii=(0,n.Z)(function*(oe){var j;const H=oe.auth,de=yield oe.getIdToken(),Ye=yield Rn(oe,pr(H,{idToken:de}));gt(null==Ye?void 0:Ye.users.length,H,"internal-error");const At=Ye.users[0];oe._notifyReloadListener(At);const An=(null===(j=At.providerUserInfo)||void 0===j?void 0:j.length)?zt(At.providerUserInfo):[],hi=$t(oe.providerData,An),Zr=!!oe.isAnonymous&&!(oe.email&&At.passwordHash||(null==hi?void 0:hi.length)),Wn={uid:At.localId,displayName:At.displayName||null,photoURL:At.photoUrl||null,email:At.email||null,emailVerified:At.emailVerified||!1,phoneNumber:At.phoneNumber||null,tenantId:At.tenantId||null,providerData:hi,metadata:new Jn(At.createdAt,At.lastLoginAt),isAnonymous:Zr};Object.assign(oe,Wn)})).apply(this,arguments)}function ut(){return(ut=(0,n.Z)(function*(oe){const j=(0,Oe.m9)(oe);yield Yn(j),yield j.auth._persistUserIfCurrent(j),j.auth._notifyListenersIfCurrent(j)})).apply(this,arguments)}function $t(oe,j){return[...oe.filter(de=>!j.some(Ye=>Ye.providerId===de.providerId)),...j]}function zt(oe){return oe.map(j=>{var{providerId:H}=j,de=(0,Fe._T)(j,["providerId"]);return{providerId:H,uid:de.rawId||"",displayName:de.displayName||null,email:de.email||null,phoneNumber:de.phoneNumber||null,photoURL:de.photoUrl||null}})}function Tn(){return(Tn=(0,n.Z)(function*(oe,j){const H=yield Un(oe,{},()=>{const de=(0,Oe.xO)({grant_type:"refresh_token",refresh_token:j}).slice(1),{tokenApiHost:Ye,apiKey:At}=oe.config,An=er(oe,Ye,"/v1/token",`key=${At}`);return pi.fetch()(An,{method:"POST",headers:{"X-Client-Version":oe._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:de})});return{accessToken:H.access_token,expiresIn:H.expires_in,refreshToken:H.refresh_token}})).apply(this,arguments)}class ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(j){gt(j.idToken,"internal-error"),gt(void 0!==j.idToken,"internal-error"),gt(void 0!==j.refreshToken,"internal-error");const H="expiresIn"in j&&void 0!==j.expiresIn?Number(j.expiresIn):function(oe){const j=vt(oe);return gt(j,"internal-error"),gt(void 0!==j.exp,"internal-error"),gt(void 0!==j.iat,"internal-error"),Number(j.exp)-Number(j.iat)}(j.idToken);this.updateTokensAndExpiration(j.idToken,j.refreshToken,H)}getToken(j,H=!1){var de=this;return(0,n.Z)(function*(){return gt(!de.accessToken||de.refreshToken,j,"user-token-expired"),H||!de.accessToken||de.isExpired?de.refreshToken?(yield de.refresh(j,de.refreshToken),de.accessToken):null:de.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(j,H){var de=this;return(0,n.Z)(function*(){const{accessToken:Ye,refreshToken:At,expiresIn:An}=yield function(oe,j){return Tn.apply(this,arguments)}(j,H);de.updateTokensAndExpiration(Ye,At,Number(An))})()}updateTokensAndExpiration(j,H,de){this.refreshToken=H||null,this.accessToken=j||null,this.expirationTime=Date.now()+1e3*de}static fromJSON(j,H){const{refreshToken:de,accessToken:Ye,expirationTime:At}=H,An=new ti;return de&&(gt("string"==typeof de,"internal-error",{appName:j}),An.refreshToken=de),Ye&&(gt("string"==typeof Ye,"internal-error",{appName:j}),An.accessToken=Ye),At&&(gt("number"==typeof At,"internal-error",{appName:j}),An.expirationTime=At),An}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(j){this.accessToken=j.accessToken,this.refreshToken=j.refreshToken,this.expirationTime=j.expirationTime}_clone(){return Object.assign(new ti,this.toJSON())}_performRefresh(){return Ht("not implemented")}}function Fn(oe,j){gt("string"==typeof oe||void 0===oe,"internal-error",{appName:j})}class Ni{constructor(j){var{uid:H,auth:de,stsTokenManager:Ye}=j,At=(0,Fe._T)(j,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new En(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=H,this.auth=de,this.stsTokenManager=Ye,this.accessToken=Ye.accessToken,this.displayName=At.displayName||null,this.email=At.email||null,this.phoneNumber=At.phoneNumber||null,this.photoURL=At.photoURL||null,this.isAnonymous=At.isAnonymous||!1,this.metadata=new Jn(At.createdAt||void 0,At.lastLoginAt||void 0)}getIdToken(j){var H=this;return(0,n.Z)(function*(){const de=yield Rn(H,H.stsTokenManager.getToken(H.auth,j));return gt(de,H.auth,"internal-error"),H.accessToken!==de&&(H.accessToken=de,yield H.auth._persistUserIfCurrent(H),H.auth._notifyListenersIfCurrent(H)),de})()}getIdTokenResult(j){return function(oe){return Ve.apply(this,arguments)}(this,j)}reload(){return function(oe){return ut.apply(this,arguments)}(this)}_assign(j){this!==j&&(gt(this.uid===j.uid,this.auth,"internal-error"),this.displayName=j.displayName,this.photoURL=j.photoURL,this.email=j.email,this.emailVerified=j.emailVerified,this.phoneNumber=j.phoneNumber,this.isAnonymous=j.isAnonymous,this.tenantId=j.tenantId,this.providerData=j.providerData.map(H=>Object.assign({},H)),this.metadata._copy(j.metadata),this.stsTokenManager._assign(j.stsTokenManager))}_clone(j){return new Ni(Object.assign(Object.assign({},this),{auth:j,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(j){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=j,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(j){this.reloadListener?this.reloadListener(j):this.reloadUserInfo=j}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(j,H=!1){var de=this;return(0,n.Z)(function*(){let Ye=!1;j.idToken&&j.idToken!==de.stsTokenManager.accessToken&&(de.stsTokenManager.updateFromServerResponse(j),Ye=!0),H&&(yield Yn(de)),yield de.auth._persistUserIfCurrent(de),Ye&&de.auth._notifyListenersIfCurrent(de)})()}delete(){var j=this;return(0,n.Z)(function*(){const H=yield j.getIdToken();return yield Rn(j,function(oe,j){return Qn.apply(this,arguments)}(j.auth,{idToken:H})),j.stsTokenManager.clearRefreshToken(),j.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(j=>Object.assign({},j)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(j,H){var de,Ye,At,An,hi,qi,Er,Zr;const Wn=null!==(de=H.displayName)&&void 0!==de?de:void 0,gs=null!==(Ye=H.email)&&void 0!==Ye?Ye:void 0,Ns=null!==(At=H.phoneNumber)&&void 0!==At?At:void 0,ld=null!==(An=H.photoURL)&&void 0!==An?An:void 0,Ru=null!==(hi=H.tenantId)&&void 0!==hi?hi:void 0,yl=null!==(qi=H._redirectEventId)&&void 0!==qi?qi:void 0,Af=null!==(Er=H.createdAt)&&void 0!==Er?Er:void 0,Pc=null!==(Zr=H.lastLoginAt)&&void 0!==Zr?Zr:void 0,{uid:Mc,emailVerified:Fh,isAnonymous:If,providerData:Sa,stsTokenManager:Uh}=H;gt(Mc&&Uh,j,"internal-error");const Nc=ti.fromJSON(this.name,Uh);gt("string"==typeof Mc,j,"internal-error"),Fn(Wn,j.name),Fn(gs,j.name),gt("boolean"==typeof Fh,j,"internal-error"),gt("boolean"==typeof If,j,"internal-error"),Fn(Ns,j.name),Fn(ld,j.name),Fn(Ru,j.name),Fn(yl,j.name),Fn(Af,j.name),Fn(Pc,j.name);const Rc=new Ni({uid:Mc,auth:j,email:gs,emailVerified:Fh,displayName:Wn,isAnonymous:If,photoURL:ld,phoneNumber:Ns,tenantId:Ru,stsTokenManager:Nc,createdAt:Af,lastLoginAt:Pc});return Sa&&Array.isArray(Sa)&&(Rc.providerData=Sa.map(Wd=>Object.assign({},Wd))),yl&&(Rc._redirectEventId=yl),Rc}static _fromIdTokenResponse(j,H,de=!1){return(0,n.Z)(function*(){const Ye=new ti;Ye.updateFromServerResponse(H);const At=new Ni({uid:H.localId,auth:j,stsTokenManager:Ye,isAnonymous:de});return yield Yn(At),At})()}}const Ct=(()=>{class oe{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,n.Z)(function*(){return!0})()}_set(H,de){var Ye=this;return(0,n.Z)(function*(){Ye.storage[H]=de})()}_get(H){var de=this;return(0,n.Z)(function*(){const Ye=de.storage[H];return void 0===Ye?null:Ye})()}_remove(H){var de=this;return(0,n.Z)(function*(){delete de.storage[H]})()}_addListener(H,de){}_removeListener(H,de){}}return oe.type="NONE",oe})();function dt(oe,j,H){return`firebase:${oe}:${j}:${H}`}class We{constructor(j,H,de){this.persistence=j,this.auth=H,this.userKey=de;const{config:Ye,name:At}=this.auth;this.fullUserKey=dt(this.userKey,Ye.apiKey,At),this.fullPersistenceKey=dt("persistence",Ye.apiKey,At),this.boundEventHandler=H._onStorageEvent.bind(H),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(j){return this.persistence._set(this.fullUserKey,j.toJSON())}getCurrentUser(){var j=this;return(0,n.Z)(function*(){const H=yield j.persistence._get(j.fullUserKey);return H?Ni._fromJSON(j.auth,H):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(j){var H=this;return(0,n.Z)(function*(){if(H.persistence===j)return;const de=yield H.getCurrentUser();return yield H.removeCurrentUser(),H.persistence=j,de?H.setCurrentUser(de):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(j,H,de="authUser"){return(0,n.Z)(function*(){if(!H.length)return new We(sn(Ct),j,de);const Ye=(yield Promise.all(H.map(function(){var Er=(0,n.Z)(function*(Zr){if(yield Zr._isAvailable())return Zr});return function(Zr){return Er.apply(this,arguments)}}()))).filter(Er=>Er);let At=Ye[0]||sn(Ct);const An=dt(de,j.config.apiKey,j.name);let hi=null;for(const Er of H)try{const Zr=yield Er._get(An);if(Zr){const Wn=Ni._fromJSON(j,Zr);Er!==At&&(hi=Wn),At=Er;break}}catch(Zr){}const qi=Ye.filter(Er=>Er._shouldAllowMigration);return At._shouldAllowMigration&&qi.length?(At=qi[0],hi&&(yield At._set(An,hi.toJSON())),yield Promise.all(H.map(function(){var Er=(0,n.Z)(function*(Zr){if(Zr!==At)try{yield Zr._remove(An)}catch(Wn){}});return function(Zr){return Er.apply(this,arguments)}}())),new We(At,j,de)):new We(At,j,de)})()}}function pt(oe){const j=oe.toLowerCase();if(j.includes("opera/")||j.includes("opr/")||j.includes("opios/"))return"Opera";if(yt(j))return"IEMobile";if(j.includes("msie")||j.includes("trident/"))return"IE";if(j.includes("edge/"))return"Edge";if(Ut(j))return"Firefox";if(j.includes("silk/"))return"Silk";if(Cn(j))return"Blackberry";if(wn(j))return"Webos";if(st(j))return"Safari";if((j.includes("chrome/")||Ge(j))&&!j.includes("edge/"))return"Chrome";if(Bt(j))return"Android";{const de=oe.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==de?void 0:de.length))return de[1]}return"Other"}function Ut(oe=(0,Oe.z$)()){return/firefox\//i.test(oe)}function st(oe=(0,Oe.z$)()){const j=oe.toLowerCase();return j.includes("safari/")&&!j.includes("chrome/")&&!j.includes("crios/")&&!j.includes("android")}function Ge(oe=(0,Oe.z$)()){return/crios\//i.test(oe)}function yt(oe=(0,Oe.z$)()){return/iemobile/i.test(oe)}function Bt(oe=(0,Oe.z$)()){return/android/i.test(oe)}function Cn(oe=(0,Oe.z$)()){return/blackberry/i.test(oe)}function wn(oe=(0,Oe.z$)()){return/webos/i.test(oe)}function ei(oe=(0,Oe.z$)()){return/iphone|ipad|ipod/i.test(oe)}function si(oe=(0,Oe.z$)()){return ei(oe)||Bt(oe)||wn(oe)||Cn(oe)||/windows phone/i.test(oe)||yt(oe)}function tr(oe,j=[]){let H;switch(oe){case"Browser":H=pt((0,Oe.z$)());break;case"Worker":H=`${pt((0,Oe.z$)())}-${oe}`;break;default:H=oe}const de=j.length?j.join(","):"FirebaseCore-web";return`${H}/JsCore/${we.SDK_VERSION}/${de}`}class rr{constructor(j,H){this.app=j,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lr(this),this.idTokenSubscription=new lr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ae,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=j.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(j,H){var de=this;return H&&(this._popupRedirectResolver=sn(H)),this._initializationPromise=this.queue((0,n.Z)(function*(){var Ye;de._deleted||(de.persistenceManager=yield We.create(de,j),!de._deleted&&((null===(Ye=de._popupRedirectResolver)||void 0===Ye?void 0:Ye._shouldInitProactively)&&(yield de._popupRedirectResolver._initialize(de)),yield de.initializeCurrentUser(H),!de._deleted&&(de._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var j=this;return(0,n.Z)(function*(){if(j._deleted)return;const H=yield j.assertedPersistence.getCurrentUser();if(j.currentUser||H){if(j.currentUser&&H&&j.currentUser.uid===H.uid)return j._currentUser._assign(H),void(yield j.currentUser.getIdToken());yield j._updateCurrentUser(H)}})()}initializeCurrentUser(j){var H=this;return(0,n.Z)(function*(){var de;let Ye=yield H.assertedPersistence.getCurrentUser();if(j&&H.config.authDomain){yield H.getOrInitRedirectPersistenceManager();const At=null===(de=H.redirectUser)||void 0===de?void 0:de._redirectEventId,An=null==Ye?void 0:Ye._redirectEventId,hi=yield H.tryRedirectSignIn(j);(!At||At===An)&&(null==hi?void 0:hi.user)&&(Ye=hi.user)}return Ye?Ye._redirectEventId?(gt(H._popupRedirectResolver,H,"argument-error"),yield H.getOrInitRedirectPersistenceManager(),H.redirectUser&&H.redirectUser._redirectEventId===Ye._redirectEventId?H.directlySetCurrentUser(Ye):H.reloadAndSetCurrentUserOrClear(Ye)):H.reloadAndSetCurrentUserOrClear(Ye):H.directlySetCurrentUser(null)})()}tryRedirectSignIn(j){var H=this;return(0,n.Z)(function*(){let de=null;try{de=yield H._popupRedirectResolver._completeRedirectFn(H,j,!0)}catch(Ye){yield H._setRedirectUser(null)}return de})()}reloadAndSetCurrentUserOrClear(j){var H=this;return(0,n.Z)(function*(){try{yield Yn(j)}catch(de){if("auth/network-request-failed"!==de.code)return H.directlySetCurrentUser(null)}return H.directlySetCurrentUser(j)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const oe=navigator;return oe.languages&&oe.languages[0]||oe.language||null}()}_delete(){var j=this;return(0,n.Z)(function*(){j._deleted=!0})()}updateCurrentUser(j){var H=this;return(0,n.Z)(function*(){const de=j?(0,Oe.m9)(j):null;return de&&gt(de.auth.config.apiKey===H.config.apiKey,H,"invalid-user-token"),H._updateCurrentUser(de&&de._clone(H))})()}_updateCurrentUser(j){var H=this;return(0,n.Z)(function*(){if(!H._deleted)return j&&gt(H.tenantId===j.tenantId,H,"tenant-id-mismatch"),H.queue((0,n.Z)(function*(){yield H.directlySetCurrentUser(j),H.notifyAuthListeners()}))})()}signOut(){var j=this;return(0,n.Z)(function*(){return(j.redirectPersistenceManager||j._popupRedirectResolver)&&(yield j._setRedirectUser(null)),j._updateCurrentUser(null)})()}setPersistence(j){var H=this;return this.queue((0,n.Z)(function*(){yield H.assertedPersistence.setPersistence(sn(j))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(j){this._errorFactory=new Oe.LL("auth","Firebase",j())}onAuthStateChanged(j,H,de){return this.registerStateListener(this.authStateSubscription,j,H,de)}onIdTokenChanged(j,H,de){return this.registerStateListener(this.idTokenSubscription,j,H,de)}toJSON(){var j;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(j=this._currentUser)||void 0===j?void 0:j.toJSON()}}_setRedirectUser(j,H){var de=this;return(0,n.Z)(function*(){const Ye=yield de.getOrInitRedirectPersistenceManager(H);return null===j?Ye.removeCurrentUser():Ye.setCurrentUser(j)})()}getOrInitRedirectPersistenceManager(j){var H=this;return(0,n.Z)(function*(){if(!H.redirectPersistenceManager){const de=j&&sn(j)||H._popupRedirectResolver;gt(de,H,"argument-error"),H.redirectPersistenceManager=yield We.create(H,[sn(de._redirectPersistence)],"redirectUser"),H.redirectUser=yield H.redirectPersistenceManager.getCurrentUser()}return H.redirectPersistenceManager})()}_redirectUserForId(j){var H=this;return(0,n.Z)(function*(){var de,Ye;return H._isInitialized&&(yield H.queue((0,n.Z)(function*(){}))),(null===(de=H._currentUser)||void 0===de?void 0:de._redirectEventId)===j?H._currentUser:(null===(Ye=H.redirectUser)||void 0===Ye?void 0:Ye._redirectEventId)===j?H.redirectUser:null})()}_persistUserIfCurrent(j){var H=this;return(0,n.Z)(function*(){if(j===H.currentUser)return H.queue((0,n.Z)(function*(){return H.directlySetCurrentUser(j)}))})()}_notifyListenersIfCurrent(j){j===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var j,H;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const de=null!==(H=null===(j=this.currentUser)||void 0===j?void 0:j.uid)&&void 0!==H?H:null;this.lastNotifiedUid!==de&&(this.lastNotifiedUid=de,this.authStateSubscription.next(this.currentUser))}registerStateListener(j,H,de,Ye){if(this._deleted)return()=>{};const At="function"==typeof H?H:H.next.bind(H),An=this._isInitialized?Promise.resolve():this._initializationPromise;return gt(An,this,"internal-error"),An.then(()=>At(this.currentUser)),"function"==typeof H?j.addObserver(H,de,Ye):j.addObserver(H)}directlySetCurrentUser(j){var H=this;return(0,n.Z)(function*(){H.currentUser&&H.currentUser!==j&&(H._currentUser._stopProactiveRefresh(),j&&H.isProactiveRefreshEnabled&&j._startProactiveRefresh()),H.currentUser=j,j?yield H.assertedPersistence.setCurrentUser(j):yield H.assertedPersistence.removeCurrentUser()})()}queue(j){return this.operations=this.operations.then(j,j),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(j){!j||this.frameworks.includes(j)||(this.frameworks.push(j),this.frameworks.sort(),this.clientVersion=tr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Vi(oe){return(0,Oe.m9)(oe)}class lr{constructor(j){this.auth=j,this.observer=null,this.addObserver=(0,Oe.ne)(H=>this.observer=H)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ur(oe){const j=oe.indexOf(":");return j<0?"":oe.substr(0,j+1)}function ct(oe){if(!oe)return null;const j=Number(oe);return isNaN(j)?null:j}class ${constructor(j,H){this.providerId=j,this.signInMethod=H}toJSON(){return Ht("not implemented")}_getIdTokenResponse(j){return Ht("not implemented")}_linkToIdToken(j,H){return Ht("not implemented")}_getReauthenticationResolver(j){return Ht("not implemented")}}function ue(oe,j){return _e.apply(this,arguments)}function _e(){return(_e=(0,n.Z)(function*(oe,j){return ri(oe,"POST","/v1/accounts:resetPassword",fi(oe,j))})).apply(this,arguments)}function Le(oe,j){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,n.Z)(function*(oe,j){return ri(oe,"POST","/v1/accounts:update",j)})).apply(this,arguments)}function ft(oe,j){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,n.Z)(function*(oe,j){return ri(oe,"POST","/v1/accounts:update",fi(oe,j))})).apply(this,arguments)}function nn(){return(nn=(0,n.Z)(function*(oe,j){return mi(oe,"POST","/v1/accounts:signInWithPassword",fi(oe,j))})).apply(this,arguments)}function Je(oe,j){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,n.Z)(function*(oe,j){return ri(oe,"POST","/v1/accounts:sendOobCode",fi(oe,j))})).apply(this,arguments)}function mt(oe,j){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,n.Z)(function*(oe,j){return Je(oe,j)})).apply(this,arguments)}function un(oe,j){return hn.apply(this,arguments)}function hn(){return(hn=(0,n.Z)(function*(oe,j){return Je(oe,j)})).apply(this,arguments)}function $n(oe,j){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,n.Z)(function*(oe,j){return Je(oe,j)})).apply(this,arguments)}function Ci(oe,j){return ui.apply(this,arguments)}function ui(){return(ui=(0,n.Z)(function*(oe,j){return Je(oe,j)})).apply(this,arguments)}function Ui(){return(Ui=(0,n.Z)(function*(oe,j){return mi(oe,"POST","/v1/accounts:signInWithEmailLink",fi(oe,j))})).apply(this,arguments)}function ur(){return(ur=(0,n.Z)(function*(oe,j){return mi(oe,"POST","/v1/accounts:signInWithEmailLink",fi(oe,j))})).apply(this,arguments)}class gr extends ${constructor(j,H,de,Ye=null){super("password",de),this._email=j,this._password=H,this._tenantId=Ye}static _fromEmailAndPassword(j,H){return new gr(j,H,"password")}static _fromEmailAndCode(j,H,de=null){return new gr(j,H,"emailLink",de)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(j){const H="string"==typeof j?JSON.parse(j):j;if((null==H?void 0:H.email)&&(null==H?void 0:H.password)){if("password"===H.signInMethod)return this._fromEmailAndPassword(H.email,H.password);if("emailLink"===H.signInMethod)return this._fromEmailAndCode(H.email,H.password,H.tenantId)}return null}_getIdTokenResponse(j){var H=this;return(0,n.Z)(function*(){switch(H.signInMethod){case"password":return function(oe,j){return nn.apply(this,arguments)}(j,{returnSecureToken:!0,email:H._email,password:H._password});case"emailLink":return function(oe,j){return Ui.apply(this,arguments)}(j,{email:H._email,oobCode:H._password});default:Me(j,"internal-error")}})()}_linkToIdToken(j,H){var de=this;return(0,n.Z)(function*(){switch(de.signInMethod){case"password":return Le(j,{idToken:H,returnSecureToken:!0,email:de._email,password:de._password});case"emailLink":return function(oe,j){return ur.apply(this,arguments)}(j,{idToken:H,email:de._email,oobCode:de._password});default:Me(j,"internal-error")}})()}_getReauthenticationResolver(j){return this._getIdTokenResponse(j)}}function mr(oe,j){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,n.Z)(function*(oe,j){return mi(oe,"POST","/v1/accounts:signInWithIdp",fi(oe,j))})).apply(this,arguments)}class co extends ${constructor(){super(...arguments),this.pendingToken=null}static _fromParams(j){const H=new co(j.providerId,j.signInMethod);return j.idToken||j.accessToken?(j.idToken&&(H.idToken=j.idToken),j.accessToken&&(H.accessToken=j.accessToken),j.nonce&&!j.pendingToken&&(H.nonce=j.nonce),j.pendingToken&&(H.pendingToken=j.pendingToken)):j.oauthToken&&j.oauthTokenSecret?(H.accessToken=j.oauthToken,H.secret=j.oauthTokenSecret):Me("argument-error"),H}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(j){const H="string"==typeof j?JSON.parse(j):j,{providerId:de,signInMethod:Ye}=H,At=(0,Fe._T)(H,["providerId","signInMethod"]);if(!de||!Ye)return null;const An=new co(de,Ye);return Object.assign(An,At),An}_getIdTokenResponse(j){return mr(j,this.buildRequest())}_linkToIdToken(j,H){const de=this.buildRequest();return de.idToken=H,mr(j,de)}_getReauthenticationResolver(j){const H=this.buildRequest();return H.autoCreate=!1,mr(j,H)}buildRequest(){const j={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)j.pendingToken=this.pendingToken;else{const H={};this.idToken&&(H.id_token=this.idToken),this.accessToken&&(H.access_token=this.accessToken),this.secret&&(H.oauth_token_secret=this.secret),H.providerId=this.providerId,this.nonce&&!this.pendingToken&&(H.nonce=this.nonce),j.postBody=(0,Oe.xO)(H)}return j}}function vo(oe,j){return Io.apply(this,arguments)}function Io(){return(Io=(0,n.Z)(function*(oe,j){return ri(oe,"POST","/v1/accounts:sendVerificationCode",fi(oe,j))})).apply(this,arguments)}function Qr(){return(Qr=(0,n.Z)(function*(oe,j){return mi(oe,"POST","/v1/accounts:signInWithPhoneNumber",fi(oe,j))})).apply(this,arguments)}function _o(){return(_o=(0,n.Z)(function*(oe,j){const H=yield mi(oe,"POST","/v1/accounts:signInWithPhoneNumber",fi(oe,j));if(H.temporaryProof)throw Ji(oe,"account-exists-with-different-credential",H);return H})).apply(this,arguments)}const hs={USER_NOT_FOUND:"user-not-found"};function No(){return(No=(0,n.Z)(function*(oe,j){return mi(oe,"POST","/v1/accounts:signInWithPhoneNumber",fi(oe,Object.assign(Object.assign({},j),{operation:"REAUTH"})),hs)})).apply(this,arguments)}class Uo extends ${constructor(j){super("phone","phone"),this.params=j}static _fromVerification(j,H){return new Uo({verificationId:j,verificationCode:H})}static _fromTokenResponse(j,H){return new Uo({phoneNumber:j,temporaryProof:H})}_getIdTokenResponse(j){return function(oe,j){return Qr.apply(this,arguments)}(j,this._makeVerificationRequest())}_linkToIdToken(j,H){return function(oe,j){return _o.apply(this,arguments)}(j,Object.assign({idToken:H},this._makeVerificationRequest()))}_getReauthenticationResolver(j){return function(oe,j){return No.apply(this,arguments)}(j,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:j,phoneNumber:H,verificationId:de,verificationCode:Ye}=this.params;return j&&H?{temporaryProof:j,phoneNumber:H}:{sessionInfo:de,code:Ye}}toJSON(){const j={providerId:this.providerId};return this.params.phoneNumber&&(j.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(j.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(j.verificationCode=this.params.verificationCode),this.params.verificationId&&(j.verificationId=this.params.verificationId),j}static fromJSON(j){"string"==typeof j&&(j=JSON.parse(j));const{verificationId:H,verificationCode:de,phoneNumber:Ye,temporaryProof:At}=j;return de||H||Ye||At?new Uo({verificationId:H,verificationCode:de,phoneNumber:Ye,temporaryProof:At}):null}}class Ro{constructor(j){var H,de,Ye,At,An,hi;const qi=(0,Oe.zd)((0,Oe.pd)(j)),Er=null!==(H=qi.apiKey)&&void 0!==H?H:null,Zr=null!==(de=qi.oobCode)&&void 0!==de?de:null,Wn=function(oe){switch(oe){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Ye=qi.mode)&&void 0!==Ye?Ye:null);gt(Er&&Zr&&Wn,"argument-error"),this.apiKey=Er,this.operation=Wn,this.code=Zr,this.continueUrl=null!==(At=qi.continueUrl)&&void 0!==At?At:null,this.languageCode=null!==(An=qi.languageCode)&&void 0!==An?An:null,this.tenantId=null!==(hi=qi.tenantId)&&void 0!==hi?hi:null}static parseLink(j){const H=function(oe){const j=(0,Oe.zd)((0,Oe.pd)(oe)).link,H=j?(0,Oe.zd)((0,Oe.pd)(j)).deep_link_id:null,de=(0,Oe.zd)((0,Oe.pd)(oe)).deep_link_id;return(de?(0,Oe.zd)((0,Oe.pd)(de)).link:null)||de||H||j||oe}(j);try{return new Ro(H)}catch(de){return null}}}let Kt=(()=>{class oe{constructor(){this.providerId=oe.PROVIDER_ID}static credential(H,de){return gr._fromEmailAndPassword(H,de)}static credentialWithLink(H,de){const Ye=Ro.parseLink(de);return gt(Ye,"argument-error"),gr._fromEmailAndCode(H,Ye.code,Ye.tenantId)}}return oe.PROVIDER_ID="password",oe.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oe.EMAIL_LINK_SIGN_IN_METHOD="emailLink",oe})();class St{constructor(j){this.providerId=j,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(j){this.defaultLanguageCode=j}setCustomParameters(j){return this.customParameters=j,this}getCustomParameters(){return this.customParameters}}class Sn extends St{constructor(){super(...arguments),this.scopes=[]}addScope(j){return this.scopes.includes(j)||this.scopes.push(j),this}getScopes(){return[...this.scopes]}}class Ai extends Sn{static credentialFromJSON(j){const H="string"==typeof j?JSON.parse(j):j;return gt("providerId"in H&&"signInMethod"in H,"argument-error"),co._fromParams(H)}credential(j){return this._credential(j)}_credential(j){return gt(j.idToken||j.accessToken,"argument-error"),co._fromParams(Object.assign(Object.assign({},j),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(j){return Ai.oauthCredentialFromTaggedObject(j)}static credentialFromError(j){return Ai.oauthCredentialFromTaggedObject(j.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:j}){if(!j)return null;const{oauthIdToken:H,oauthAccessToken:de,oauthTokenSecret:Ye,pendingToken:At,nonce:An,providerId:hi}=j;if(!de&&!Ye&&!H&&!At||!hi)return null;try{return new Ai(hi)._credential({idToken:H,accessToken:de,rawNonce:An,pendingToken:At})}catch(qi){return null}}}let Qi=(()=>{class oe extends Sn{constructor(){super("facebook.com")}static credential(H){return co._fromParams({providerId:oe.PROVIDER_ID,signInMethod:oe.FACEBOOK_SIGN_IN_METHOD,accessToken:H})}static credentialFromResult(H){return oe.credentialFromTaggedObject(H)}static credentialFromError(H){return oe.credentialFromTaggedObject(H.customData||{})}static credentialFromTaggedObject({_tokenResponse:H}){if(!H||!("oauthAccessToken"in H)||!H.oauthAccessToken)return null;try{return oe.credential(H.oauthAccessToken)}catch(de){return null}}}return oe.FACEBOOK_SIGN_IN_METHOD="facebook.com",oe.PROVIDER_ID="facebook.com",oe})(),xi=(()=>{class oe extends Sn{constructor(){super("google.com"),this.addScope("profile")}static credential(H,de){return co._fromParams({providerId:oe.PROVIDER_ID,signInMethod:oe.GOOGLE_SIGN_IN_METHOD,idToken:H,accessToken:de})}static credentialFromResult(H){return oe.credentialFromTaggedObject(H)}static credentialFromError(H){return oe.credentialFromTaggedObject(H.customData||{})}static credentialFromTaggedObject({_tokenResponse:H}){if(!H)return null;const{oauthIdToken:de,oauthAccessToken:Ye}=H;if(!de&&!Ye)return null;try{return oe.credential(de,Ye)}catch(At){return null}}}return oe.GOOGLE_SIGN_IN_METHOD="google.com",oe.PROVIDER_ID="google.com",oe})(),Xi=(()=>{class oe extends Sn{constructor(){super("github.com")}static credential(H){return co._fromParams({providerId:oe.PROVIDER_ID,signInMethod:oe.GITHUB_SIGN_IN_METHOD,accessToken:H})}static credentialFromResult(H){return oe.credentialFromTaggedObject(H)}static credentialFromError(H){return oe.credentialFromTaggedObject(H.customData||{})}static credentialFromTaggedObject({_tokenResponse:H}){if(!H||!("oauthAccessToken"in H)||!H.oauthAccessToken)return null;try{return oe.credential(H.oauthAccessToken)}catch(de){return null}}}return oe.GITHUB_SIGN_IN_METHOD="github.com",oe.PROVIDER_ID="github.com",oe})();class Dr extends ${constructor(j,H){super(j,j),this.pendingToken=H}_getIdTokenResponse(j){return mr(j,this.buildRequest())}_linkToIdToken(j,H){const de=this.buildRequest();return de.idToken=H,mr(j,de)}_getReauthenticationResolver(j){const H=this.buildRequest();return H.autoCreate=!1,mr(j,H)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(j){const H="string"==typeof j?JSON.parse(j):j,{providerId:de,signInMethod:Ye,pendingToken:At}=H;return de&&Ye&&At&&de===Ye?new Dr(de,At):null}static _create(j,H){return new Dr(j,H)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Et=(()=>{class oe extends Sn{constructor(){super("twitter.com")}static credential(H,de){return co._fromParams({providerId:oe.PROVIDER_ID,signInMethod:oe.TWITTER_SIGN_IN_METHOD,oauthToken:H,oauthTokenSecret:de})}static credentialFromResult(H){return oe.credentialFromTaggedObject(H)}static credentialFromError(H){return oe.credentialFromTaggedObject(H.customData||{})}static credentialFromTaggedObject({_tokenResponse:H}){if(!H)return null;const{oauthAccessToken:de,oauthTokenSecret:Ye}=H;if(!de||!Ye)return null;try{return oe.credential(de,Ye)}catch(At){return null}}}return oe.TWITTER_SIGN_IN_METHOD="twitter.com",oe.PROVIDER_ID="twitter.com",oe})();function Xt(oe,j){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,n.Z)(function*(oe,j){return mi(oe,"POST","/v1/accounts:signUp",fi(oe,j))})).apply(this,arguments)}class oi{constructor(j){this.user=j.user,this.providerId=j.providerId,this._tokenResponse=j._tokenResponse,this.operationType=j.operationType}static _fromIdTokenResponse(j,H,de,Ye=!1){return(0,n.Z)(function*(){const At=yield Ni._fromIdTokenResponse(j,de,Ye),An=Gi(de);return new oi({user:At,providerId:An,_tokenResponse:de,operationType:H})})()}static _forOperation(j,H,de){return(0,n.Z)(function*(){yield j._updateTokensIfNecessary(de,!0);const Ye=Gi(de);return new oi({user:j,providerId:Ye,_tokenResponse:de,operationType:H})})()}}function Gi(oe){return oe.providerId?oe.providerId:"phoneNumber"in oe?"phone":null}function dr(){return(dr=(0,n.Z)(function*(oe){var j;const H=Vi(oe);if(yield H._initializationPromise,null===(j=H.currentUser)||void 0===j?void 0:j.isAnonymous)return new oi({user:H.currentUser,providerId:null,operationType:"signIn"});const de=yield Xt(H,{returnSecureToken:!0}),Ye=yield oi._fromIdTokenResponse(H,"signIn",de,!0);return yield H._updateCurrentUser(Ye.user),Ye})).apply(this,arguments)}class Rr extends Oe.ZR{constructor(j,H,de,Ye){var At;super(H.code,H.message),this.operationType=de,this.user=Ye,this.name="FirebaseError",Object.setPrototypeOf(this,Rr.prototype),this.appName=j.name,this.code=H.code,this.tenantId=null!==(At=j.tenantId)&&void 0!==At?At:void 0,this.serverResponse=H.customData.serverResponse}static _fromErrorAndOperation(j,H,de,Ye){return new Rr(j,H,de,Ye)}}function cr(oe,j,H,de){return("reauthenticate"===j?H._getReauthenticationResolver(oe):H._getIdTokenResponse(oe)).catch(At=>{throw"auth/multi-factor-auth-required"===At.code?Rr._fromErrorAndOperation(oe,At,j,de):At})}function yo(oe){return new Set(oe.map(({providerId:j})=>j).filter(j=>!!j))}function io(){return(io=(0,n.Z)(function*(oe,j){const H=(0,Oe.m9)(oe);yield fe(!0,H,j);const{providerUserInfo:de}=yield Yi(H.auth,{idToken:yield H.getIdToken(),deleteProvider:[j]}),Ye=yo(de||[]);return H.providerData=H.providerData.filter(At=>Ye.has(At.providerId)),Ye.has("phone")||(H.phoneNumber=null),yield H.auth._persistUserIfCurrent(H),H})).apply(this,arguments)}function Te(oe,j){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,n.Z)(function*(oe,j,H=!1){const de=yield Rn(oe,j._linkToIdToken(oe.auth,yield oe.getIdToken()),H);return oi._forOperation(oe,"link",de)})).apply(this,arguments)}function fe(oe,j,H){return ne.apply(this,arguments)}function ne(){return(ne=(0,n.Z)(function*(oe,j,H){yield Yn(j);const Ye=!1===oe?"provider-already-linked":"no-such-provider";gt(yo(j.providerData).has(H)===oe,j.auth,Ye)})).apply(this,arguments)}function se(oe,j){return ae.apply(this,arguments)}function ae(){return(ae=(0,n.Z)(function*(oe,j,H=!1){const{auth:de}=oe,Ye="reauthenticate";try{const At=yield Rn(oe,cr(de,Ye,j,oe),H);gt(At.idToken,de,"internal-error");const An=vt(At.idToken);gt(An,de,"internal-error");const{sub:hi}=An;return gt(oe.uid===hi,de,"user-mismatch"),oi._forOperation(oe,Ye,At)}catch(At){throw"auth/user-not-found"===(null==At?void 0:At.code)&&Me(de,"user-mismatch"),At}})).apply(this,arguments)}function Re(oe,j){return en.apply(this,arguments)}function en(){return(en=(0,n.Z)(function*(oe,j,H=!1){const Ye=yield cr(oe,"signIn",j),At=yield oi._fromIdTokenResponse(oe,"signIn",Ye);return H||(yield oe._updateCurrentUser(At.user)),At})).apply(this,arguments)}function Gn(oe,j){return zi.apply(this,arguments)}function zi(){return(zi=(0,n.Z)(function*(oe,j){return Re(Vi(oe),j)})).apply(this,arguments)}function Pr(oe,j){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,n.Z)(function*(oe,j){const H=(0,Oe.m9)(oe);return yield fe(!1,H,j.providerId),Te(H,j)})).apply(this,arguments)}function Vr(oe,j){return ro.apply(this,arguments)}function ro(){return(ro=(0,n.Z)(function*(oe,j){return se((0,Oe.m9)(oe),j)})).apply(this,arguments)}function fo(oe,j){return fs.apply(this,arguments)}function fs(){return(fs=(0,n.Z)(function*(oe,j){return mi(oe,"POST","/v1/accounts:signInWithCustomToken",fi(oe,j))})).apply(this,arguments)}function ke(){return(ke=(0,n.Z)(function*(oe,j){const H=Vi(oe),de=yield fo(H,{token:j,returnSecureToken:!0}),Ye=yield oi._fromIdTokenResponse(H,"signIn",de);return yield H._updateCurrentUser(Ye.user),Ye})).apply(this,arguments)}class xt{constructor(j,H){this.factorId=j,this.uid=H.mfaEnrollmentId,this.enrollmentTime=new Date(H.enrolledAt).toUTCString(),this.displayName=H.displayName}static _fromServerResponse(j,H){return"phoneInfo"in H?qt._fromServerResponse(j,H):Me(j,"internal-error")}}class qt extends xt{constructor(j){super("phone",j),this.phoneNumber=j.phoneInfo}static _fromServerResponse(j,H){return new qt(H)}}function On(oe,j,H){var de;gt((null===(de=H.url)||void 0===de?void 0:de.length)>0,oe,"invalid-continue-uri"),gt(void 0===H.dynamicLinkDomain||H.dynamicLinkDomain.length>0,oe,"invalid-dynamic-link-domain"),j.continueUrl=H.url,j.dynamicLinkDomain=H.dynamicLinkDomain,j.canHandleCodeInApp=H.handleCodeInApp,H.iOS&&(gt(H.iOS.bundleId.length>0,oe,"missing-ios-bundle-id"),j.iosBundleId=H.iOS.bundleId),H.android&&(gt(H.android.packageName.length>0,oe,"missing-android-pkg-name"),j.androidInstallApp=H.android.installApp,j.androidMinimumVersionCode=H.android.minimumVersion,j.androidPackageName=H.android.packageName)}function Ei(){return(Ei=(0,n.Z)(function*(oe,j,H){const de=(0,Oe.m9)(oe),Ye={requestType:"PASSWORD_RESET",email:j};H&&On(de,Ye,H),yield un(de,Ye)})).apply(this,arguments)}function or(){return(or=(0,n.Z)(function*(oe,j,H){yield ue((0,Oe.m9)(oe),{oobCode:j,newPassword:H})})).apply(this,arguments)}function qr(){return(qr=(0,n.Z)(function*(oe,j){yield ft((0,Oe.m9)(oe),{oobCode:j})})).apply(this,arguments)}function li(oe,j){return hr.apply(this,arguments)}function hr(){return(hr=(0,n.Z)(function*(oe,j){const H=(0,Oe.m9)(oe),de=yield ue(H,{oobCode:j}),Ye=de.requestType;switch(gt(Ye,H,"internal-error"),Ye){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":gt(de.newEmail,H,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":gt(de.mfaInfo,H,"internal-error");default:gt(de.email,H,"internal-error")}let At=null;return de.mfaInfo&&(At=xt._fromServerResponse(Vi(H),de.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===de.requestType?de.newEmail:de.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===de.requestType?de.email:de.newEmail)||null,multiFactorInfo:At},operation:Ye}})).apply(this,arguments)}function Ar(){return(Ar=(0,n.Z)(function*(oe,j){const{data:H}=yield li((0,Oe.m9)(oe),j);return H.email})).apply(this,arguments)}function jo(){return(jo=(0,n.Z)(function*(oe,j,H){const de=Vi(oe),Ye=yield Xt(de,{returnSecureToken:!0,email:j,password:H}),At=yield oi._fromIdTokenResponse(de,"signIn",Ye);return yield de._updateCurrentUser(At.user),At})).apply(this,arguments)}function Jo(){return(Jo=(0,n.Z)(function*(oe,j,H){const de=(0,Oe.m9)(oe),Ye={requestType:"EMAIL_SIGNIN",email:j};gt(H.handleCodeInApp,de,"argument-error"),H&&On(de,Ye,H),yield $n(de,Ye)})).apply(this,arguments)}function Zo(){return(Zo=(0,n.Z)(function*(oe,j,H){const de=(0,Oe.m9)(oe),Ye=Kt.credentialWithLink(j,H||Yt());return gt(Ye._tenantId===(de.tenantId||null),de,"tenant-id-mismatch"),Gn(de,Ye)})).apply(this,arguments)}function Ds(oe,j){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,n.Z)(function*(oe,j){return ri(oe,"POST","/v1/accounts:createAuthUri",fi(oe,j))})).apply(this,arguments)}function Us(){return(Us=(0,n.Z)(function*(oe,j){const de={identifier:j,continueUri:gn()?Yt():"http://localhost"},{signinMethods:Ye}=yield Ds((0,Oe.m9)(oe),de);return Ye||[]})).apply(this,arguments)}function ys(){return(ys=(0,n.Z)(function*(oe,j){const H=(0,Oe.m9)(oe),Ye={requestType:"VERIFY_EMAIL",idToken:yield oe.getIdToken()};j&&On(H.auth,Ye,j);const{email:At}=yield mt(H.auth,Ye);At!==oe.email&&(yield oe.reload())})).apply(this,arguments)}function zs(){return(zs=(0,n.Z)(function*(oe,j,H){const de=(0,Oe.m9)(oe),At={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield oe.getIdToken(),newEmail:j};H&&On(de.auth,At,H);const{email:An}=yield Ci(de.auth,At);An!==oe.email&&(yield oe.reload())})).apply(this,arguments)}function Tc(oe,j){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,n.Z)(function*(oe,j){return ri(oe,"POST","/v1/accounts:update",j)})).apply(this,arguments)}function bs(){return(bs=(0,n.Z)(function*(oe,{displayName:j,photoURL:H}){if(void 0===j&&void 0===H)return;const de=(0,Oe.m9)(oe),At={idToken:yield de.getIdToken(),displayName:j,photoUrl:H,returnSecureToken:!0},An=yield Rn(de,Tc(de.auth,At));de.displayName=An.displayName||null,de.photoURL=An.photoUrl||null;const hi=de.providerData.find(({providerId:qi})=>"password"===qi);hi&&(hi.displayName=de.displayName,hi.photoURL=de.photoURL),yield de._updateTokensIfNecessary(An)})).apply(this,arguments)}function Eo(oe,j,H){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,n.Z)(function*(oe,j,H){const{auth:de}=oe,At={idToken:yield oe.getIdToken(),returnSecureToken:!0};j&&(At.email=j),H&&(At.password=H);const An=yield Rn(oe,Le(de,At));yield oe._updateTokensIfNecessary(An,!0)})).apply(this,arguments)}class $o{constructor(j,H,de={}){this.isNewUser=j,this.providerId=H,this.profile=de}}class Qa extends $o{constructor(j,H,de,Ye){super(j,H,de),this.username=Ye}}class Dl extends $o{constructor(j,H){super(j,"facebook.com",H)}}class Dc extends Qa{constructor(j,H){super(j,"github.com",H,"string"==typeof(null==H?void 0:H.login)?null==H?void 0:H.login:null)}}class Ss extends $o{constructor(j,H){super(j,"google.com",H)}}class Sl extends Qa{constructor(j,H,de){super(j,"twitter.com",H,de)}}function Qc(oe){const{user:j,_tokenResponse:H}=oe;return j.isAnonymous&&!H?{providerId:null,isNewUser:!1,profile:null}:function(oe){var j,H;if(!oe)return null;const{providerId:de}=oe,Ye=oe.rawUserInfo?JSON.parse(oe.rawUserInfo):{},At=oe.isNewUser||"identitytoolkit#SignupNewUserResponse"===oe.kind;if(!de&&(null==oe?void 0:oe.idToken)){const An=null===(H=null===(j=vt(oe.idToken))||void 0===j?void 0:j.firebase)||void 0===H?void 0:H.sign_in_provider;if(An)return new $o(At,"anonymous"!==An&&"custom"!==An?An:null)}if(!de)return null;switch(de){case"facebook.com":return new Dl(At,Ye);case"github.com":return new Dc(At,Ye);case"google.com":return new Ss(At,Ye);case"twitter.com":return new Sl(At,Ye,oe.screenName||null);case"custom":case"anonymous":return new $o(At,null);default:return new $o(At,de,Ye)}}(H)}class Va{constructor(j,H){this.type=j,this.credential=H}static _fromIdtoken(j){return new Va("enroll",j)}static _fromMfaPendingCredential(j){return new Va("signin",j)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(j){var H,de;if(null==j?void 0:j.multiFactorSession){if(null===(H=j.multiFactorSession)||void 0===H?void 0:H.pendingCredential)return Va._fromMfaPendingCredential(j.multiFactorSession.pendingCredential);if(null===(de=j.multiFactorSession)||void 0===de?void 0:de.idToken)return Va._fromIdtoken(j.multiFactorSession.idToken)}return null}}class Ms{constructor(j,H,de){this.session=j,this.hints=H,this.signInResolver=de}static _fromError(j,H){const de=Vi(j),Ye=(H.serverResponse.mfaInfo||[]).map(An=>xt._fromServerResponse(de,An));gt(H.serverResponse.mfaPendingCredential,de,"internal-error");const At=Va._fromMfaPendingCredential(H.serverResponse.mfaPendingCredential);return new Ms(At,Ye,function(){var An=(0,n.Z)(function*(hi){const qi=yield hi._process(de,At);delete H.serverResponse.mfaInfo,delete H.serverResponse.mfaPendingCredential;const Er=Object.assign(Object.assign({},H.serverResponse),{idToken:qi.idToken,refreshToken:qi.refreshToken});switch(H.operationType){case"signIn":const Zr=yield oi._fromIdTokenResponse(de,H.operationType,Er);return yield de._updateCurrentUser(Zr.user),Zr;case"reauthenticate":return gt(H.user,de,"internal-error"),oi._forOperation(H.user,H.operationType,Er);default:Me(de,"internal-error")}});return function(hi){return An.apply(this,arguments)}}())}resolveSignIn(j){var H=this;return(0,n.Z)(function*(){return H.signInResolver(j)})()}}function Xa(oe,j){return ri(oe,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:oe.tenantId},j))}class qc{constructor(j){this.user=j,this.enrolledFactors=[],j._onReload(H=>{H.mfaInfo&&(this.enrolledFactors=H.mfaInfo.map(de=>xt._fromServerResponse(j.auth,de)))})}static _fromUser(j){return new qc(j)}getSession(){var j=this;return(0,n.Z)(function*(){return Va._fromIdtoken(yield j.user.getIdToken())})()}enroll(j,H){var de=this;return(0,n.Z)(function*(){const Ye=j,At=yield de.getSession(),An=yield Rn(de.user,Ye._process(de.user.auth,At,H));return yield de.user._updateTokensIfNecessary(An),de.user.reload()})()}unenroll(j){var H=this;return(0,n.Z)(function*(){const de="string"==typeof j?j:j.uid,Ye=yield H.user.getIdToken(),At=yield Rn(H.user,function(oe,j){return ri(oe,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:oe.tenantId},j))}(H.user.auth,{idToken:Ye,mfaEnrollmentId:de}));H.enrolledFactors=H.enrolledFactors.filter(({uid:An})=>An!==de),yield H.user._updateTokensIfNecessary(At);try{yield H.user.reload()}catch(An){if("auth/user-token-expired"!==An.code)throw An}})()}}const Wo=new WeakMap,nc="__sak";class pa{constructor(j,H){this.storage=j,this.type=H}_isAvailable(){try{return this.storage?(this.storage.setItem(nc,"1"),this.storage.removeItem(nc),Promise.resolve(!0)):Promise.resolve(!1)}catch(j){return Promise.resolve(!1)}}_set(j,H){return this.storage.setItem(j,JSON.stringify(H)),Promise.resolve()}_get(j){const H=this.storage.getItem(j);return Promise.resolve(H?JSON.parse(H):null)}_remove(j){return this.storage.removeItem(j),Promise.resolve()}}const _a=(()=>{class oe extends pa{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const oe=(0,Oe.z$)();return st(oe)||ei(oe)}()&&function(){try{return!(!window||window===window.top)}catch(oe){return!1}}(),this.fallbackToPolling=si(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(H){for(const de of Object.keys(this.listeners)){const Ye=this.storage.getItem(de),At=this.localCache[de];Ye!==At&&H(de,At,Ye)}}onStorageEvent(H,de=!1){if(!H.key)return void this.forAllChangedKeys((hi,qi,Er)=>{this.notifyListeners(hi,Er)});const Ye=H.key;if(de?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const hi=this.storage.getItem(Ye);if(H.newValue!==hi)null!==H.newValue?this.storage.setItem(Ye,H.newValue):this.storage.removeItem(Ye);else if(this.localCache[Ye]===H.newValue&&!de)return}const At=()=>{const hi=this.storage.getItem(Ye);!de&&this.localCache[Ye]===hi||this.notifyListeners(Ye,hi)},An=this.storage.getItem(Ye);(0,Oe.w1)()&&10===document.documentMode&&An!==H.newValue&&H.newValue!==H.oldValue?setTimeout(At,10):At()}notifyListeners(H,de){this.localCache[H]=de;const Ye=this.listeners[H];if(Ye)for(const At of Array.from(Ye))At(de&&JSON.parse(de))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((H,de,Ye)=>{this.onStorageEvent(new StorageEvent("storage",{key:H,oldValue:de,newValue:Ye}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(H,de){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[H]||(this.listeners[H]=new Set,this.localCache[H]=this.storage.getItem(H)),this.listeners[H].add(de)}_removeListener(H,de){this.listeners[H]&&(this.listeners[H].delete(de),0===this.listeners[H].size&&delete this.listeners[H]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(H,de){var Ye=()=>super._set,At=this;return(0,n.Z)(function*(){yield Ye().call(At,H,de),At.localCache[H]=JSON.stringify(de)})()}_get(H){var de=()=>super._get,Ye=this;return(0,n.Z)(function*(){const At=yield de().call(Ye,H);return Ye.localCache[H]=JSON.stringify(At),At})()}_remove(H){var de=()=>super._remove,Ye=this;return(0,n.Z)(function*(){yield de().call(Ye,H),delete Ye.localCache[H]})()}}return oe.type="LOCAL",oe})(),js=(()=>{class oe extends pa{constructor(){super(window.sessionStorage,"SESSION")}_addListener(H,de){}_removeListener(H,de){}}return oe.type="SESSION",oe})();let Cr=(()=>{class oe{constructor(H){this.eventTarget=H,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(H){const de=this.receivers.find(At=>At.isListeningto(H));if(de)return de;const Ye=new oe(H);return this.receivers.push(Ye),Ye}isListeningto(H){return this.eventTarget===H}handleEvent(H){var de=this;return(0,n.Z)(function*(){const Ye=H,{eventId:At,eventType:An,data:hi}=Ye.data,qi=de.handlersMap[An];if(!(null==qi?void 0:qi.size))return;Ye.ports[0].postMessage({status:"ack",eventId:At,eventType:An});const Er=Array.from(qi).map(function(){var Wn=(0,n.Z)(function*(gs){return gs(Ye.origin,hi)});return function(gs){return Wn.apply(this,arguments)}}()),Zr=yield function(oe){return Promise.all(oe.map(function(){var j=(0,n.Z)(function*(H){try{return{fulfilled:!0,value:yield H}}catch(de){return{fulfilled:!1,reason:de}}});return function(H){return j.apply(this,arguments)}}()))}(Er);Ye.ports[0].postMessage({status:"done",eventId:At,eventType:An,response:Zr})})()}_subscribe(H,de){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[H]||(this.handlersMap[H]=new Set),this.handlersMap[H].add(de)}_unsubscribe(H,de){this.handlersMap[H]&&de&&this.handlersMap[H].delete(de),(!de||0===this.handlersMap[H].size)&&delete this.handlersMap[H],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return oe.receivers=[],oe})();function ps(oe="",j=10){let H="";for(let de=0;de<j;de++)H+=Math.floor(10*Math.random());return oe+H}class Mr{constructor(j){this.target=j,this.handlers=new Set}removeMessageHandler(j){j.messageChannel&&(j.messageChannel.port1.removeEventListener("message",j.onMessage),j.messageChannel.port1.close()),this.handlers.delete(j)}_send(j,H,de=50){var Ye=this;return(0,n.Z)(function*(){const At="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!At)throw new Error("connection_unavailable");let An,hi;return new Promise((qi,Er)=>{const Zr=ps("",20);At.port1.start();const Wn=setTimeout(()=>{Er(new Error("unsupported_event"))},de);hi={messageChannel:At,onMessage(gs){const Ns=gs;if(Ns.data.eventId===Zr)switch(Ns.data.status){case"ack":clearTimeout(Wn),An=setTimeout(()=>{Er(new Error("timeout"))},3e3);break;case"done":clearTimeout(An),qi(Ns.data.response);break;default:clearTimeout(Wn),clearTimeout(An),Er(new Error("invalid_response"))}}},Ye.handlers.add(hi),At.port1.addEventListener("message",hi.onMessage),Ye.target.postMessage({eventType:j,eventId:Zr,data:H},[At.port2])}).finally(()=>{hi&&Ye.removeMessageHandler(hi)})})()}}function lo(){return window}function xs(){return void 0!==lo().WorkerGlobalScope&&"function"==typeof lo().importScripts}function Co(){return(Co=(0,n.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(oe){return null}})).apply(this,arguments)}const be="firebaseLocalStorageDb",le="firebaseLocalStorage",De="fbase_key";class xe{constructor(j){this.request=j}toPromise(){return new Promise((j,H)=>{this.request.addEventListener("success",()=>{j(this.request.result)}),this.request.addEventListener("error",()=>{H(this.request.error)})})}}function ht(oe,j){return oe.transaction([le],j?"readwrite":"readonly").objectStore(le)}function yn(){const oe=indexedDB.open(be,1);return new Promise((j,H)=>{oe.addEventListener("error",()=>{H(oe.error)}),oe.addEventListener("upgradeneeded",()=>{const de=oe.result;try{de.createObjectStore(le,{keyPath:De})}catch(Ye){H(Ye)}}),oe.addEventListener("success",(0,n.Z)(function*(){const de=oe.result;de.objectStoreNames.contains(le)?j(de):(de.close(),yield function(){const oe=indexedDB.deleteDatabase(be);return new xe(oe).toPromise()}(),j(yield yn()))}))})}function Nn(oe,j,H){return vi.apply(this,arguments)}function vi(){return(vi=(0,n.Z)(function*(oe,j,H){const de=ht(oe,!0).put({[De]:j,value:H});return new xe(de).toPromise()})).apply(this,arguments)}function Mi(){return(Mi=(0,n.Z)(function*(oe,j){const H=ht(oe,!1).get(j),de=yield new xe(H).toPromise();return void 0===de?null:de.value})).apply(this,arguments)}function Vn(oe,j){const H=ht(oe,!0).delete(j);return new xe(H).toPromise()}const ts=(()=>{class oe{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var H=this;return(0,n.Z)(function*(){return H.db||(H.db=yield yn()),H.db})()}_withRetries(H){var de=this;return(0,n.Z)(function*(){let Ye=0;for(;;)try{const At=yield de._openDb();return yield H(At)}catch(At){if(Ye++>3)throw At;de.db&&(de.db.close(),de.db=void 0)}})()}initializeServiceWorkerMessaging(){var H=this;return(0,n.Z)(function*(){return xs()?H.initializeReceiver():H.initializeSender()})()}initializeReceiver(){var H=this;return(0,n.Z)(function*(){H.receiver=Cr._getInstance(xs()?self:null),H.receiver._subscribe("keyChanged",function(){var de=(0,n.Z)(function*(Ye,At){return{keyProcessed:(yield H._poll()).includes(At.key)}});return function(Ye,At){return de.apply(this,arguments)}}()),H.receiver._subscribe("ping",function(){var de=(0,n.Z)(function*(Ye,At){return["keyChanged"]});return function(Ye,At){return de.apply(this,arguments)}}())})()}initializeSender(){var H=this;return(0,n.Z)(function*(){var de,Ye;if(H.activeServiceWorker=yield function(){return Co.apply(this,arguments)}(),!H.activeServiceWorker)return;H.sender=new Mr(H.activeServiceWorker);const At=yield H.sender._send("ping",{},800);!At||(null===(de=At[0])||void 0===de?void 0:de.fulfilled)&&(null===(Ye=At[0])||void 0===Ye?void 0:Ye.value.includes("keyChanged"))&&(H.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(H){var de=this;return(0,n.Z)(function*(){if(de.sender&&de.activeServiceWorker&&function(){var oe;return(null===(oe=null==navigator?void 0:navigator.serviceWorker)||void 0===oe?void 0:oe.controller)||null}()===de.activeServiceWorker)try{yield de.sender._send("keyChanged",{key:H},de.serviceWorkerReceiverAvailable?800:50)}catch(Ye){}})()}_isAvailable(){return(0,n.Z)(function*(){try{if(!indexedDB)return!1;const H=yield yn();return yield Nn(H,nc,"1"),yield Vn(H,nc),!0}catch(H){}return!1})()}_withPendingWrite(H){var de=this;return(0,n.Z)(function*(){de.pendingWrites++;try{yield H()}finally{de.pendingWrites--}})()}_set(H,de){var Ye=this;return(0,n.Z)(function*(){return Ye._withPendingWrite((0,n.Z)(function*(){return yield Ye._withRetries(At=>Nn(At,H,de)),Ye.localCache[H]=de,Ye.notifyServiceWorker(H)}))})()}_get(H){var de=this;return(0,n.Z)(function*(){const Ye=yield de._withRetries(At=>function(oe,j){return Mi.apply(this,arguments)}(At,H));return de.localCache[H]=Ye,Ye})()}_remove(H){var de=this;return(0,n.Z)(function*(){return de._withPendingWrite((0,n.Z)(function*(){return yield de._withRetries(Ye=>Vn(Ye,H)),delete de.localCache[H],de.notifyServiceWorker(H)}))})()}_poll(){var H=this;return(0,n.Z)(function*(){const de=yield H._withRetries(An=>{const hi=ht(An,!1).getAll();return new xe(hi).toPromise()});if(!de)return[];if(0!==H.pendingWrites)return[];const Ye=[],At=new Set;for(const{fbase_key:An,value:hi}of de)At.add(An),JSON.stringify(H.localCache[An])!==JSON.stringify(hi)&&(H.notifyListeners(An,hi),Ye.push(An));for(const An of Object.keys(H.localCache))H.localCache[An]&&!At.has(An)&&(H.notifyListeners(An,null),Ye.push(An));return Ye})()}notifyListeners(H,de){this.localCache[H]=de;const Ye=this.listeners[H];if(Ye)for(const At of Array.from(Ye))At(de)}startPolling(){var H=this;this.stopPolling(),this.pollTimer=setInterval((0,n.Z)(function*(){return H._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(H,de){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[H]||(this.listeners[H]=new Set,this._get(H)),this.listeners[H].add(de)}_removeListener(H,de){this.listeners[H]&&(this.listeners[H].delete(de),0===this.listeners[H].size&&delete this.listeners[H]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return oe.type="LOCAL",oe})();function rc(oe,j){return ri(oe,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:oe.tenantId},j))}function q(){return(q=(0,n.Z)(function*(oe){return(yield ri(oe,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function rt(oe){return new Promise((j,H)=>{const de=document.createElement("script");de.setAttribute("src",oe),de.onload=j,de.onerror=Ye=>{const At=tt("internal-error");At.customData=Ye,H(At)},de.type="text/javascript",de.charset="UTF-8",function(){var oe,j;return null!==(j=null===(oe=document.getElementsByTagName("head"))||void 0===oe?void 0:oe[0])&&void 0!==j?j:document}().appendChild(de)})}function Jt(oe){return`__${oe}${Math.floor(1e6*Math.random())}`}const ir=1e12;class ki{constructor(j){this.auth=j,this.counter=ir,this._widgets=new Map}render(j,H){const de=this.counter;return this._widgets.set(de,new sr(j,this.auth.name,H||{})),this.counter++,de}reset(j){var H;const de=j||ir;null===(H=this._widgets.get(de))||void 0===H||H.delete(),this._widgets.delete(de)}getResponse(j){var H;return(null===(H=this._widgets.get(j||ir))||void 0===H?void 0:H.getResponse())||""}execute(j){var H=this;return(0,n.Z)(function*(){var de;return null===(de=H._widgets.get(j||ir))||void 0===de||de.execute(),""})()}}class sr{constructor(j,H,de){this.params=de,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Ye="string"==typeof j?document.getElementById(j):j;gt(Ye,"argument-error",{appName:H}),this.container=Ye,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(oe){const j=[],H="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let de=0;de<50;de++)j.push(H.charAt(Math.floor(Math.random()*H.length)));return j.join("")}();const{callback:j,"expired-callback":H}=this.params;if(j)try{j(this.responseToken)}catch(de){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,H)try{H()}catch(de){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const jr=Jt("rcb"),ns=new Hn(3e4,6e4);class to{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!lo().grecaptcha}load(j,H=""){return gt((oe=H).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(oe),j,"argument-error"),this.shouldResolveImmediately(H)?Promise.resolve(lo().grecaptcha):new Promise((de,Ye)=>{const At=lo().setTimeout(()=>{Ye(tt(j,"network-request-failed"))},ns.get());lo()[jr]=()=>{lo().clearTimeout(At),delete lo()[jr];const hi=lo().grecaptcha;if(!hi)return void Ye(tt(j,"internal-error"));const qi=hi.render;hi.render=(Er,Zr)=>{const Wn=qi(Er,Zr);return this.counter++,Wn},this.hostLanguage=H,de(hi)},rt(`https://www.google.com/recaptcha/api.js??${(0,Oe.xO)({onload:jr,render:"explicit",hl:H})}`).catch(()=>{clearTimeout(At),Ye(tt(j,"internal-error"))})});var oe}clearedOneInstance(){this.counter--}shouldResolveImmediately(j){return!!lo().grecaptcha&&(j===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class is{load(j){return(0,n.Z)(function*(){return new ki(j)})()}clearedOneInstance(){}}const To="recaptcha",_u={theme:"light",type:"image"};class as{constructor(j,H=Object.assign({},_u),de){this.parameters=H,this.type=To,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vi(de),this.isInvisible="invisible"===this.parameters.size,gt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const Ye="string"==typeof j?document.getElementById(j):j;gt(Ye,this.auth,"argument-error"),this.container=Ye,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new is:new to,this.validateStartingState()}verify(){var j=this;return(0,n.Z)(function*(){j.assertNotDestroyed();const H=yield j.render(),de=j.getAssertedRecaptcha();return de.getResponse(H)||new Promise(At=>{const An=hi=>{!hi||(j.tokenChangeListeners.delete(An),At(hi))};j.tokenChangeListeners.add(An),j.isInvisible&&de.execute(H)})})()}render(){try{this.assertNotDestroyed()}catch(j){return Promise.reject(j)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(j=>{throw this.renderPromise=null,j})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(j=>{this.container.removeChild(j)})}validateStartingState(){gt(!this.parameters.sitekey,this.auth,"argument-error"),gt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),gt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(j){return H=>{if(this.tokenChangeListeners.forEach(de=>de(H)),"function"==typeof j)j(H);else if("string"==typeof j){const de=lo()[j];"function"==typeof de&&de(H)}}}assertNotDestroyed(){gt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var j=this;return(0,n.Z)(function*(){if(yield j.init(),!j.widgetId){let H=j.container;if(!j.isInvisible){const de=document.createElement("div");H.appendChild(de),H=de}j.widgetId=j.getAssertedRecaptcha().render(H,j.parameters)}return j.widgetId})()}init(){var j=this;return(0,n.Z)(function*(){gt(gn()&&!xs(),j.auth,"internal-error"),yield function(){let oe=null;return new Promise(j=>{"complete"!==document.readyState?(oe=()=>j(),window.addEventListener("load",oe)):j()}).catch(j=>{throw oe&&window.removeEventListener("load",oe),j})}(),j.recaptcha=yield j._recaptchaLoader.load(j.auth,j.auth.languageCode||void 0);const H=yield function(oe){return q.apply(this,arguments)}(j.auth);gt(H,j.auth,"internal-error"),j.parameters.sitekey=H})()}getAssertedRecaptcha(){return gt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fl{constructor(j,H){this.verificationId=j,this.onConfirmation=H}confirm(j){const H=Uo._fromVerification(this.verificationId,j);return this.onConfirmation(H)}}function vu(){return(vu=(0,n.Z)(function*(oe,j,H){const de=Vi(oe),Ye=yield zl(de,j,(0,Oe.m9)(H));return new fl(Ye,At=>Gn(de,At))})).apply(this,arguments)}function mh(){return(mh=(0,n.Z)(function*(oe,j,H){const de=(0,Oe.m9)(oe);yield fe(!1,de,"phone");const Ye=yield zl(de.auth,j,(0,Oe.m9)(H));return new fl(Ye,At=>Pr(de,At))})).apply(this,arguments)}function Il(){return(Il=(0,n.Z)(function*(oe,j,H){const de=(0,Oe.m9)(oe),Ye=yield zl(de.auth,j,(0,Oe.m9)(H));return new fl(Ye,At=>Vr(de,At))})).apply(this,arguments)}function zl(oe,j,H){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,n.Z)(function*(oe,j,H){var de;const Ye=yield H.verify();try{let At;if(gt("string"==typeof Ye,oe,"argument-error"),gt(H.type===To,oe,"argument-error"),At="string"==typeof j?{phoneNumber:j}:j,"session"in At){const An=At.session;if("phoneNumber"in At)return gt("enroll"===An.type,oe,"internal-error"),(yield Xa(oe,{idToken:An.credential,phoneEnrollmentInfo:{phoneNumber:At.phoneNumber,recaptchaToken:Ye}})).phoneSessionInfo.sessionInfo;{gt("signin"===An.type,oe,"internal-error");const hi=(null===(de=At.multiFactorHint)||void 0===de?void 0:de.uid)||At.multiFactorUid;return gt(hi,oe,"missing-multi-factor-info"),(yield rc(oe,{mfaPendingCredential:An.credential,mfaEnrollmentId:hi,phoneSignInInfo:{recaptchaToken:Ye}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:An}=yield vo(oe,{phoneNumber:At.phoneNumber,recaptchaToken:Ye});return An}}finally{H._reset()}})).apply(this,arguments)}function qo(){return(qo=(0,n.Z)(function*(oe,j){yield Te((0,Oe.m9)(oe),j)})).apply(this,arguments)}let Qs=(()=>{class oe{constructor(H){this.providerId=oe.PROVIDER_ID,this.auth=Vi(H)}verifyPhoneNumber(H,de){return zl(this.auth,H,(0,Oe.m9)(de))}static credential(H,de){return Uo._fromVerification(H,de)}static credentialFromResult(H){return oe.credentialFromTaggedObject(H)}static credentialFromError(H){return oe.credentialFromTaggedObject(H.customData||{})}static credentialFromTaggedObject({_tokenResponse:H}){if(!H)return null;const{phoneNumber:de,temporaryProof:Ye}=H;return de&&Ye?Uo._fromTokenResponse(de,Ye):null}}return oe.PROVIDER_ID="phone",oe.PHONE_SIGN_IN_METHOD="phone",oe})();function fc(oe,j){return j?sn(j):(gt(oe._popupRedirectResolver,oe,"argument-error"),oe._popupRedirectResolver)}class Yl extends ${constructor(j){super("custom","custom"),this.params=j}_getIdTokenResponse(j){return mr(j,this._buildIdpRequest())}_linkToIdToken(j,H){return mr(j,this._buildIdpRequest(H))}_getReauthenticationResolver(j){return mr(j,this._buildIdpRequest())}_buildIdpRequest(j){const H={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return j&&(H.idToken=j),H}}function sf(oe){return Re(oe.auth,new Yl(oe),oe.bypassAuthState)}function pc(oe){const{auth:j,user:H}=oe;return gt(H,j,"internal-error"),se(H,new Yl(oe),oe.bypassAuthState)}function xc(oe){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,n.Z)(function*(oe){const{auth:j,user:H}=oe;return gt(H,j,"internal-error"),Te(H,new Yl(oe),oe.bypassAuthState)})).apply(this,arguments)}class Jc{constructor(j,H,de,Ye,At=!1){this.auth=j,this.resolver=de,this.user=Ye,this.bypassAuthState=At,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(H)?H:[H]}execute(){var j=this;return new Promise(function(){var H=(0,n.Z)(function*(de,Ye){j.pendingPromise={resolve:de,reject:Ye};try{j.eventManager=yield j.resolver._initialize(j.auth),yield j.onExecution(),j.eventManager.registerConsumer(j)}catch(At){j.reject(At)}});return function(de,Ye){return H.apply(this,arguments)}}())}onAuthEvent(j){var H=this;return(0,n.Z)(function*(){const{urlResponse:de,sessionId:Ye,postBody:At,tenantId:An,error:hi,type:qi}=j;if(hi)return void H.reject(hi);const Er={auth:H.auth,requestUri:de,sessionId:Ye,tenantId:An||void 0,postBody:At||void 0,user:H.user,bypassAuthState:H.bypassAuthState};try{H.resolve(yield H.getIdpTask(qi)(Er))}catch(Zr){H.reject(Zr)}})()}onError(j){this.reject(j)}getIdpTask(j){switch(j){case"signInViaPopup":case"signInViaRedirect":return sf;case"linkViaPopup":case"linkViaRedirect":return xc;case"reauthViaPopup":case"reauthViaRedirect":return pc;default:Me(this.auth,"internal-error")}}resolve(j){Lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(j),this.unregisterAndCleanUp()}reject(j){Lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(j),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kc=new Hn(2e3,1e4);function Ad(){return(Ad=(0,n.Z)(function*(oe,j,H){const de=Vi(oe);Dt(oe,j,St);const Ye=fc(de,H);return new po(de,"signInViaPopup",j,Ye).executeNotNull()})).apply(this,arguments)}function yu(){return(yu=(0,n.Z)(function*(oe,j,H){const de=(0,Oe.m9)(oe);Dt(de.auth,j,St);const Ye=fc(de.auth,H);return new po(de.auth,"reauthViaPopup",j,Ye,de).executeNotNull()})).apply(this,arguments)}function Gu(){return(Gu=(0,n.Z)(function*(oe,j,H){const de=(0,Oe.m9)(oe);Dt(de.auth,j,St);const Ye=fc(de.auth,H);return new po(de.auth,"linkViaPopup",j,Ye,de).executeNotNull()})).apply(this,arguments)}let po=(()=>{class oe extends Jc{constructor(H,de,Ye,At,An){super(H,de,At,An),this.provider=Ye,this.authWindow=null,this.pollId=null,oe.currentPopupAction&&oe.currentPopupAction.cancel(),oe.currentPopupAction=this}executeNotNull(){var H=this;return(0,n.Z)(function*(){const de=yield H.execute();return gt(de,H.auth,"internal-error"),de})()}onExecution(){var H=this;return(0,n.Z)(function*(){Lt(1===H.filter.length,"Popup operations only handle one event");const de=ps();H.authWindow=yield H.resolver._openPopup(H.auth,H.provider,H.filter[0],de),H.authWindow.associatedEvent=de,H.resolver._originValidation(H.auth).catch(Ye=>{H.reject(Ye)}),H.resolver._isIframeWebStorageSupported(H.auth,Ye=>{Ye||H.reject(tt(H.auth,"web-storage-unsupported"))}),H.pollUserCancellation()})()}get eventId(){var H;return(null===(H=this.authWindow)||void 0===H?void 0:H.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oe.currentPopupAction=null}pollUserCancellation(){const H=()=>{var de,Ye;this.pollId=(null===(Ye=null===(de=this.authWindow)||void 0===de?void 0:de.window)||void 0===Ye?void 0:Ye.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(H,Kc.get())};H()}}return oe.currentPopupAction=null,oe})();const pl=new Map;class Nd extends Jc{constructor(j,H,de=!1){super(j,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],H,void 0,de),this.eventId=null}execute(){var j=()=>super.execute,H=this;return(0,n.Z)(function*(){let de=pl.get(H.auth._key());if(!de){try{const At=(yield function(oe,j){return Cu.apply(this,arguments)}(H.resolver,H.auth))?yield j().call(H):null;de=()=>Promise.resolve(At)}catch(Ye){de=()=>Promise.reject(Ye)}pl.set(H.auth._key(),de)}return de()})()}onAuthEvent(j){var H=()=>super.onAuthEvent,de=this;return(0,n.Z)(function*(){if("signInViaRedirect"===j.type)return H().call(de,j);if("unknown"!==j.type){if(j.eventId){const Ye=yield de.auth._redirectUserForId(j.eventId);if(Ye)return de.user=Ye,H().call(de,j);de.resolve(null)}}else de.resolve(null)})()}onExecution(){return(0,n.Z)(function*(){})()}cleanUp(){}}function Cu(){return(Cu=(0,n.Z)(function*(oe,j){const H=Pu(j),de="true"===(yield vh(oe)._get(H));return yield vh(oe)._remove(H),de})).apply(this,arguments)}function bu(oe,j){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,n.Z)(function*(oe,j){return vh(oe)._set(Pu(j),"true")})).apply(this,arguments)}function vh(oe){return sn(oe._redirectPersistence)}function Pu(oe){return dt("pendingRedirect",oe.config.apiKey,oe.name)}function cf(){return(cf=(0,n.Z)(function*(oe,j,H){const de=Vi(oe);Dt(oe,j,St);const Ye=fc(de,H);return yield bu(Ye,de),Ye._openRedirect(de,j,"signInViaRedirect")})).apply(this,arguments)}function Rl(){return(Rl=(0,n.Z)(function*(oe,j,H){const de=(0,Oe.m9)(oe);Dt(de.auth,j,St);const Ye=fc(de.auth,H);yield bu(Ye,de.auth);const At=yield kl(de);return Ye._openRedirect(de.auth,j,"reauthViaRedirect",At)})).apply(this,arguments)}function Ll(){return(Ll=(0,n.Z)(function*(oe,j,H){const de=(0,Oe.m9)(oe);Dt(de.auth,j,St);const Ye=fc(de.auth,H);yield fe(!1,de,j.providerId),yield bu(Ye,de.auth);const At=yield kl(de);return Ye._openRedirect(de.auth,j,"linkViaRedirect",At)})).apply(this,arguments)}function Ph(){return(Ph=(0,n.Z)(function*(oe,j){return yield Vi(oe)._initializationPromise,Wl(oe,j,!1)})).apply(this,arguments)}function Wl(oe,j){return sc.apply(this,arguments)}function sc(){return(sc=(0,n.Z)(function*(oe,j,H=!1){const de=Vi(oe),Ye=fc(de,j),An=yield new Nd(de,Ye,H).execute();return An&&!H&&(delete An.user._redirectEventId,yield de._persistUserIfCurrent(An.user),yield de._setRedirectUser(null,j)),An})).apply(this,arguments)}function kl(oe){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,n.Z)(function*(oe){const j=ps(`${oe.uid}:::`);return oe._redirectEventId=j,yield oe.auth._setRedirectUser(oe),yield oe.auth._persistUserIfCurrent(oe),j})).apply(this,arguments)}class Mu{constructor(j){this.auth=j,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(j){this.consumers.add(j),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,j)&&(this.sendToConsumer(this.queuedRedirectEvent,j),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(j){this.consumers.delete(j)}onEvent(j){if(this.hasEventBeenHandled(j))return!1;let H=!1;return this.consumers.forEach(de=>{this.isEventForConsumer(j,de)&&(H=!0,this.sendToConsumer(j,de),this.saveEventToCache(j))}),this.hasHandledPotentialRedirect||!function(oe){switch(oe.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xc(oe);default:return!1}}(j)||(this.hasHandledPotentialRedirect=!0,H||(this.queuedRedirectEvent=j,H=!0)),H}sendToConsumer(j,H){var de;if(j.error&&!Xc(j)){const Ye=(null===(de=j.error.code)||void 0===de?void 0:de.split("auth/")[1])||"internal-error";H.onError(tt(this.auth,Ye))}else H.onAuthEvent(j)}isEventForConsumer(j,H){const de=null===H.eventId||!!j.eventId&&j.eventId===H.eventId;return H.filter.includes(j.type)&&de}hasEventBeenHandled(j){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ld(j))}saveEventToCache(j){this.cachedEventUids.add(Ld(j)),this.lastProcessedEventTime=Date.now()}}function Ld(oe){return[oe.type,oe.eventId,oe.sessionId,oe.tenantId].filter(j=>j).join("-")}function Xc({type:oe,error:j}){return"unknown"===oe&&"auth/no-auth-event"===(null==j?void 0:j.code)}function Jl(oe){return ac.apply(this,arguments)}function ac(){return(ac=(0,n.Z)(function*(oe,j={}){return ri(oe,"GET","/v1/projects",j)})).apply(this,arguments)}const Mh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kd=/^https?/;function bc(){return(bc=(0,n.Z)(function*(oe){if(oe.config.emulator)return;const{authorizedDomains:j}=yield Jl(oe);for(const H of j)try{if(Ul(H))return}catch(de){}Me(oe,"unauthorized-domain")})).apply(this,arguments)}function Ul(oe){const j=Yt(),{protocol:H,hostname:de}=new URL(j);if(oe.startsWith("chrome-extension://")){const An=new URL(oe);return""===An.hostname&&""===de?"chrome-extension:"===H&&oe.replace("chrome-extension://","")===j.replace("chrome-extension://",""):"chrome-extension:"===H&&An.hostname===de}if(!kd.test(H))return!1;if(Mh.test(oe))return de===oe;const Ye=oe.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Ye+"|"+Ye+")$","i").test(de)}const gl=new Hn(3e4,6e4);function lf(){const oe=lo().___jsl;if(null==oe?void 0:oe.H)for(const j of Object.keys(oe.H))if(oe.H[j].r=oe.H[j].r||[],oe.H[j].L=oe.H[j].L||[],oe.H[j].r=[...oe.H[j].L],oe.CP)for(let H=0;H<oe.CP.length;H++)oe.CP[H]=null}let Xl=null;function Qu(oe){return Xl=Xl||function(oe){return new Promise((j,H)=>{var de,Ye,At;function An(){lf(),gapi.load("gapi.iframes",{callback:()=>{j(gapi.iframes.getContext())},ontimeout:()=>{lf(),H(tt(oe,"network-request-failed"))},timeout:gl.get()})}if(null===(Ye=null===(de=lo().gapi)||void 0===de?void 0:de.iframes)||void 0===Ye?void 0:Ye.Iframe)j(gapi.iframes.getContext());else{if(!(null===(At=lo().gapi)||void 0===At?void 0:At.load)){const hi=Jt("iframefcb");return lo()[hi]=()=>{gapi.load?An():H(tt(oe,"network-request-failed"))},rt(`https://apis.google.com/js/api.js?onload=${hi}`)}An()}}).catch(j=>{throw Xl=null,j})}(oe),Xl}const Ju=new Hn(5e3,15e3),eu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},el=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tu(oe){const j=oe.config;gt(j.authDomain,oe,"auth-domain-config-required");const H=j.emulator?ni(j,"emulator/auth/iframe"):`https://${oe.config.authDomain}/__/auth/iframe`,de={apiKey:j.apiKey,appName:oe.name,v:we.SDK_VERSION},Ye=el.get(oe.config.apiHost);Ye&&(de.eid=Ye);const At=oe._getFrameworks();return At.length&&(de.fw=At.join(",")),`${H}?${(0,Oe.xO)(de).slice(1)}`}function tl(){return(tl=(0,n.Z)(function*(oe){const j=yield Qu(oe),H=lo().gapi;return gt(H,oe,"internal-error"),j.open({where:document.body,url:tu(oe),messageHandlersFilter:H.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eu,dontclear:!0},de=>new Promise(function(){var Ye=(0,n.Z)(function*(At,An){yield de.restyle({setHideOnLeave:!1});const hi=tt(oe,"network-request-failed"),qi=lo().setTimeout(()=>{An(hi)},Ju.get());function Er(){lo().clearTimeout(qi),At(de)}de.ping(Er).then(Er,()=>{An(hi)})});return function(At,An){return Ye.apply(this,arguments)}}()))})).apply(this,arguments)}const uf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ed{constructor(j){this.window=j,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(j){}}}function ff(oe,j,H,de,Ye,At){gt(oe.config.authDomain,oe,"auth-domain-config-required"),gt(oe.config.apiKey,oe,"invalid-api-key");const An={apiKey:oe.config.apiKey,appName:oe.name,authType:H,redirectUrl:de,v:we.SDK_VERSION,eventId:Ye};if(j instanceof St){j.setDefaultLanguage(oe.languageCode),An.providerId=j.providerId||"",(0,Oe.xb)(j.getCustomParameters())||(An.customParameters=JSON.stringify(j.getCustomParameters()));for(const[qi,Er]of Object.entries(At||{}))An[qi]=Er}if(j instanceof Sn){const qi=j.getScopes().filter(Er=>""!==Er);qi.length>0&&(An.scopes=qi.join(","))}oe.tenantId&&(An.tid=oe.tenantId);const hi=An;for(const qi of Object.keys(hi))void 0===hi[qi]&&delete hi[qi];return`${function({config:oe}){return oe.emulator?ni(oe,"emulator/auth/handler"):`https://${oe.authDomain}/__/auth/handler`}(oe)}?${(0,Oe.xO)(hi).slice(1)}`}const td="webStorageSupport";class Za extends class{constructor(j){this.factorId=j}_process(j,H,de){switch(H.type){case"enroll":return this._finalizeEnroll(j,H.credential,de);case"signin":return this._finalizeSignIn(j,H.credential);default:return Ht("unexpected MultiFactorSessionType")}}}{constructor(j){super("phone"),this.credential=j}static _fromCredential(j){return new Za(j)}_finalizeEnroll(j,H,de){return function(oe,j){return ri(oe,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:oe.tenantId},j))}(j,{idToken:H,displayName:de,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(j,H){return function(oe,j){return ri(oe,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:oe.tenantId},j))}(j,{mfaPendingCredential:H,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class pf{constructor(){}static assertion(j){return Za._fromCredential(j)}}var oe;class nd{constructor(j){this.auth=j,this.internalListeners=new Map}getUid(){var j;return this.assertAuthConfigured(),(null===(j=this.auth.currentUser)||void 0===j?void 0:j.uid)||null}getToken(j){var H=this;return(0,n.Z)(function*(){return H.assertAuthConfigured(),yield H.auth._initializationPromise,H.auth.currentUser?{accessToken:yield H.auth.currentUser.getIdToken(j)}:null})()}addAuthTokenListener(j){if(this.assertAuthConfigured(),this.internalListeners.has(j))return;const H=this.auth.onIdTokenChanged(de=>{var Ye;j((null===(Ye=de)||void 0===Ye?void 0:Ye.stsTokenManager.accessToken)||null)});this.internalListeners.set(j,H),this.updateProactiveRefresh()}removeAuthTokenListener(j){this.assertAuthConfigured();const H=this.internalListeners.get(j);!H||(this.internalListeners.delete(j),H(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function so(){return window}function Is(){return(Is=(0,n.Z)(function*(oe,j,H){var de;const{BuildInfo:Ye}=so();Lt(j.sessionId,"AuthEvent did not contain a session ID");const At=yield Dh(j.sessionId),An={};return ei()?An.ibi=Ye.packageName:Bt()?An.apn=Ye.packageName:Me(oe,"operation-not-supported-in-this-environment"),Ye.displayName&&(An.appDisplayName=Ye.displayName),An.sessionId=At,ff(oe,H,j.type,void 0,null!==(de=j.eventId)&&void 0!==de?de:void 0,An)})).apply(this,arguments)}function Zs(){return(Zs=(0,n.Z)(function*(oe){const{BuildInfo:j}=so(),H={};ei()?H.iosBundleId=j.packageName:Bt()?H.androidPackageName=j.packageName:Me(oe,"operation-not-supported-in-this-environment"),yield Jl(oe,H)})).apply(this,arguments)}function Th(){return(Th=(0,n.Z)(function*(oe,j,H){const{cordova:de}=so();let Ye=()=>{};try{yield new Promise((At,An)=>{let hi=null;function qi(){var Wn;At();const gs=null===(Wn=de.plugins.browsertab)||void 0===Wn?void 0:Wn.close;"function"==typeof gs&&gs(),"function"==typeof(null==H?void 0:H.close)&&H.close()}function Er(){hi||(hi=window.setTimeout(()=>{An(tt(oe,"redirect-cancelled-by-user"))},2e3))}function Zr(){"visible"===(null==document?void 0:document.visibilityState)&&Er()}j.addPassiveListener(qi),document.addEventListener("resume",Er,!1),Bt()&&document.addEventListener("visibilitychange",Zr,!1),Ye=()=>{j.removePassiveListener(qi),document.removeEventListener("resume",Er,!1),document.removeEventListener("visibilitychange",Zr,!1),hi&&window.clearTimeout(hi)}})}finally{Ye()}})).apply(this,arguments)}function Dh(oe){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,n.Z)(function*(oe){const j=vp(oe),H=yield crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array(H)).map(Ye=>Ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function vp(oe){if(Lt(/[0-9a-zA-Z]+/.test(oe),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(oe);const j=new ArrayBuffer(oe.length),H=new Uint8Array(j);for(let de=0;de<oe.length;de++)H[de]=oe.charCodeAt(de);return H}oe="Browser",(0,we._registerComponent)(new He.wA("auth",(j,{options:H})=>{const de=j.getProvider("app").getImmediate(),{apiKey:Ye,authDomain:At}=de.options;return(An=>{gt(Ye&&!Ye.includes(":"),"invalid-api-key",{appName:An.name}),gt(!(null==At?void 0:At.includes(":")),"argument-error",{appName:An.name});const hi={apiKey:Ye,authDomain:At,clientPlatform:oe,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tr(oe)},qi=new rr(An,hi);return function(oe,j){const H=(null==j?void 0:j.persistence)||[],de=(Array.isArray(H)?H:[H]).map(sn);(null==j?void 0:j.errorMap)&&oe._updateErrorMap(j.errorMap),oe._initializeWithPersistence(de,null==j?void 0:j.popupRedirectResolver)}(qi,H),qi})(de)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((j,H,de)=>{j.getProvider("auth-internal").initialize()})),(0,we._registerComponent)(new He.wA("auth-internal",j=>{const H=Vi(j.getProvider("auth").getImmediate());return new nd(H)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)("@firebase/auth","0.17.2",void 0);class bf extends Mu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(j=>{this.resolveInialized=j})}addPassiveListener(j){this.passiveListeners.add(j)}removePassiveListener(j){this.passiveListeners.delete(j)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(j){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(j)),super.onEvent(j)}initialized(){var j=this;return(0,n.Z)(function*(){yield j.initPromise})()}}function Tu(oe){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,n.Z)(function*(oe){const j=yield xh()._get(Ah(oe));return j&&(yield xh()._remove(Ah(oe))),j})).apply(this,arguments)}function Sh(){const oe=[],j="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const de=Math.floor(Math.random()*j.length);oe.push(j.charAt(de))}return oe.join("")}function xh(){return sn(_a)}function Ah(oe){return dt("authEvent",oe.config.apiKey,oe.name)}function nu(oe){if(!(null==oe?void 0:oe.includes("?")))return{};const[j,...H]=oe.split("?");return(0,Oe.zd)(H.join("?"))}function Mf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:tt("no-auth-event")}}function vl(){var oe;return(null===(oe=null==self?void 0:self.location)||void 0===oe?void 0:oe.protocol)||null}function jl(oe=(0,Oe.z$)()){return!("file:"!==vl()&&"ionic:"!==vl()||!oe.toLowerCase().match(/iphone|ipad|ipod|android/))}function sd(){try{const oe=self.localStorage,j=ps();if(oe)return oe.setItem(j,"1"),oe.removeItem(j),!function(oe=(0,Oe.z$)()){return(0,Oe.w1)()&&11===(null==document?void 0:document.documentMode)||function(oe=(0,Oe.z$)()){return/Edge\/\d+/.test(oe)}(oe)}()||(0,Oe.hl)()}catch(oe){return ad()&&(0,Oe.hl)()}return!1}function ad(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function $d(){return("http:"===vl()||"https:"===vl()||(0,Oe.ru)()||jl())&&!((0,Oe.b$)()||(0,Oe.UG)())&&sd()&&!ad()}function wf(){return jl()&&"undefined"!=typeof document}function Su(){return(Su=(0,n.Z)(function*(){return!!wf()&&new Promise(oe=>{const j=setTimeout(()=>{oe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(j),oe(!0)})})})).apply(this,arguments)}const gc={LOCAL:"local",NONE:"none",SESSION:"session"},qd=gt,Ef="persistence";function Js(oe){return cd.apply(this,arguments)}function cd(){return(cd=(0,n.Z)(function*(oe){yield oe._initializationPromise;const j=Hd(),H=dt(Ef,oe.config.apiKey,oe.name);(null==j?void 0:j.sessionStorage)&&j.sessionStorage.setItem(H,oe._getPersistence())})).apply(this,arguments)}function Hd(){return"undefined"!=typeof window?window:null}const Oa=gt;class Ic{constructor(){this.browserResolver=sn(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=js,this._completeRedirectFn=Wl}_openPopup(j,H,de,Ye){var At=this;return(0,n.Z)(function*(){var An;Lt(null===(An=At.eventManagers[j._key()])||void 0===An?void 0:An.manager,"_initialize() not called before _openPopup()");const hi=ff(j,H,de,Yt(),Ye);return function(oe,j,H,de=500,Ye=600){const At=Math.max((window.screen.availHeight-Ye)/2,0).toString(),An=Math.max((window.screen.availWidth-de)/2,0).toString();let hi="";const qi=Object.assign(Object.assign({},uf),{width:de.toString(),height:Ye.toString(),top:At,left:An}),Er=(0,Oe.z$)().toLowerCase();H&&(hi=Ge(Er)?"_blank":H),Ut(Er)&&(j=j||"http://localhost",qi.scrollbars="yes");const Zr=Object.entries(qi).reduce((gs,[Ns,ld])=>`${gs}${Ns}=${ld},`,"");if(function(oe=(0,Oe.z$)()){var j;return ei(oe)&&!!(null===(j=window.navigator)||void 0===j?void 0:j.standalone)}(Er)&&"_self"!==hi)return function(oe,j){const H=document.createElement("a");H.href=oe,H.target=j;const de=document.createEvent("MouseEvent");de.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),H.dispatchEvent(de)}(j||"",hi),new ed(null);const Wn=window.open(j||"",hi,Zr);gt(Wn,oe,"popup-blocked");try{Wn.focus()}catch(gs){}return new ed(Wn)}(j,hi,ps())})()}_openRedirect(j,H,de,Ye){var At=this;return(0,n.Z)(function*(){return yield At._originValidation(j),oe=ff(j,H,de,Yt(),Ye),lo().location.href=oe,new Promise(()=>{});var oe})()}_initialize(j){const H=j._key();if(this.eventManagers[H]){const{manager:Ye,promise:At}=this.eventManagers[H];return Ye?Promise.resolve(Ye):(Lt(At,"If manager is not set, promise should be"),At)}const de=this.initAndGetManager(j);return this.eventManagers[H]={promise:de},de}initAndGetManager(j){var H=this;return(0,n.Z)(function*(){const de=yield function(oe){return tl.apply(this,arguments)}(j),Ye=new Mu(j);return de.register("authEvent",At=>(gt(null==At?void 0:At.authEvent,j,"invalid-auth-event"),{status:Ye.onEvent(At.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),H.eventManagers[j._key()]={manager:Ye},H.iframes[j._key()]=de,Ye})()}_isIframeWebStorageSupported(j,H){this.iframes[j._key()].send(td,{type:td},Ye=>{var At;const An=null===(At=null==Ye?void 0:Ye[0])||void 0===At?void 0:At[td];void 0!==An&&H(!!An),Me(j,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(j){const H=j._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function(oe){return bc.apply(this,arguments)}(j)),this.originValidationPromises[H]}get _shouldInitProactively(){return si()||st()||ei()}}),this.cordovaResolver=sn(class{constructor(){this._redirectPersistence=js,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wl}_initialize(j){var H=this;return(0,n.Z)(function*(){const de=j._key();let Ye=H.eventManagers.get(de);return Ye||(Ye=new bf(j),H.eventManagers.set(de,Ye),H.attachCallbackListeners(j,Ye)),Ye})()}_openPopup(j){Me(j,"operation-not-supported-in-this-environment")}_openRedirect(j,H,de,Ye){var At=this;return(0,n.Z)(function*(){!function(oe){var j,H,de,Ye,At,An,hi,qi,Er,Zr;const Wn=so();gt("function"==typeof(null===(j=null==Wn?void 0:Wn.universalLinks)||void 0===j?void 0:j.subscribe),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),gt(void 0!==(null===(H=null==Wn?void 0:Wn.BuildInfo)||void 0===H?void 0:H.packageName),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),gt("function"==typeof(null===(At=null===(Ye=null===(de=null==Wn?void 0:Wn.cordova)||void 0===de?void 0:de.plugins)||void 0===Ye?void 0:Ye.browsertab)||void 0===At?void 0:At.openUrl),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gt("function"==typeof(null===(qi=null===(hi=null===(An=null==Wn?void 0:Wn.cordova)||void 0===An?void 0:An.plugins)||void 0===hi?void 0:hi.browsertab)||void 0===qi?void 0:qi.isAvailable),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gt("function"==typeof(null===(Zr=null===(Er=null==Wn?void 0:Wn.cordova)||void 0===Er?void 0:Er.InAppBrowser)||void 0===Zr?void 0:Zr.open),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(j);const An=yield At._initialize(j);yield An.initialized(),An.resetRedirect(),pl.clear(),yield At._originValidation(j);const hi=function(oe,j,H=null){return{type:j,eventId:H,urlResponse:null,sessionId:Sh(),postBody:null,tenantId:oe.tenantId,error:tt(oe,"no-auth-event")}}(j,de,Ye);yield function(oe,j){return xh()._set(Ah(oe),j)}(j,hi);const qi=yield function(oe,j,H){return Is.apply(this,arguments)}(j,hi,H),Er=yield function(oe){const{cordova:j}=so();return new Promise(H=>{j.plugins.browsertab.isAvailable(de=>{let Ye=null;de?j.plugins.browsertab.openUrl(oe):Ye=j.InAppBrowser.open(oe,function(oe=(0,Oe.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(oe)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(oe)}()?"_blank":"_system","location=yes"),H(Ye)})})}(qi);return function(oe,j,H){return Th.apply(this,arguments)}(j,An,Er)})()}_isIframeWebStorageSupported(j,H){throw new Error("Method not implemented.")}_originValidation(j){const H=j._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function(oe){return Zs.apply(this,arguments)}(j)),this.originValidationPromises[H]}attachCallbackListeners(j,H){const{universalLinks:de,handleOpenURL:Ye,BuildInfo:At}=so(),An=setTimeout((0,n.Z)(function*(){yield Tu(j),H.onEvent(Mf())}),500),hi=function(){var Zr=(0,n.Z)(function*(Wn){clearTimeout(An);const gs=yield Tu(j);let Ns=null;gs&&(null==Wn?void 0:Wn.url)&&(Ns=function(oe,j){var H,de;const Ye=function(oe){const j=nu(oe),H=j.link?decodeURIComponent(j.link):void 0,de=nu(H).link,Ye=j.deep_link_id?decodeURIComponent(j.deep_link_id):void 0;return nu(Ye).link||Ye||de||H||oe}(j);if(Ye.includes("/__/auth/callback")){const At=nu(Ye),An=At.firebaseError?function(oe){try{return JSON.parse(oe)}catch(j){return null}}(decodeURIComponent(At.firebaseError)):null,hi=null===(de=null===(H=null==An?void 0:An.code)||void 0===H?void 0:H.split("auth/"))||void 0===de?void 0:de[1],qi=hi?tt(hi):null;return qi?{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,error:qi,urlResponse:null,sessionId:null,postBody:null}:{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,sessionId:oe.sessionId,urlResponse:Ye,postBody:null}}return null}(gs,Wn.url)),H.onEvent(Ns||Mf())});return function(gs){return Zr.apply(this,arguments)}}();void 0!==de&&"function"==typeof de.subscribe&&de.subscribe(null,hi);const qi=Ye,Er=`${At.packageName.toLowerCase()}://`;so().handleOpenURL=function(){var Zr=(0,n.Z)(function*(Wn){if(Wn.toLowerCase().startsWith(Er)&&hi({url:Wn}),"function"==typeof qi)try{qi(Wn)}catch(gs){console.error(gs)}});return function(Wn){return Zr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=js,this._completeRedirectFn=Wl}_initialize(j){var H=this;return(0,n.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(j)})()}_openPopup(j,H,de,Ye){var At=this;return(0,n.Z)(function*(){return yield At.selectUnderlyingResolver(),At.assertedUnderlyingResolver._openPopup(j,H,de,Ye)})()}_openRedirect(j,H,de,Ye){var At=this;return(0,n.Z)(function*(){return yield At.selectUnderlyingResolver(),At.assertedUnderlyingResolver._openRedirect(j,H,de,Ye)})()}_isIframeWebStorageSupported(j,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(j,H)}_originValidation(j){return this.assertedUnderlyingResolver._originValidation(j)}get _shouldInitProactively(){return wf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Oa(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var j=this;return(0,n.Z)(function*(){if(j.underlyingResolver)return;const H=yield function(){return Su.apply(this,arguments)}();j.underlyingResolver=H?j.cordovaResolver:j.browserResolver})()}}function Gd(oe){return oe.unwrap()}function Iu(oe){return Df(oe)}function Tf(oe,j){var H;const de=null===(H=j.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===j.code)j.resolver=new Sf(oe,function(oe,j){var H;const de=(0,Oe.m9)(oe),Ye=j;return gt(j.operationType,de,"argument-error"),gt(null===(H=Ye.serverResponse)||void 0===H?void 0:H.mfaPendingCredential,de,"argument-error"),Ms._fromError(de,Ye)}(oe,j));else if(de){const Ye=Df(j),At=j;Ye&&(At.credential=Ye,At.tenantId=de.tenantId||void 0,At.email=de.email||void 0,At.phoneNumber=de.phoneNumber||void 0)}}function Df(oe){const{_tokenResponse:j}=oe instanceof Oe.ZR?oe.customData:oe;if(!j)return null;if(!(oe instanceof Oe.ZR)&&"temporaryProof"in j&&"phoneNumber"in j)return Qs.credentialFromResult(oe);const H=j.providerId;if(!H||"password"===H)return null;let de;switch(H){case"google.com":de=xi;break;case"facebook.com":de=Qi;break;case"github.com":de=Xi;break;case"twitter.com":de=Et;break;default:const{oauthIdToken:Ye,oauthAccessToken:At,oauthTokenSecret:An,pendingToken:hi,nonce:qi}=j;return At||An||Ye||hi?hi?H.startsWith("saml.")?Dr._create(H,hi):co._fromParams({providerId:H,signInMethod:H,pendingToken:hi,idToken:Ye,accessToken:At}):new Ai(H).credential({idToken:Ye,accessToken:At,rawNonce:qi}):null}return oe instanceof Oe.ZR?de.credentialFromError(oe):de.credentialFromResult(oe)}function cc(oe,j){return zd.apply(this,arguments)}function zd(){return(zd=(0,n.Z)(function*(oe,j){let H;try{H=yield j}catch(At){throw At instanceof Oe.ZR&&Tf(oe,At),At}const{operationType:de,user:Ye}=H;return{operationType:de,credential:Iu(H),additionalUserInfo:Qc(H),user:Ta.getOrCreate(Ye)}})).apply(this,arguments)}function mc(oe,j){return kh.apply(this,arguments)}function kh(){return(kh=(0,n.Z)(function*(oe,j){const H=yield j;return{verificationId:H.verificationId,confirm:de=>cc(oe,H.confirm(de))}})).apply(this,arguments)}class Sf{constructor(j,H){this.resolver=H,this.auth=function(oe){return oe.wrapped()}(j)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(j){return cc(Gd(this.auth),this.resolver.resolveSignIn(j))}}class Ta{constructor(j){this._delegate=j,this.multiFactor=function(oe){const j=(0,Oe.m9)(oe);return Wo.has(j)||Wo.set(j,qc._fromUser(j)),Wo.get(j)}(j)}static getOrCreate(j){return Ta.USER_MAP.has(j)||Ta.USER_MAP.set(j,new Ta(j)),Ta.USER_MAP.get(j)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(j){return this._delegate.getIdTokenResult(j)}getIdToken(j){return this._delegate.getIdToken(j)}linkAndRetrieveDataWithCredential(j){return this.linkWithCredential(j)}linkWithCredential(j){var H=this;return(0,n.Z)(function*(){return cc(H.auth,Pr(H._delegate,j))})()}linkWithPhoneNumber(j,H){var de=this;return(0,n.Z)(function*(){return mc(de.auth,function(oe,j,H){return mh.apply(this,arguments)}(de._delegate,j,H))})()}linkWithPopup(j){var H=this;return(0,n.Z)(function*(){return cc(H.auth,function(oe,j,H){return Gu.apply(this,arguments)}(H._delegate,j,Ic))})()}linkWithRedirect(j){var H=this;return(0,n.Z)(function*(){return yield Js(Vi(H.auth)),function(oe,j,H){return function(oe,j,H){return Ll.apply(this,arguments)}(oe,j,H)}(H._delegate,j,Ic)})()}reauthenticateAndRetrieveDataWithCredential(j){return this.reauthenticateWithCredential(j)}reauthenticateWithCredential(j){var H=this;return(0,n.Z)(function*(){return cc(H.auth,Vr(H._delegate,j))})()}reauthenticateWithPhoneNumber(j,H){return mc(this.auth,function(oe,j,H){return Il.apply(this,arguments)}(this._delegate,j,H))}reauthenticateWithPopup(j){return cc(this.auth,function(oe,j,H){return yu.apply(this,arguments)}(this._delegate,j,Ic))}reauthenticateWithRedirect(j){var H=this;return(0,n.Z)(function*(){return yield Js(Vi(H.auth)),function(oe,j,H){return function(oe,j,H){return Rl.apply(this,arguments)}(oe,j,H)}(H._delegate,j,Ic)})()}sendEmailVerification(j){return function(oe,j){return ys.apply(this,arguments)}(this._delegate,j)}unlink(j){var H=this;return(0,n.Z)(function*(){return yield function(oe,j){return io.apply(this,arguments)}(H._delegate,j),H})()}updateEmail(j){return function(oe,j){return Eo((0,Oe.m9)(oe),j,null)}(this._delegate,j)}updatePassword(j){return function(oe,j){return Eo((0,Oe.m9)(oe),null,j)}(this._delegate,j)}updatePhoneNumber(j){return function(oe,j){return qo.apply(this,arguments)}(this._delegate,j)}updateProfile(j){return function(oe,j){return bs.apply(this,arguments)}(this._delegate,j)}verifyBeforeUpdateEmail(j,H){return function(oe,j,H){return zs.apply(this,arguments)}(this._delegate,j,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ta.USER_MAP=new WeakMap;const Nu=gt;let $a=(()=>{class oe{constructor(H,de){if(this.app=H,de.isInitialized())return this._delegate=de.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ye}=H.options;Nu(Ye,"invalid-api-key",{appName:H.name});let At=[Ct];if("undefined"!=typeof window){At=function(oe,j){const H=Hd();if(!(null==H?void 0:H.sessionStorage))return[];const de=dt(Ef,oe,j);switch(H.sessionStorage.getItem(de)){case gc.NONE:return[Ct];case gc.LOCAL:return[ts,js];case gc.SESSION:return[js];default:return[]}}(Ye,H.name);for(const hi of[ts,_a,js])At.includes(hi)||At.push(hi)}Nu(Ye,"invalid-api-key",{appName:H.name});const An="undefined"!=typeof window?Ic:void 0;this._delegate=de.initialize({options:{persistence:At,popupRedirectResolver:An}}),this._delegate._updateErrorMap(Zt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ta.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,de){!function(oe,j,H){const de=Vi(oe);gt(de._canInitEmulator,de,"emulator-config-failed"),gt(/^https?:\/\//.test(j),de,"invalid-emulator-scheme");const Ye=!!(null==H?void 0:H.disableWarnings),At=Ur(j),{host:An,port:hi}=function(oe){const j=Ur(oe),H=/(\/\/)?([^?#/]+)/.exec(oe.substr(j.length));if(!H)return{host:"",port:null};const de=H[2].split("@").pop()||"",Ye=/^(\[[^\]]+\])(:|$)/.exec(de);if(Ye){const At=Ye[1];return{host:At,port:ct(de.substr(At.length+1))}}{const[At,An]=de.split(":");return{host:At,port:ct(An)}}}(j);de.config.emulator={url:`${At}//${An}${null===hi?"":`:${hi}`}/`},de.settings.appVerificationDisabledForTesting=!0,de.emulatorConfig=Object.freeze({host:An,port:hi,protocol:At.replace(":",""),options:Object.freeze({disableWarnings:Ye})}),function(oe){function j(){const H=document.createElement("p"),de=H.style;H.innerText="Running in emulator mode. Do not use with production credentials.",de.position="fixed",de.width="100%",de.backgroundColor="#ffffff",de.border=".1em solid #000000",de.color="#b50000",de.bottom="0px",de.left="0px",de.margin="0px",de.zIndex="10000",de.textAlign="center",H.classList.add("firebase-emulator-warning"),document.body.appendChild(H)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!oe&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",j):j())}(Ye)}(this._delegate,H,de)}applyActionCode(H){return function(oe,j){return qr.apply(this,arguments)}(this._delegate,H)}checkActionCode(H){return li(this._delegate,H)}confirmPasswordReset(H,de){return function(oe,j,H){return or.apply(this,arguments)}(this._delegate,H,de)}createUserWithEmailAndPassword(H,de){var Ye=this;return(0,n.Z)(function*(){return cc(Ye._delegate,function(oe,j,H){return jo.apply(this,arguments)}(Ye._delegate,H,de))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return function(oe,j){return Us.apply(this,arguments)}(this._delegate,H)}isSignInWithEmailLink(H){return function(oe,j){const H=Ro.parseLink(j);return"EMAIL_SIGNIN"===(null==H?void 0:H.operation)}(0,H)}getRedirectResult(){var H=this;return(0,n.Z)(function*(){Nu($d(),H._delegate,"operation-not-supported-in-this-environment");const de=yield function(oe,j){return Ph.apply(this,arguments)}(H._delegate,Ic);return de?cc(H._delegate,Promise.resolve(de)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function(oe,j){Vi(oe)._logFramework(j)}(this._delegate,H)}onAuthStateChanged(H,de,Ye){const{next:At,error:An,complete:hi}=il(H,de,Ye);return this._delegate.onAuthStateChanged(At,An,hi)}onIdTokenChanged(H,de,Ye){const{next:At,error:An,complete:hi}=il(H,de,Ye);return this._delegate.onIdTokenChanged(At,An,hi)}sendSignInLinkToEmail(H,de){return function(oe,j,H){return Jo.apply(this,arguments)}(this._delegate,H,de)}sendPasswordResetEmail(H,de){return function(oe,j,H){return Ei.apply(this,arguments)}(this._delegate,H,de||void 0)}setPersistence(H){var de=this;return(0,n.Z)(function*(){let Ye;switch(function(oe,j){qd(Object.values(gc).includes(j),oe,"invalid-persistence-type"),(0,Oe.b$)()?qd(j!==gc.SESSION,oe,"unsupported-persistence-type"):(0,Oe.UG)()?qd(j===gc.NONE,oe,"unsupported-persistence-type"):ad()?qd(j===gc.NONE||j===gc.LOCAL&&(0,Oe.hl)(),oe,"unsupported-persistence-type"):qd(j===gc.NONE||sd(),oe,"unsupported-persistence-type")}(de._delegate,H),H){case gc.SESSION:Ye=js;break;case gc.LOCAL:Ye=(yield sn(ts)._isAvailable())?ts:_a;break;case gc.NONE:Ye=Ct;break;default:return Me("argument-error",{appName:de._delegate.name})}return de._delegate.setPersistence(Ye)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return cc(this._delegate,function(oe){return dr.apply(this,arguments)}(this._delegate))}signInWithCredential(H){return cc(this._delegate,Gn(this._delegate,H))}signInWithCustomToken(H){return cc(this._delegate,function(oe,j){return ke.apply(this,arguments)}(this._delegate,H))}signInWithEmailAndPassword(H,de){return cc(this._delegate,function(oe,j,H){return Gn((0,Oe.m9)(oe),Kt.credential(j,H))}(this._delegate,H,de))}signInWithEmailLink(H,de){return cc(this._delegate,function(oe,j,H){return Zo.apply(this,arguments)}(this._delegate,H,de))}signInWithPhoneNumber(H,de){return mc(this._delegate,function(oe,j,H){return vu.apply(this,arguments)}(this._delegate,H,de))}signInWithPopup(H){var de=this;return(0,n.Z)(function*(){return Nu($d(),de._delegate,"operation-not-supported-in-this-environment"),cc(de._delegate,function(oe,j,H){return Ad.apply(this,arguments)}(de._delegate,H,Ic))})()}signInWithRedirect(H){var de=this;return(0,n.Z)(function*(){return Nu($d(),de._delegate,"operation-not-supported-in-this-environment"),yield Js(de._delegate),function(oe,j,H){return function(oe,j,H){return cf.apply(this,arguments)}(oe,j,H)}(de._delegate,H,Ic)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return function(oe,j){return Ar.apply(this,arguments)}(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return oe.Persistence=gc,oe})();function il(oe,j,H){let de=oe;"function"!=typeof oe&&({next:de,error:j,complete:H}=oe);const Ye=de;return{next:An=>Ye(An&&Ta.getOrCreate(An)),error:j,complete:H}}class Go{constructor(){this.providerId="phone",this._delegate=new Qs(Gd(te.Z.auth()))}static credential(j,H){return Qs.credential(j,H)}verifyPhoneNumber(j,H){return this._delegate.verifyPhoneNumber(j,H)}unwrap(){return this._delegate}}Go.PHONE_SIGN_IN_METHOD=Qs.PHONE_SIGN_IN_METHOD,Go.PROVIDER_ID=Qs.PROVIDER_ID;const lc=gt;class xf{constructor(j,H,de=te.Z.app()){var Ye;lc(null===(Ye=de.options)||void 0===Ye?void 0:Ye.apiKey,"invalid-api-key",{appName:de.name}),this._delegate=new as(j,H,de.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(oe){oe.INTERNAL.registerComponent(new He.wA("auth-compat",j=>{const H=j.getProvider("app-compat").getImmediate(),de=j.getProvider("auth");return new $a(H,de)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Kt,FacebookAuthProvider:Qi,GithubAuthProvider:Xi,GoogleAuthProvider:xi,OAuthProvider:Ai,PhoneAuthProvider:Go,PhoneMultiFactorGenerator:pf,RecaptchaVerifier:xf,TwitterAuthProvider:Et,Auth:$a,AuthCredential:$,Error:Oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),oe.registerVersion("@firebase/auth-compat","0.1.2")}(te.Z)},5808:Se=>{function Ze(Oe){return Oe&&Oe.constructor&&"function"==typeof Oe.constructor.isBuffer&&Oe.constructor.isBuffer(Oe)}function X(Oe){return Oe}function n(Oe,we){const Fe=(we=we||{}).delimiter||".",Ue=we.maxDepth,He=we.transformKey||X,Ne={};return function nt(Be,qe,$e){$e=$e||1,Object.keys(Be).forEach(function(Qe){const Ot=Be[Qe],Zt=we.safe&&Array.isArray(Ot),_t=Object.prototype.toString.call(Ot),Ae=Ze(Ot),Mt="[object Object]"===_t||"[object Array]"===_t,ce=qe?qe+Fe+He(Qe):He(Qe);if(!Zt&&!Ae&&Mt&&Object.keys(Ot).length&&(!we.maxDepth||$e<Ue))return nt(Ot,ce,$e+1);Ne[ce]=Ot})}(Oe),Ne}Se.exports=n,n.flatten=n,n.unflatten=function te(Oe,we){const Fe=(we=we||{}).delimiter||".",Ue=we.overwrite||!1,He=we.transformKey||X,Ne={};if(Ze(Oe)||"[object Object]"!==Object.prototype.toString.call(Oe))return Oe;function Be(Qe){const Ot=Number(Qe);return isNaN(Ot)||-1!==Qe.indexOf(".")||we.object?Qe:Ot}return Oe=Object.keys(Oe).reduce(function(Qe,Ot){const Zt=Object.prototype.toString.call(Oe[Ot]);return"[object Object]"!==Zt&&"[object Array]"!==Zt||function(Qe){const Ot=Object.prototype.toString.call(Qe);return!Qe||("[object Array]"===Ot?!Qe.length:"[object Object]"===Ot?!Object.keys(Qe).length:void 0)}(Oe[Ot])?(Qe[Ot]=Oe[Ot],Qe):function(Qe,Ot,Zt){return Object.keys(Zt).reduce(function(_t,Ae){return _t[Qe+Fe+Ae]=Zt[Ae],_t},Ot)}(Ot,Qe,n(Oe[Ot],we))},{}),Object.keys(Oe).forEach(function(Qe){const Ot=Qe.split(Fe).map(He);let Zt=Be(Ot.shift()),_t=Be(Ot[0]),Ae=Ne;for(;void 0!==_t;){if("__proto__"===Zt)return;const Mt=Object.prototype.toString.call(Ae[Zt]),ce="[object Object]"===Mt||"[object Array]"===Mt;if(!Ue&&!ce&&void 0!==Ae[Zt])return;(Ue&&!ce||!Ue&&null==Ae[Zt])&&(Ae[Zt]="number"!=typeof _t||we.object?{}:[]),Ae=Ae[Zt],Ot.length>0&&(Zt=Be(Ot.shift()),_t=Be(Ot[0]))}Ae[Zt]=te(Oe[Qe],we)}),Ne}},7597:function(module,__unused_webpack_exports,__webpack_require__){module=__webpack_require__.nmd(module),function _f(self){"use strict";try{module&&(self=module)}catch(Se){}var t;function u(Se){return void 0===Se||Se}function aa(Se){const Ze=Array(Se);for(let X=0;X<Se;X++)Ze[X]=v();return Ze}function v(){return Object.create(null)}function ba(Se,Ze){return Ze.length-Se.length}function x(Se){return"string"==typeof Se}function C(Se){return"object"==typeof Se}function D(Se){return"function"==typeof Se}function ca(Se,Ze){var X=da;if(Se&&(Ze&&(Se=E(Se,Ze)),this.H&&(Se=E(Se,this.H)),this.J&&1<Se.length&&(Se=E(Se,this.J)),X||""===X)){if(Se=Se.split(X),this.filter){Ze=this.filter,X=Se.length;const n=[];for(let te=0,Oe=0;te<X;te++){const we=Se[te];we&&!Ze[we]&&(n[Oe++]=we)}Se=n}return Se}return Se}self._factory=_f;const da=/[\p{Z}\p{S}\p{P}\p{C}]+/u,ea=/[\u0300-\u036f]/g;function fa(Se,Ze){const X=Object.keys(Se),n=X.length,te=[];let Oe="",we=0;for(let Ue,He,Fe=0;Fe<n;Fe++)Ue=X[Fe],(He=Se[Ue])?(te[we++]=F(Ze?"(?!\\b)"+Ue+"(\\b|_)":Ue),te[we++]=He):Oe+=(Oe?"|":"")+Ue;return Oe&&(te[we++]=F(Ze?"(?!\\b)("+Oe+")(\\b|_)":"("+Oe+")"),te[we]=""),te}function E(Se,Ze){for(let X=0,n=Ze.length;X<n&&(Se=Se.replace(Ze[X],Ze[X+1]));X+=2);return Se}function F(Se){return new RegExp(Se,"g")}function ha(Se){let Ze="",X="";for(let Oe,n=0,te=Se.length;n<te;n++)(Oe=Se[n])!==X&&(Ze+=X=Oe);return Ze}var ja={encode:ia,F:!1,G:""};function ia(Se){return ca.call(this,(""+Se).toLowerCase(),!1)}const ka={},G={};function la(Se){I(Se,"add"),I(Se,"append"),I(Se,"search"),I(Se,"update"),I(Se,"remove")}function I(Se,Ze){Se[Ze+"Async"]=function(){const X=this,n=arguments;var te=n[n.length-1];let Oe;return D(te)&&(Oe=te,delete n[n.length-1]),te=new Promise(function(we){setTimeout(function(){X.async=!0;const Fe=X[Ze].apply(X,n);X.async=!1,we(Fe)})}),Oe?(te.then(Oe),this):te}}function ma(Se,Ze,X,n){const te=Se.length;let we,Fe,Oe=[],Ue=0;n&&(n=[]);for(let He=te-1;0<=He;He--){const Ne=Se[He],nt=Ne.length,Be=v();let qe=!we;for(let $e=0;$e<nt;$e++){const Qe=Ne[$e],Ot=Qe.length;if(Ot)for(let _t,Ae,Zt=0;Zt<Ot;Zt++)if(Ae=Qe[Zt],we){if(we[Ae]){if(!He)if(X)X--;else if(Oe[Ue++]=Ae,Ue===Ze)return Oe;(He||n)&&(Be[Ae]=1),qe=!0}if(n&&(Fe[Ae]=(_t=Fe[Ae])?++_t:_t=1,_t<te)){const Mt=n[_t-2]||(n[_t-2]=[]);Mt[Mt.length]=Ae}}else Be[Ae]=1}if(n)we||(Fe=Be);else if(!qe)return[];we=Be}if(n)for(let Ne,nt,He=n.length-1;0<=He;He--){Ne=n[He],nt=Ne.length;for(let qe,Be=0;Be<nt;Be++)if(qe=Ne[Be],!we[qe]){if(X)X--;else if(Oe[Ue++]=qe,Ue===Ze)return Oe;we[qe]=1}}return Oe}function na(Se,Ze){const X=v(),n=v(),te=[];for(let Oe=0;Oe<Se.length;Oe++)X[Se[Oe]]=1;for(let we,Oe=0;Oe<Ze.length;Oe++){we=Ze[Oe];for(let Ue,Fe=0;Fe<we.length;Fe++)Ue=we[Fe],X[Ue]&&!n[Ue]&&(n[Ue]=1,te[te.length]=Ue)}return te}function J(Se){this.l=!0!==Se&&Se,this.cache=v(),this.h=[]}function oa(Se,Ze,X){C(Se)&&(Se=Se.query);let n=this.cache.get(Se);return n||(n=this.search(Se,Ze,X),this.cache.set(Se,n)),n}J.prototype.set=function(Se,Ze){if(!this.cache[Se]){var X=this.h.length;for(X===this.l?delete this.cache[this.h[X-1]]:X++,--X;0<X;X--)this.h[X]=this.h[X-1];this.h[0]=Se}this.cache[Se]=Ze},J.prototype.get=function(Se){const Ze=this.cache[Se];if(this.l&&Ze&&(Se=this.h.indexOf(Se))){const X=this.h[Se-1];this.h[Se-1]=this.h[Se],this.h[Se]=X}return Ze};const qa={memory:{charset:"latin:extra",D:3,B:4,m:!1},performance:{D:3,B:3,s:!1,context:{depth:2,D:1}},match:{charset:"latin:extra",G:"reverse"},score:{charset:"latin:advanced",D:20,B:3,context:{depth:3,D:9}},default:{}};function ra(Se,Ze,X,n,te,Oe){setTimeout(function(){const we=Se(X,JSON.stringify(Oe));we&&we.then?we.then(function(){Ze.export(Se,Ze,X,n,te+1)}):Ze.export(Se,Ze,X,n,te+1)})}function K(Se,Ze){if(!(this instanceof K))return new K(Se);var X;if(Se){x(Se)?Se=qa[Se]:(X=Se.preset)&&(Se=Object.assign({},X[X],Se));var n=Se.lang;x(X=Se.charset)&&(-1===X.indexOf(":")&&(X+=":default"),X=G[X]),x(n)&&(n=ka[n])}else Se={};let te,Oe,we=Se.context||{};if(this.encode=Se.encode||X&&X.encode||ia,this.register=Ze||v(),this.D=te=Se.resolution||9,this.G=Ze=X&&X.G||Se.tokenize||"strict",this.depth="strict"===Ze&&we.depth,this.l=u(we.bidirectional),this.s=Oe=u(Se.optimize),this.m=u(Se.fastupdate),this.B=Se.minlength||1,this.C=Se.boost,this.map=Oe?aa(te):v(),this.A=te=we.resolution||1,this.h=Oe?aa(te):v(),this.F=X&&X.F||Se.rtl,this.H=(Ze=Se.matcher||n&&n.H)&&fa(Ze,!1),this.J=(Ze=Se.stemmer||n&&n.J)&&fa(Ze,!0),X=Ze=Se.filter||n&&n.filter){X=Ze,n=v();for(let Fe=0,Ue=X.length;Fe<Ue;Fe++)n[X[Fe]]=1;X=n}this.filter=X,this.cache=(Ze=Se.cache)&&new J(Ze)}function L(Se,Ze,X,n,te){return X&&1<Se?Ze+(n||0)<=Se?X+(te||0):(Se-1)/(Ze+(n||0))*(X+(te||0))+1|0:0}function M(Se,Ze,X,n,te,Oe,we){let Fe=we?Se.h:Se.map;(!Ze[X]||we&&!Ze[X][we])&&(Se.s&&(Fe=Fe[n]),we?((Ze=Ze[X]||(Ze[X]=v()))[we]=1,Fe=Fe[we]||(Fe[we]=v())):Ze[X]=1,Fe=Fe[X]||(Fe[X]=[]),Se.s||(Fe=Fe[n]||(Fe[n]=[])),Oe&&-1!==Fe.indexOf(te)||(Fe[Fe.length]=te,Se.m&&((Se=Se.register[te]||(Se.register[te]=[]))[Se.length]=Fe)))}function sa(Se,Ze,X,n,te,Oe,we,Fe){let Ue=[],He=Fe?Se.h:Se.map;if(Se.s||(He=ua(He,we,Fe,Se.l)),He){let Ne=0;const nt=Math.min(He.length,Fe?Se.A:Se.D);for(let $e,Qe,Be=0,qe=0;Be<nt&&!(($e=He[Be])&&(Se.s&&($e=ua($e,we,Fe,Se.l)),te&&$e&&Oe&&(Qe=$e.length,Qe<=te?(te-=Qe,$e=null):($e=$e.slice(te),te=0)),$e&&(Ue[Ne++]=$e,Oe&&(qe+=$e.length,qe>=n))));Be++);if(Ne)return Oe?ta(Ue,n,0):void(Ze[Ze.length]=Ue)}return!X&&Ue}function ta(Se,Ze,X){return Se=1===Se.length?Se[0]:[].concat.apply([],Se),X||Se.length>Ze?Se.slice(X,X+Ze):Se}function ua(Se,Ze,X,n){return Se=X?(Se=Se[(n=n&&Ze>X)?Ze:X])&&Se[n?X:Ze]:Se[Ze]}function N(Se,Ze,X,n,te){let Oe=0;if(Se.constructor===Array)if(te)-1!==(Ze=Se.indexOf(Ze))?1<Se.length&&(Se.splice(Ze,1),Oe++):Oe++;else{te=Math.min(Se.length,X);for(let Fe,we=0;we<te;we++)(Fe=Se[we])&&(Oe=N(Fe,Ze,X,n,te),n||Oe||delete Se[we])}else for(let we in Se)(Oe=N(Se[we],Ze,X,n,te))||delete Se[we];return Oe}function va(Se){var Ze=self._index;const X=(Se=Se.data).args;var n=Se.task;switch(n){case"init":n=Se.options||{},Se=Se.factory,Ze=n.encode,n.cache=!1,Ze&&0===Ze.indexOf("function")&&(n.encode=Function("return "+Ze)()),Se?(Function("return "+Se)()(self),self._index=new self.FlexSearch.Index(n),delete self.FlexSearch):self._index=new K(n);break;default:Se=Se.id,Ze=Ze[n].apply(Ze,X),postMessage("search"===n?{id:Se,msg:Ze}:{id:Se})}}t=K.prototype,t.append=function(Se,Ze){return this.add(Se,Ze,!0)},t.add=function(Se,Ze,X,n){if(Ze&&(Se||0===Se)){if(!n&&!X&&this.register[Se])return this.update(Se,Ze);if(n=(Ze=this.encode(Ze)).length){const He=v(),Ne=v(),nt=this.depth,Be=this.D;for(let qe=0;qe<n;qe++){let $e=Ze[this.F?n-1-qe:qe];var te=$e.length;if($e&&te>=this.B&&(nt||!Ne[$e])){var Oe=L(Be,n,qe),we="";switch(this.G){case"full":if(3<te){for(Oe=0;Oe<te;Oe++)for(var Fe=te;Fe>Oe;Fe--)if(Fe-Oe>=this.B){var Ue=L(Be,n,qe,te,Oe);M(this,Ne,we=$e.substring(Oe,Fe),Ue,Se,X)}break}case"reverse":if(2<te){for(Fe=te-1;0<Fe;Fe--)(we=$e[Fe]+we).length>=this.B&&M(this,Ne,we,L(Be,n,qe,te,Fe),Se,X);we=""}case"forward":if(1<te){for(Fe=0;Fe<te;Fe++)(we+=$e[Fe]).length>=this.B&&M(this,Ne,we,Oe,Se,X);break}default:if(this.C&&(Oe=Math.min(Oe/this.C(Ze,$e,qe)|0,Be-1)),M(this,Ne,$e,Oe,Se,X),nt&&1<n&&qe<n-1)for(te=v(),we=this.A,Oe=$e,Fe=Math.min(nt+1,n-qe),te[Oe]=1,Ue=1;Ue<Fe;Ue++)if(($e=Ze[this.F?n-1-qe-Ue:qe+Ue])&&$e.length>=this.B&&!te[$e]){te[$e]=1;const Qe=this.l&&$e>Oe;M(this,He,Qe?Oe:$e,L(we+(n/2>we?0:1),n,qe,Fe-1,Ue-1),Se,X,Qe?$e:Oe)}}}}this.m||(this.register[Se]=1)}}return this},t.search=function(Se,Ze,X){X||(!Ze&&C(Se)?Se=(X=Se).query:C(Ze)&&(X=Ze));let te,Oe,He,Ne,nt,n=[],we=0;if(X){Ze=X.limit,we=X.offset||0;var Fe=X.context;Oe=X.suggest}if(Se&&(te=(Se=this.encode(Se)).length,1<te)){X=v();var Ue=[];for(let Be,Ne=0,nt=0;Ne<te;Ne++)if((Be=Se[Ne])&&Be.length>=this.B&&!X[Be]){if(!(this.s||Oe||this.map[Be]))return n;Ue[nt++]=Be,X[Be]=1}te=(Se=Ue).length}if(!te)return n;for(Ze||(Ze=100),X=0,(Fe=this.depth&&1<te&&!1!==Fe)?(He=Se[0],X=1):1<te&&Se.sort(ba);X<te;X++){if(nt=Se[X],Fe?(Ne=sa(this,n,Oe,Ze,we,2===te,nt,He),Oe&&!1===Ne&&n.length||(He=nt)):Ne=sa(this,n,Oe,Ze,we,1===te,nt),Ne)return Ne;if(Oe&&X===te-1){if(!(Ue=n.length)){if(Fe){Fe=0,X=-1;continue}return n}if(1===Ue)return ta(n[0],Ze,we)}}return ma(n,Ze,we,Oe)},t.contain=function(Se){return!!this.register[Se]},t.update=function(Se,Ze){return this.remove(Se).add(Se,Ze)},t.remove=function(Se,Ze){const X=this.register[Se];if(X){if(this.m)for(let te,n=0;n<X.length;n++)te=X[n],te.splice(te.indexOf(Se),1);else N(this.map,Se,this.D,this.s),this.depth&&N(this.h,Se,this.A,this.s);if(Ze||delete this.register[Se],this.cache){Ze=this.cache;for(let te,Oe,n=0;n<Ze.h.length;n++)Oe=Ze.h[n],te=Ze.cache[Oe],-1!==te.indexOf(Se)&&(Ze.h.splice(n--,1),delete Ze.cache[Oe])}}return this},t.searchCache=oa,t.export=function(Se,Ze,X,n,te){let Oe,we;switch(te||(te=0)){case 0:if(Oe="reg",this.m){we=v();for(let Fe in this.register)we[Fe]=1}else we=this.register;break;case 1:Oe="cfg",we={doc:0,opt:this.s?1:0};break;case 2:Oe="map",we=this.map;break;case 3:Oe="ctx",we=this.h;break;default:return}return ra(Se,Ze||this,X?X+"."+Oe:Oe,n,te,we),!0},t.import=function(Se,Ze){if(Ze)switch(x(Ze)&&(Ze=JSON.parse(Ze)),Se){case"cfg":this.s=!!Ze.opt;break;case"reg":this.m=!1,this.register=Ze;break;case"map":this.map=Ze;break;case"ctx":this.h=Ze}},la(K.prototype);let wa=0;function O(Se){if(!(this instanceof O))return new O(Se);var Ze;Se?D(Ze=Se.encode)&&(Se.encode=Ze.toString()):Se={},(Ze=(self||window)._factory)&&(Ze=Ze.toString());const X=self.exports,n=this;this.o=xa(Ze,X,Se.worker),this.h=v(),this.o&&(X?this.o.on("message",function(te){n.h[te.id](te.msg),delete n.h[te.id]}):this.o.onmessage=function(te){n.h[(te=te.data).id](te.msg),delete n.h[te.id]},this.o.postMessage({task:"init",factory:Ze,options:Se}))}function P(Se){O.prototype[Se]=O.prototype[Se+"Async"]=function(){const Ze=this,X=[].slice.call(arguments);var n=X[X.length-1];let te;return D(n)&&(te=n,X.splice(X.length-1,1)),n=new Promise(function(Oe){setTimeout(function(){Ze.h[++wa]=Oe,Ze.o.postMessage({task:Se,id:wa,args:X})})}),te?(n.then(te),this):n}}function xa(a,b,c){let d;try{d=b?eval('new (require("worker_threads")["Worker"])("../dist/node/node.js")'):a?new Worker(URL.createObjectURL(new Blob(["onmessage="+va.toString()],{type:"text/javascript"}))):new Worker(x(c)?c:"worker/worker.js",{type:"module"})}catch(Se){}return d}function Q(Se){if(!(this instanceof Q))return new Q(Se);var X,Ze=Se.document||Se.doc||Se;this.K=[],this.h=[],this.A=[],this.register=v(),this.key=(X=Ze.key||Ze.id)&&S(X,this.A)||"id",this.m=u(Se.fastupdate),this.C=(X=Ze.store)&&!0!==X&&[],this.store=X&&v(),this.I=(X=Ze.tag)&&S(X,this.A),this.l=X&&v(),this.cache=(X=Se.cache)&&new J(X),Se.cache=!1,this.o=Se.worker,this.async=!1,X=v();let n=Ze.index||Ze.field||Ze;x(n)&&(n=[n]);for(let Oe,we,te=0;te<n.length;te++)Oe=n[te],x(Oe)||(we=Oe,Oe=Oe.field),we=C(we)?Object.assign({},Se,we):Se,this.o&&(X[Oe]=new O(we),X[Oe].o||(this.o=!1)),this.o||(X[Oe]=new K(we,this.register)),this.K[te]=S(Oe,this.A),this.h[te]=Oe;if(this.C)for(x(Se=Ze.store)&&(Se=[Se]),Ze=0;Ze<Se.length;Ze++)this.C[Ze]=S(Se[Ze],this.A);this.index=X}function S(Se,Ze){const X=Se.split(":");let n=0;for(let te=0;te<X.length;te++)0<=(Se=X[te]).indexOf("[]")&&(Se=Se.substring(0,Se.length-2))&&(Ze[n]=!0),Se&&(X[n++]=Se);return n<X.length&&(X.length=n),1<n?X:X[0]}function T(Se,Ze){if(x(Ze))Se=Se[Ze];else for(let X=0;Se&&X<Ze.length;X++)Se=Se[Ze[X]];return Se}function U(Se,Ze,X,n,te){if(Se=Se[te],n===X.length-1)Ze[te]=Se;else if(Se)if(Se.constructor===Array)for(Ze=Ze[te]=Array(Se.length),te=0;te<Se.length;te++)U(Se,Ze,X,n,te);else Ze=Ze[te]||(Ze[te]=v()),te=X[++n],U(Se,Ze,X,n,te)}function V(Se,Ze,X,n,te,Oe,we,Fe){if(Se=Se[we])if(n===Ze.length-1){if(Se.constructor===Array){if(X[n]){for(Ze=0;Ze<Se.length;Ze++)te.add(Oe,Se[Ze],!0,!0);return}Se=Se.join(" ")}te.add(Oe,Se,Fe,!0)}else if(Se.constructor===Array)for(we=0;we<Se.length;we++)V(Se,Ze,X,n,te,Oe,we,Fe);else we=Ze[++n],V(Se,Ze,X,n,te,Oe,we,Fe)}function ya(Se,Ze,X,n){let te=this.l[Se],Oe=te&&te.length-X;if(Oe&&0<Oe)return(Oe>Ze||X)&&(te=te.slice(X,X+Ze)),n&&(te=za.call(this,te)),{tag:Se,result:te}}function za(Se){const Ze=Array(Se.length);for(let n,X=0;X<Se.length;X++)n=Se[X],Ze[X]={id:n,doc:this.store[n]};return Ze}P("add"),P("append"),P("search"),P("update"),P("remove"),t=Q.prototype,t.add=function(Se,Ze,X){if(C(Se)&&(Se=T(Ze=Se,this.key)),Ze&&(Se||0===Se)){if(!X&&this.register[Se])return this.update(Se,Ze);for(let te,Oe,n=0;n<this.h.length;n++)Oe=this.h[n],te=this.K[n],x(te)&&(te=[te]),V(Ze,te,this.A,0,this.index[Oe],Se,te[0],X);if(this.I){let n=T(Ze,this.I),te=v();x(n)&&(n=[n]);for(let we,Fe,Oe=0;Oe<n.length;Oe++)if(we=n[Oe],!te[we]&&(te[we]=1,Fe=this.l[we]||(this.l[we]=[]),!X||-1===Fe.indexOf(Se))&&(Fe[Fe.length]=Se,this.m)){const Ue=this.register[Se]||(this.register[Se]=[]);Ue[Ue.length]=Fe}}if(this.store&&(!X||!this.store[Se])){let n;if(this.C){n=v();for(let Oe,te=0;te<this.C.length;te++)Oe=this.C[te],x(Oe)?n[Oe]=Ze[Oe]:U(Ze,n,Oe,0,Oe[0])}this.store[Se]=n||Ze}}return this},t.append=function(Se,Ze){return this.add(Se,Ze,!0)},t.update=function(Se,Ze){return this.remove(Se).add(Se,Ze)},t.remove=function(Se){if(C(Se)&&(Se=T(Se,this.key)),this.register[Se]){for(var Ze=0;Ze<this.h.length&&(this.index[this.h[Ze]].remove(Se,!this.o),!this.m);Ze++);if(this.I&&!this.m)for(let X in this.l){const n=(Ze=this.l[X]).indexOf(Se);-1!==n&&(1<Ze.length?Ze.splice(n,1):delete this.l[X])}this.store&&delete this.store[Se],delete this.register[Se]}return this},t.search=function(Se,Ze,X,n){X||(!Ze&&C(Se)?Se=(X=Se).query:C(Ze)&&(X=Ze,Ze=0));let we,Fe,Ue,He,Ne,nt,te=[],Oe=[],Be=0;if(X)if(X.constructor===Array)Ue=X,X=null;else{if(Ue=(we=X.pluck)||X.index||X.field,He=X.tag,Fe=this.store&&X.enrich,Ne="and"===X.bool,Ze=X.limit||100,nt=X.offset||0,He&&(x(He)&&(He=[He]),!Se)){for(let Qe,$e=0;$e<He.length;$e++)(Qe=ya.call(this,He[$e],Ze,nt,Fe))&&(te[te.length]=Qe,Be++);return Be?te:[]}x(Ue)&&(Ue=[Ue])}Ue||(Ue=this.h),Ne=Ne&&(1<Ue.length||He&&1<He.length);const qe=!n&&(this.o||this.async)&&[];for(let Qe,Ot,Zt,$e=0;$e<Ue.length;$e++){let _t;if(Ot=Ue[$e],x(Ot)||(_t=Ot,Ot=Ot.field),qe)qe[$e]=this.index[Ot].searchAsync(Se,Ze,_t||X);else{if(Qe=n?n[$e]:this.index[Ot].search(Se,Ze,_t||X),Zt=Qe&&Qe.length,He&&Zt){const Ae=[];let Mt=0;Ne&&(Ae[0]=[Qe]);for(let ve,Me,ce=0;ce<He.length;ce++)ve=He[ce],(Zt=(Me=this.l[ve])&&Me.length)&&(Mt++,Ae[Ae.length]=Ne?[Me]:Me);Mt&&(Qe=Ne?ma(Ae,Ze||100,nt||0):na(Qe,Ae),Zt=Qe.length)}if(Zt)Oe[Be]=Ot,te[Be++]=Qe;else if(Ne)return[]}}if(qe){const $e=this;return new Promise(function(Qe){Promise.all(qe).then(function(Ot){Qe($e.search(Se,Ze,X,Ot))})})}if(!Be)return[];if(we&&(!Fe||!this.store))return te[0];for(let Qe,$e=0;$e<Oe.length;$e++){if(Qe=te[$e],Qe.length&&Fe&&(Qe=za.call(this,Qe)),we)return Qe;te[$e]={field:Oe[$e],result:Qe}}return te},t.contain=function(Se){return!!this.register[Se]},t.get=function(Se){return this.store[Se]},t.set=function(Se,Ze){return this.store[Se]=Ze,this},t.searchCache=oa,t.export=function(Se,Ze,X,n,te){if(te||(te=0),n||(n=0),n<this.h.length){const Oe=this.h[n],we=this.index[Oe];Ze=this,setTimeout(function(){we.export(Se,Ze,te?Oe.replace(":","-"):"",n,te++)||(n++,Ze.export(Se,Ze,Oe,n,te=1))})}else{let Oe;switch(te){case 1:X="tag",Oe=this.l;break;case 2:X="store",Oe=this.store;break;default:return}ra(Se,this,X,n,te,Oe)}},t.import=function(Se,Ze){if(Ze)switch(x(Ze)&&(Ze=JSON.parse(Ze)),Se){case"tag":this.l=Ze;break;case"reg":this.m=!1,this.register=Ze;for(let te,n=0;n<this.h.length;n++)te=this.index[this.h[n]],te.register=Ze,te.m=!1;break;case"store":this.store=Ze;break;default:const X=(Se=Se.split("."))[0];Se=Se[1],X&&Se&&this.index[X].import(Se,Ze)}},la(Q.prototype);var Ba={encode:Aa,F:!1,G:""};const Ca=[F("[\xe0\xe1\xe2\xe3\xe4\xe5]"),"a",F("[\xe8\xe9\xea\xeb]"),"e",F("[\xec\xed\xee\xef]"),"i",F("[\xf2\xf3\xf4\xf5\xf6\u0151]"),"o",F("[\xf9\xfa\xfb\xfc\u0171]"),"u",F("[\xfd\u0177\xff]"),"y",F("\xf1"),"n",F("[\xe7c]"),"k",F("\xdf"),"s",F(" & ")," and "];function Aa(Se){var Ze=Se;return Ze.normalize&&(Ze=Ze.normalize("NFD").replace(ea,"")),ca.call(this,Ze.toLowerCase(),!Se.normalize&&Ca)}var Ea={encode:Da,F:!1,G:"strict"};const Fa=/[^a-z0-9]+/,Ga={b:"p",v:"f",w:"f",z:"s",x:"s",\u00df:"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function Da(Se){const Ze=[];if(Se=Aa.call(this,Se).join(" ")){const X=Se.split(Fa),n=X.length;for(let Oe,te=0,we=0;te<n;te++)if((Se=X[te])&&(!this.filter||!this.filter[Se])){Oe=Se[0];let Fe=Ga[Oe]||Oe,Ue=Fe;for(let He=1;He<Se.length;He++){Oe=Se[He];const Ne=Ga[Oe]||Oe;Ne&&Ne!==Ue&&(Fe+=Ne,Ue=Ne)}Ze[we++]=Fe}}return Ze}var Ia={encode:Ha,F:!1,G:""};const Ja=[F("ae"),"a",F("oe"),"o",F("sh"),"s",F("th"),"t",F("ph"),"f",F("pf"),"f",F("(?![aeo])h(?![aeo])"),"",F("(?!^[aeo])h(?!^[aeo])"),""];function Ha(Se,Ze){return Se&&(2<(Se=Da.call(this,Se).join(" ")).length&&(Se=E(Se,Ja)),Ze||(1<Se.length&&(Se=ha(Se)),Se&&(Se=Se.split(" ")))),Se}var La={encode:Ka,F:!1,G:""};const Ma=F("(?!\\b)[aeo]");function Ka(Se){return Se&&(1<(Se=Ha.call(this,Se,!0)).length&&(Se=Se.replace(Ma,"")),1<Se.length&&(Se=ha(Se)),Se&&(Se=Se.split(" "))),Se}G["latin:default"]=ja,G["latin:simple"]=Ba,G["latin:balance"]=Ea,G["latin:advanced"]=Ia,G["latin:extra"]=La;const W=self;let Y;const Z={Index:K,Document:Q,Worker:O,registerCharset:function(Se,Ze){G[Se]=Ze},registerLanguage:function(Se,Ze){ka[Se]=Ze}};(Y=W.define)&&Y.amd?Y([],function(){return Z}):W.exports?W.exports=Z:W.FlexSearch=Z}(this)},6676:function(Se,Ze){!function(X){"use strict";function n(Ae){return Array.prototype.slice.call(Ae)}function te(Ae){return new Promise(function(Mt,ce){Ae.onsuccess=function(){Mt(Ae.result)},Ae.onerror=function(){ce(Ae.error)}})}function Oe(Ae,Mt,ce){var ve,Me=new Promise(function(tt,bt){te(ve=Ae[Mt].apply(Ae,ce)).then(tt,bt)});return Me.request=ve,Me}function we(Ae,Mt,ce){var ve=Oe(Ae,Mt,ce);return ve.then(function(Me){if(Me)return new Be(Me,ve.request)})}function Fe(Ae,Mt,ce){ce.forEach(function(ve){Object.defineProperty(Ae.prototype,ve,{get:function(){return this[Mt][ve]},set:function(Me){this[Mt][ve]=Me}})})}function Ue(Ae,Mt,ce,ve){ve.forEach(function(Me){Me in ce.prototype&&(Ae.prototype[Me]=function(){return Oe(this[Mt],Me,arguments)})})}function He(Ae,Mt,ce,ve){ve.forEach(function(Me){Me in ce.prototype&&(Ae.prototype[Me]=function(){return this[Mt][Me].apply(this[Mt],arguments)})})}function Ne(Ae,Mt,ce,ve){ve.forEach(function(Me){Me in ce.prototype&&(Ae.prototype[Me]=function(){return we(this[Mt],Me,arguments)})})}function nt(Ae){this._index=Ae}function Be(Ae,Mt){this._cursor=Ae,this._request=Mt}function qe(Ae){this._store=Ae}function $e(Ae){this._tx=Ae,this.complete=new Promise(function(Mt,ce){Ae.oncomplete=function(){Mt()},Ae.onerror=function(){ce(Ae.error)},Ae.onabort=function(){ce(Ae.error)}})}function Qe(Ae,Mt,ce){this._db=Ae,this.oldVersion=Mt,this.transaction=new $e(ce)}function Ot(Ae){this._db=Ae}Fe(nt,"_index",["name","keyPath","multiEntry","unique"]),Ue(nt,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Ne(nt,"_index",IDBIndex,["openCursor","openKeyCursor"]),Fe(Be,"_cursor",["direction","key","primaryKey","value"]),Ue(Be,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Ae){Ae in IDBCursor.prototype&&(Be.prototype[Ae]=function(){var Mt=this,ce=arguments;return Promise.resolve().then(function(){return Mt._cursor[Ae].apply(Mt._cursor,ce),te(Mt._request).then(function(ve){if(ve)return new Be(ve,Mt._request)})})})}),qe.prototype.createIndex=function(){return new nt(this._store.createIndex.apply(this._store,arguments))},qe.prototype.index=function(){return new nt(this._store.index.apply(this._store,arguments))},Fe(qe,"_store",["name","keyPath","indexNames","autoIncrement"]),Ue(qe,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Ne(qe,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),He(qe,"_store",IDBObjectStore,["deleteIndex"]),$e.prototype.objectStore=function(){return new qe(this._tx.objectStore.apply(this._tx,arguments))},Fe($e,"_tx",["objectStoreNames","mode"]),He($e,"_tx",IDBTransaction,["abort"]),Qe.prototype.createObjectStore=function(){return new qe(this._db.createObjectStore.apply(this._db,arguments))},Fe(Qe,"_db",["name","version","objectStoreNames"]),He(Qe,"_db",IDBDatabase,["deleteObjectStore","close"]),Ot.prototype.transaction=function(){return new $e(this._db.transaction.apply(this._db,arguments))},Fe(Ot,"_db",["name","version","objectStoreNames"]),He(Ot,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Ae){[qe,nt].forEach(function(Mt){Ae in Mt.prototype&&(Mt.prototype[Ae.replace("open","iterate")]=function(){var ce=n(arguments),ve=ce[ce.length-1],Me=this._store||this._index,tt=Me[Ae].apply(Me,ce.slice(0,-1));tt.onsuccess=function(){ve(tt.result)}})})}),[nt,qe].forEach(function(Ae){Ae.prototype.getAll||(Ae.prototype.getAll=function(Mt,ce){var ve=this,Me=[];return new Promise(function(tt){ve.iterateCursor(Mt,function(bt){bt?(Me.push(bt.value),void 0===ce||Me.length!=ce?bt.continue():tt(Me)):tt(Me)})})})}),X.openDb=function(Ae,Mt,ce){var ve=Oe(indexedDB,"open",[Ae,Mt]),Me=ve.request;return Me&&(Me.onupgradeneeded=function(tt){ce&&ce(new Qe(Me.result,tt.oldVersion,Me.transaction))}),ve.then(function(tt){return new Ot(tt)})},X.deleteDb=function(Ae){return Oe(indexedDB,"deleteDatabase",[Ae])},Object.defineProperty(X,"__esModule",{value:!0})}(Ze)},2430:Se=>{Se.exports=function te(Oe,we,Fe){function Ue(nt,Be){if(!we[nt]){if(!Oe[nt]){if(He)return He(nt,!0);var $e=new Error("Cannot find module '"+nt+"'");throw $e.code="MODULE_NOT_FOUND",$e}var Qe=we[nt]={exports:{}};Oe[nt][0].call(Qe.exports,function(Ot){return Ue(Oe[nt][1][Ot]||Ot)},Qe,Qe.exports,te,Oe,we,Fe)}return we[nt].exports}for(var He=void 0,Ne=0;Ne<Fe.length;Ne++)Ue(Fe[Ne]);return Ue}({1:[function(te,Oe,we){(function(Fe){"use strict";var He,Ue=Fe.MutationObserver||Fe.WebKitMutationObserver;if(Ue){var Ne=0,nt=new Ue(Ot),Be=Fe.document.createTextNode("");nt.observe(Be,{characterData:!0}),He=function(){Be.data=Ne=++Ne%2}}else if(Fe.setImmediate||void 0===Fe.MessageChannel)He="document"in Fe&&"onreadystatechange"in Fe.document.createElement("script")?function(){var _t=Fe.document.createElement("script");_t.onreadystatechange=function(){Ot(),_t.onreadystatechange=null,_t.parentNode.removeChild(_t),_t=null},Fe.document.documentElement.appendChild(_t)}:function(){setTimeout(Ot,0)};else{var qe=new Fe.MessageChannel;qe.port1.onmessage=Ot,He=function(){qe.port2.postMessage(0)}}var $e,Qe=[];function Ot(){$e=!0;for(var _t,Ae,Mt=Qe.length;Mt;){for(Ae=Qe,Qe=[],_t=-1;++_t<Mt;)Ae[_t]();Mt=Qe.length}$e=!1}Oe.exports=function(_t){1===Qe.push(_t)&&!$e&&He()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(te,Oe,we){"use strict";var Fe=te(1);function Ue(){}var He={},Ne=["REJECTED"],nt=["FULFILLED"],Be=["PENDING"];function qe(Me){if("function"!=typeof Me)throw new TypeError("resolver must be a function");this.state=Be,this.queue=[],this.outcome=void 0,Me!==Ue&&Zt(this,Me)}function $e(Me,tt,bt){this.promise=Me,"function"==typeof tt&&(this.onFulfilled=tt,this.callFulfilled=this.otherCallFulfilled),"function"==typeof bt&&(this.onRejected=bt,this.callRejected=this.otherCallRejected)}function Qe(Me,tt,bt){Fe(function(){var Dt;try{Dt=tt(bt)}catch(cn){return He.reject(Me,cn)}Dt===Me?He.reject(Me,new TypeError("Cannot resolve promise with itself")):He.resolve(Me,Dt)})}function Ot(Me){var tt=Me&&Me.then;if(Me&&("object"==typeof Me||"function"==typeof Me)&&"function"==typeof tt)return function(){tt.apply(Me,arguments)}}function Zt(Me,tt){var bt=!1;function Dt(Lt){bt||(bt=!0,He.reject(Me,Lt))}function cn(Lt){bt||(bt=!0,He.resolve(Me,Lt))}var Ht=_t(function(){tt(cn,Dt)});"error"===Ht.status&&Dt(Ht.value)}function _t(Me,tt){var bt={};try{bt.value=Me(tt),bt.status="success"}catch(Dt){bt.status="error",bt.value=Dt}return bt}Oe.exports=qe,qe.prototype.catch=function(Me){return this.then(null,Me)},qe.prototype.then=function(Me,tt){if("function"!=typeof Me&&this.state===nt||"function"!=typeof tt&&this.state===Ne)return this;var bt=new this.constructor(Ue);return this.state!==Be?Qe(bt,this.state===nt?Me:tt,this.outcome):this.queue.push(new $e(bt,Me,tt)),bt},$e.prototype.callFulfilled=function(Me){He.resolve(this.promise,Me)},$e.prototype.otherCallFulfilled=function(Me){Qe(this.promise,this.onFulfilled,Me)},$e.prototype.callRejected=function(Me){He.reject(this.promise,Me)},$e.prototype.otherCallRejected=function(Me){Qe(this.promise,this.onRejected,Me)},He.resolve=function(Me,tt){var bt=_t(Ot,tt);if("error"===bt.status)return He.reject(Me,bt.value);var Dt=bt.value;if(Dt)Zt(Me,Dt);else{Me.state=nt,Me.outcome=tt;for(var cn=-1,gt=Me.queue.length;++cn<gt;)Me.queue[cn].callFulfilled(tt)}return Me},He.reject=function(Me,tt){Me.state=Ne,Me.outcome=tt;for(var bt=-1,Dt=Me.queue.length;++bt<Dt;)Me.queue[bt].callRejected(tt);return Me},qe.resolve=function(Me){return Me instanceof this?Me:He.resolve(new this(Ue),Me)},qe.reject=function(Me){var tt=new this(Ue);return He.reject(tt,Me)},qe.all=function(Me){var tt=this;if("[object Array]"!==Object.prototype.toString.call(Me))return this.reject(new TypeError("must be an array"));var bt=Me.length,Dt=!1;if(!bt)return this.resolve([]);for(var cn=new Array(bt),gt=0,Ht=-1,Lt=new this(Ue);++Ht<bt;)on(Me[Ht],Ht);return Lt;function on(sn,pn){tt.resolve(sn).then(function(Yt){cn[pn]=Yt,++gt===bt&&!Dt&&(Dt=!0,He.resolve(Lt,cn))},function(Yt){Dt||(Dt=!0,He.reject(Lt,Yt))})}},qe.race=function(Me){var tt=this;if("[object Array]"!==Object.prototype.toString.call(Me))return this.reject(new TypeError("must be an array"));var bt=Me.length,Dt=!1;if(!bt)return this.resolve([]);for(var cn=-1,gt=new this(Ue);++cn<bt;)tt.resolve(Me[cn]).then(function(on){Dt||(Dt=!0,He.resolve(gt,on))},function(on){Dt||(Dt=!0,He.reject(gt,on))});return gt}},{1:1}],3:[function(te,Oe,we){(function(Fe){"use strict";"function"!=typeof Fe.Promise&&(Fe.Promise=te(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(te,Oe,we){"use strict";var Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Je){return typeof Je}:function(Je){return Je&&"function"==typeof Symbol&&Je.constructor===Symbol&&Je!==Symbol.prototype?"symbol":typeof Je};var Ne=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(Je){return}}();function Be(Je,Nt){Je=Je||[],Nt=Nt||{};try{return new Blob(Je,Nt)}catch(hn){if("TypeError"!==hn.name)throw hn;for(var Qt=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),un=0;un<Je.length;un+=1)Qt.append(Je[un]);return Qt.getBlob(Nt.type)}}"undefined"==typeof Promise&&te(3);var qe=Promise;function $e(Je,Nt){Nt&&Je.then(function(mt){Nt(null,mt)},function(mt){Nt(mt)})}function Qe(Je,Nt,mt){"function"==typeof Nt&&Je.then(Nt),"function"==typeof mt&&Je.catch(mt)}function Ot(Je){return"string"!=typeof Je&&(console.warn(Je+" used as a key, but it is not a string."),Je=String(Je)),Je}function Zt(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var _t="local-forage-detect-blob-support",Ae=void 0,Mt={},ce=Object.prototype.toString,ve="readonly",Me="readwrite";function tt(Je){for(var Nt=Je.length,mt=new ArrayBuffer(Nt),Qt=new Uint8Array(mt),un=0;un<Nt;un++)Qt[un]=Je.charCodeAt(un);return mt}function Dt(Je){return"boolean"==typeof Ae?qe.resolve(Ae):function(Je){return new qe(function(Nt){var mt=Je.transaction(_t,Me),Qt=Be([""]);mt.objectStore(_t).put(Qt,"key"),mt.onabort=function(un){un.preventDefault(),un.stopPropagation(),Nt(!1)},mt.oncomplete=function(){var un=navigator.userAgent.match(/Chrome\/(\d+)/),hn=navigator.userAgent.match(/Edge\//);Nt(hn||!un||parseInt(un[1],10)>=43)}}).catch(function(){return!1})}(Je).then(function(Nt){return Ae=Nt})}function cn(Je){var Nt=Mt[Je.name],mt={};mt.promise=new qe(function(Qt,un){mt.resolve=Qt,mt.reject=un}),Nt.deferredOperations.push(mt),Nt.dbReady=Nt.dbReady?Nt.dbReady.then(function(){return mt.promise}):mt.promise}function gt(Je){var mt=Mt[Je.name].deferredOperations.pop();if(mt)return mt.resolve(),mt.promise}function Ht(Je,Nt){var Qt=Mt[Je.name].deferredOperations.pop();if(Qt)return Qt.reject(Nt),Qt.promise}function Lt(Je,Nt){return new qe(function(mt,Qt){if(Mt[Je.name]=Mt[Je.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},Je.db){if(!Nt)return mt(Je.db);cn(Je),Je.db.close()}var un=[Je.name];Nt&&un.push(Je.version);var hn=Ne.open.apply(Ne,un);Nt&&(hn.onupgradeneeded=function($n){var Xn=hn.result;try{Xn.createObjectStore(Je.storeName),$n.oldVersion<=1&&Xn.createObjectStore(_t)}catch(Ci){if("ConstraintError"!==Ci.name)throw Ci;console.warn('The database "'+Je.name+'" has been upgraded from version '+$n.oldVersion+" to version "+$n.newVersion+', but the storage "'+Je.storeName+'" already exists.')}}),hn.onerror=function($n){$n.preventDefault(),Qt(hn.error)},hn.onsuccess=function(){var $n=hn.result;$n.onversionchange=function(Xn){Xn.target.close()},mt($n),gt(Je)}})}function on(Je){return Lt(Je,!1)}function sn(Je){return Lt(Je,!0)}function pn(Je,Nt){if(!Je.db)return!0;var mt=!Je.db.objectStoreNames.contains(Je.storeName),un=Je.version>Je.db.version;if(Je.version<Je.db.version&&(Je.version!==Nt&&console.warn('The database "'+Je.name+"\" can't be downgraded from version "+Je.db.version+" to version "+Je.version+"."),Je.version=Je.db.version),un||mt){if(mt){var hn=Je.db.version+1;hn>Je.version&&(Je.version=hn)}return!0}return!1}function Yt(Je){return Be([tt(atob(Je.data))],{type:Je.type})}function gn(Je){return Je&&Je.__local_forage_encoded_blob}function kn(Je){var Nt=this,mt=Nt._initReady().then(function(){var Qt=Mt[Nt._dbInfo.name];if(Qt&&Qt.dbReady)return Qt.dbReady});return Qe(mt,Je,Je),mt}function In(Je,Nt,mt,Qt){void 0===Qt&&(Qt=1);try{var un=Je.db.transaction(Je.storeName,Nt);mt(null,un)}catch(hn){if(Qt>0&&(!Je.db||"InvalidStateError"===hn.name||"NotFoundError"===hn.name))return qe.resolve().then(function(){if(!Je.db||"NotFoundError"===hn.name&&!Je.db.objectStoreNames.contains(Je.storeName)&&Je.version<=Je.db.version)return Je.db&&(Je.version=Je.db.version+1),sn(Je)}).then(function(){return function(Je){cn(Je);for(var Nt=Mt[Je.name],mt=Nt.forages,Qt=0;Qt<mt.length;Qt++){var un=mt[Qt];un._dbInfo.db&&(un._dbInfo.db.close(),un._dbInfo.db=null)}return Je.db=null,on(Je).then(function(hn){return Je.db=hn,pn(Je)?sn(Je):hn}).then(function(hn){Je.db=Nt.db=hn;for(var $n=0;$n<mt.length;$n++)mt[$n]._dbInfo.db=hn}).catch(function(hn){throw Ht(Je,hn),hn})}(Je).then(function(){In(Je,Nt,mt,Qt-1)})}).catch(mt);mt(hn)}}var ji={_driver:"asyncStorage",_initStorage:function(Je){var Nt=this,mt={db:null};if(Je)for(var Qt in Je)mt[Qt]=Je[Qt];var un=Mt[mt.name];un||(Mt[mt.name]=un={forages:[],db:null,dbReady:null,deferredOperations:[]}),un.forages.push(Nt),Nt._initReady||(Nt._initReady=Nt.ready,Nt.ready=kn);var hn=[];function $n(){return qe.resolve()}for(var Xn=0;Xn<un.forages.length;Xn++){var Ci=un.forages[Xn];Ci!==Nt&&hn.push(Ci._initReady().catch($n))}var ui=un.forages.slice(0);return qe.all(hn).then(function(){return mt.db=un.db,on(mt)}).then(function(yi){return mt.db=yi,pn(mt,Nt._defaultConfig.version)?sn(mt):yi}).then(function(yi){mt.db=un.db=yi,Nt._dbInfo=mt;for(var Ui=0;Ui<ui.length;Ui++){var ar=ui[Ui];ar!==Nt&&(ar._dbInfo.db=mt.db,ar._dbInfo.version=mt.version)}})},_support:function(){try{if(!Ne||!Ne.open)return!1;var Je="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Nt="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!Je||Nt)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(mt){return!1}}(),iterate:function(Je,Nt){var mt=this,Qt=new qe(function(un,hn){mt.ready().then(function(){In(mt._dbInfo,ve,function($n,Xn){if($n)return hn($n);try{var ui=Xn.objectStore(mt._dbInfo.storeName).openCursor(),yi=1;ui.onsuccess=function(){var Ui=ui.result;if(Ui){var ar=Ui.value;gn(ar)&&(ar=Yt(ar));var ur=Je(ar,Ui.key,yi++);void 0!==ur?un(ur):Ui.continue()}else un()},ui.onerror=function(){hn(ui.error)}}catch(Ui){hn(Ui)}})}).catch(hn)});return $e(Qt,Nt),Qt},getItem:function(Je,Nt){var mt=this;Je=Ot(Je);var Qt=new qe(function(un,hn){mt.ready().then(function(){In(mt._dbInfo,ve,function($n,Xn){if($n)return hn($n);try{var ui=Xn.objectStore(mt._dbInfo.storeName).get(Je);ui.onsuccess=function(){var yi=ui.result;void 0===yi&&(yi=null),gn(yi)&&(yi=Yt(yi)),un(yi)},ui.onerror=function(){hn(ui.error)}}catch(yi){hn(yi)}})}).catch(hn)});return $e(Qt,Nt),Qt},setItem:function(Je,Nt,mt){var Qt=this;Je=Ot(Je);var un=new qe(function(hn,$n){var Xn;Qt.ready().then(function(){return Xn=Qt._dbInfo,"[object Blob]"===ce.call(Nt)?Dt(Xn.db).then(function(Ci){return Ci?Nt:function(Je){return new qe(function(Nt,mt){var Qt=new FileReader;Qt.onerror=mt,Qt.onloadend=function(un){var hn=btoa(un.target.result||"");Nt({__local_forage_encoded_blob:!0,data:hn,type:Je.type})},Qt.readAsBinaryString(Je)})}(Nt)}):Nt}).then(function(Ci){In(Qt._dbInfo,Me,function(ui,yi){if(ui)return $n(ui);try{var Ui=yi.objectStore(Qt._dbInfo.storeName);null===Ci&&(Ci=void 0);var ar=Ui.put(Ci,Je);yi.oncomplete=function(){void 0===Ci&&(Ci=null),hn(Ci)},yi.onabort=yi.onerror=function(){$n(ar.error?ar.error:ar.transaction.error)}}catch(ur){$n(ur)}})}).catch($n)});return $e(un,mt),un},removeItem:function(Je,Nt){var mt=this;Je=Ot(Je);var Qt=new qe(function(un,hn){mt.ready().then(function(){In(mt._dbInfo,Me,function($n,Xn){if($n)return hn($n);try{var ui=Xn.objectStore(mt._dbInfo.storeName).delete(Je);Xn.oncomplete=function(){un()},Xn.onerror=function(){hn(ui.error)},Xn.onabort=function(){hn(ui.error?ui.error:ui.transaction.error)}}catch(yi){hn(yi)}})}).catch(hn)});return $e(Qt,Nt),Qt},clear:function(Je){var Nt=this,mt=new qe(function(Qt,un){Nt.ready().then(function(){In(Nt._dbInfo,Me,function(hn,$n){if(hn)return un(hn);try{var Ci=$n.objectStore(Nt._dbInfo.storeName).clear();$n.oncomplete=function(){Qt()},$n.onabort=$n.onerror=function(){un(Ci.error?Ci.error:Ci.transaction.error)}}catch(ui){un(ui)}})}).catch(un)});return $e(mt,Je),mt},length:function(Je){var Nt=this,mt=new qe(function(Qt,un){Nt.ready().then(function(){In(Nt._dbInfo,ve,function(hn,$n){if(hn)return un(hn);try{var Ci=$n.objectStore(Nt._dbInfo.storeName).count();Ci.onsuccess=function(){Qt(Ci.result)},Ci.onerror=function(){un(Ci.error)}}catch(ui){un(ui)}})}).catch(un)});return $e(mt,Je),mt},key:function(Je,Nt){var mt=this,Qt=new qe(function(un,hn){Je<0?un(null):mt.ready().then(function(){In(mt._dbInfo,ve,function($n,Xn){if($n)return hn($n);try{var Ci=Xn.objectStore(mt._dbInfo.storeName),ui=!1,yi=Ci.openKeyCursor();yi.onsuccess=function(){var Ui=yi.result;Ui?0===Je||ui?un(Ui.key):(ui=!0,Ui.advance(Je)):un(null)},yi.onerror=function(){hn(yi.error)}}catch(Ui){hn(Ui)}})}).catch(hn)});return $e(Qt,Nt),Qt},keys:function(Je){var Nt=this,mt=new qe(function(Qt,un){Nt.ready().then(function(){In(Nt._dbInfo,ve,function(hn,$n){if(hn)return un(hn);try{var Ci=$n.objectStore(Nt._dbInfo.storeName).openKeyCursor(),ui=[];Ci.onsuccess=function(){var yi=Ci.result;yi?(ui.push(yi.key),yi.continue()):Qt(ui)},Ci.onerror=function(){un(Ci.error)}}catch(yi){un(yi)}})}).catch(un)});return $e(mt,Je),mt},dropInstance:function(Je,Nt){Nt=Zt.apply(this,arguments);var mt=this.config();(Je="function"!=typeof Je&&Je||{}).name||(Je.name=Je.name||mt.name,Je.storeName=Je.storeName||mt.storeName);var un,Qt=this;if(Je.name){var $n=Je.name===mt.name&&Qt._dbInfo.db?qe.resolve(Qt._dbInfo.db):on(Je).then(function(Xn){var Ci=Mt[Je.name],ui=Ci.forages;Ci.db=Xn;for(var yi=0;yi<ui.length;yi++)ui[yi]._dbInfo.db=Xn;return Xn});un=$n.then(Je.storeName?function(Xn){if(Xn.objectStoreNames.contains(Je.storeName)){var Ci=Xn.version+1;cn(Je);var ui=Mt[Je.name],yi=ui.forages;Xn.close();for(var Ui=0;Ui<yi.length;Ui++){var ar=yi[Ui];ar._dbInfo.db=null,ar._dbInfo.version=Ci}return new qe(function(gr,mr){var Wr=Ne.open(Je.name,Ci);Wr.onerror=function(Xr){Wr.result.close(),mr(Xr)},Wr.onupgradeneeded=function(){Wr.result.deleteObjectStore(Je.storeName)},Wr.onsuccess=function(){var Xr=Wr.result;Xr.close(),gr(Xr)}}).then(function(gr){ui.db=gr;for(var mr=0;mr<yi.length;mr++){var Wr=yi[mr];Wr._dbInfo.db=gr,gt(Wr._dbInfo)}}).catch(function(gr){throw(Ht(Je,gr)||qe.resolve()).catch(function(){}),gr})}}:function(Xn){cn(Je);var Ci=Mt[Je.name],ui=Ci.forages;Xn.close();for(var yi=0;yi<ui.length;yi++)ui[yi]._dbInfo.db=null;return new qe(function(ur,gr){var mr=Ne.deleteDatabase(Je.name);mr.onerror=function(){var Wr=mr.result;Wr&&Wr.close(),gr(mr.error)},mr.onblocked=function(){console.warn('dropInstance blocked for database "'+Je.name+'" until all open connections are closed')},mr.onsuccess=function(){var Wr=mr.result;Wr&&Wr.close(),ur(Wr)}}).then(function(ur){Ci.db=ur;for(var gr=0;gr<ui.length;gr++)gt(ui[gr]._dbInfo)}).catch(function(ur){throw(Ht(Je,ur)||qe.resolve()).catch(function(){}),ur})})}else un=qe.reject("Invalid arguments");return $e(un,Nt),un}};var fr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Or=/^~~local_forage_type~([^~]+)~/,Qn="__lfsc__:",Yi=Qn.length,yr="arbf",pr="blob",_n=Yi+yr.length,Pn=Object.prototype.toString;function En(Je){var Qt,hn,$n,Xn,Ci,Nt=.75*Je.length,mt=Je.length,un=0;"="===Je[Je.length-1]&&(Nt--,"="===Je[Je.length-2]&&Nt--);var ui=new ArrayBuffer(Nt),yi=new Uint8Array(ui);for(Qt=0;Qt<mt;Qt+=4)hn=fr.indexOf(Je[Qt]),$n=fr.indexOf(Je[Qt+1]),Xn=fr.indexOf(Je[Qt+2]),Ci=fr.indexOf(Je[Qt+3]),yi[un++]=hn<<2|$n>>4,yi[un++]=(15&$n)<<4|Xn>>2,yi[un++]=(3&Xn)<<6|63&Ci;return ui}function Jn(Je){var Qt,Nt=new Uint8Array(Je),mt="";for(Qt=0;Qt<Nt.length;Qt+=3)mt+=fr[Nt[Qt]>>2],mt+=fr[(3&Nt[Qt])<<4|Nt[Qt+1]>>4],mt+=fr[(15&Nt[Qt+1])<<2|Nt[Qt+2]>>6],mt+=fr[63&Nt[Qt+2]];return Nt.length%3==2?mt=mt.substring(0,mt.length-1)+"=":Nt.length%3==1&&(mt=mt.substring(0,mt.length-2)+"=="),mt}var Rt={serialize:function(Je,Nt){var mt="";if(Je&&(mt=Pn.call(Je)),Je&&("[object ArrayBuffer]"===mt||Je.buffer&&"[object ArrayBuffer]"===Pn.call(Je.buffer))){var Qt,un=Qn;Je instanceof ArrayBuffer?(Qt=Je,un+=yr):(Qt=Je.buffer,"[object Int8Array]"===mt?un+="si08":"[object Uint8Array]"===mt?un+="ui08":"[object Uint8ClampedArray]"===mt?un+="uic8":"[object Int16Array]"===mt?un+="si16":"[object Uint16Array]"===mt?un+="ur16":"[object Int32Array]"===mt?un+="si32":"[object Uint32Array]"===mt?un+="ui32":"[object Float32Array]"===mt?un+="fl32":"[object Float64Array]"===mt?un+="fl64":Nt(new Error("Failed to get type for BinaryArray"))),Nt(un+Jn(Qt))}else if("[object Blob]"===mt){var hn=new FileReader;hn.onload=function(){var $n="~~local_forage_type~"+Je.type+"~"+Jn(this.result);Nt(Qn+pr+$n)},hn.readAsArrayBuffer(Je)}else try{Nt(JSON.stringify(Je))}catch($n){console.error("Couldn't convert value into a JSON string: ",Je),Nt(null,$n)}},deserialize:function(Je){if(Je.substring(0,Yi)!==Qn)return JSON.parse(Je);var Qt,Nt=Je.substring(_n),mt=Je.substring(Yi,_n);if(mt===pr&&Or.test(Nt)){var un=Nt.match(Or);Qt=un[1],Nt=Nt.substring(un[0].length)}var hn=En(Nt);switch(mt){case yr:return hn;case pr:return Be([hn],{type:Qt});case"si08":return new Int8Array(hn);case"ui08":return new Uint8Array(hn);case"uic8":return new Uint8ClampedArray(hn);case"si16":return new Int16Array(hn);case"ur16":return new Uint16Array(hn);case"si32":return new Int32Array(hn);case"ui32":return new Uint32Array(hn);case"fl32":return new Float32Array(hn);case"fl64":return new Float64Array(hn);default:throw new Error("Unkown type: "+mt)}},stringToBuffer:En,bufferToString:Jn};function ut(Je,Nt,mt,Qt){Je.executeSql("CREATE TABLE IF NOT EXISTS "+Nt.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],mt,Qt)}function zt(Je,Nt,mt,Qt,un,hn){Je.executeSql(mt,Qt,un,function($n,Xn){Xn.code===Xn.SYNTAX_ERR?$n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Nt.storeName],function(Ci,ui){ui.rows.length?hn(Ci,Xn):ut(Ci,Nt,function(){Ci.executeSql(mt,Qt,un,hn)},hn)},hn):hn($n,Xn)},hn)}function ti(Je,Nt,mt,Qt){var un=this;Je=Ot(Je);var hn=new qe(function($n,Xn){un.ready().then(function(){void 0===Nt&&(Nt=null);var Ci=Nt,ui=un._dbInfo;ui.serializer.serialize(Nt,function(yi,Ui){Ui?Xn(Ui):ui.db.transaction(function(ar){zt(ar,ui,"INSERT OR REPLACE INTO "+ui.storeName+" (key, value) VALUES (?, ?)",[Je,yi],function(){$n(Ci)},function(ur,gr){Xn(gr)})},function(ar){if(ar.code===ar.QUOTA_ERR){if(Qt>0)return void $n(ti.apply(un,[Je,Ci,mt,Qt-1]));Xn(ar)}})})}).catch(Xn)});return $e(hn,mt),hn}function pt(Je){return new qe(function(Nt,mt){Je.transaction(function(Qt){Qt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(un,hn){for(var $n=[],Xn=0;Xn<hn.rows.length;Xn++)$n.push(hn.rows.item(Xn).name);Nt({db:Je,storeNames:$n})},function(un,hn){mt(hn)})},function(Qt){mt(Qt)})})}var st={_driver:"webSQLStorage",_initStorage:function(Je){var Nt=this,mt={db:null};if(Je)for(var Qt in Je)mt[Qt]="string"!=typeof Je[Qt]?Je[Qt].toString():Je[Qt];var un=new qe(function(hn,$n){try{mt.db=openDatabase(mt.name,String(mt.version),mt.description,mt.size)}catch(Xn){return $n(Xn)}mt.db.transaction(function(Xn){ut(Xn,mt,function(){Nt._dbInfo=mt,hn()},function(Ci,ui){$n(ui)})},$n)});return mt.serializer=Rt,un},_support:"function"==typeof openDatabase,iterate:function(Je,Nt){var mt=this,Qt=new qe(function(un,hn){mt.ready().then(function(){var $n=mt._dbInfo;$n.db.transaction(function(Xn){zt(Xn,$n,"SELECT * FROM "+$n.storeName,[],function(Ci,ui){for(var yi=ui.rows,Ui=yi.length,ar=0;ar<Ui;ar++){var ur=yi.item(ar),gr=ur.value;if(gr&&(gr=$n.serializer.deserialize(gr)),void 0!==(gr=Je(gr,ur.key,ar+1)))return void un(gr)}un()},function(Ci,ui){hn(ui)})})}).catch(hn)});return $e(Qt,Nt),Qt},getItem:function(Je,Nt){var mt=this;Je=Ot(Je);var Qt=new qe(function(un,hn){mt.ready().then(function(){var $n=mt._dbInfo;$n.db.transaction(function(Xn){zt(Xn,$n,"SELECT * FROM "+$n.storeName+" WHERE key = ? LIMIT 1",[Je],function(Ci,ui){var yi=ui.rows.length?ui.rows.item(0).value:null;yi&&(yi=$n.serializer.deserialize(yi)),un(yi)},function(Ci,ui){hn(ui)})})}).catch(hn)});return $e(Qt,Nt),Qt},setItem:function(Je,Nt,mt){return ti.apply(this,[Je,Nt,mt,1])},removeItem:function(Je,Nt){var mt=this;Je=Ot(Je);var Qt=new qe(function(un,hn){mt.ready().then(function(){var $n=mt._dbInfo;$n.db.transaction(function(Xn){zt(Xn,$n,"DELETE FROM "+$n.storeName+" WHERE key = ?",[Je],function(){un()},function(Ci,ui){hn(ui)})})}).catch(hn)});return $e(Qt,Nt),Qt},clear:function(Je){var Nt=this,mt=new qe(function(Qt,un){Nt.ready().then(function(){var hn=Nt._dbInfo;hn.db.transaction(function($n){zt($n,hn,"DELETE FROM "+hn.storeName,[],function(){Qt()},function(Xn,Ci){un(Ci)})})}).catch(un)});return $e(mt,Je),mt},length:function(Je){var Nt=this,mt=new qe(function(Qt,un){Nt.ready().then(function(){var hn=Nt._dbInfo;hn.db.transaction(function($n){zt($n,hn,"SELECT COUNT(key) as c FROM "+hn.storeName,[],function(Xn,Ci){var ui=Ci.rows.item(0).c;Qt(ui)},function(Xn,Ci){un(Ci)})})}).catch(un)});return $e(mt,Je),mt},key:function(Je,Nt){var mt=this,Qt=new qe(function(un,hn){mt.ready().then(function(){var $n=mt._dbInfo;$n.db.transaction(function(Xn){zt(Xn,$n,"SELECT key FROM "+$n.storeName+" WHERE id = ? LIMIT 1",[Je+1],function(Ci,ui){var yi=ui.rows.length?ui.rows.item(0).key:null;un(yi)},function(Ci,ui){hn(ui)})})}).catch(hn)});return $e(Qt,Nt),Qt},keys:function(Je){var Nt=this,mt=new qe(function(Qt,un){Nt.ready().then(function(){var hn=Nt._dbInfo;hn.db.transaction(function($n){zt($n,hn,"SELECT key FROM "+hn.storeName,[],function(Xn,Ci){for(var ui=[],yi=0;yi<Ci.rows.length;yi++)ui.push(Ci.rows.item(yi).key);Qt(ui)},function(Xn,Ci){un(Ci)})})}).catch(un)});return $e(mt,Je),mt},dropInstance:function(Je,Nt){Nt=Zt.apply(this,arguments);var mt=this.config();(Je="function"!=typeof Je&&Je||{}).name||(Je.name=Je.name||mt.name,Je.storeName=Je.storeName||mt.storeName);var un,Qt=this;return $e(un=Je.name?new qe(function(hn){var $n;$n=Je.name===mt.name?Qt._dbInfo.db:openDatabase(Je.name,"","",0),hn(Je.storeName?{db:$n,storeNames:[Je.storeName]}:pt($n))}).then(function(hn){return new qe(function($n,Xn){hn.db.transaction(function(Ci){function ui(ur){return new qe(function(gr,mr){Ci.executeSql("DROP TABLE IF EXISTS "+ur,[],function(){gr()},function(Wr,Xr){mr(Xr)})})}for(var yi=[],Ui=0,ar=hn.storeNames.length;Ui<ar;Ui++)yi.push(ui(hn.storeNames[Ui]));qe.all(yi).then(function(){$n()}).catch(function(ur){Xn(ur)})},function(Ci){Xn(Ci)})})}):qe.reject("Invalid arguments"),Nt),un}};function yt(Je,Nt){var mt=Je.name+"/";return Je.storeName!==Nt.storeName&&(mt+=Je.storeName+"/"),mt}function Cn(){return!function(){var Je="_localforage_support_test";try{return localStorage.setItem(Je,!0),localStorage.removeItem(Je),!1}catch(Nt){return!0}}()||localStorage.length>0}var lr={_driver:"localStorageWrapper",_initStorage:function(Je){var mt={};if(Je)for(var Qt in Je)mt[Qt]=Je[Qt];return mt.keyPrefix=yt(Je,this._defaultConfig),Cn()?(this._dbInfo=mt,mt.serializer=Rt,qe.resolve()):qe.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(Je){return!1}}(),iterate:function(Je,Nt){var mt=this,Qt=mt.ready().then(function(){for(var un=mt._dbInfo,hn=un.keyPrefix,$n=hn.length,Xn=localStorage.length,Ci=1,ui=0;ui<Xn;ui++){var yi=localStorage.key(ui);if(0===yi.indexOf(hn)){var Ui=localStorage.getItem(yi);if(Ui&&(Ui=un.serializer.deserialize(Ui)),void 0!==(Ui=Je(Ui,yi.substring($n),Ci++)))return Ui}}});return $e(Qt,Nt),Qt},getItem:function(Je,Nt){var mt=this;Je=Ot(Je);var Qt=mt.ready().then(function(){var un=mt._dbInfo,hn=localStorage.getItem(un.keyPrefix+Je);return hn&&(hn=un.serializer.deserialize(hn)),hn});return $e(Qt,Nt),Qt},setItem:function(Je,Nt,mt){var Qt=this;Je=Ot(Je);var un=Qt.ready().then(function(){void 0===Nt&&(Nt=null);var hn=Nt;return new qe(function($n,Xn){var Ci=Qt._dbInfo;Ci.serializer.serialize(Nt,function(ui,yi){if(yi)Xn(yi);else try{localStorage.setItem(Ci.keyPrefix+Je,ui),$n(hn)}catch(Ui){("QuotaExceededError"===Ui.name||"NS_ERROR_DOM_QUOTA_REACHED"===Ui.name)&&Xn(Ui),Xn(Ui)}})})});return $e(un,mt),un},removeItem:function(Je,Nt){var mt=this;Je=Ot(Je);var Qt=mt.ready().then(function(){localStorage.removeItem(mt._dbInfo.keyPrefix+Je)});return $e(Qt,Nt),Qt},clear:function(Je){var Nt=this,mt=Nt.ready().then(function(){for(var Qt=Nt._dbInfo.keyPrefix,un=localStorage.length-1;un>=0;un--){var hn=localStorage.key(un);0===hn.indexOf(Qt)&&localStorage.removeItem(hn)}});return $e(mt,Je),mt},length:function(Je){var mt=this.keys().then(function(Qt){return Qt.length});return $e(mt,Je),mt},key:function(Je,Nt){var mt=this,Qt=mt.ready().then(function(){var hn,un=mt._dbInfo;try{hn=localStorage.key(Je)}catch($n){hn=null}return hn&&(hn=hn.substring(un.keyPrefix.length)),hn});return $e(Qt,Nt),Qt},keys:function(Je){var Nt=this,mt=Nt.ready().then(function(){for(var Qt=Nt._dbInfo,un=localStorage.length,hn=[],$n=0;$n<un;$n++){var Xn=localStorage.key($n);0===Xn.indexOf(Qt.keyPrefix)&&hn.push(Xn.substring(Qt.keyPrefix.length))}return hn});return $e(mt,Je),mt},dropInstance:function(Je,Nt){if(Nt=Zt.apply(this,arguments),!(Je="function"!=typeof Je&&Je||{}).name){var mt=this.config();Je.name=Je.name||mt.name,Je.storeName=Je.storeName||mt.storeName}var un,Qt=this;return $e(un=Je.name?new qe(function(hn){hn(Je.storeName?yt(Je,Qt._defaultConfig):Je.name+"/")}).then(function(hn){for(var $n=localStorage.length-1;$n>=0;$n--){var Xn=localStorage.key($n);0===Xn.indexOf(hn)&&localStorage.removeItem(Xn)}}):qe.reject("Invalid arguments"),Nt),un}},Yr=function(Nt,mt){return Nt===mt||"number"==typeof Nt&&"number"==typeof mt&&isNaN(Nt)&&isNaN(mt)},Ur=function(Nt,mt){for(var Qt=Nt.length,un=0;un<Qt;){if(Yr(Nt[un],mt))return!0;un++}return!1},ao=Array.isArray||function(Je){return"[object Array]"===Object.prototype.toString.call(Je)},ct={},lt={},$={INDEXEDDB:ji,WEBSQL:st,LOCALSTORAGE:lr},ue=[$.INDEXEDDB._driver,$.WEBSQL._driver,$.LOCALSTORAGE._driver],_e=["dropInstance"],Le=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(_e),Xe={description:"",driver:ue.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ft(Je,Nt){Je[Nt]=function(){var mt=arguments;return Je.ready().then(function(){return Je[Nt].apply(Je,mt)})}}function Pt(){for(var Je=1;Je<arguments.length;Je++){var Nt=arguments[Je];if(Nt)for(var mt in Nt)Nt.hasOwnProperty(mt)&&(arguments[0][mt]=ao(Nt[mt])?Nt[mt].slice():Nt[mt])}return arguments[0]}var nn=new(function(){function Je(Nt){for(var mt in function(Je,Nt){if(!(Je instanceof Nt))throw new TypeError("Cannot call a class as a function")}(this,Je),$)if($.hasOwnProperty(mt)){var Qt=$[mt],un=Qt._driver;this[mt]=un,ct[un]||this.defineDriver(Qt)}this._defaultConfig=Pt({},Xe),this._config=Pt({},this._defaultConfig,Nt),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Je.prototype.config=function(mt){if("object"===(void 0===mt?"undefined":Fe(mt))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Qt in mt){if("storeName"===Qt&&(mt[Qt]=mt[Qt].replace(/\W/g,"_")),"version"===Qt&&"number"!=typeof mt[Qt])return new Error("Database version must be a number.");this._config[Qt]=mt[Qt]}return!("driver"in mt)||!mt.driver||this.setDriver(this._config.driver)}return"string"==typeof mt?this._config[mt]:this._config},Je.prototype.defineDriver=function(mt,Qt,un){var hn=new qe(function($n,Xn){try{var Ci=mt._driver,ui=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!mt._driver)return void Xn(ui);for(var yi=Le.concat("_initStorage"),Ui=0,ar=yi.length;Ui<ar;Ui++){var ur=yi[Ui];if((!Ur(_e,ur)||mt[ur])&&"function"!=typeof mt[ur])return void Xn(ui)}!function(){for(var co=function(_s){return function(){var _o=new Error("Method "+_s+" is not implemented by the current driver"),hs=qe.reject(_o);return $e(hs,arguments[arguments.length-1]),hs}},vo=0,Io=_e.length;vo<Io;vo++){var zo=_e[vo];mt[zo]||(mt[zo]=co(zo))}}();var Wr=function(co){ct[Ci]&&console.info("Redefining LocalForage driver: "+Ci),ct[Ci]=mt,lt[Ci]=co,$n()};"_support"in mt?mt._support&&"function"==typeof mt._support?mt._support().then(Wr,Xn):Wr(!!mt._support):Wr(!0)}catch(Xr){Xn(Xr)}});return Qe(hn,Qt,un),hn},Je.prototype.driver=function(){return this._driver||null},Je.prototype.getDriver=function(mt,Qt,un){var hn=ct[mt]?qe.resolve(ct[mt]):qe.reject(new Error("Driver not found."));return Qe(hn,Qt,un),hn},Je.prototype.getSerializer=function(mt){var Qt=qe.resolve(Rt);return Qe(Qt,mt),Qt},Je.prototype.ready=function(mt){var Qt=this,un=Qt._driverSet.then(function(){return null===Qt._ready&&(Qt._ready=Qt._initDriver()),Qt._ready});return Qe(un,mt,mt),un},Je.prototype.setDriver=function(mt,Qt,un){var hn=this;ao(mt)||(mt=[mt]);var $n=this._getSupportedDrivers(mt);function Xn(){hn._config.driver=hn.driver()}function Ci(Ui){return hn._extend(Ui),Xn(),hn._ready=hn._initStorage(hn._config),hn._ready}var yi=null!==this._driverSet?this._driverSet.catch(function(){return qe.resolve()}):qe.resolve();return this._driverSet=yi.then(function(){var Ui=$n[0];return hn._dbInfo=null,hn._ready=null,hn.getDriver(Ui).then(function(ar){hn._driver=ar._driver,Xn(),hn._wrapLibraryMethodsWithReady(),hn._initDriver=function(Ui){return function(){var ar=0;return function ur(){for(;ar<Ui.length;){var gr=Ui[ar];return ar++,hn._dbInfo=null,hn._ready=null,hn.getDriver(gr).then(Ci).catch(ur)}Xn();var mr=new Error("No available storage method found.");return hn._driverSet=qe.reject(mr),hn._driverSet}()}}($n)})}).catch(function(){Xn();var Ui=new Error("No available storage method found.");return hn._driverSet=qe.reject(Ui),hn._driverSet}),Qe(this._driverSet,Qt,un),this._driverSet},Je.prototype.supports=function(mt){return!!lt[mt]},Je.prototype._extend=function(mt){Pt(this,mt)},Je.prototype._getSupportedDrivers=function(mt){for(var Qt=[],un=0,hn=mt.length;un<hn;un++){var $n=mt[un];this.supports($n)&&Qt.push($n)}return Qt},Je.prototype._wrapLibraryMethodsWithReady=function(){for(var mt=0,Qt=Le.length;mt<Qt;mt++)ft(this,Le[mt])},Je.prototype.createInstance=function(mt){return new Je(mt)},Je}());Oe.exports=nn},{3:3}]},{},[4])(4)},5478:function(Se){Se.exports=function(){"use strict";function Ze(it,Ct){for(var dt=0;dt<Ct.length;dt++){var We=Ct[dt];We.enumerable=We.enumerable||!1,We.configurable=!0,"value"in We&&(We.writable=!0),Object.defineProperty(it,We.key,We)}}function te(it,Ct){(null==Ct||Ct>it.length)&&(Ct=it.length);for(var dt=0,We=new Array(Ct);dt<Ct;dt++)We[dt]=it[dt];return We}function Oe(it,Ct){var dt="undefined"!=typeof Symbol&&it[Symbol.iterator]||it["@@iterator"];if(dt)return(dt=dt.call(it)).next.bind(dt);if(Array.isArray(it)||(dt=function(it,Ct){if(it){if("string"==typeof it)return te(it,Ct);var dt=Object.prototype.toString.call(it).slice(8,-1);if("Object"===dt&&it.constructor&&(dt=it.constructor.name),"Map"===dt||"Set"===dt)return Array.from(it);if("Arguments"===dt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return te(it,Ct)}}(it))||Ct&&it&&"number"==typeof it.length){dt&&(it=dt);var We=0;return function(){return We>=it.length?{done:!0}:{done:!1,value:it[We++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var we={exports:{}};function Fe(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}we.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:Fe,changeDefaults:function(it){we.exports.defaults=it}};var He=/[&<>"']/,Ne=/[&<>"']/g,nt=/[<>"']|&(?!#?\w+;)/,Be=/[<>"']|&(?!#?\w+;)/g,qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$e=function(Ct){return qe[Ct]};var Ot=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Zt(it){return it.replace(Ot,function(Ct,dt){return"colon"===(dt=dt.toLowerCase())?":":"#"===dt.charAt(0)?"x"===dt.charAt(1)?String.fromCharCode(parseInt(dt.substring(2),16)):String.fromCharCode(+dt.substring(1)):""})}var _t=/(^|[^\[])\^/g;var Mt=/[^\w:]/g,ce=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;var Me={},tt=/^[^:]+:\/*[^/]*$/,bt=/^([^:]+:)[\s\S]*$/,Dt=/^([^:]+:\/*[^/]*)[\s\S]*$/;function cn(it,Ct){Me[" "+it]||(Me[" "+it]=tt.test(it)?it+"/":on(it,"/",!0));var dt=-1===(it=Me[" "+it]).indexOf(":");return"//"===Ct.substring(0,2)?dt?Ct:it.replace(bt,"$1")+Ct:"/"===Ct.charAt(0)?dt?Ct:it.replace(Dt,"$1")+Ct:it+Ct}function on(it,Ct,dt){var We=it.length;if(0===We)return"";for(var pt=0;pt<We;){var Ut=it.charAt(We-pt-1);if(Ut!==Ct||dt){if(Ut===Ct||!dt)break;pt++}else pt++}return it.substr(0,We-pt)}var Yt_escape=function(it,Ct){if(Ct){if(He.test(it))return it.replace(Ne,$e)}else if(nt.test(it))return it.replace(Be,$e);return it},Yt_unescape=Zt,Yt_edit=function(it,Ct){it=it.source||it,Ct=Ct||"";var dt={replace:function(pt,Ut){return Ut=(Ut=Ut.source||Ut).replace(_t,"$1"),it=it.replace(pt,Ut),dt},getRegex:function(){return new RegExp(it,Ct)}};return dt},Yt_cleanUrl=function(it,Ct,dt){if(it){var We;try{We=decodeURIComponent(Zt(dt)).replace(Mt,"").toLowerCase()}catch(pt){return null}if(0===We.indexOf("javascript:")||0===We.indexOf("vbscript:")||0===We.indexOf("data:"))return null}Ct&&!ce.test(dt)&&(dt=cn(Ct,dt));try{dt=encodeURI(dt).replace(/%25/g,"%")}catch(pt){return null}return dt},Yt_noopTest={exec:function(){}},Yt_merge=function(it){for(var dt,We,Ct=1;Ct<arguments.length;Ct++)for(We in dt=arguments[Ct])Object.prototype.hasOwnProperty.call(dt,We)&&(it[We]=dt[We]);return it},Yt_checkSanitizeDeprecation=function(it){it&&it.sanitize&&!it.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},Yt_repeatString=function(it,Ct){if(Ct<1)return"";for(var dt="";Ct>1;)1&Ct&&(dt+=it),Ct>>=1,it+=it;return dt+it},gn=we.exports.defaults,kn=on,Zn=function(it,Ct){var We=it.replace(/\|/g,function(Ut,st,Ge){for(var yt=!1,Bt=st;--Bt>=0&&"\\"===Ge[Bt];)yt=!yt;return yt?"|":" |"}).split(/ \|/),pt=0;if(We.length>Ct)We.splice(Ct);else for(;We.length<Ct;)We.push("");for(;pt<We.length;pt++)We[pt]=We[pt].trim().replace(/\\\|/g,"|");return We},In=Yt_escape,Hn=function(it,Ct){if(-1===it.indexOf(Ct[1]))return-1;for(var dt=it.length,We=0,pt=0;pt<dt;pt++)if("\\"===it[pt])pt++;else if(it[pt]===Ct[0])We++;else if(it[pt]===Ct[1]&&--We<0)return pt;return-1};function ni(it,Ct,dt){var We=Ct.href,pt=Ct.title?In(Ct.title):null,Ut=it[1].replace(/\\([\[\]])/g,"$1");return"!"!==it[0].charAt(0)?{type:"link",raw:dt,href:We,title:pt,text:Ut}:{type:"image",raw:dt,href:We,title:pt,text:In(Ut)}}var Fi=function(){function it(dt){this.options=dt||gn}var Ct=it.prototype;return Ct.space=function(We){var pt=this.rules.block.newline.exec(We);if(pt)return pt[0].length>1?{type:"space",raw:pt[0]}:{raw:"\n"}},Ct.code=function(We){var pt=this.rules.block.code.exec(We);if(pt){var Ut=pt[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:pt[0],codeBlockStyle:"indented",text:this.options.pedantic?Ut:kn(Ut,"\n")}}},Ct.fences=function(We){var pt=this.rules.block.fences.exec(We);if(pt){var Ut=pt[0],st=function(it,Ct){var dt=it.match(/^(\s+)(?:```)/);if(null===dt)return Ct;var We=dt[1];return Ct.split("\n").map(function(pt){var Ut=pt.match(/^\s+/);return null===Ut?pt:Ut[0].length>=We.length?pt.slice(We.length):pt}).join("\n")}(Ut,pt[3]||"");return{type:"code",raw:Ut,lang:pt[2]?pt[2].trim():pt[2],text:st}}},Ct.heading=function(We){var pt=this.rules.block.heading.exec(We);if(pt){var Ut=pt[2].trim();if(/#$/.test(Ut)){var st=kn(Ut,"#");(this.options.pedantic||!st||/ $/.test(st))&&(Ut=st.trim())}return{type:"heading",raw:pt[0],depth:pt[1].length,text:Ut}}},Ct.nptable=function(We){var pt=this.rules.block.nptable.exec(We);if(pt){var Ut={type:"table",header:Zn(pt[1].replace(/^ *| *\| *$/g,"")),align:pt[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:pt[3]?pt[3].replace(/\n$/,"").split("\n"):[],raw:pt[0]};if(Ut.header.length===Ut.align.length){var Ge,st=Ut.align.length;for(Ge=0;Ge<st;Ge++)Ut.align[Ge]=/^ *-+: *$/.test(Ut.align[Ge])?"right":/^ *:-+: *$/.test(Ut.align[Ge])?"center":/^ *:-+ *$/.test(Ut.align[Ge])?"left":null;for(st=Ut.cells.length,Ge=0;Ge<st;Ge++)Ut.cells[Ge]=Zn(Ut.cells[Ge],Ut.header.length);return Ut}}},Ct.hr=function(We){var pt=this.rules.block.hr.exec(We);if(pt)return{type:"hr",raw:pt[0]}},Ct.blockquote=function(We){var pt=this.rules.block.blockquote.exec(We);if(pt){var Ut=pt[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:pt[0],text:Ut}}},Ct.list=function(We){var pt=this.rules.block.list.exec(We);if(pt){var wn,ei,Pi,wi,Si,si,Ri,tr,rr,Ut=pt[0],st=pt[2],Ge=st.length>1,yt={type:"list",raw:Ut,ordered:Ge,start:Ge?+st.slice(0,-1):"",loose:!1,items:[]},Bt=pt[0].match(this.rules.block.item),Cn=!1,Vi=Bt.length;Pi=this.rules.block.listItemStart.exec(Bt[0]);for(var lr=0;lr<Vi;lr++){if(Ut=wn=Bt[lr],this.options.pedantic||(rr=wn.match(new RegExp("\\n\\s*\\n {0,"+(Pi[0].length-1)+"}\\S")))&&(Si=wn.length-rr.index+Bt.slice(lr+1).join("\n").length,yt.raw=yt.raw.substring(0,yt.raw.length-Si),Ut=wn=wn.substring(0,rr.index),Vi=lr+1),lr!==Vi-1){if(wi=this.rules.block.listItemStart.exec(Bt[lr+1]),this.options.pedantic?wi[1].length>Pi[1].length:wi[1].length>=Pi[0].length||wi[1].length>3){Bt.splice(lr,2,Bt[lr]+(!this.options.pedantic&&wi[1].length<Pi[0].length&&!Bt[lr].match(/\n$/)?"":"\n")+Bt[lr+1]),lr--,Vi--;continue}(!this.options.pedantic||this.options.smartLists?wi[2][wi[2].length-1]!==st[st.length-1]:Ge===(1===wi[2].length))&&(Si=Bt.slice(lr+1).join("\n").length,yt.raw=yt.raw.substring(0,yt.raw.length-Si),lr=Vi-1),Pi=wi}ei=wn.length,~(wn=wn.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(ei-=wn.length,wn=wn.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+ei+"}","gm"),"")),wn=kn(wn,"\n"),lr!==Vi-1&&(Ut+="\n"),si=Cn||/\n\n(?!\s*$)/.test(Ut),lr!==Vi-1&&(Cn="\n\n"===Ut.slice(-2),si||(si=Cn)),si&&(yt.loose=!0),this.options.gfm&&(tr=void 0,(Ri=/^\[[ xX]\] /.test(wn))&&(tr=" "!==wn[1],wn=wn.replace(/^\[[ xX]\] +/,""))),yt.items.push({type:"list_item",raw:Ut,task:Ri,checked:tr,loose:si,text:wn})}return yt}},Ct.html=function(We){var pt=this.rules.block.html.exec(We);if(pt)return{type:this.options.sanitize?"paragraph":"html",raw:pt[0],pre:!this.options.sanitizer&&("pre"===pt[1]||"script"===pt[1]||"style"===pt[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(pt[0]):In(pt[0]):pt[0]}},Ct.def=function(We){var pt=this.rules.block.def.exec(We);if(pt)return pt[3]&&(pt[3]=pt[3].substring(1,pt[3].length-1)),{type:"def",tag:pt[1].toLowerCase().replace(/\s+/g," "),raw:pt[0],href:pt[2],title:pt[3]}},Ct.table=function(We){var pt=this.rules.block.table.exec(We);if(pt){var Ut={type:"table",header:Zn(pt[1].replace(/^ *| *\| *$/g,"")),align:pt[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:pt[3]?pt[3].replace(/\n$/,"").split("\n"):[]};if(Ut.header.length===Ut.align.length){Ut.raw=pt[0];var Ge,st=Ut.align.length;for(Ge=0;Ge<st;Ge++)Ut.align[Ge]=/^ *-+: *$/.test(Ut.align[Ge])?"right":/^ *:-+: *$/.test(Ut.align[Ge])?"center":/^ *:-+ *$/.test(Ut.align[Ge])?"left":null;for(st=Ut.cells.length,Ge=0;Ge<st;Ge++)Ut.cells[Ge]=Zn(Ut.cells[Ge].replace(/^ *\| *| *\| *$/g,""),Ut.header.length);return Ut}}},Ct.lheading=function(We){var pt=this.rules.block.lheading.exec(We);if(pt)return{type:"heading",raw:pt[0],depth:"="===pt[2].charAt(0)?1:2,text:pt[1]}},Ct.paragraph=function(We){var pt=this.rules.block.paragraph.exec(We);if(pt)return{type:"paragraph",raw:pt[0],text:"\n"===pt[1].charAt(pt[1].length-1)?pt[1].slice(0,-1):pt[1]}},Ct.text=function(We){var pt=this.rules.block.text.exec(We);if(pt)return{type:"text",raw:pt[0],text:pt[0]}},Ct.escape=function(We){var pt=this.rules.inline.escape.exec(We);if(pt)return{type:"escape",raw:pt[0],text:In(pt[1])}},Ct.tag=function(We,pt,Ut){var st=this.rules.inline.tag.exec(We);if(st)return!pt&&/^<a /i.test(st[0])?pt=!0:pt&&/^<\/a>/i.test(st[0])&&(pt=!1),!Ut&&/^<(pre|code|kbd|script)(\s|>)/i.test(st[0])?Ut=!0:Ut&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(st[0])&&(Ut=!1),{type:this.options.sanitize?"text":"html",raw:st[0],inLink:pt,inRawBlock:Ut,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(st[0]):In(st[0]):st[0]}},Ct.link=function(We){var pt=this.rules.inline.link.exec(We);if(pt){var Ut=pt[2].trim();if(!this.options.pedantic&&/^</.test(Ut)){if(!/>$/.test(Ut))return;var st=kn(Ut.slice(0,-1),"\\");if((Ut.length-st.length)%2==0)return}else{var Ge=Hn(pt[2],"()");if(Ge>-1){var Bt=(0===pt[0].indexOf("!")?5:4)+pt[1].length+Ge;pt[2]=pt[2].substring(0,Ge),pt[0]=pt[0].substring(0,Bt).trim(),pt[3]=""}}var Cn=pt[2],wn="";if(this.options.pedantic){var ei=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Cn);ei&&(Cn=ei[1],wn=ei[3])}else wn=pt[3]?pt[3].slice(1,-1):"";return Cn=Cn.trim(),/^</.test(Cn)&&(Cn=this.options.pedantic&&!/>$/.test(Ut)?Cn.slice(1):Cn.slice(1,-1)),ni(pt,{href:Cn&&Cn.replace(this.rules.inline._escapes,"$1"),title:wn&&wn.replace(this.rules.inline._escapes,"$1")},pt[0])}},Ct.reflink=function(We,pt){var Ut;if((Ut=this.rules.inline.reflink.exec(We))||(Ut=this.rules.inline.nolink.exec(We))){var st=(Ut[2]||Ut[1]).replace(/\s+/g," ");if(!(st=pt[st.toLowerCase()])||!st.href){var Ge=Ut[0].charAt(0);return{type:"text",raw:Ge,text:Ge}}return ni(Ut,st,Ut[0])}},Ct.emStrong=function(We,pt,Ut){void 0===Ut&&(Ut="");var st=this.rules.inline.emStrong.lDelim.exec(We);if(st&&(!st[3]||!Ut.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Ge=st[1]||st[2]||"";if(!Ge||Ge&&(""===Ut||this.rules.inline.punctuation.exec(Ut))){var Bt,Cn,yt=st[0].length-1,wn=yt,ei=0,Pi="*"===st[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Pi.lastIndex=0,pt=pt.slice(-1*We.length+yt);null!=(st=Pi.exec(pt));)if(Bt=st[1]||st[2]||st[3]||st[4]||st[5]||st[6]){if(Cn=Bt.length,st[3]||st[4]){wn+=Cn;continue}if((st[5]||st[6])&&yt%3&&!((yt+Cn)%3)){ei+=Cn;continue}if(!((wn-=Cn)>0))return Cn=Math.min(Cn,Cn+wn+ei),Math.min(yt,Cn)%2?{type:"em",raw:We.slice(0,yt+st.index+Cn+1),text:We.slice(1,yt+st.index+Cn)}:{type:"strong",raw:We.slice(0,yt+st.index+Cn+1),text:We.slice(2,yt+st.index+Cn-1)}}}}},Ct.codespan=function(We){var pt=this.rules.inline.code.exec(We);if(pt){var Ut=pt[2].replace(/\n/g," "),st=/[^ ]/.test(Ut),Ge=/^ /.test(Ut)&&/ $/.test(Ut);return st&&Ge&&(Ut=Ut.substring(1,Ut.length-1)),Ut=In(Ut,!0),{type:"codespan",raw:pt[0],text:Ut}}},Ct.br=function(We){var pt=this.rules.inline.br.exec(We);if(pt)return{type:"br",raw:pt[0]}},Ct.del=function(We){var pt=this.rules.inline.del.exec(We);if(pt)return{type:"del",raw:pt[0],text:pt[2]}},Ct.autolink=function(We,pt){var st,Ge,Ut=this.rules.inline.autolink.exec(We);if(Ut)return Ge="@"===Ut[2]?"mailto:"+(st=In(this.options.mangle?pt(Ut[1]):Ut[1])):st=In(Ut[1]),{type:"link",raw:Ut[0],text:st,href:Ge,tokens:[{type:"text",raw:st,text:st}]}},Ct.url=function(We,pt){var Ut;if(Ut=this.rules.inline.url.exec(We)){var st,Ge;if("@"===Ut[2])Ge="mailto:"+(st=In(this.options.mangle?pt(Ut[0]):Ut[0]));else{var yt;do{yt=Ut[0],Ut[0]=this.rules.inline._backpedal.exec(Ut[0])[0]}while(yt!==Ut[0]);st=In(Ut[0]),Ge="www."===Ut[1]?"http://"+st:st}return{type:"link",raw:Ut[0],text:st,href:Ge,tokens:[{type:"text",raw:st,text:st}]}}},Ct.inlineText=function(We,pt,Ut){var Ge,st=this.rules.inline.text.exec(We);if(st)return Ge=pt?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(st[0]):In(st[0]):st[0]:In(this.options.smartypants?Ut(st[0]):st[0]),{type:"text",raw:st[0],text:Ge}},it}(),bi=Yt_noopTest,fi=Yt_edit,ri=Yt_merge,zn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:bi,table:bi,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};zn.def=fi(zn.def).replace("label",zn._label).replace("title",zn._title).getRegex(),zn.bullet=/(?:[*+-]|\d{1,9}[.)])/,zn.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,zn.item=fi(zn.item,"gm").replace(/bull/g,zn.bullet).getRegex(),zn.listItemStart=fi(/^( *)(bull) */).replace("bull",zn.bullet).getRegex(),zn.list=fi(zn.list).replace(/bull/g,zn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+zn.def.source+")").getRegex(),zn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",zn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,zn.html=fi(zn.html,"i").replace("comment",zn._comment).replace("tag",zn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),zn.paragraph=fi(zn._paragraph).replace("hr",zn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zn._tag).getRegex(),zn.blockquote=fi(zn.blockquote).replace("paragraph",zn.paragraph).getRegex(),zn.normal=ri({},zn),zn.gfm=ri({},zn.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),zn.gfm.nptable=fi(zn.gfm.nptable).replace("hr",zn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zn._tag).getRegex(),zn.gfm.table=fi(zn.gfm.table).replace("hr",zn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zn._tag).getRegex(),zn.pedantic=ri({},zn.normal,{html:fi("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",zn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:bi,paragraph:fi(zn.normal._paragraph).replace("hr",zn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",zn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Un={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:bi,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:bi,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};Un.punctuation=fi(Un.punctuation).replace(/punctuation/g,Un._punctuation).getRegex(),Un.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Un.escapedEmSt=/\\\*|\\_/g,Un._comment=fi(zn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Un.emStrong.lDelim=fi(Un.emStrong.lDelim).replace(/punct/g,Un._punctuation).getRegex(),Un.emStrong.rDelimAst=fi(Un.emStrong.rDelimAst,"g").replace(/punct/g,Un._punctuation).getRegex(),Un.emStrong.rDelimUnd=fi(Un.emStrong.rDelimUnd,"g").replace(/punct/g,Un._punctuation).getRegex(),Un._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Un._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Un._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Un.autolink=fi(Un.autolink).replace("scheme",Un._scheme).replace("email",Un._email).getRegex(),Un._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Un.tag=fi(Un.tag).replace("comment",Un._comment).replace("attribute",Un._attribute).getRegex(),Un._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Un._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Un._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Un.link=fi(Un.link).replace("label",Un._label).replace("href",Un._href).replace("title",Un._title).getRegex(),Un.reflink=fi(Un.reflink).replace("label",Un._label).getRegex(),Un.reflinkSearch=fi(Un.reflinkSearch,"g").replace("reflink",Un.reflink).replace("nolink",Un.nolink).getRegex(),Un.normal=ri({},Un),Un.pedantic=ri({},Un.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:fi(/^!?\[(label)\]\((.*?)\)/).replace("label",Un._label).getRegex(),reflink:fi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Un._label).getRegex()}),Un.gfm=ri({},Un.normal,{escape:fi(Un.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Un.gfm.url=fi(Un.gfm.url,"i").replace("email",Un.gfm._extended_email).getRegex(),Un.breaks=ri({},Un.gfm,{br:fi(Un.br).replace("{2,}","*").getRegex(),text:fi(Un.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var _i={block:zn,inline:Un},mi=Fi,ji=we.exports.defaults,er=_i.block,fr=_i.inline,Ji=Yt_repeatString;function Or(it){return it.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Qn(it){var dt,We,Ct="",pt=it.length;for(dt=0;dt<pt;dt++)We=it.charCodeAt(dt),Math.random()>.5&&(We="x"+We.toString(16)),Ct+="&#"+We+";";return Ct}var Yi=function(){function it(dt){this.tokens=[],this.tokens.links=Object.create(null),this.options=dt||ji,this.options.tokenizer=this.options.tokenizer||new mi,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var We={block:er.normal,inline:fr.normal};this.options.pedantic?(We.block=er.pedantic,We.inline=fr.pedantic):this.options.gfm&&(We.block=er.gfm,We.inline=this.options.breaks?fr.breaks:fr.gfm),this.tokenizer.rules=We}it.lex=function(We,pt){return new it(pt).lex(We)},it.lexInline=function(We,pt){return new it(pt).inlineTokens(We)};var Ct=it.prototype;return Ct.lex=function(We){return We=We.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(We,this.tokens,!0),this.inline(this.tokens),this.tokens},Ct.blockTokens=function(We,pt,Ut){var Ge,yt,Bt,Cn,wn,ei,st=this;for(void 0===pt&&(pt=[]),void 0===Ut&&(Ut=!0),this.options.pedantic&&(We=We.replace(/^ +$/gm,""));We;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(wi){return!!(Ge=wi.call(st,We,pt))&&(We=We.substring(Ge.raw.length),pt.push(Ge),!0)}))){if(Ge=this.tokenizer.space(We)){We=We.substring(Ge.raw.length),Ge.type&&pt.push(Ge);continue}if(Ge=this.tokenizer.code(We)){We=We.substring(Ge.raw.length),(Cn=pt[pt.length-1])&&"paragraph"===Cn.type?(Cn.raw+="\n"+Ge.raw,Cn.text+="\n"+Ge.text):pt.push(Ge);continue}if(Ge=this.tokenizer.fences(We)){We=We.substring(Ge.raw.length),pt.push(Ge);continue}if(Ge=this.tokenizer.heading(We)){We=We.substring(Ge.raw.length),pt.push(Ge);continue}if(Ge=this.tokenizer.nptable(We)){We=We.substring(Ge.raw.length),pt.push(Ge);continue}if(Ge=this.tokenizer.hr(We)){We=We.substring(Ge.raw.length),pt.push(Ge);continue}if(Ge=this.tokenizer.blockquote(We)){We=We.substring(Ge.raw.length),Ge.tokens=this.blockTokens(Ge.text,[],Ut),pt.push(Ge);continue}if(Ge=this.tokenizer.list(We)){for(We=We.substring(Ge.raw.length),Bt=Ge.items.length,yt=0;yt<Bt;yt++)Ge.items[yt].tokens=this.blockTokens(Ge.items[yt].text,[],!1);pt.push(Ge);continue}if(Ge=this.tokenizer.html(We)){We=We.substring(Ge.raw.length),pt.push(Ge);continue}if(Ut&&(Ge=this.tokenizer.def(We))){We=We.substring(Ge.raw.length),this.tokens.links[Ge.tag]||(this.tokens.links[Ge.tag]={href:Ge.href,title:Ge.title});continue}if(Ge=this.tokenizer.table(We)){We=We.substring(Ge.raw.length),pt.push(Ge);continue}if(Ge=this.tokenizer.lheading(We)){We=We.substring(Ge.raw.length),pt.push(Ge);continue}if(wn=We,this.options.extensions&&this.options.extensions.startBlock&&function(){var wi=1/0,Si=We.slice(1),si=void 0;st.options.extensions.startBlock.forEach(function(Ri){"number"==typeof(si=Ri.call(this,Si))&&si>=0&&(wi=Math.min(wi,si))}),wi<1/0&&wi>=0&&(wn=We.substring(0,wi+1))}(),Ut&&(Ge=this.tokenizer.paragraph(wn))){Cn=pt[pt.length-1],ei&&"paragraph"===Cn.type?(Cn.raw+="\n"+Ge.raw,Cn.text+="\n"+Ge.text):pt.push(Ge),ei=wn.length!==We.length,We=We.substring(Ge.raw.length);continue}if(Ge=this.tokenizer.text(We)){We=We.substring(Ge.raw.length),(Cn=pt[pt.length-1])&&"text"===Cn.type?(Cn.raw+="\n"+Ge.raw,Cn.text+="\n"+Ge.text):pt.push(Ge);continue}if(We){var Pi="Infinite loop on byte: "+We.charCodeAt(0);if(this.options.silent){console.error(Pi);break}throw new Error(Pi)}}return pt},Ct.inline=function(We){var pt,Ut,st,Ge,yt,Bt,Cn=We.length;for(pt=0;pt<Cn;pt++)switch(Bt=We[pt],Bt.type){case"paragraph":case"text":case"heading":Bt.tokens=[],this.inlineTokens(Bt.text,Bt.tokens);break;case"table":for(Bt.tokens={header:[],cells:[]},Ge=Bt.header.length,Ut=0;Ut<Ge;Ut++)Bt.tokens.header[Ut]=[],this.inlineTokens(Bt.header[Ut],Bt.tokens.header[Ut]);for(Ge=Bt.cells.length,Ut=0;Ut<Ge;Ut++)for(yt=Bt.cells[Ut],Bt.tokens.cells[Ut]=[],st=0;st<yt.length;st++)Bt.tokens.cells[Ut][st]=[],this.inlineTokens(yt[st],Bt.tokens.cells[Ut][st]);break;case"blockquote":this.inline(Bt.tokens);break;case"list":for(Ge=Bt.items.length,Ut=0;Ut<Ge;Ut++)this.inline(Bt.items[Ut].tokens)}return We},Ct.inlineTokens=function(We,pt,Ut,st){var Ge=this;void 0===pt&&(pt=[]),void 0===Ut&&(Ut=!1),void 0===st&&(st=!1);var yt,Bt,Cn,ei,Pi,wi,wn=We;if(this.tokens.links){var Si=Object.keys(this.tokens.links);if(Si.length>0)for(;null!=(ei=this.tokenizer.rules.inline.reflinkSearch.exec(wn));)Si.includes(ei[0].slice(ei[0].lastIndexOf("[")+1,-1))&&(wn=wn.slice(0,ei.index)+"["+Ji("a",ei[0].length-2)+"]"+wn.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(ei=this.tokenizer.rules.inline.blockSkip.exec(wn));)wn=wn.slice(0,ei.index)+"["+Ji("a",ei[0].length-2)+"]"+wn.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(ei=this.tokenizer.rules.inline.escapedEmSt.exec(wn));)wn=wn.slice(0,ei.index)+"++"+wn.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;We;)if(Pi||(wi=""),Pi=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Ri){return!!(yt=Ri.call(Ge,We,pt))&&(We=We.substring(yt.raw.length),pt.push(yt),!0)}))){if(yt=this.tokenizer.escape(We)){We=We.substring(yt.raw.length),pt.push(yt);continue}if(yt=this.tokenizer.tag(We,Ut,st)){We=We.substring(yt.raw.length),Ut=yt.inLink,st=yt.inRawBlock,(Bt=pt[pt.length-1])&&"text"===yt.type&&"text"===Bt.type?(Bt.raw+=yt.raw,Bt.text+=yt.text):pt.push(yt);continue}if(yt=this.tokenizer.link(We)){We=We.substring(yt.raw.length),"link"===yt.type&&(yt.tokens=this.inlineTokens(yt.text,[],!0,st)),pt.push(yt);continue}if(yt=this.tokenizer.reflink(We,this.tokens.links)){We=We.substring(yt.raw.length),Bt=pt[pt.length-1],"link"===yt.type?(yt.tokens=this.inlineTokens(yt.text,[],!0,st),pt.push(yt)):Bt&&"text"===yt.type&&"text"===Bt.type?(Bt.raw+=yt.raw,Bt.text+=yt.text):pt.push(yt);continue}if(yt=this.tokenizer.emStrong(We,wn,wi)){We=We.substring(yt.raw.length),yt.tokens=this.inlineTokens(yt.text,[],Ut,st),pt.push(yt);continue}if(yt=this.tokenizer.codespan(We)){We=We.substring(yt.raw.length),pt.push(yt);continue}if(yt=this.tokenizer.br(We)){We=We.substring(yt.raw.length),pt.push(yt);continue}if(yt=this.tokenizer.del(We)){We=We.substring(yt.raw.length),yt.tokens=this.inlineTokens(yt.text,[],Ut,st),pt.push(yt);continue}if(yt=this.tokenizer.autolink(We,Qn)){We=We.substring(yt.raw.length),pt.push(yt);continue}if(!Ut&&(yt=this.tokenizer.url(We,Qn))){We=We.substring(yt.raw.length),pt.push(yt);continue}if(Cn=We,this.options.extensions&&this.options.extensions.startInline&&function(){var Ri=1/0,tr=We.slice(1),rr=void 0;Ge.options.extensions.startInline.forEach(function(Vi){"number"==typeof(rr=Vi.call(this,tr))&&rr>=0&&(Ri=Math.min(Ri,rr))}),Ri<1/0&&Ri>=0&&(Cn=We.substring(0,Ri+1))}(),yt=this.tokenizer.inlineText(Cn,st,Or)){We=We.substring(yt.raw.length),"_"!==yt.raw.slice(-1)&&(wi=yt.raw.slice(-1)),Pi=!0,(Bt=pt[pt.length-1])&&"text"===Bt.type?(Bt.raw+=yt.raw,Bt.text+=yt.text):pt.push(yt);continue}if(We){var si="Infinite loop on byte: "+We.charCodeAt(0);if(this.options.silent){console.error(si);break}throw new Error(si)}}return pt},function(it,Ct,dt){Ct&&Ze(it.prototype,Ct),dt&&Ze(it,dt)}(it,null,[{key:"rules",get:function(){return{block:er,inline:fr}}}]),it}(),yr=we.exports.defaults,pr=Yt_cleanUrl,bn=Yt_escape,jt=function(){function it(dt){this.options=dt||yr}var Ct=it.prototype;return Ct.code=function(We,pt,Ut){var st=(pt||"").match(/\S*/)[0];if(this.options.highlight){var Ge=this.options.highlight(We,st);null!=Ge&&Ge!==We&&(Ut=!0,We=Ge)}return We=We.replace(/\n$/,"")+"\n",st?'<pre><code class="'+this.options.langPrefix+bn(st,!0)+'">'+(Ut?We:bn(We,!0))+"</code></pre>\n":"<pre><code>"+(Ut?We:bn(We,!0))+"</code></pre>\n"},Ct.blockquote=function(We){return"<blockquote>\n"+We+"</blockquote>\n"},Ct.html=function(We){return We},Ct.heading=function(We,pt,Ut,st){return this.options.headerIds?"<h"+pt+' id="'+this.options.headerPrefix+st.slug(Ut)+'">'+We+"</h"+pt+">\n":"<h"+pt+">"+We+"</h"+pt+">\n"},Ct.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Ct.list=function(We,pt,Ut){var st=pt?"ol":"ul";return"<"+st+(pt&&1!==Ut?' start="'+Ut+'"':"")+">\n"+We+"</"+st+">\n"},Ct.listitem=function(We){return"<li>"+We+"</li>\n"},Ct.checkbox=function(We){return"<input "+(We?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Ct.paragraph=function(We){return"<p>"+We+"</p>\n"},Ct.table=function(We,pt){return pt&&(pt="<tbody>"+pt+"</tbody>"),"<table>\n<thead>\n"+We+"</thead>\n"+pt+"</table>\n"},Ct.tablerow=function(We){return"<tr>\n"+We+"</tr>\n"},Ct.tablecell=function(We,pt){var Ut=pt.header?"th":"td";return(pt.align?"<"+Ut+' align="'+pt.align+'">':"<"+Ut+">")+We+"</"+Ut+">\n"},Ct.strong=function(We){return"<strong>"+We+"</strong>"},Ct.em=function(We){return"<em>"+We+"</em>"},Ct.codespan=function(We){return"<code>"+We+"</code>"},Ct.br=function(){return this.options.xhtml?"<br/>":"<br>"},Ct.del=function(We){return"<del>"+We+"</del>"},Ct.link=function(We,pt,Ut){if(null===(We=pr(this.options.sanitize,this.options.baseUrl,We)))return Ut;var st='<a href="'+bn(We)+'"';return pt&&(st+=' title="'+pt+'"'),st+">"+Ut+"</a>"},Ct.image=function(We,pt,Ut){if(null===(We=pr(this.options.sanitize,this.options.baseUrl,We)))return Ut;var st='<img src="'+We+'" alt="'+Ut+'"';return pt&&(st+=' title="'+pt+'"'),st+(this.options.xhtml?"/>":">")},Ct.text=function(We){return We},it}(),tn=function(){function it(){}var Ct=it.prototype;return Ct.strong=function(We){return We},Ct.em=function(We){return We},Ct.codespan=function(We){return We},Ct.del=function(We){return We},Ct.html=function(We){return We},Ct.text=function(We){return We},Ct.link=function(We,pt,Ut){return""+Ut},Ct.image=function(We,pt,Ut){return""+Ut},Ct.br=function(){return""},it}(),jn=function(){function it(){this.seen={}}var Ct=it.prototype;return Ct.serialize=function(We){return We.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Ct.getNextSafeSlug=function(We,pt){var Ut=We,st=0;if(this.seen.hasOwnProperty(Ut)){st=this.seen[We];do{Ut=We+"-"+ ++st}while(this.seen.hasOwnProperty(Ut))}return pt||(this.seen[We]=st,this.seen[Ut]=0),Ut},Ct.slug=function(We,pt){void 0===pt&&(pt={});var Ut=this.serialize(We);return this.getNextSafeSlug(Ut,pt.dryrun)},it}(),Ve=jt,It=tn,vt=jn,mn=we.exports.defaults,Rn=Yt_unescape,Pn=Yi,En=function(){function it(dt){this.options=dt||mn,this.options.renderer=this.options.renderer||new Ve,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new It,this.slugger=new vt}it.parse=function(We,pt){return new it(pt).parse(We)},it.parseInline=function(We,pt){return new it(pt).parseInline(We)};var Ct=it.prototype;return Ct.parse=function(We,pt){void 0===pt&&(pt=!0);var st,Ge,yt,Bt,Cn,wn,ei,Pi,wi,Si,si,Ri,tr,rr,Vi,lr,Yr,Ur,ao,Ut="",ct=We.length;for(st=0;st<ct;st++)if(Si=We[st],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Si.type]&&(!1!==(ao=this.options.extensions.renderers[Si.type].call(this,Si))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Si.type)))Ut+=ao||"";else switch(Si.type){case"space":continue;case"hr":Ut+=this.renderer.hr();continue;case"heading":Ut+=this.renderer.heading(this.parseInline(Si.tokens),Si.depth,Rn(this.parseInline(Si.tokens,this.textRenderer)),this.slugger);continue;case"code":Ut+=this.renderer.code(Si.text,Si.lang,Si.escaped);continue;case"table":for(Pi="",ei="",Bt=Si.header.length,Ge=0;Ge<Bt;Ge++)ei+=this.renderer.tablecell(this.parseInline(Si.tokens.header[Ge]),{header:!0,align:Si.align[Ge]});for(Pi+=this.renderer.tablerow(ei),wi="",Bt=Si.cells.length,Ge=0;Ge<Bt;Ge++){for(ei="",Cn=(wn=Si.tokens.cells[Ge]).length,yt=0;yt<Cn;yt++)ei+=this.renderer.tablecell(this.parseInline(wn[yt]),{header:!1,align:Si.align[yt]});wi+=this.renderer.tablerow(ei)}Ut+=this.renderer.table(Pi,wi);continue;case"blockquote":wi=this.parse(Si.tokens),Ut+=this.renderer.blockquote(wi);continue;case"list":for(si=Si.ordered,Ri=Si.start,tr=Si.loose,Bt=Si.items.length,wi="",Ge=0;Ge<Bt;Ge++)lr=(Vi=Si.items[Ge]).checked,Yr=Vi.task,rr="",Vi.task&&(Ur=this.renderer.checkbox(lr),tr?Vi.tokens.length>0&&"text"===Vi.tokens[0].type?(Vi.tokens[0].text=Ur+" "+Vi.tokens[0].text,Vi.tokens[0].tokens&&Vi.tokens[0].tokens.length>0&&"text"===Vi.tokens[0].tokens[0].type&&(Vi.tokens[0].tokens[0].text=Ur+" "+Vi.tokens[0].tokens[0].text)):Vi.tokens.unshift({type:"text",text:Ur}):rr+=Ur),rr+=this.parse(Vi.tokens,tr),wi+=this.renderer.listitem(rr,Yr,lr);Ut+=this.renderer.list(wi,si,Ri);continue;case"html":Ut+=this.renderer.html(Si.text);continue;case"paragraph":Ut+=this.renderer.paragraph(this.parseInline(Si.tokens));continue;case"text":for(wi=Si.tokens?this.parseInline(Si.tokens):Si.text;st+1<ct&&"text"===We[st+1].type;)wi+="\n"+((Si=We[++st]).tokens?this.parseInline(Si.tokens):Si.text);Ut+=pt?this.renderer.paragraph(wi):wi;continue;default:var lt='Token with "'+Si.type+'" type was not found.';if(this.options.silent)return void console.error(lt);throw new Error(lt)}return Ut},Ct.parseInline=function(We,pt){pt=pt||this.renderer;var st,Ge,yt,Ut="",Bt=We.length;for(st=0;st<Bt;st++)if(Ge=We[st],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ge.type]&&(!1!==(yt=this.options.extensions.renderers[Ge.type].call(this,Ge))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Ge.type)))Ut+=yt||"";else switch(Ge.type){case"escape":Ut+=pt.text(Ge.text);break;case"html":Ut+=pt.html(Ge.text);break;case"link":Ut+=pt.link(Ge.href,Ge.title,this.parseInline(Ge.tokens,pt));break;case"image":Ut+=pt.image(Ge.href,Ge.title,Ge.text);break;case"strong":Ut+=pt.strong(this.parseInline(Ge.tokens,pt));break;case"em":Ut+=pt.em(this.parseInline(Ge.tokens,pt));break;case"codespan":Ut+=pt.codespan(Ge.text);break;case"br":Ut+=pt.br();break;case"del":Ut+=pt.del(this.parseInline(Ge.tokens,pt));break;case"text":Ut+=pt.text(Ge.text);break;default:var Cn='Token with "'+Ge.type+'" type was not found.';if(this.options.silent)return void console.error(Cn);throw new Error(Cn)}return Ut},it}(),Jn=Fi,Yn=jt,ii=tn,Rt=jn,ut=Yt_merge,$t=Yt_checkSanitizeDeprecation,zt=Yt_escape,Gt=we.exports.getDefaults,Tn=we.exports.changeDefaults,ti=we.exports.defaults;function Fn(it,Ct,dt){if(null==it)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof it)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(it)+", string expected");if("function"==typeof Ct&&(dt=Ct,Ct=null),Ct=ut({},Fn.defaults,Ct||{}),$t(Ct),dt){var pt,We=Ct.highlight;try{pt=Pn.lex(it,Ct)}catch(yt){return dt(yt)}var Ut=function(Bt){var Cn;if(!Bt)try{Ct.walkTokens&&Fn.walkTokens(pt,Ct.walkTokens),Cn=En.parse(pt,Ct)}catch(wn){Bt=wn}return Ct.highlight=We,Bt?dt(Bt):dt(null,Cn)};if(!We||We.length<3||(delete Ct.highlight,!pt.length))return Ut();var st=0;return Fn.walkTokens(pt,function(yt){"code"===yt.type&&(st++,setTimeout(function(){We(yt.text,yt.lang,function(Bt,Cn){if(Bt)return Ut(Bt);null!=Cn&&Cn!==yt.text&&(yt.text=Cn,yt.escaped=!0),0==--st&&Ut()})},0))}),void(0===st&&Ut())}try{var Ge=Pn.lex(it,Ct);return Ct.walkTokens&&Fn.walkTokens(Ge,Ct.walkTokens),En.parse(Ge,Ct)}catch(yt){if(yt.message+="\nPlease report this to https://github.com/markedjs/marked.",Ct.silent)return"<p>An error occurred:</p><pre>"+zt(yt.message+"",!0)+"</pre>";throw yt}}return Fn.options=Fn.setOptions=function(it){return ut(Fn.defaults,it),Tn(Fn.defaults),Fn},Fn.getDefaults=Gt,Fn.defaults=ti,Fn.use=function(){for(var it=this,Ct=arguments.length,dt=new Array(Ct),We=0;We<Ct;We++)dt[We]=arguments[We];var st,pt=ut.apply(void 0,[{}].concat(dt)),Ut=Fn.defaults.extensions||{renderers:{},childTokens:{}};dt.forEach(function(Ge){if(Ge.extensions&&(st=!0,Ge.extensions.forEach(function(Bt){if(!Bt.name)throw new Error("extension name required");if(Bt.renderer){var Cn=Ut.renderers?Ut.renderers[Bt.name]:null;Ut.renderers[Bt.name]=Cn?function(){for(var wn=arguments.length,ei=new Array(wn),Pi=0;Pi<wn;Pi++)ei[Pi]=arguments[Pi];var wi=Bt.renderer.apply(this,ei);return!1===wi&&(wi=Cn.apply(this,ei)),wi}:Bt.renderer}if(Bt.tokenizer){if(!Bt.level||"block"!==Bt.level&&"inline"!==Bt.level)throw new Error("extension level must be 'block' or 'inline'");Ut[Bt.level]?Ut[Bt.level].unshift(Bt.tokenizer):Ut[Bt.level]=[Bt.tokenizer],Bt.start&&("block"===Bt.level?Ut.startBlock?Ut.startBlock.push(Bt.start):Ut.startBlock=[Bt.start]:"inline"===Bt.level&&(Ut.startInline?Ut.startInline.push(Bt.start):Ut.startInline=[Bt.start]))}Bt.childTokens&&(Ut.childTokens[Bt.name]=Bt.childTokens)})),Ge.renderer&&function(){var Bt=Fn.defaults.renderer||new Yn,Cn=function(Pi){var wi=Bt[Pi];Bt[Pi]=function(){for(var Si=arguments.length,si=new Array(Si),Ri=0;Ri<Si;Ri++)si[Ri]=arguments[Ri];var tr=Ge.renderer[Pi].apply(Bt,si);return!1===tr&&(tr=wi.apply(Bt,si)),tr}};for(var wn in Ge.renderer)Cn(wn);pt.renderer=Bt}(),Ge.tokenizer&&function(){var Bt=Fn.defaults.tokenizer||new Jn,Cn=function(Pi){var wi=Bt[Pi];Bt[Pi]=function(){for(var Si=arguments.length,si=new Array(Si),Ri=0;Ri<Si;Ri++)si[Ri]=arguments[Ri];var tr=Ge.tokenizer[Pi].apply(Bt,si);return!1===tr&&(tr=wi.apply(Bt,si)),tr}};for(var wn in Ge.tokenizer)Cn(wn);pt.tokenizer=Bt}(),Ge.walkTokens){var yt=Fn.defaults.walkTokens;pt.walkTokens=function(Bt){Ge.walkTokens.call(it,Bt),yt&&yt(Bt)}}st&&(pt.extensions=Ut),Fn.setOptions(pt)})},Fn.walkTokens=function(it,Ct){for(var pt,dt=function(){var st=pt.value;switch(Ct(st),st.type){case"table":for(var yt,Ge=Oe(st.tokens.header);!(yt=Ge()).done;)Fn.walkTokens(yt.value,Ct);for(var wn,Cn=Oe(st.tokens.cells);!(wn=Cn()).done;)for(var wi,Pi=Oe(wn.value);!(wi=Pi()).done;)Fn.walkTokens(wi.value,Ct);break;case"list":Fn.walkTokens(st.items,Ct);break;default:Fn.defaults.extensions&&Fn.defaults.extensions.childTokens&&Fn.defaults.extensions.childTokens[st.type]?Fn.defaults.extensions.childTokens[st.type].forEach(function(si){Fn.walkTokens(st[si],Ct)}):st.tokens&&Fn.walkTokens(st.tokens,Ct)}},We=Oe(it);!(pt=We()).done;)dt()},Fn.parseInline=function(it,Ct){if(null==it)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof it)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(it)+", string expected");Ct=ut({},Fn.defaults,Ct||{}),$t(Ct);try{var dt=Pn.lexInline(it,Ct);return Ct.walkTokens&&Fn.walkTokens(dt,Ct.walkTokens),En.parseInline(dt,Ct)}catch(We){if(We.message+="\nPlease report this to https://github.com/markedjs/marked.",Ct.silent)return"<p>An error occurred:</p><pre>"+zt(We.message+"",!0)+"</pre>";throw We}},Fn.Parser=En,Fn.parser=En.parse,Fn.Renderer=Yn,Fn.TextRenderer=ii,Fn.Lexer=Pn,Fn.lexer=Pn.lex,Fn.Tokenizer=Jn,Fn.Slugger=Rt,Fn.parse=Fn,Fn}()},3866:()=>{!function(Se){var Ze="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",X={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},n={bash:X,environment:{pattern:RegExp("\\$"+Ze),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+Ze),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};Se.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+Ze),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:n},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:X}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:n},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:n.entity}}],environment:{pattern:RegExp("\\$?"+Ze),alias:"constant"},variable:n.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},X.inside=Se.languages.bash;for(var te=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],Oe=n.variable[1].inside,we=0;we<te.length;we++)Oe[te[we]]=Se.languages.bash[te[we]];Se.languages.shell=Se.languages.bash}(Prism)},3150:()=>{!function(Se){var Ze=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Se.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Ze.source+"|(?:[^\\\\\r\n()\"']|\\\\[^])*)\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Ze.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+Ze.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:Ze,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Se.languages.css.atrule.inside.rest=Se.languages.css;var X=Se.languages.markup;X&&(X.tag.addInlined("style","css"),X.tag.addAttribute("style","css"))}(Prism)},8778:()=>{Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute("on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)","javascript")),Prism.languages.js=Prism.languages.javascript},8954:()=>{Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json},2917:()=>{!function(Se){function Ze(Ue){return Ue=Ue.replace(/<inner>/g,function(){return"(?:\\\\.|[^\\\\\n\r]|(?:\n|\r\n?)(?![\r\n]))"}),RegExp("((?:^|[^\\\\])(?:\\\\{2})*)(?:"+Ue+")")}var X="(?:\\\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\\\|\r\n`])+",n="\\|?__(?:\\|__)+\\|?(?:(?:\n|\r\n?)|(?![^]))".replace(/__/g,function(){return X}),te="\\|?[ \t]*:?-{3,}:?[ \t]*(?:\\|[ \t]*:?-{3,}:?[ \t]*)+\\|?(?:\n|\r\n?)";Se.languages.markdown=Se.languages.extend("markup",{}),Se.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"font-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:Se.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+n+te+"(?:"+n+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+n+te+")(?:"+n+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(X),inside:Se.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+n+")"+te+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+n+"$"),inside:{"table-header":{pattern:RegExp(X),alias:"important",inside:Se.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:Ze("\\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\\b|\\*\\*(?:(?!\\*)<inner>|\\*(?:(?!\\*)<inner>)+\\*)+\\*\\*"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:Ze("\\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\\b|\\*(?:(?!\\*)<inner>|\\*\\*(?:(?!\\*)<inner>)+\\*\\*)+\\*"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:Ze("(~~?)(?:(?!~)<inner>)+\\2"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:Ze('!?\\[(?:(?!\\])<inner>)+\\](?:\\([^\\s)]+(?:[\t ]+"(?:\\\\.|[^"\\\\])*")?\\)|[ \t]?\\[(?:(?!\\])<inner>)+\\])'),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(Ue){["url","bold","italic","strike","code-snippet"].forEach(function(He){Ue!==He&&(Se.languages.markdown[Ue].inside.content.inside[He]=Se.languages.markdown[He])})}),Se.hooks.add("after-tokenize",function(Ue){"markdown"!==Ue.language&&"md"!==Ue.language||function He(Ne){if(Ne&&"string"!=typeof Ne)for(var nt=0,Be=Ne.length;nt<Be;nt++){var qe=Ne[nt];if("code"===qe.type){var $e=qe.content[1],Qe=qe.content[3];if($e&&Qe&&"code-language"===$e.type&&"code-block"===Qe.type&&"string"==typeof $e.content){var Ot=$e.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),Zt="language-"+(Ot=(/[a-z][\w-]*/i.exec(Ot)||[""])[0].toLowerCase());Qe.alias?"string"==typeof Qe.alias?Qe.alias=[Qe.alias,Zt]:Qe.alias.push(Zt):Qe.alias=[Zt]}}else He(qe.content)}}(Ue.tokens)}),Se.hooks.add("wrap",function(Ue){if("code-block"===Ue.type){for(var He="",Ne=0,nt=Ue.classes.length;Ne<nt;Ne++){var qe=/language-(.+)/.exec(Ue.classes[Ne]);if(qe){He=qe[1];break}}var $e=Se.languages[He];if($e)Ue.content=Se.highlight(Ue.content.replace(Oe,"").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(_t,Ae){var Mt;return"#"===(Ae=Ae.toLowerCase())[0]?(Mt="x"===Ae[1]?parseInt(Ae.slice(2),16):Number(Ae.slice(1)),Fe(Mt)):we[Ae]||_t}),$e,He);else if(He&&"none"!==He&&Se.plugins.autoloader){var Qe="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());Ue.attributes.id=Qe,Se.plugins.autoloader.loadLanguages(He,function(){var Ot=document.getElementById(Qe);Ot&&(Ot.innerHTML=Se.highlight(Ot.textContent,Se.languages[He],He))})}}});var Oe=RegExp(Se.languages.markup.tag.pattern.source,"gi"),we={amp:"&",lt:"<",gt:">",quot:'"'},Fe=String.fromCodePoint||String.fromCharCode;Se.languages.md=Se.languages.markdown}(Prism)},202:()=>{Prism.languages.scss=Prism.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/m,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),Prism.languages.insertBefore("scss","atrule",{keyword:[/@(?:if|else(?: if)?|forward|for|each|while|import|use|extend|debug|warn|mixin|include|function|return|content)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),Prism.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),Prism.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|with|show|hide)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|or|not)(?=\s)/,lookbehind:!0}}),Prism.languages.scss.atrule.inside.rest=Prism.languages.scss},4387:()=>{!function(Se){Se.languages.typescript=Se.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),Se.languages.typescript.keyword.push(/\b(?:abstract|as|declare|implements|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)(?!\s*[^\s_${}*a-zA-Z\xA0-\uFFFF])/),delete Se.languages.typescript.parameter;var Ze=Se.languages.extend("typescript",{});delete Ze["class-name"],Se.languages.typescript["class-name"].inside=Ze,Se.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Ze}}}}),Se.languages.ts=Se.languages.typescript}(Prism)},4278:Se=>{var X=function(n){var te=/\blang(?:uage)?-([\w-]+)\b/i,Oe=0,we={},Fe={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function _t(Ae){return Ae instanceof Ue?new Ue(Ae.type,_t(Ae.content),Ae.alias):Array.isArray(Ae)?Ae.map(_t):Ae.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(_t){return Object.prototype.toString.call(_t).slice(8,-1)},objId:function(_t){return _t.__id||Object.defineProperty(_t,"__id",{value:++Oe}),_t.__id},clone:function _t(Ae,Mt){var ce,ve;switch(Mt=Mt||{},Fe.util.type(Ae)){case"Object":if(ve=Fe.util.objId(Ae),Mt[ve])return Mt[ve];for(var Me in Mt[ve]=ce={},Ae)Ae.hasOwnProperty(Me)&&(ce[Me]=_t(Ae[Me],Mt));return ce;case"Array":return ve=Fe.util.objId(Ae),Mt[ve]?Mt[ve]:(Mt[ve]=ce=[],Ae.forEach(function(tt,bt){ce[bt]=_t(tt,Mt)}),ce);default:return Ae}},getLanguage:function(_t){for(;_t&&!te.test(_t.className);)_t=_t.parentElement;return _t?(_t.className.match(te)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(ce){var _t=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(ce.stack)||[])[1];if(_t){var Ae=document.getElementsByTagName("script");for(var Mt in Ae)if(Ae[Mt].src==_t)return Ae[Mt]}return null}},isActive:function(_t,Ae,Mt){for(var ce="no-"+Ae;_t;){var ve=_t.classList;if(ve.contains(Ae))return!0;if(ve.contains(ce))return!1;_t=_t.parentElement}return!!Mt}},languages:{plain:we,plaintext:we,text:we,txt:we,extend:function(_t,Ae){var Mt=Fe.util.clone(Fe.languages[_t]);for(var ce in Ae)Mt[ce]=Ae[ce];return Mt},insertBefore:function(_t,Ae,Mt,ce){var ve=(ce=ce||Fe.languages)[_t],Me={};for(var tt in ve)if(ve.hasOwnProperty(tt)){if(tt==Ae)for(var bt in Mt)Mt.hasOwnProperty(bt)&&(Me[bt]=Mt[bt]);Mt.hasOwnProperty(tt)||(Me[tt]=ve[tt])}var Dt=ce[_t];return ce[_t]=Me,Fe.languages.DFS(Fe.languages,function(cn,gt){gt===Dt&&cn!=_t&&(this[cn]=Me)}),Me},DFS:function _t(Ae,Mt,ce,ve){ve=ve||{};var Me=Fe.util.objId;for(var tt in Ae)if(Ae.hasOwnProperty(tt)){Mt.call(Ae,tt,Ae[tt],ce||tt);var bt=Ae[tt],Dt=Fe.util.type(bt);"Object"!==Dt||ve[Me(bt)]?"Array"===Dt&&!ve[Me(bt)]&&(ve[Me(bt)]=!0,_t(bt,Mt,tt,ve)):(ve[Me(bt)]=!0,_t(bt,Mt,null,ve))}}},plugins:{},highlightAll:function(_t,Ae){Fe.highlightAllUnder(document,_t,Ae)},highlightAllUnder:function(_t,Ae,Mt){var ce={callback:Mt,container:_t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Fe.hooks.run("before-highlightall",ce),ce.elements=Array.prototype.slice.apply(ce.container.querySelectorAll(ce.selector)),Fe.hooks.run("before-all-elements-highlight",ce);for(var Me,ve=0;Me=ce.elements[ve++];)Fe.highlightElement(Me,!0===Ae,ce.callback)},highlightElement:function(_t,Ae,Mt){var ce=Fe.util.getLanguage(_t),ve=Fe.languages[ce];_t.className=_t.className.replace(te,"").replace(/\s+/g," ")+" language-"+ce;var Me=_t.parentElement;Me&&"pre"===Me.nodeName.toLowerCase()&&(Me.className=Me.className.replace(te,"").replace(/\s+/g," ")+" language-"+ce);var bt={element:_t,language:ce,grammar:ve,code:_t.textContent};function Dt(gt){bt.highlightedCode=gt,Fe.hooks.run("before-insert",bt),bt.element.innerHTML=bt.highlightedCode,Fe.hooks.run("after-highlight",bt),Fe.hooks.run("complete",bt),Mt&&Mt.call(bt.element)}if(Fe.hooks.run("before-sanity-check",bt),(Me=bt.element.parentElement)&&"pre"===Me.nodeName.toLowerCase()&&!Me.hasAttribute("tabindex")&&Me.setAttribute("tabindex","0"),!bt.code)return Fe.hooks.run("complete",bt),void(Mt&&Mt.call(bt.element));if(Fe.hooks.run("before-highlight",bt),bt.grammar)if(Ae&&n.Worker){var cn=new Worker(Fe.filename);cn.onmessage=function(gt){Dt(gt.data)},cn.postMessage(JSON.stringify({language:bt.language,code:bt.code,immediateClose:!0}))}else Dt(Fe.highlight(bt.code,bt.grammar,bt.language));else Dt(Fe.util.encode(bt.code))},highlight:function(_t,Ae,Mt){var ce={code:_t,grammar:Ae,language:Mt};return Fe.hooks.run("before-tokenize",ce),ce.tokens=Fe.tokenize(ce.code,ce.grammar),Fe.hooks.run("after-tokenize",ce),Ue.stringify(Fe.util.encode(ce.tokens),ce.language)},tokenize:function(_t,Ae){var Mt=Ae.rest;if(Mt){for(var ce in Mt)Ae[ce]=Mt[ce];delete Ae.rest}var ve=new nt;return Be(ve,ve.head,_t),Ne(_t,ve,Ae,ve.head,0),function(_t){for(var Ae=[],Mt=_t.head.next;Mt!==_t.tail;)Ae.push(Mt.value),Mt=Mt.next;return Ae}(ve)},hooks:{all:{},add:function(_t,Ae){var Mt=Fe.hooks.all;Mt[_t]=Mt[_t]||[],Mt[_t].push(Ae)},run:function(_t,Ae){var Mt=Fe.hooks.all[_t];if(Mt&&Mt.length)for(var ve,ce=0;ve=Mt[ce++];)ve(Ae)}},Token:Ue};function Ue(_t,Ae,Mt,ce){this.type=_t,this.content=Ae,this.alias=Mt,this.length=0|(ce||"").length}function He(_t,Ae,Mt,ce){_t.lastIndex=Ae;var ve=_t.exec(Mt);if(ve&&ce&&ve[1]){var Me=ve[1].length;ve.index+=Me,ve[0]=ve[0].slice(Me)}return ve}function Ne(_t,Ae,Mt,ce,ve,Me){for(var tt in Mt)if(Mt.hasOwnProperty(tt)&&Mt[tt]){var bt=Mt[tt];bt=Array.isArray(bt)?bt:[bt];for(var Dt=0;Dt<bt.length;++Dt){if(Me&&Me.cause==tt+","+Dt)return;var cn=bt[Dt],gt=cn.inside,Ht=!!cn.lookbehind,Lt=!!cn.greedy,on=cn.alias;if(Lt&&!cn.pattern.global){var sn=cn.pattern.toString().match(/[imsuy]*$/)[0];cn.pattern=RegExp(cn.pattern.source,sn+"g")}for(var pn=cn.pattern||cn,wt=ce.next,Yt=ve;wt!==Ae.tail&&!(Me&&Yt>=Me.reach);Yt+=wt.value.length,wt=wt.next){var gn=wt.value;if(Ae.length>_t.length)return;if(!(gn instanceof Ue)){var Zn,kn=1;if(Lt){if(!(Zn=He(pn,Yt,_t,Ht)))break;var pi=Zn.index,In=Zn.index+Zn[0].length,Hn=Yt;for(Hn+=wt.value.length;pi>=Hn;)Hn+=(wt=wt.next).value.length;if(Yt=Hn-=wt.value.length,wt.value instanceof Ue)continue;for(var ni=wt;ni!==Ae.tail&&(Hn<In||"string"==typeof ni.value);ni=ni.next)kn++,Hn+=ni.value.length;kn--,gn=_t.slice(Yt,Hn),Zn.index-=Yt}else if(!(Zn=He(pn,0,gn,Ht)))continue;var Fi=Zn[0],bi=gn.slice(0,pi=Zn.index),fi=gn.slice(pi+Fi.length),ri=Yt+gn.length;Me&&ri>Me.reach&&(Me.reach=ri);var zn=wt.prev;if(bi&&(zn=Be(Ae,zn,bi),Yt+=bi.length),qe(Ae,zn,kn),wt=Be(Ae,zn,new Ue(tt,gt?Fe.tokenize(Fi,gt):Fi,on,Fi)),fi&&Be(Ae,wt,fi),kn>1){var _i={cause:tt+","+Dt,reach:ri};Ne(_t,Ae,Mt,wt.prev,Yt,_i),Me&&_i.reach>Me.reach&&(Me.reach=_i.reach)}}}}}}function nt(){var _t={value:null,prev:null,next:null},Ae={value:null,prev:_t,next:null};_t.next=Ae,this.head=_t,this.tail=Ae,this.length=0}function Be(_t,Ae,Mt){var ce=Ae.next,ve={value:Mt,prev:Ae,next:ce};return Ae.next=ve,ce.prev=ve,_t.length++,ve}function qe(_t,Ae,Mt){for(var ce=Ae.next,ve=0;ve<Mt&&ce!==_t.tail;ve++)ce=ce.next;Ae.next=ce,ce.prev=Ae,_t.length-=ve}if(n.Prism=Fe,Ue.stringify=function _t(Ae,Mt){if("string"==typeof Ae)return Ae;if(Array.isArray(Ae)){var ce="";return Ae.forEach(function(Dt){ce+=_t(Dt,Mt)}),ce}var ve={type:Ae.type,content:_t(Ae.content,Mt),tag:"span",classes:["token",Ae.type],attributes:{},language:Mt},Me=Ae.alias;Me&&(Array.isArray(Me)?Array.prototype.push.apply(ve.classes,Me):ve.classes.push(Me)),Fe.hooks.run("wrap",ve);var tt="";for(var bt in ve.attributes)tt+=" "+bt+'="'+(ve.attributes[bt]||"").replace(/"/g,"&quot;")+'"';return"<"+ve.tag+' class="'+ve.classes.join(" ")+'"'+tt+">"+ve.content+"</"+ve.tag+">"},!n.document)return n.addEventListener&&(Fe.disableWorkerMessageHandler||n.addEventListener("message",function(_t){var Ae=JSON.parse(_t.data),Mt=Ae.language,ve=Ae.immediateClose;n.postMessage(Fe.highlight(Ae.code,Fe.languages[Mt],Mt)),ve&&n.close()},!1)),Fe;var Qe=Fe.util.currentScript();function Ot(){Fe.manual||Fe.highlightAll()}if(Qe&&(Fe.filename=Qe.src,Qe.hasAttribute("data-manual")&&(Fe.manual=!0)),!Fe.manual){var Zt=document.readyState;"loading"===Zt||"interactive"===Zt&&Qe&&Qe.defer?document.addEventListener("DOMContentLoaded",Ot):window.requestAnimationFrame?window.requestAnimationFrame(Ot):window.setTimeout(Ot,16)}return Fe}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});Se.exports&&(Se.exports=X),"undefined"!=typeof global&&(global.Prism=X),X.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?\]\]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},X.languages.markup.tag.inside["attr-value"].inside.entity=X.languages.markup.entity,X.languages.markup.doctype.inside["internal-subset"].inside=X.languages.markup,X.hooks.add("wrap",function(n){"entity"===n.type&&(n.attributes.title=n.content.replace(/&amp;/,"&"))}),Object.defineProperty(X.languages.markup.tag,"addInlined",{value:function(te,Oe){var we={};we["language-"+Oe]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:X.languages[Oe]},we.cdata=/^<!\[CDATA\[|\]\]>$/i;var Fe={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:we}};Fe["language-"+Oe]={pattern:/[\s\S]+/,inside:X.languages[Oe]};var Ue={};Ue[te]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return te}),"i"),lookbehind:!0,greedy:!0,inside:Fe},X.languages.insertBefore("markup","cdata",Ue)}}),Object.defineProperty(X.languages.markup.tag,"addAttribute",{value:function(n,te){X.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[te,"language-"+te],inside:X.languages[te]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),X.languages.html=X.languages.markup,X.languages.mathml=X.languages.markup,X.languages.svg=X.languages.markup,X.languages.xml=X.languages.extend("markup",{}),X.languages.ssml=X.languages.xml,X.languages.atom=X.languages.xml,X.languages.rss=X.languages.xml,function(n){var te=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+te.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+te.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+te.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:te,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var Oe=n.languages.markup;Oe&&(Oe.tag.addInlined("style","css"),Oe.tag.addAttribute("style","css"))}(X),X.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},X.languages.javascript=X.languages.extend("clike",{"class-name":[X.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),X.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,X.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:X.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:X.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:X.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:X.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:X.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),X.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:X.languages.javascript}},string:/[\s\S]+/}}}),X.languages.markup&&(X.languages.markup.tag.addInlined("script","javascript"),X.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),X.languages.js=X.languages.javascript,function(){if(void 0!==X&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var we={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},Fe="data-src-status",Ue="loading",nt="pre[data-src]:not(["+Fe+'="loaded"]):not(['+Fe+'="'+Ue+'"])',Be=/\blang(?:uage)?-([\w-]+)\b/i;X.hooks.add("before-highlightall",function(Qe){Qe.selector+=", "+nt}),X.hooks.add("before-sanity-check",function(Qe){var Ot=Qe.element;if(Ot.matches(nt)){Qe.code="",Ot.setAttribute(Fe,Ue);var Zt=Ot.appendChild(document.createElement("CODE"));Zt.textContent="Loading\u2026";var _t=Ot.getAttribute("data-src"),Ae=Qe.language;if("none"===Ae){var Mt=(/\.(\w+)$/.exec(_t)||[,"none"])[1];Ae=we[Mt]||Mt}qe(Zt,Ae),qe(Ot,Ae);var ce=X.plugins.autoloader;ce&&ce.loadLanguages(Ae);var ve=new XMLHttpRequest;ve.open("GET",_t,!0),ve.onreadystatechange=function(){4==ve.readyState&&(ve.status<400&&ve.responseText?(Ot.setAttribute(Fe,"loaded"),Zt.textContent=ve.responseText,X.highlightElement(Zt)):(Ot.setAttribute(Fe,"failed"),Zt.textContent=ve.status>=400?function(Qe,Ot){return"\u2716 Error "+Qe+" while fetching file: "+Ot}(ve.status,ve.statusText):"\u2716 Error: File does not exist or is empty"))},ve.send(null)}}),X.plugins.fileHighlight={highlight:function(Ot){for(var Ae,Zt=(Ot||document).querySelectorAll(nt),_t=0;Ae=Zt[_t++];)X.highlightElement(Ae)}};var $e=!1;X.fileHighlight=function(){$e||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),$e=!0),X.plugins.fileHighlight.highlight.apply(this,arguments)}}function qe(Qe,Ot){var Zt=Qe.className;Zt=Zt.replace(Be," ")+" language-"+Ot,Qe.className=Zt.replace(/\s+/g," ").trim()}}()},6215:(Se,Ze,X)=>{"use strict";X.d(Ze,{X:()=>Oe});var n=X(9765),te=X(7971);class Oe extends n.xQ{constructor(Fe){super(),this._value=Fe}get value(){return this.getValue()}_subscribe(Fe){const Ue=super._subscribe(Fe);return Ue&&!Ue.closed&&Fe.next(this._value),Ue}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new te.N;return this._value}next(Fe){super.next(this._value=Fe)}}},3098:(Se,Ze,X)=>{"use strict";X.d(Ze,{P:()=>Fe});var n=X(9193),te=X(5917),Oe=X(205);class Fe{constructor(He,Ne,nt){this.kind=He,this.value=Ne,this.error=nt,this.hasValue="N"===He}observe(He){switch(this.kind){case"N":return He.next&&He.next(this.value);case"E":return He.error&&He.error(this.error);case"C":return He.complete&&He.complete()}}do(He,Ne,nt){switch(this.kind){case"N":return He&&He(this.value);case"E":return Ne&&Ne(this.error);case"C":return nt&&nt()}}accept(He,Ne,nt){return He&&"function"==typeof He.next?this.observe(He):this.do(He,Ne,nt)}toObservable(){switch(this.kind){case"N":return(0,te.of)(this.value);case"E":return(0,Oe._)(this.error);case"C":return(0,n.c)()}throw new Error("unexpected notification kind value")}static createNext(He){return void 0!==He?new Fe("N",He):Fe.undefinedValueNotification}static createError(He){return new Fe("E",void 0,He)}static createComplete(){return Fe.completeNotification}}Fe.completeNotification=new Fe("C"),Fe.undefinedValueNotification=new Fe("N",void 0)},8891:(Se,Ze,X)=>{"use strict";X.d(Ze,{y:()=>nt});var n=X(7393),Oe=X(9181),we=X(6490),Ue=X(6554),He=X(4022),Ne=X(2494);let nt=(()=>{class qe{constructor(Qe){this._isScalar=!1,Qe&&(this._subscribe=Qe)}lift(Qe){const Ot=new qe;return Ot.source=this,Ot.operator=Qe,Ot}subscribe(Qe,Ot,Zt){const{operator:_t}=this,Ae=function(qe,$e,Qe){if(qe){if(qe instanceof n.L)return qe;if(qe[Oe.b])return qe[Oe.b]()}return qe||$e||Qe?new n.L(qe,$e,Qe):new n.L(we.c)}(Qe,Ot,Zt);if(Ae.add(_t?_t.call(Ae,this.source):this.source||Ne.v.useDeprecatedSynchronousErrorHandling&&!Ae.syncErrorThrowable?this._subscribe(Ae):this._trySubscribe(Ae)),Ne.v.useDeprecatedSynchronousErrorHandling&&Ae.syncErrorThrowable&&(Ae.syncErrorThrowable=!1,Ae.syncErrorThrown))throw Ae.syncErrorValue;return Ae}_trySubscribe(Qe){try{return this._subscribe(Qe)}catch(Ot){Ne.v.useDeprecatedSynchronousErrorHandling&&(Qe.syncErrorThrown=!0,Qe.syncErrorValue=Ot),function(qe){for(;qe;){const{closed:$e,destination:Qe,isStopped:Ot}=qe;if($e||Ot)return!1;qe=Qe&&Qe instanceof n.L?Qe:null}return!0}(Qe)?Qe.error(Ot):console.warn(Ot)}}forEach(Qe,Ot){return new(Ot=Be(Ot))((Zt,_t)=>{let Ae;Ae=this.subscribe(Mt=>{try{Qe(Mt)}catch(ce){_t(ce),Ae&&Ae.unsubscribe()}},_t,Zt)})}_subscribe(Qe){const{source:Ot}=this;return Ot&&Ot.subscribe(Qe)}[Ue.L](){return this}pipe(...Qe){return 0===Qe.length?this:(0,He.U)(Qe)(this)}toPromise(Qe){return new(Qe=Be(Qe))((Ot,Zt)=>{let _t;this.subscribe(Ae=>_t=Ae,Ae=>Zt(Ae),()=>Ot(_t))})}}return qe.create=$e=>new qe($e),qe})();function Be(qe){if(qe||(qe=Ne.v.Promise||Promise),!qe)throw new Error("no Promise impl found");return qe}},6490:(Se,Ze,X)=>{"use strict";X.d(Ze,{c:()=>Oe});var n=X(2494),te=X(4449);const Oe={closed:!0,next(we){},error(we){if(n.v.useDeprecatedSynchronousErrorHandling)throw we;(0,te.z)(we)},complete(){}}},8229:(Se,Ze,X)=>{"use strict";X.d(Ze,{t:()=>He});var n=X(9765),te=X(7771),Oe=X(5319),we=X(9746),Fe=X(7971),Ue=X(8858);class He extends n.xQ{constructor(Be=Number.POSITIVE_INFINITY,qe=Number.POSITIVE_INFINITY,$e){super(),this.scheduler=$e,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=Be<1?1:Be,this._windowTime=qe<1?1:qe,qe===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(Be){if(!this.isStopped){const qe=this._events;qe.push(Be),qe.length>this._bufferSize&&qe.shift()}super.next(Be)}nextTimeWindow(Be){this.isStopped||(this._events.push(new Ne(this._getNow(),Be)),this._trimBufferThenGetEvents()),super.next(Be)}_subscribe(Be){const qe=this._infiniteTimeWindow,$e=qe?this._events:this._trimBufferThenGetEvents(),Qe=this.scheduler,Ot=$e.length;let Zt;if(this.closed)throw new Fe.N;if(this.isStopped||this.hasError?Zt=Oe.w.EMPTY:(this.observers.push(Be),Zt=new Ue.W(this,Be)),Qe&&Be.add(Be=new we.ht(Be,Qe)),qe)for(let _t=0;_t<Ot&&!Be.closed;_t++)Be.next($e[_t]);else for(let _t=0;_t<Ot&&!Be.closed;_t++)Be.next($e[_t].value);return this.hasError?Be.error(this.thrownError):this.isStopped&&Be.complete(),Zt}_getNow(){return(this.scheduler||te.c).now()}_trimBufferThenGetEvents(){const Be=this._getNow(),qe=this._bufferSize,$e=this._windowTime,Qe=this._events,Ot=Qe.length;let Zt=0;for(;Zt<Ot&&!(Be-Qe[Zt].time<$e);)Zt++;return Ot>qe&&(Zt=Math.max(Zt,Ot-qe)),Zt>0&&Qe.splice(0,Zt),Qe}}class Ne{constructor(Be,qe){this.time=Be,this.value=qe}}},9765:(Se,Ze,X)=>{"use strict";X.d(Ze,{Yc:()=>He,xQ:()=>Ne});var n=X(8891),te=X(7393),Oe=X(5319),we=X(7971),Fe=X(8858),Ue=X(9181);class He extends te.L{constructor(qe){super(qe),this.destination=qe}}let Ne=(()=>{class Be extends n.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ue.b](){return new He(this)}lift($e){const Qe=new nt(this,this);return Qe.operator=$e,Qe}next($e){if(this.closed)throw new we.N;if(!this.isStopped){const{observers:Qe}=this,Ot=Qe.length,Zt=Qe.slice();for(let _t=0;_t<Ot;_t++)Zt[_t].next($e)}}error($e){if(this.closed)throw new we.N;this.hasError=!0,this.thrownError=$e,this.isStopped=!0;const{observers:Qe}=this,Ot=Qe.length,Zt=Qe.slice();for(let _t=0;_t<Ot;_t++)Zt[_t].error($e);this.observers.length=0}complete(){if(this.closed)throw new we.N;this.isStopped=!0;const{observers:$e}=this,Qe=$e.length,Ot=$e.slice();for(let Zt=0;Zt<Qe;Zt++)Ot[Zt].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe($e){if(this.closed)throw new we.N;return super._trySubscribe($e)}_subscribe($e){if(this.closed)throw new we.N;return this.hasError?($e.error(this.thrownError),Oe.w.EMPTY):this.isStopped?($e.complete(),Oe.w.EMPTY):(this.observers.push($e),new Fe.W(this,$e))}asObservable(){const $e=new n.y;return $e.source=this,$e}}return Be.create=(qe,$e)=>new nt(qe,$e),Be})();class nt extends Ne{constructor(qe,$e){super(),this.destination=qe,this.source=$e}next(qe){const{destination:$e}=this;$e&&$e.next&&$e.next(qe)}error(qe){const{destination:$e}=this;$e&&$e.error&&this.destination.error(qe)}complete(){const{destination:qe}=this;qe&&qe.complete&&this.destination.complete()}_subscribe(qe){const{source:$e}=this;return $e?this.source.subscribe(qe):Oe.w.EMPTY}}},8858:(Se,Ze,X)=>{"use strict";X.d(Ze,{W:()=>te});var n=X(5319);class te extends n.w{constructor(we,Fe){super(),this.subject=we,this.subscriber=Fe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const we=this.subject,Fe=we.observers;if(this.subject=null,!Fe||0===Fe.length||we.isStopped||we.closed)return;const Ue=Fe.indexOf(this.subscriber);-1!==Ue&&Fe.splice(Ue,1)}}},7393:(Se,Ze,X)=>{"use strict";X.d(Ze,{L:()=>He});var n=X(9105),te=X(6490),Oe=X(5319),we=X(9181),Fe=X(2494),Ue=X(4449);class He extends Oe.w{constructor(Be,qe,$e){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=te.c;break;case 1:if(!Be){this.destination=te.c;break}if("object"==typeof Be){Be instanceof He?(this.syncErrorThrowable=Be.syncErrorThrowable,this.destination=Be,Be.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ne(this,Be));break}default:this.syncErrorThrowable=!0,this.destination=new Ne(this,Be,qe,$e)}}[we.b](){return this}static create(Be,qe,$e){const Qe=new He(Be,qe,$e);return Qe.syncErrorThrowable=!1,Qe}next(Be){this.isStopped||this._next(Be)}error(Be){this.isStopped||(this.isStopped=!0,this._error(Be))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Be){this.destination.next(Be)}_error(Be){this.destination.error(Be),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Be}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Be,this}}class Ne extends He{constructor(Be,qe,$e,Qe){super(),this._parentSubscriber=Be;let Ot,Zt=this;(0,n.m)(qe)?Ot=qe:qe&&(Ot=qe.next,$e=qe.error,Qe=qe.complete,qe!==te.c&&(Zt=Object.create(qe),(0,n.m)(Zt.unsubscribe)&&this.add(Zt.unsubscribe.bind(Zt)),Zt.unsubscribe=this.unsubscribe.bind(this))),this._context=Zt,this._next=Ot,this._error=$e,this._complete=Qe}next(Be){if(!this.isStopped&&this._next){const{_parentSubscriber:qe}=this;Fe.v.useDeprecatedSynchronousErrorHandling&&qe.syncErrorThrowable?this.__tryOrSetError(qe,this._next,Be)&&this.unsubscribe():this.__tryOrUnsub(this._next,Be)}}error(Be){if(!this.isStopped){const{_parentSubscriber:qe}=this,{useDeprecatedSynchronousErrorHandling:$e}=Fe.v;if(this._error)$e&&qe.syncErrorThrowable?(this.__tryOrSetError(qe,this._error,Be),this.unsubscribe()):(this.__tryOrUnsub(this._error,Be),this.unsubscribe());else if(qe.syncErrorThrowable)$e?(qe.syncErrorValue=Be,qe.syncErrorThrown=!0):(0,Ue.z)(Be),this.unsubscribe();else{if(this.unsubscribe(),$e)throw Be;(0,Ue.z)(Be)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Be}=this;if(this._complete){const qe=()=>this._complete.call(this._context);Fe.v.useDeprecatedSynchronousErrorHandling&&Be.syncErrorThrowable?(this.__tryOrSetError(Be,qe),this.unsubscribe()):(this.__tryOrUnsub(qe),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Be,qe){try{Be.call(this._context,qe)}catch($e){if(this.unsubscribe(),Fe.v.useDeprecatedSynchronousErrorHandling)throw $e;(0,Ue.z)($e)}}__tryOrSetError(Be,qe,$e){if(!Fe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{qe.call(this._context,$e)}catch(Qe){return Fe.v.useDeprecatedSynchronousErrorHandling?(Be.syncErrorValue=Qe,Be.syncErrorThrown=!0,!0):((0,Ue.z)(Qe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Be}=this;this._context=null,this._parentSubscriber=null,Be.unsubscribe()}}},5319:(Se,Ze,X)=>{"use strict";X.d(Ze,{w:()=>Ue});var n=X(9796),te=X(1555),Oe=X(9105);const Fe=(()=>{function Ne(nt){return Error.call(this),this.message=nt?`${nt.length} errors occurred during unsubscription:\n${nt.map((Be,qe)=>`${qe+1}) ${Be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=nt,this}return Ne.prototype=Object.create(Error.prototype),Ne})();class Ue{constructor(nt){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,nt&&(this._ctorUnsubscribe=!0,this._unsubscribe=nt)}unsubscribe(){let nt;if(this.closed)return;let{_parentOrParents:Be,_ctorUnsubscribe:qe,_unsubscribe:$e,_subscriptions:Qe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,Be instanceof Ue)Be.remove(this);else if(null!==Be)for(let Ot=0;Ot<Be.length;++Ot)Be[Ot].remove(this);if((0,Oe.m)($e)){qe&&(this._unsubscribe=void 0);try{$e.call(this)}catch(Ot){nt=Ot instanceof Fe?He(Ot.errors):[Ot]}}if((0,n.k)(Qe)){let Ot=-1,Zt=Qe.length;for(;++Ot<Zt;){const _t=Qe[Ot];if((0,te.K)(_t))try{_t.unsubscribe()}catch(Ae){nt=nt||[],Ae instanceof Fe?nt=nt.concat(He(Ae.errors)):nt.push(Ae)}}}if(nt)throw new Fe(nt)}add(nt){let Be=nt;if(!nt)return Ue.EMPTY;switch(typeof nt){case"function":Be=new Ue(nt);case"object":if(Be===this||Be.closed||"function"!=typeof Be.unsubscribe)return Be;if(this.closed)return Be.unsubscribe(),Be;if(!(Be instanceof Ue)){const Qe=Be;Be=new Ue,Be._subscriptions=[Qe]}break;default:throw new Error("unrecognized teardown "+nt+" added to Subscription.")}let{_parentOrParents:qe}=Be;if(null===qe)Be._parentOrParents=this;else if(qe instanceof Ue){if(qe===this)return Be;Be._parentOrParents=[qe,this]}else{if(-1!==qe.indexOf(this))return Be;qe.push(this)}const $e=this._subscriptions;return null===$e?this._subscriptions=[Be]:$e.push(Be),Be}remove(nt){const Be=this._subscriptions;if(Be){const qe=Be.indexOf(nt);-1!==qe&&Be.splice(qe,1)}}}var Ne;function He(Ne){return Ne.reduce((nt,Be)=>nt.concat(Be instanceof Fe?Be.errors:Be),[])}Ue.EMPTY=((Ne=new Ue).closed=!0,Ne)},2494:(Se,Ze,X)=>{"use strict";X.d(Ze,{v:()=>te});let n=!1;const te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Oe){if(Oe){const we=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+we.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=Oe},get useDeprecatedSynchronousErrorHandling(){return n}}},5345:(Se,Ze,X)=>{"use strict";X.d(Ze,{IY:()=>we,Ds:()=>Ue,ft:()=>Ne});var n=X(7393),te=X(8891),Oe=X(7444);class we extends n.L{constructor(Be){super(),this.parent=Be}_next(Be){this.parent.notifyNext(Be)}_error(Be){this.parent.notifyError(Be),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ue extends n.L{notifyNext(Be){this.destination.next(Be)}notifyError(Be){this.destination.error(Be)}notifyComplete(){this.destination.complete()}}function Ne(nt,Be){if(Be.closed)return;if(nt instanceof te.y)return nt.subscribe(Be);let qe;try{qe=(0,Oe.s)(nt)(Be)}catch($e){Be.error($e)}return qe}},2441:(Se,Ze,X)=>{"use strict";X.d(Ze,{c:()=>Fe,N:()=>Ue});var n=X(9765),te=X(8891),Oe=X(5319),we=X(1307);class Fe extends te.y{constructor(qe,$e){super(),this.source=qe,this.subjectFactory=$e,this._refCount=0,this._isComplete=!1}_subscribe(qe){return this.getSubject().subscribe(qe)}getSubject(){const qe=this._subject;return(!qe||qe.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let qe=this._connection;return qe||(this._isComplete=!1,qe=this._connection=new Oe.w,qe.add(this.source.subscribe(new He(this.getSubject(),this))),qe.closed&&(this._connection=null,qe=Oe.w.EMPTY)),qe}refCount(){return(0,we.x)()(this)}}const Ue=(()=>{const Be=Fe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Be._subscribe},_isComplete:{value:Be._isComplete,writable:!0},getSubject:{value:Be.getSubject},connect:{value:Be.connect},refCount:{value:Be.refCount}}})();class He extends n.Yc{constructor(qe,$e){super(qe),this.connectable=$e}_error(qe){this._unsubscribe(),super._error(qe)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const qe=this.connectable;if(qe){this.connectable=null;const $e=qe._connection;qe._refCount=0,qe._subject=null,qe._connection=null,$e&&$e.unsubscribe()}}}},739:(Se,Ze,X)=>{"use strict";X.d(Ze,{aj:()=>qe});var n=X(4869),te=X(9796),Oe=X(7393);class we extends Oe.L{notifyNext(Zt,_t,Ae,Mt,ce){this.destination.next(_t)}notifyError(Zt,_t){this.destination.error(Zt)}notifyComplete(Zt){this.destination.complete()}}class Fe extends Oe.L{constructor(Zt,_t,Ae){super(),this.parent=Zt,this.outerValue=_t,this.outerIndex=Ae,this.index=0}_next(Zt){this.parent.notifyNext(this.outerValue,Zt,this.outerIndex,this.index++,this)}_error(Zt){this.parent.notifyError(Zt,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ue=X(7444),He=X(8891);function Ne(Ot,Zt,_t,Ae,Mt=new Fe(Ot,_t,Ae)){if(!Mt.closed)return Zt instanceof He.y?Zt.subscribe(Mt):(0,Ue.s)(Zt)(Mt)}var nt=X(6693);const Be={};function qe(...Ot){let Zt,_t;return(0,n.K)(Ot[Ot.length-1])&&(_t=Ot.pop()),"function"==typeof Ot[Ot.length-1]&&(Zt=Ot.pop()),1===Ot.length&&(0,te.k)(Ot[0])&&(Ot=Ot[0]),(0,nt.n)(Ot,_t).lift(new $e(Zt))}class $e{constructor(Zt){this.resultSelector=Zt}call(Zt,_t){return _t.subscribe(new Qe(Zt,this.resultSelector))}}class Qe extends we{constructor(Zt,_t){super(Zt),this.resultSelector=_t,this.active=0,this.values=[],this.observables=[]}_next(Zt){this.values.push(Be),this.observables.push(Zt)}_complete(){const Zt=this.observables,_t=Zt.length;if(0===_t)this.destination.complete();else{this.active=_t,this.toRespond=_t;for(let Ae=0;Ae<_t;Ae++)this.add(Ne(this,Zt[Ae],void 0,Ae))}}notifyComplete(Zt){0==(this.active-=1)&&this.destination.complete()}notifyNext(Zt,_t,Ae){const Mt=this.values,ve=this.toRespond?Mt[Ae]===Be?--this.toRespond:this.toRespond:0;Mt[Ae]=_t,0===ve&&(this.resultSelector?this._tryResultSelector(Mt):this.destination.next(Mt.slice()))}_tryResultSelector(Zt){let _t;try{_t=this.resultSelector.apply(this,Zt)}catch(Ae){return void this.destination.error(Ae)}this.destination.next(_t)}}},8071:(Se,Ze,X)=>{"use strict";X.d(Ze,{z:()=>we});var n=X(5917),te=X(3282);function we(...Fe){return(0,te.J)(1)((0,n.of)(...Fe))}},1439:(Se,Ze,X)=>{"use strict";X.d(Ze,{P:()=>we});var n=X(8891),te=X(4402),Oe=X(9193);function we(Fe){return new n.y(Ue=>{let He;try{He=Fe()}catch(nt){return void Ue.error(nt)}return(He?(0,te.D)(He):(0,Oe.c)()).subscribe(Ue)})}},9193:(Se,Ze,X)=>{"use strict";X.d(Ze,{E:()=>te,c:()=>Oe});var n=X(8891);const te=new n.y(Fe=>Fe.complete());function Oe(Fe){return Fe?function(Fe){return new n.y(Ue=>Fe.schedule(()=>Ue.complete()))}(Fe):te}},5758:(Se,Ze,X)=>{"use strict";X.d(Ze,{D:()=>Ue});var n=X(8891),te=X(9796),Oe=X(8002),we=X(1555),Fe=X(4402);function Ue(...Ne){if(1===Ne.length){const nt=Ne[0];if((0,te.k)(nt))return He(nt,null);if((0,we.K)(nt)&&Object.getPrototypeOf(nt)===Object.prototype){const Be=Object.keys(nt);return He(Be.map(qe=>nt[qe]),Be)}}if("function"==typeof Ne[Ne.length-1]){const nt=Ne.pop();return He(Ne=1===Ne.length&&(0,te.k)(Ne[0])?Ne[0]:Ne,null).pipe((0,Oe.U)(Be=>nt(...Be)))}return He(Ne,null)}function He(Ne,nt){return new n.y(Be=>{const qe=Ne.length;if(0===qe)return void Be.complete();const $e=new Array(qe);let Qe=0,Ot=0;for(let Zt=0;Zt<qe;Zt++){const _t=(0,Fe.D)(Ne[Zt]);let Ae=!1;Be.add(_t.subscribe({next:Mt=>{Ae||(Ae=!0,Ot++),$e[Zt]=Mt},error:Mt=>Be.error(Mt),complete:()=>{Qe++,(Qe===qe||!Ae)&&(Ot===qe&&Be.next(nt?nt.reduce((Mt,ce,ve)=>(Mt[ce]=$e[ve],Mt),{}):$e),Be.complete())}}))}})}},4402:(Se,Ze,X)=>{"use strict";X.d(Ze,{D:()=>Zt});var n=X(8891),te=X(7444),Oe=X(5319),we=X(6554),He=X(4087),Ne=X(377),qe=X(4072),$e=X(9489);function Zt(_t,Ae){return Ae?function(_t,Ae){if(null!=_t){if(function(_t){return _t&&"function"==typeof _t[we.L]}(_t))return function(_t,Ae){return new n.y(Mt=>{const ce=new Oe.w;return ce.add(Ae.schedule(()=>{const ve=_t[we.L]();ce.add(ve.subscribe({next(Me){ce.add(Ae.schedule(()=>Mt.next(Me)))},error(Me){ce.add(Ae.schedule(()=>Mt.error(Me)))},complete(){ce.add(Ae.schedule(()=>Mt.complete()))}}))})),ce})}(_t,Ae);if((0,qe.t)(_t))return function(_t,Ae){return new n.y(Mt=>{const ce=new Oe.w;return ce.add(Ae.schedule(()=>_t.then(ve=>{ce.add(Ae.schedule(()=>{Mt.next(ve),ce.add(Ae.schedule(()=>Mt.complete()))}))},ve=>{ce.add(Ae.schedule(()=>Mt.error(ve)))}))),ce})}(_t,Ae);if((0,$e.z)(_t))return(0,He.r)(_t,Ae);if(function(_t){return _t&&"function"==typeof _t[Ne.hZ]}(_t)||"string"==typeof _t)return function(_t,Ae){if(!_t)throw new Error("Iterable cannot be null");return new n.y(Mt=>{const ce=new Oe.w;let ve;return ce.add(()=>{ve&&"function"==typeof ve.return&&ve.return()}),ce.add(Ae.schedule(()=>{ve=_t[Ne.hZ](),ce.add(Ae.schedule(function(){if(Mt.closed)return;let Me,tt;try{const bt=ve.next();Me=bt.value,tt=bt.done}catch(bt){return void Mt.error(bt)}tt?Mt.complete():(Mt.next(Me),this.schedule())}))})),ce})}(_t,Ae)}throw new TypeError((null!==_t&&typeof _t||_t)+" is not observable")}(_t,Ae):_t instanceof n.y?_t:new n.y((0,te.s)(_t))}},6693:(Se,Ze,X)=>{"use strict";X.d(Ze,{n:()=>we});var n=X(8891),te=X(5015),Oe=X(4087);function we(Fe,Ue){return Ue?(0,Oe.r)(Fe,Ue):new n.y((0,te.V)(Fe))}},2759:(Se,Ze,X)=>{"use strict";X.d(Ze,{R:()=>Ue});var n=X(8891),te=X(9796),Oe=X(9105),we=X(8002);function Ue(qe,$e,Qe,Ot){return(0,Oe.m)(Qe)&&(Ot=Qe,Qe=void 0),Ot?Ue(qe,$e,Qe).pipe((0,we.U)(Zt=>(0,te.k)(Zt)?Ot(...Zt):Ot(Zt))):new n.y(Zt=>{He(qe,$e,function(Ae){Zt.next(arguments.length>1?Array.prototype.slice.call(arguments):Ae)},Zt,Qe)})}function He(qe,$e,Qe,Ot,Zt){let _t;if(function(qe){return qe&&"function"==typeof qe.addEventListener&&"function"==typeof qe.removeEventListener}(qe)){const Ae=qe;qe.addEventListener($e,Qe,Zt),_t=()=>Ae.removeEventListener($e,Qe,Zt)}else if(function(qe){return qe&&"function"==typeof qe.on&&"function"==typeof qe.off}(qe)){const Ae=qe;qe.on($e,Qe),_t=()=>Ae.off($e,Qe)}else if(function(qe){return qe&&"function"==typeof qe.addListener&&"function"==typeof qe.removeListener}(qe)){const Ae=qe;qe.addListener($e,Qe),_t=()=>Ae.removeListener($e,Qe)}else{if(!qe||!qe.length)throw new TypeError("Invalid event target");for(let Ae=0,Mt=qe.length;Ae<Mt;Ae++)He(qe[Ae],$e,Qe,Ot,Zt)}Ot.add(_t)}},6682:(Se,Ze,X)=>{"use strict";X.d(Ze,{T:()=>Fe});var n=X(8891),te=X(4869),Oe=X(3282),we=X(6693);function Fe(...Ue){let He=Number.POSITIVE_INFINITY,Ne=null,nt=Ue[Ue.length-1];return(0,te.K)(nt)?(Ne=Ue.pop(),Ue.length>1&&"number"==typeof Ue[Ue.length-1]&&(He=Ue.pop())):"number"==typeof nt&&(He=Ue.pop()),null===Ne&&1===Ue.length&&Ue[0]instanceof n.y?Ue[0]:(0,Oe.J)(He)((0,we.n)(Ue,Ne))}},5917:(Se,Ze,X)=>{"use strict";X.d(Ze,{of:()=>we});var n=X(4869),te=X(6693),Oe=X(4087);function we(...Fe){let Ue=Fe[Fe.length-1];return(0,n.K)(Ue)?(Fe.pop(),(0,Oe.r)(Fe,Ue)):(0,te.n)(Fe)}},205:(Se,Ze,X)=>{"use strict";X.d(Ze,{_:()=>te});var n=X(8891);function te(we,Fe){return new n.y(Fe?Ue=>Fe.schedule(Oe,0,{error:we,subscriber:Ue}):Ue=>Ue.error(we))}function Oe({error:we,subscriber:Fe}){Fe.error(we)}},5304:(Se,Ze,X)=>{"use strict";X.d(Ze,{K:()=>te});var n=X(5345);function te(Fe){return function(He){const Ne=new Oe(Fe),nt=He.lift(Ne);return Ne.caught=nt}}class Oe{constructor(Ue){this.selector=Ue}call(Ue,He){return He.subscribe(new we(Ue,this.selector,this.caught))}}class we extends n.Ds{constructor(Ue,He,Ne){super(Ue),this.selector=He,this.caught=Ne}error(Ue){if(!this.isStopped){let He;try{He=this.selector(Ue,this.caught)}catch(Be){return void super.error(Be)}this._unsubscribeAndRecycle();const Ne=new n.IY(this);this.add(Ne);const nt=(0,n.ft)(He,Ne);nt!==Ne&&this.add(nt)}}}},4612:(Se,Ze,X)=>{"use strict";X.d(Ze,{b:()=>te});var n=X(9773);function te(Oe,we){return(0,n.zg)(Oe,we,1)}},4395:(Se,Ze,X)=>{"use strict";X.d(Ze,{b:()=>Oe});var n=X(7393),te=X(3637);function Oe(He,Ne=te.P){return nt=>nt.lift(new we(He,Ne))}class we{constructor(Ne,nt){this.dueTime=Ne,this.scheduler=nt}call(Ne,nt){return nt.subscribe(new Fe(Ne,this.dueTime,this.scheduler))}}class Fe extends n.L{constructor(Ne,nt,Be){super(Ne),this.dueTime=nt,this.scheduler=Be,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(Ne){this.clearDebounce(),this.lastValue=Ne,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ue,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:Ne}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(Ne)}}clearDebounce(){const Ne=this.debouncedSubscription;null!==Ne&&(this.remove(Ne),Ne.unsubscribe(),this.debouncedSubscription=null)}}function Ue(He){He.debouncedNext()}},5242:(Se,Ze,X)=>{"use strict";X.d(Ze,{d:()=>te});var n=X(7393);function te(Fe=null){return Ue=>Ue.lift(new Oe(Fe))}class Oe{constructor(Ue){this.defaultValue=Ue}call(Ue,He){return He.subscribe(new we(Ue,this.defaultValue))}}class we extends n.L{constructor(Ue,He){super(Ue),this.defaultValue=He,this.isEmpty=!0}_next(Ue){this.isEmpty=!1,this.destination.next(Ue)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(Se,Ze,X)=>{"use strict";X.d(Ze,{x:()=>te});var n=X(7393);function te(Fe,Ue){return He=>He.lift(new Oe(Fe,Ue))}class Oe{constructor(Ue,He){this.compare=Ue,this.keySelector=He}call(Ue,He){return He.subscribe(new we(Ue,this.compare,this.keySelector))}}class we extends n.L{constructor(Ue,He,Ne){super(Ue),this.keySelector=Ne,this.hasKey=!1,"function"==typeof He&&(this.compare=He)}compare(Ue,He){return Ue===He}_next(Ue){let He;try{const{keySelector:nt}=this;He=nt?nt(Ue):Ue}catch(nt){return this.destination.error(nt)}let Ne=!1;if(this.hasKey)try{const{compare:nt}=this;Ne=nt(this.key,He)}catch(nt){return this.destination.error(nt)}else this.hasKey=!0;Ne||(this.key=He,this.destination.next(Ue))}}},5435:(Se,Ze,X)=>{"use strict";X.d(Ze,{h:()=>te});var n=X(7393);function te(Fe,Ue){return function(Ne){return Ne.lift(new Oe(Fe,Ue))}}class Oe{constructor(Ue,He){this.predicate=Ue,this.thisArg=He}call(Ue,He){return He.subscribe(new we(Ue,this.predicate,this.thisArg))}}class we extends n.L{constructor(Ue,He,Ne){super(Ue),this.predicate=He,this.thisArg=Ne,this.count=0}_next(Ue){let He;try{He=this.predicate.call(this.thisArg,Ue,this.count++)}catch(Ne){return void this.destination.error(Ne)}He&&this.destination.next(Ue)}}},8939:(Se,Ze,X)=>{"use strict";X.d(Ze,{x:()=>Oe});var n=X(7393),te=X(5319);function Oe(Ue){return He=>He.lift(new we(Ue))}class we{constructor(He){this.callback=He}call(He,Ne){return Ne.subscribe(new Fe(He,this.callback))}}class Fe extends n.L{constructor(He,Ne){super(He),this.add(new te.w(Ne))}}},8049:(Se,Ze,X)=>{"use strict";X.d(Ze,{P:()=>He});var n=X(3410),te=X(5435),Oe=X(5257),we=X(5242),Fe=X(4635),Ue=X(4487);function He(Ne,nt){const Be=arguments.length>=2;return qe=>qe.pipe(Ne?(0,te.h)(($e,Qe)=>Ne($e,Qe,qe)):Ue.y,(0,Oe.q)(1),Be?(0,we.d)(nt):(0,Fe.T)(()=>new n.K))}},8002:(Se,Ze,X)=>{"use strict";X.d(Ze,{U:()=>te});var n=X(7393);function te(Fe,Ue){return function(Ne){if("function"!=typeof Fe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Ne.lift(new Oe(Fe,Ue))}}class Oe{constructor(Ue,He){this.project=Ue,this.thisArg=He}call(Ue,He){return He.subscribe(new we(Ue,this.project,this.thisArg))}}class we extends n.L{constructor(Ue,He,Ne){super(Ue),this.project=He,this.count=0,this.thisArg=Ne||this}_next(Ue){let He;try{He=this.project.call(this.thisArg,Ue,this.count++)}catch(Ne){return void this.destination.error(Ne)}this.destination.next(He)}}},3282:(Se,Ze,X)=>{"use strict";X.d(Ze,{J:()=>Oe});var n=X(9773),te=X(4487);function Oe(we=Number.POSITIVE_INFINITY){return(0,n.zg)(te.y,we)}},9773:(Se,Ze,X)=>{"use strict";X.d(Ze,{zg:()=>we});var n=X(8002),te=X(4402),Oe=X(5345);function we(Ne,nt,Be=Number.POSITIVE_INFINITY){return"function"==typeof nt?qe=>qe.pipe(we(($e,Qe)=>(0,te.D)(Ne($e,Qe)).pipe((0,n.U)((Ot,Zt)=>nt($e,Ot,Qe,Zt))),Be)):("number"==typeof nt&&(Be=nt),qe=>qe.lift(new Fe(Ne,Be)))}class Fe{constructor(nt,Be=Number.POSITIVE_INFINITY){this.project=nt,this.concurrent=Be}call(nt,Be){return Be.subscribe(new Ue(nt,this.project,this.concurrent))}}class Ue extends Oe.Ds{constructor(nt,Be,qe=Number.POSITIVE_INFINITY){super(nt),this.project=Be,this.concurrent=qe,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(nt){this.active<this.concurrent?this._tryNext(nt):this.buffer.push(nt)}_tryNext(nt){let Be;const qe=this.index++;try{Be=this.project(nt,qe)}catch($e){return void this.destination.error($e)}this.active++,this._innerSub(Be)}_innerSub(nt){const Be=new Oe.IY(this),qe=this.destination;qe.add(Be);const $e=(0,Oe.ft)(nt,Be);$e!==Be&&qe.add($e)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(nt){this.destination.next(nt)}notifyComplete(){const nt=this.buffer;this.active--,nt.length>0?this._next(nt.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},4458:(Se,Ze,X)=>{"use strict";X.d(Ze,{O:()=>te});var n=X(2441);function te(we,Fe){return function(He){let Ne;if(Ne="function"==typeof we?we:function(){return we},"function"==typeof Fe)return He.lift(new Oe(Ne,Fe));const nt=Object.create(He,n.N);return nt.source=He,nt.subjectFactory=Ne,nt}}class Oe{constructor(Fe,Ue){this.subjectFactory=Fe,this.selector=Ue}call(Fe,Ue){const{selector:He}=this,Ne=this.subjectFactory(),nt=He(Ne).subscribe(Fe);return nt.add(Ue.subscribe(Ne)),nt}}},9746:(Se,Ze,X)=>{"use strict";X.d(Ze,{QV:()=>Oe,ht:()=>Fe});var n=X(7393),te=X(3098);function Oe(He,Ne=0){return function(Be){return Be.lift(new we(He,Ne))}}class we{constructor(Ne,nt=0){this.scheduler=Ne,this.delay=nt}call(Ne,nt){return nt.subscribe(new Fe(Ne,this.scheduler,this.delay))}}class Fe extends n.L{constructor(Ne,nt,Be=0){super(Ne),this.scheduler=nt,this.delay=Be}static dispatch(Ne){const{notification:nt,destination:Be}=Ne;nt.observe(Be),this.unsubscribe()}scheduleMessage(Ne){this.destination.add(this.scheduler.schedule(Fe.dispatch,this.delay,new Ue(Ne,this.destination)))}_next(Ne){this.scheduleMessage(te.P.createNext(Ne))}_error(Ne){this.scheduleMessage(te.P.createError(Ne)),this.unsubscribe()}_complete(){this.scheduleMessage(te.P.createComplete()),this.unsubscribe()}}class Ue{constructor(Ne,nt){this.notification=Ne,this.destination=nt}}},9328:(Se,Ze,X)=>{"use strict";X.d(Ze,{G:()=>te});var n=X(7393);function te(){return Fe=>Fe.lift(new Oe)}class Oe{call(Ue,He){return He.subscribe(new we(Ue))}}class we extends n.L{constructor(Ue){super(Ue),this.hasPrev=!1}_next(Ue){let He;this.hasPrev?He=[this.prev,Ue]:this.hasPrev=!0,this.prev=Ue,He&&this.destination.next(He)}}},1307:(Se,Ze,X)=>{"use strict";X.d(Ze,{x:()=>te});var n=X(7393);function te(){return function(Ue){return Ue.lift(new Oe(Ue))}}class Oe{constructor(Ue){this.connectable=Ue}call(Ue,He){const{connectable:Ne}=this;Ne._refCount++;const nt=new we(Ue,Ne),Be=He.subscribe(nt);return nt.closed||(nt.connection=Ne.connect()),Be}}class we extends n.L{constructor(Ue,He){super(Ue),this.connectable=He}_unsubscribe(){const{connectable:Ue}=this;if(!Ue)return void(this.connection=null);this.connectable=null;const He=Ue._refCount;if(He<=0)return void(this.connection=null);if(Ue._refCount=He-1,He>1)return void(this.connection=null);const{connection:Ne}=this,nt=Ue._connection;this.connection=null,nt&&(!Ne||nt===Ne)&&nt.unsubscribe()}}},2145:(Se,Ze,X)=>{"use strict";X.d(Ze,{R:()=>te});var n=X(7393);function te(Fe,Ue){let He=!1;return arguments.length>=2&&(He=!0),function(nt){return nt.lift(new Oe(Fe,Ue,He))}}class Oe{constructor(Ue,He,Ne=!1){this.accumulator=Ue,this.seed=He,this.hasSeed=Ne}call(Ue,He){return He.subscribe(new we(Ue,this.accumulator,this.seed,this.hasSeed))}}class we extends n.L{constructor(Ue,He,Ne,nt){super(Ue),this.accumulator=He,this._seed=Ne,this.hasSeed=nt,this.index=0}get seed(){return this._seed}set seed(Ue){this.hasSeed=!0,this._seed=Ue}_next(Ue){if(this.hasSeed)return this._tryNext(Ue);this.seed=Ue,this.destination.next(Ue)}_tryNext(Ue){const He=this.index++;let Ne;try{Ne=this.accumulator(this.seed,Ue,He)}catch(nt){this.destination.error(nt)}this.seed=Ne,this.destination.next(Ne)}}},8345:(Se,Ze,X)=>{"use strict";X.d(Ze,{B:()=>Fe});var n=X(4458),te=X(1307),Oe=X(9765);function we(){return new Oe.xQ}function Fe(){return Ue=>(0,te.x)()((0,n.O)(we)(Ue))}},7349:(Se,Ze,X)=>{"use strict";X.d(Ze,{d:()=>te});var n=X(8229);function te(we,Fe,Ue){let He;return He=we&&"object"==typeof we?we:{bufferSize:we,windowTime:Fe,refCount:!1,scheduler:Ue},Ne=>Ne.lift(function({bufferSize:we=Number.POSITIVE_INFINITY,windowTime:Fe=Number.POSITIVE_INFINITY,refCount:Ue,scheduler:He}){let Ne,Be,nt=0,qe=!1,$e=!1;return function(Ot){let Zt;nt++,!Ne||qe?(qe=!1,Ne=new n.t(we,Fe,He),Zt=Ne.subscribe(this),Be=Ot.subscribe({next(_t){Ne.next(_t)},error(_t){qe=!0,Ne.error(_t)},complete(){$e=!0,Be=void 0,Ne.complete()}}),$e&&(Be=void 0)):Zt=Ne.subscribe(this),this.add(()=>{nt--,Zt.unsubscribe(),Zt=void 0,Be&&!$e&&Ue&&0===nt&&(Be.unsubscribe(),Be=void 0,Ne=void 0)})}}(He))}},9761:(Se,Ze,X)=>{"use strict";X.d(Ze,{O:()=>Oe});var n=X(8071),te=X(4869);function Oe(...we){const Fe=we[we.length-1];return(0,te.K)(Fe)?(we.pop(),Ue=>(0,n.z)(we,Ue,Fe)):Ue=>(0,n.z)(we,Ue)}},3101:(Se,Ze,X)=>{"use strict";X.d(Ze,{R:()=>Ae});var n=X(8891);let te=1;const Oe=Promise.resolve(),we={};function Fe(ce){return ce in we&&(delete we[ce],!0)}const Ue={setImmediate(ce){const ve=te++;return we[ve]=!0,Oe.then(()=>Fe(ve)&&ce()),ve},clearImmediate(ce){Fe(ce)}};var Ne=X(6465),Be=X(6102);const Qe=new class extends Be.v{flush(ve){this.active=!0,this.scheduled=void 0;const{actions:Me}=this;let tt,bt=-1,Dt=Me.length;ve=ve||Me.shift();do{if(tt=ve.execute(ve.state,ve.delay))break}while(++bt<Dt&&(ve=Me.shift()));if(this.active=!1,tt){for(;++bt<Dt&&(ve=Me.shift());)ve.unsubscribe();throw tt}}}(class extends Ne.o{constructor(ve,Me){super(ve,Me),this.scheduler=ve,this.work=Me}requestAsyncId(ve,Me,tt=0){return null!==tt&&tt>0?super.requestAsyncId(ve,Me,tt):(ve.actions.push(this),ve.scheduled||(ve.scheduled=Ue.setImmediate(ve.flush.bind(ve,null))))}recycleAsyncId(ve,Me,tt=0){if(null!==tt&&tt>0||null===tt&&this.delay>0)return super.recycleAsyncId(ve,Me,tt);0===ve.actions.length&&(Ue.clearImmediate(Me),ve.scheduled=void 0)}});var Ot=X(9796);class _t extends n.y{constructor(ve,Me=0,tt=Qe){var ce;super(),this.source=ve,this.delayTime=Me,this.scheduler=tt,(!(!(0,Ot.k)(ce=Me)&&ce-parseFloat(ce)+1>=0)||Me<0)&&(this.delayTime=0),(!tt||"function"!=typeof tt.schedule)&&(this.scheduler=Qe)}static create(ve,Me=0,tt=Qe){return new _t(ve,Me,tt)}static dispatch(ve){const{source:Me,subscriber:tt}=ve;return this.add(Me.subscribe(tt))}_subscribe(ve){return this.scheduler.schedule(_t.dispatch,this.delayTime,{source:this.source,subscriber:ve})}}function Ae(ce,ve=0){return function(tt){return tt.lift(new Mt(ce,ve))}}class Mt{constructor(ve,Me){this.scheduler=ve,this.delay=Me}call(ve,Me){return new _t(Me,this.delay,this.scheduler).subscribe(ve)}}},3190:(Se,Ze,X)=>{"use strict";X.d(Ze,{w:()=>we});var n=X(8002),te=X(4402),Oe=X(5345);function we(He,Ne){return"function"==typeof Ne?nt=>nt.pipe(we((Be,qe)=>(0,te.D)(He(Be,qe)).pipe((0,n.U)(($e,Qe)=>Ne(Be,$e,qe,Qe))))):nt=>nt.lift(new Fe(He))}class Fe{constructor(Ne){this.project=Ne}call(Ne,nt){return nt.subscribe(new Ue(Ne,this.project))}}class Ue extends Oe.Ds{constructor(Ne,nt){super(Ne),this.project=nt,this.index=0}_next(Ne){let nt;const Be=this.index++;try{nt=this.project(Ne,Be)}catch(qe){return void this.destination.error(qe)}this._innerSub(nt)}_innerSub(Ne){const nt=this.innerSubscription;nt&&nt.unsubscribe();const Be=new Oe.IY(this),qe=this.destination;qe.add(Be),this.innerSubscription=(0,Oe.ft)(Ne,Be),this.innerSubscription!==Be&&qe.add(this.innerSubscription)}_complete(){const{innerSubscription:Ne}=this;(!Ne||Ne.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Ne){this.destination.next(Ne)}}},5257:(Se,Ze,X)=>{"use strict";X.d(Ze,{q:()=>we});var n=X(7393),te=X(7108),Oe=X(9193);function we(He){return Ne=>0===He?(0,Oe.c)():Ne.lift(new Fe(He))}class Fe{constructor(Ne){if(this.total=Ne,this.total<0)throw new te.W}call(Ne,nt){return nt.subscribe(new Ue(Ne,this.total))}}class Ue extends n.L{constructor(Ne,nt){super(Ne),this.total=nt,this.count=0}_next(Ne){const nt=this.total,Be=++this.count;Be<=nt&&(this.destination.next(Ne),Be===nt&&(this.destination.complete(),this.unsubscribe()))}}},8307:(Se,Ze,X)=>{"use strict";X.d(Ze,{b:()=>we});var n=X(7393),te=X(8640),Oe=X(9105);function we(He,Ne,nt){return function(qe){return qe.lift(new Fe(He,Ne,nt))}}class Fe{constructor(Ne,nt,Be){this.nextOrObserver=Ne,this.error=nt,this.complete=Be}call(Ne,nt){return nt.subscribe(new Ue(Ne,this.nextOrObserver,this.error,this.complete))}}class Ue extends n.L{constructor(Ne,nt,Be,qe){super(Ne),this._tapNext=te.Z,this._tapError=te.Z,this._tapComplete=te.Z,this._tapError=Be||te.Z,this._tapComplete=qe||te.Z,(0,Oe.m)(nt)?(this._context=this,this._tapNext=nt):nt&&(this._context=nt,this._tapNext=nt.next||te.Z,this._tapError=nt.error||te.Z,this._tapComplete=nt.complete||te.Z)}_next(Ne){try{this._tapNext.call(this._context,Ne)}catch(nt){return void this.destination.error(nt)}this.destination.next(Ne)}_error(Ne){try{this._tapError.call(this._context,Ne)}catch(nt){return void this.destination.error(nt)}this.destination.error(Ne)}_complete(){try{this._tapComplete.call(this._context)}catch(Ne){return void this.destination.error(Ne)}return this.destination.complete()}}},4635:(Se,Ze,X)=>{"use strict";X.d(Ze,{T:()=>Oe});var n=X(3410),te=X(7393);function Oe(He=Ue){return Ne=>Ne.lift(new we(He))}class we{constructor(Ne){this.errorFactory=Ne}call(Ne,nt){return nt.subscribe(new Fe(Ne,this.errorFactory))}}class Fe extends te.L{constructor(Ne,nt){super(Ne),this.errorFactory=nt,this.hasValue=!1}_next(Ne){this.hasValue=!0,this.destination.next(Ne)}_complete(){if(this.hasValue)return this.destination.complete();{let Ne;try{Ne=this.errorFactory()}catch(nt){Ne=nt}this.destination.error(Ne)}}}function Ue(){return new n.K}},4087:(Se,Ze,X)=>{"use strict";X.d(Ze,{r:()=>Oe});var n=X(8891),te=X(5319);function Oe(we,Fe){return new n.y(Ue=>{const He=new te.w;let Ne=0;return He.add(Fe.schedule(function(){Ne!==we.length?(Ue.next(we[Ne++]),Ue.closed||He.add(this.schedule())):Ue.complete()})),He})}},6465:(Se,Ze,X)=>{"use strict";X.d(Ze,{o:()=>Oe});var n=X(5319);class te extends n.w{constructor(Fe,Ue){super()}schedule(Fe,Ue=0){return this}}class Oe extends te{constructor(Fe,Ue){super(Fe,Ue),this.scheduler=Fe,this.work=Ue,this.pending=!1}schedule(Fe,Ue=0){if(this.closed)return this;this.state=Fe;const He=this.id,Ne=this.scheduler;return null!=He&&(this.id=this.recycleAsyncId(Ne,He,Ue)),this.pending=!0,this.delay=Ue,this.id=this.id||this.requestAsyncId(Ne,this.id,Ue),this}requestAsyncId(Fe,Ue,He=0){return setInterval(Fe.flush.bind(Fe,this),He)}recycleAsyncId(Fe,Ue,He=0){if(null!==He&&this.delay===He&&!1===this.pending)return Ue;clearInterval(Ue)}execute(Fe,Ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const He=this._execute(Fe,Ue);if(He)return He;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Fe,Ue){let Ne,He=!1;try{this.work(Fe)}catch(nt){He=!0,Ne=!!nt&&nt||new Error(nt)}if(He)return this.unsubscribe(),Ne}_unsubscribe(){const Fe=this.id,Ue=this.scheduler,He=Ue.actions,Ne=He.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Ne&&He.splice(Ne,1),null!=Fe&&(this.id=this.recycleAsyncId(Ue,Fe,null)),this.delay=null}}},6102:(Se,Ze,X)=>{"use strict";X.d(Ze,{v:()=>te});let n=(()=>{class Oe{constructor(Fe,Ue=Oe.now){this.SchedulerAction=Fe,this.now=Ue}schedule(Fe,Ue=0,He){return new this.SchedulerAction(this,Fe).schedule(He,Ue)}}return Oe.now=()=>Date.now(),Oe})();class te extends n{constructor(we,Fe=n.now){super(we,()=>te.delegate&&te.delegate!==this?te.delegate.now():Fe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(we,Fe=0,Ue){return te.delegate&&te.delegate!==this?te.delegate.schedule(we,Fe,Ue):super.schedule(we,Fe,Ue)}flush(we){const{actions:Fe}=this;if(this.active)return void Fe.push(we);let Ue;this.active=!0;do{if(Ue=we.execute(we.state,we.delay))break}while(we=Fe.shift());if(this.active=!1,Ue){for(;we=Fe.shift();)we.unsubscribe();throw Ue}}}},3637:(Se,Ze,X)=>{"use strict";X.d(Ze,{z:()=>Oe,P:()=>we});var n=X(6465);const Oe=new(X(6102).v)(n.o),we=Oe},7771:(Se,Ze,X)=>{"use strict";X.d(Ze,{c:()=>Ue,N:()=>Fe});var n=X(6465),Oe=X(6102);const Fe=new class extends Oe.v{}(class extends n.o{constructor(Ne,nt){super(Ne,nt),this.scheduler=Ne,this.work=nt}schedule(Ne,nt=0){return nt>0?super.schedule(Ne,nt):(this.delay=nt,this.state=Ne,this.scheduler.flush(this),this)}execute(Ne,nt){return nt>0||this.closed?super.execute(Ne,nt):this._execute(Ne,nt)}requestAsyncId(Ne,nt,Be=0){return null!==Be&&Be>0||null===Be&&this.delay>0?super.requestAsyncId(Ne,nt,Be):Ne.flush(this)}}),Ue=Fe},377:(Se,Ze,X)=>{"use strict";X.d(Ze,{hZ:()=>te});const te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Se,Ze,X)=>{"use strict";X.d(Ze,{L:()=>n});const n="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Se,Ze,X)=>{"use strict";X.d(Ze,{b:()=>n});const n="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(Se,Ze,X)=>{"use strict";X.d(Ze,{W:()=>te});const te=(()=>{function Oe(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return Oe.prototype=Object.create(Error.prototype),Oe})()},3410:(Se,Ze,X)=>{"use strict";X.d(Ze,{K:()=>te});const te=(()=>{function Oe(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return Oe.prototype=Object.create(Error.prototype),Oe})()},7971:(Se,Ze,X)=>{"use strict";X.d(Ze,{N:()=>te});const te=(()=>{function Oe(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Oe.prototype=Object.create(Error.prototype),Oe})()},4449:(Se,Ze,X)=>{"use strict";function n(te){setTimeout(()=>{throw te},0)}X.d(Ze,{z:()=>n})},4487:(Se,Ze,X)=>{"use strict";function n(te){return te}X.d(Ze,{y:()=>n})},9796:(Se,Ze,X)=>{"use strict";X.d(Ze,{k:()=>n});const n=Array.isArray||(te=>te&&"number"==typeof te.length)},9489:(Se,Ze,X)=>{"use strict";X.d(Ze,{z:()=>n});const n=te=>te&&"number"==typeof te.length&&"function"!=typeof te},9989:(Se,Ze,X)=>{"use strict";function n(te){return te instanceof Date&&!isNaN(+te)}X.d(Ze,{J:()=>n})},9105:(Se,Ze,X)=>{"use strict";function n(te){return"function"==typeof te}X.d(Ze,{m:()=>n})},1555:(Se,Ze,X)=>{"use strict";function n(te){return null!==te&&"object"==typeof te}X.d(Ze,{K:()=>n})},4072:(Se,Ze,X)=>{"use strict";function n(te){return!!te&&"function"!=typeof te.subscribe&&"function"==typeof te.then}X.d(Ze,{t:()=>n})},4869:(Se,Ze,X)=>{"use strict";function n(te){return te&&"function"==typeof te.schedule}X.d(Ze,{K:()=>n})},8640:(Se,Ze,X)=>{"use strict";function n(){}X.d(Ze,{Z:()=>n})},4022:(Se,Ze,X)=>{"use strict";X.d(Ze,{z:()=>te,U:()=>Oe});var n=X(4487);function te(...we){return Oe(we)}function Oe(we){return 0===we.length?n.y:1===we.length?we[0]:function(Ue){return we.reduce((He,Ne)=>Ne(He),Ue)}}},7444:(Se,Ze,X)=>{"use strict";X.d(Ze,{s:()=>qe});var n=X(5015),te=X(4449),we=X(377),Ue=X(6554),Ne=X(9489),nt=X(4072),Be=X(1555);const qe=$e=>{if($e&&"function"==typeof $e[Ue.L])return($e=>Qe=>{const Ot=$e[Ue.L]();if("function"!=typeof Ot.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ot.subscribe(Qe)})($e);if((0,Ne.z)($e))return(0,n.V)($e);if((0,nt.t)($e))return($e=>Qe=>($e.then(Ot=>{Qe.closed||(Qe.next(Ot),Qe.complete())},Ot=>Qe.error(Ot)).then(null,te.z),Qe))($e);if($e&&"function"==typeof $e[we.hZ])return($e=>Qe=>{const Ot=$e[we.hZ]();for(;;){let Zt;try{Zt=Ot.next()}catch(_t){return Qe.error(_t),Qe}if(Zt.done){Qe.complete();break}if(Qe.next(Zt.value),Qe.closed)break}return"function"==typeof Ot.return&&Qe.add(()=>{Ot.return&&Ot.return()}),Qe})($e);{const Ot=`You provided ${(0,Be.K)($e)?"an invalid object":`'${$e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ot)}}},5015:(Se,Ze,X)=>{"use strict";X.d(Ze,{V:()=>n});const n=te=>Oe=>{for(let we=0,Fe=te.length;we<Fe&&!Oe.closed;we++)Oe.next(te[we]);Oe.complete()}},1378:(Se,Ze,X)=>{"use strict";var n=X(9075),te=X(7716),Oe=X(8583),we=X(1439),Fe=X(205),Ue=X(2759),He=X(5917),Ne=X(8071),nt=X(9765),Be=X(8891),qe=X(8640);const $e=new Be.y(qe.Z);var Ot=X(6682),Zt=X(8002),_t=X(5435),Ae=X(3190),Mt=X(4458),ve=X(5257),Me=X(8307),tt=X(3637),bt=X(9989),Dt=X(7393),cn=X(3098);class Ht{constructor(Ct,dt){this.delay=Ct,this.scheduler=dt}call(Ct,dt){return dt.subscribe(new Lt(Ct,this.delay,this.scheduler))}}class Lt extends Dt.L{constructor(Ct,dt,We){super(Ct),this.delay=dt,this.scheduler=We,this.queue=[],this.active=!1,this.errored=!1}static dispatch(Ct){const dt=Ct.source,We=dt.queue,pt=Ct.scheduler,Ut=Ct.destination;for(;We.length>0&&We[0].time-pt.now()<=0;)We.shift().notification.observe(Ut);if(We.length>0){const st=Math.max(0,We[0].time-pt.now());this.schedule(Ct,st)}else this.unsubscribe(),dt.active=!1}_schedule(Ct){this.active=!0,this.destination.add(Ct.schedule(Lt.dispatch,this.delay,{source:this,destination:this.destination,scheduler:Ct}))}scheduleNotification(Ct){if(!0===this.errored)return;const dt=this.scheduler,We=new on(dt.now()+this.delay,Ct);this.queue.push(We),!1===this.active&&this._schedule(dt)}_next(Ct){this.scheduleNotification(cn.P.createNext(Ct))}_error(Ct){this.errored=!0,this.queue=[],this.destination.error(Ct),this.unsubscribe()}_complete(){this.scheduleNotification(cn.P.createComplete()),this.unsubscribe()}}class on{constructor(Ct,dt){this.time=Ct,this.notification=dt}}const sn="Service workers are disabled or not supported by this browser";class wt{constructor(Ct){if(this.serviceWorker=Ct,Ct){const We=(0,Ue.R)(Ct,"controllerchange").pipe((0,Zt.U)(()=>Ct.controller)),pt=(0,we.P)(()=>(0,He.of)(Ct.controller)),Ut=(0,Ne.z)(pt,We);this.worker=Ut.pipe((0,_t.h)(Cn=>!!Cn)),this.registration=this.worker.pipe((0,Ae.w)(()=>Ct.getRegistration()));const Bt=(0,Ue.R)(Ct,"message").pipe((0,Zt.U)(Cn=>Cn.data)).pipe((0,_t.h)(Cn=>Cn&&Cn.type)).pipe((0,Mt.O)(new nt.xQ));Bt.connect(),this.events=Bt}else this.worker=this.events=this.registration=(sn,(0,we.P)(()=>(0,Fe._)(new Error("Service workers are disabled or not supported by this browser"))))}postMessage(Ct,dt){return this.worker.pipe((0,ve.q)(1),(0,Me.b)(We=>{We.postMessage(Object.assign({action:Ct},dt))})).toPromise().then(()=>{})}postMessageWithStatus(Ct,dt,We){const pt=this.waitForStatus(We),Ut=this.postMessage(Ct,dt);return Promise.all([pt,Ut]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Ct){return this.events.pipe((0,_t.h)(We=>We.type===Ct))}nextEventOfType(Ct){return this.eventsOfType(Ct).pipe((0,ve.q)(1))}waitForStatus(Ct){return this.eventsOfType("STATUS").pipe((0,_t.h)(dt=>dt.nonce===Ct),(0,ve.q)(1),(0,Zt.U)(dt=>{if(!dt.status)throw new Error(dt.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Yt=(()=>{class it{constructor(dt){if(this.sw=dt,this.subscriptionChanges=new nt.xQ,!dt.isEnabled)return this.messages=$e,this.notificationClicks=$e,void(this.subscription=$e);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Zt.U)(pt=>pt.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Zt.U)(pt=>pt.data)),this.pushManager=this.sw.registration.pipe((0,Zt.U)(pt=>pt.pushManager));const We=this.pushManager.pipe((0,Ae.w)(pt=>pt.getSubscription()));this.subscription=(0,Ot.T)(We,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(dt){if(!this.sw.isEnabled)return Promise.reject(new Error(sn));const We={userVisibleOnly:!0};let pt=this.decodeBase64(dt.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Ut=new Uint8Array(new ArrayBuffer(pt.length));for(let st=0;st<pt.length;st++)Ut[st]=pt.charCodeAt(st);return We.applicationServerKey=Ut,this.pushManager.pipe((0,Ae.w)(st=>st.subscribe(We)),(0,ve.q)(1)).toPromise().then(st=>(this.subscriptionChanges.next(st),st))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,ve.q)(1),(0,Ae.w)(We=>{if(null===We)throw new Error("Not subscribed to push notifications.");return We.unsubscribe().then(pt=>{if(!pt)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(sn))}decodeBase64(dt){return atob(dt)}}return it.\u0275fac=function(dt){return new(dt||it)(te.LFG(wt))},it.\u0275prov=te.Yz7({token:it,factory:it.\u0275fac}),it})(),gn=(()=>{class it{constructor(dt){if(this.sw=dt,!dt.isEnabled)return this.available=$e,this.activated=$e,void(this.unrecoverable=$e);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(sn));const dt=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:dt},dt)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(sn));const dt=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:dt},dt)}}return it.\u0275fac=function(dt){return new(dt||it)(te.LFG(wt))},it.\u0275prov=te.Yz7({token:it,factory:it.\u0275fac}),it})();class kn{}const Zn=new te.OlP("NGSW_REGISTER_SCRIPT");function In(it,Ct,dt,We){return()=>{if(!(0,Oe.NF)(We)||!("serviceWorker"in navigator)||!1===dt.enabled)return;let Ut;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof dt.registrationStrategy)Ut=dt.registrationStrategy();else{const[Ge,...yt]=(dt.registrationStrategy||"registerWhenStable:30000").split(":");switch(Ge){case"registerImmediately":Ut=(0,He.of)(null);break;case"registerWithDelay":Ut=Hn(+yt[0]||0);break;case"registerWhenStable":Ut=yt[0]?(0,Ot.T)(ni(it),Hn(+yt[0])):ni(it);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${dt.registrationStrategy}`)}}it.get(te.R0b).runOutsideAngular(()=>Ut.pipe((0,ve.q)(1)).subscribe(()=>navigator.serviceWorker.register(Ct,{scope:dt.scope}).catch(Ge=>console.error("Service worker registration failed with:",Ge))))}}function Hn(it){return(0,He.of)(null).pipe(function(it,Ct=tt.P){const We=(0,bt.J)(it)?+it-Ct.now():Math.abs(it);return pt=>pt.lift(new Ht(We,Ct))}(it))}function ni(it){return it.get(te.z2F).isStable.pipe((0,_t.h)(dt=>dt))}function pi(it,Ct){return new wt((0,Oe.NF)(Ct)&&!1!==it.enabled?navigator.serviceWorker:void 0)}let Fi=(()=>{class it{static register(dt,We={}){return{ngModule:it,providers:[{provide:Zn,useValue:dt},{provide:kn,useValue:We},{provide:wt,useFactory:pi,deps:[kn,te.Lbi]},{provide:te.ip1,useFactory:In,deps:[te.zs3,Zn,kn,te.Lbi],multi:!0}]}}}return it.\u0275fac=function(dt){return new(dt||it)},it.\u0275mod=te.oAB({type:it}),it.\u0275inj=te.cJS({providers:[Yt,gn]}),it})();var bi=X(8747),fi=X(5987),ri=X(425),zn=X(8394),Un=X(3499),_i=X(2582),mi=X(157),ji=X(1344);const er=new te.OlP("AppConfig");var fr=X(1841);let Ji=(()=>{class it{constructor(dt){this.http=dt}getTranslation(dt){return this.http.get(`./assets/i18n/${dt}.json`)}}return it.\u0275fac=function(dt){return new(dt||it)(te.LFG(fr.eN))},it.\u0275prov=te.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})();class Or{handle(){return null}}let Qn=(()=>{class it{}return it.\u0275fac=function(dt){return new(dt||it)},it.\u0275mod=te.oAB({type:it}),it.\u0275inj=te.cJS({providers:[{provide:zn.K0,useClass:Ji},{provide:zn.AN,useClass:Or}],imports:[[fr.JF],zn.y4]}),it})();var Yi=X(3971);let yr=(()=>{class it{}return it.\u0275fac=function(dt){return new(dt||it)},it.\u0275mod=te.oAB({type:it}),it.\u0275inj=te.cJS({imports:[[Oe.ez,zn.y4,_i.Pf,Yi.NguixIconComponentModule]]}),it})(),pr=(()=>{class it{}return it.\u0275fac=function(dt){return new(dt||it)},it.\u0275mod=te.oAB({type:it}),it.\u0275inj=te.cJS({imports:[[Oe.ez,zn.y4,_i.Pf]]}),it})(),bn=(()=>{class it{constructor(dt){this.errorService=dt}handleError(dt){this.errorService.report(dt)}}return it.\u0275fac=function(dt){return new(dt||it)(te.LFG(_i.T_))},it.\u0275prov=te.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})(),jt=(()=>{class it{static forRoot(dt){return{ngModule:it,providers:[{provide:er,useValue:dt},{provide:te.soG,useValue:dt.translocoConfig.defaultLang},{provide:zn.hG,useValue:dt.translocoConfig},{provide:te.qLn,useClass:bn},{provide:Un.iC,useValue:dt.name},{provide:Un.Ji,useValue:dt.version},{provide:Un.f,useValue:!dt.production},Un.Qx,Un.eK,_i.tz,_i.gr,_i.QM,_i.rX,_i.c9,_i.zi,_i.Rj,_i.tZ,_i.RC,_i.J$,_i._E,_i.e8,_i.KD,_i.k9,_i.V1,mi.ZO,mi.HJ,mi.dF,mi.QX,mi.Vz,mi.i9,mi.Er,mi.bz,mi.Mn,mi.DR]}}}return it.\u0275fac=function(dt){return new(dt||it)},it.\u0275mod=te.oAB({type:it}),it.\u0275inj=te.cJS({imports:[[n.b2,fi.Bz,Un.Bg,ri.$l.forRoot([mi.Ii],{developmentMode:!1}),Qn,ji.Fe,yr,pr,Yi.NguixNavIndicatorI18nComponentModule,Yi.NguixPwaReminderI18nComponentModule]]}),it})();var tn=X(3820),jn=X(2825),Ve=X(7063);const It=function(){return{exact:!0}};function vt(it,Ct){if(1&it&&(te.TgZ(0,"li"),te.TgZ(1,"a",15),te._uU(2),te.qZA(),te.qZA()),2&it){const dt=Ct.$implicit,We=te.oxw().$implicit;te.Tol(dt.name),te.xp6(1),te.Q6J("usefulRouterLink",dt.routerLink)("usefulRouterLinkActiveOptions",te.DdM(6,It))("usefulRouterBackwardable",!1),te.xp6(1),te.Oqu(We(dt.text||""))}}const mn=function(it){return["member",it]},Rn=function(){return["login"]};function _n(it,Ct){if(1&it){const dt=te.EpF();te.ynx(0),te.TgZ(1,"header",1),te.TgZ(2,"div",2),te.TgZ(3,"button",3),te.NdJ("click",function(){return te.CHM(dt),te.oxw().navService.back()}),te._UZ(4,"nguix-icon",4),te.qZA(),te.qZA(),te.TgZ(5,"div",5),te.TgZ(6,"em"),te._UZ(7,"img",6),te.qZA(),te.TgZ(8,"strong",7),te._uU(9),te.qZA(),te.qZA(),te.TgZ(10,"nav",8),te.TgZ(11,"div",9),te.TgZ(12,"ul",10),te.YNc(13,vt,3,7,"li",11),te.qZA(),te.qZA(),te.qZA(),te.TgZ(14,"div",12),te.TgZ(15,"a",13),te._UZ(16,"img",14),te.qZA(),te.qZA(),te.qZA(),te.BQk()}if(2&it){const dt=Ct.$implicit,We=te.oxw();te.xp6(2),te.ekj("visible",We.navService.isBackwardable()),te.xp6(5),te.Q6J("alt",dt("NAME")),te.xp6(2),te.Oqu(dt("NAME")),te.xp6(4),te.Q6J("ngForOf",We.menuItems),te.xp6(2),te.Q6J("usefulRouterLink",We.userService.currentUser?te.VKq(8,mn,We.userService.username||""):te.DdM(10,Rn))("usefulRouterBackwardable",!We.userService.currentUser),te.xp6(1),te.Q6J("src",(null==We.userService.data?null:We.userService.data.photoURL)||"https://www.gravatar.com/avatar/none?d=mp",te.LSH)}}let Pn=(()=>{class it{constructor(dt,We,pt){this.appService=dt,this.userService=We,this.navService=pt,this.menuItems=[]}ngOnInit(){}}return it.\u0275fac=function(dt){return new(dt||it)(te.Y36(_i.zi),te.Y36(_i.KD),te.Y36(_i.tZ))},it.\u0275cmp=te.Xpm({type:it,selectors:[["app-header"]],inputs:{menuItems:"menuItems"},decls:1,vars:0,consts:[[4,"transloco"],[1,"app-header"],[1,"toggler"],[3,"click"],["pack","fluent","name","arrow_left_16_regular"],[1,"brand"],["src","/assets/images/logo.svg",3,"alt"],[1,"font-head"],[1,"nav"],[1,"primary"],[1,"menu"],[3,"class",4,"ngFor","ngForOf"],[1,"user"],[1,"avatar",3,"usefulRouterLink","usefulRouterBackwardable"],[3,"src"],["usefulRouterLinkActive","active",3,"usefulRouterLink","usefulRouterLinkActiveOptions","usefulRouterBackwardable"]],template:function(dt,We){1&dt&&te.YNc(0,_n,17,11,"ng-container",0)},directives:[zn.KI,Yi.IconComponent,Oe.sg,_i.jY],styles:[".app-header[_ngcontent-%COMP%]{top:0;left:0;z-index:9;width:100%;height:65px;padding:1rem;position:fixed;display:flex;align-items:center;flex-wrap:nowrap;background:var(--app-color-background-tint);box-shadow:0 7px 7px -7px var(--app-color-background-shade)}.app-header[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{display:flex;align-items:center}.app-header[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;background:none;border:none;outline:none;margin-left:-.5rem;width:0;padding:0;overflow:hidden;transition:all .3s ease}.app-header[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .app-header[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{border-radius:var(--app-size-radius)}.app-header[_ngcontent-%COMP%]   .toggler.visible[_ngcontent-%COMP%]{margin-right:.5rem}.app-header[_ngcontent-%COMP%]   .toggler.visible[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:42px;padding:0 5px}.app-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.app-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem}.app-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:none;margin-left:1rem;font-size:1.25rem}.app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{flex:1}.app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{margin-right:1rem;display:flex;justify-content:flex-end}.app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;display:none;flex:1;align-items:center;justify-content:flex-end;font-size:.9rem}.app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:none}.app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   a[_ngcontent-%COMP%]{padding-right:0}.app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;width:auto;height:32px;color:var(--app-color-foreground);padding:0 .75rem;border-radius:var(--app-size-radius)}.app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{text-decoration:none;background:var(--app-color-background-shade);color:var(--app-color-foreground-shade);opacity:1}.app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{font-weight:700}.app-header[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;background-size:1.5rem 1.5rem;margin-right:.5rem;width:2.5rem;height:2.5rem}@keyframes notification_animation{0%{transform:scale(1)}50%{transform:scale(.8)}to{transform:scale(1)}}.app-header[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   button.has-message[_ngcontent-%COMP%]{margin-right:1rem}.app-header[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{position:absolute;top:-.25rem;right:-.5rem;width:1.25rem;height:1.25rem;border-radius:100%;padding:0 .25rem;background:var(--app-color-danger);color:var(--app-color-danger-contrast);font-size:.9rem;animation-name:notification_animation;animation-duration:.5s;animation-iteration-count:infinite}.app-header[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:2px}.app-header[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   a.avatar[_ngcontent-%COMP%]{display:inline-block;width:2.2rem;height:2.2rem;border-radius:100%;overflow:hidden}.app-header[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   a.avatar[_ngcontent-%COMP%]:focus, .app-header[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   a.avatar[_ngcontent-%COMP%]:active{outline:none}.app-header[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   a.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}@media only screen and (min-width: 480px){.app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{padding-right:1rem;border-right:1px solid var(--app-color-background-shade)}.app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]{display:flex}.app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]{display:inline-block}}@media only screen and (min-width: 512px){.app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   .works[_ngcontent-%COMP%]{display:inline-block}}@media only screen and (min-width: 576px){.app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   .blog[_ngcontent-%COMP%]{display:inline-block}}@media only screen and (min-width: 768px){.app-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block}.app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]{font-size:1rem;margin-right:1rem}.app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   .donate[_ngcontent-%COMP%]{display:inline-block}}@media only screen and (min-width: 992px){.app-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   ul.menu[_ngcontent-%COMP%]   .store[_ngcontent-%COMP%]{display:inline-block}}"]}),it})();const En=function(it,Ct){return{exact:it,also:Ct}};function Jn(it,Ct){if(1&it&&(te.TgZ(0,"li"),te.TgZ(1,"a",3),te._UZ(2,"i",4),te.TgZ(3,"span",5),te._uU(4),te.qZA(),te.qZA(),te.qZA()),2&it){const dt=Ct.$implicit,We=te.oxw().$implicit;te.Tol(dt.name),te.xp6(1),te.Q6J("usefulRouterLink",dt.routerLink)("usefulRouterLinkActiveOptions",te.WLB(8,En,"home"===dt.name,dt.activeAlso))("usefulRouterBackwardable",!1),te.xp6(1),te.Tol(dt.icon),te.xp6(2),te.hij(" ",We(dt.shortText||dt.text||"")||dt.shortText||dt.text," ")}}function Yn(it,Ct){if(1&it&&(te.ynx(0),te.TgZ(1,"ul",1),te.YNc(2,Jn,5,11,"li",2),te.qZA(),te.BQk()),2&it){const dt=te.oxw();te.xp6(2),te.Q6J("ngForOf",dt.menuItems)}}let ii=(()=>{class it{constructor(){this.menuItems=[]}ngOnInit(){}}return it.\u0275fac=function(dt){return new(dt||it)},it.\u0275cmp=te.Xpm({type:it,selectors:[["app-tabs"]],inputs:{menuItems:"menuItems"},decls:1,vars:0,consts:[[4,"transloco"],[1,"host"],[3,"class",4,"ngFor","ngForOf"],["usefulRouterLinkActive","active",3,"usefulRouterLink","usefulRouterLinkActiveOptions","usefulRouterBackwardable"],[1,"icon"],[1,"truncate"]],template:function(dt,We){1&dt&&te.YNc(0,Yn,3,1,"ng-container",0)},directives:[zn.KI,Oe.sg,_i.jY],styles:[".host[_ngcontent-%COMP%]{list-style:none;position:fixed;margin:0;padding:0;bottom:0;left:0;z-index:9;width:100%;height:65px;display:flex;align-items:center;justify-content:center;flex-wrap:nowrap;background:var(--app-color-background-tint);box-shadow:0 -7px 7px -7px var(--app-color-background-shade)}.host[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1}.host[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;width:100%;padding:.5rem 0;color:var(--app-color-foreground);display:flex;flex-wrap:wrap;justify-content:center;border-top:3px solid rgba(0,0,0,0)}.host[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .host[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .host[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .host[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:var(--app-color-background-shade);text-decoration:none}.host[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-top-color:var(--app-color-foreground)}.host[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.host[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center;width:100%;font-size:.8rem;margin-top:.25rem}.host[_ngcontent-%COMP%]   li.home[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .host[_ngcontent-%COMP%]   li.home[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .host[_ngcontent-%COMP%]   li.home[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .host[_ngcontent-%COMP%]   li.home[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:rgba(var(--app-color-primary-rgb),.2)}.host[_ngcontent-%COMP%]   li.home[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-top-color:var(--app-color-primary)}.host[_ngcontent-%COMP%]   li.news[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .host[_ngcontent-%COMP%]   li.news[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .host[_ngcontent-%COMP%]   li.news[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .host[_ngcontent-%COMP%]   li.news[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:rgba(var(--app-color-secondary-rgb),.2)}.host[_ngcontent-%COMP%]   li.news[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-top-color:var(--app-color-secondary)}.host[_ngcontent-%COMP%]   li.videos[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .host[_ngcontent-%COMP%]   li.videos[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .host[_ngcontent-%COMP%]   li.videos[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .host[_ngcontent-%COMP%]   li.videos[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:rgba(var(--app-color-danger-rgb),.2)}.host[_ngcontent-%COMP%]   li.videos[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-top-color:var(--app-color-danger)}.host[_ngcontent-%COMP%]   li.articles[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .host[_ngcontent-%COMP%]   li.articles[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .host[_ngcontent-%COMP%]   li.articles[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .host[_ngcontent-%COMP%]   li.articles[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:rgba(var(--app-color-tertiary-rgb),.2)}.host[_ngcontent-%COMP%]   li.articles[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-top-color:var(--app-color-tertiary)}@media only screen and (min-width: 992px){.tabs[_ngcontent-%COMP%]{width:calc(100% - 250px);left:250px}}"]}),it})();function Rt(it,Ct){if(1&it&&te._UZ(0,"app-header",5),2&it){const dt=te.oxw();te.Q6J("menuItems",dt.personaService.menu)}}function ut(it,Ct){1&it&&te._UZ(0,"nguix-dashboard-header")}function $t(it,Ct){if(1&it&&te._UZ(0,"app-tabs",5),2&it){const dt=te.oxw();te.Q6J("menuItems",dt.personaService.tabs)}}let zt=(()=>{class it{constructor(dt,We,pt,Ut,st,Ge,yt,Bt,Cn,wn,ei,Pi,wi,Si,si,Ri,tr,rr,Vi,lr,Yr,Ur,ao,ct,lt,$,ue,_e,Le,Xe){this.config=dt,this.translateService=We,this.firebaseAuth=pt,this.firebaseFirestore=Ut,this.firebaseStorage=st,this.errorService=Ge,this.networkService=yt,this.localstorageService=Bt,this.cacheService=Cn,this.fetchService=wn,this.appService=ei,this.metaService=Pi,this.navService=wi,this.settingService=Si,this.personaService=si,this.pwaService=Ri,this.authService=tr,this.userService=rr,this.databaseService=Vi,this.storageService=lr,this.optionDataService=Yr,this.categoryDataService=Ur,this.tagDataService=ao,this.pageDataService=ct,this.postDataService=lt,this.audioDataService=$,this.videoDataService=ue,this.bundleDataService=_e,this.userDataService=Le,this.profileDataService=Xe,this.initialize()}initialize(){this.errorService.setOptions({disabled:!this.config.production}).setIntegrations({userService:this.userService}).init({projectId:this.config.firebase.projectId,apiKey:this.config.firebase.apiKey,service:this.config.name,version:this.config.version}),this.networkService.init(),this.localstorageService.init(),this.cacheService.init(),this.fetchService.setIntegrations({cacheService:this.cacheService}).setOptions({cacheTime:1440}).init(),this.databaseService.setOptions({driver:"firestore",cacheTime:1440,prerendering:!0}).setIntegrations({cacheService:this.cacheService}).init(this.firebaseFirestore),this.storageService.setIntegrations({cacheService:this.cacheService}).setOptions({dateGrouping:!0,listingCacheTime:1440,listingIgnoreEmptyFolder:!0}).init(this.firebaseStorage),this.appService.setOptions({splashScreen:!0}).setData(this.config).setDataLoader(this.optionDataService.record(dt=>dt.where("status","==","publish").where("type","==","default"),{name:"Activated app options",time:10080})).init(),this.authService.setOptions({driver:"firestore"}).init(this.firebaseAuth),this.userService.setOptions({profilePublished:!0}).init(this.userDataService,this.profileDataService),this.settingService.setOptions({browserColor:!0,browserLocale:!0,waitForNavigationEnd:!0,usePrioritized:!0,onReady:()=>this.appService.hideSplashScreen(),personaValidator:(dt,We)=>"dashboard"!==dt||!!(null==We?void 0:We.allowedLevel(5))}).setIntegrations({localstorageService:this.localstorageService,translateService:this.translateService,userService:this.userService}).setDefaults(this.config.settingService.defaultSettings).setListing(this.config.settingService.listing).init(),this.navService.setIntegrations({settingService:this.settingService}).init(),this.pwaService.setOptions({reminder:12}).init(),this.personaService.setIntegrations({settingService:this.settingService,navService:this.navService}).setMenuRegistry({home:{name:"home",text:"APP.HOME",routerLink:[""],icon:"icon-home"},posts:{name:"posts",text:"APP.POSTS",routerLink:["posts"],icon:"icon-posts"},articles:{name:"articles",text:"APP.ARTICLES",routerLink:["articles"],icon:"icon-articles"},videos:{name:"videos",text:"APP.VIDEOS",routerLink:["videos"],icon:"icon-videos"},setting:{name:"setting",text:"APP.SETTING",routerLink:["setting"],icon:"icon-setting"},about:{name:"about",text:"APP.ABOUT",routerLink:["about"],icon:"icon-about"},help:{name:"help",text:"APP.HELP",routerLink:["help"],icon:"icon-help"},more:{name:"more",text:"APP.MORE",routerLink:["more"],icon:"icon-more"}}).init({default:{menu:["posts","videos","articles","about"],tabs:["home","posts","videos","articles","more"],more:["setting","about","help"]}}),this.metaService.setIntegrations({settingService:this.settingService}).init(this.config.metaService.defaultMetas,this.config.metaService.metaTranslations),this.optionDataService.setOptions({advancedMode:!0}).init(),this.categoryDataService.setOptions({advancedMode:!0}).init(),this.tagDataService.setOptions({advancedMode:!0}).init(),this.pageDataService.setOptions({advancedMode:!0}).init(),this.postDataService.setOptions({advancedMode:!0}).init(),this.audioDataService.setOptions({advancedMode:!0}).init(),this.videoDataService.setOptions({advancedMode:!0}).init(),this.bundleDataService.setOptions({advancedMode:!0}).init(),this.profileDataService.setOptions({advancedMode:!0}).init()}}return it.\u0275fac=function(dt){return new(dt||it)(te.Y36(er),te.Y36(zn.Vn),te.Y36(tn.zQ),te.Y36(jn.ST),te.Y36(Ve.Q1),te.Y36(_i.T_),te.Y36(_i.tz),te.Y36(_i.gr),te.Y36(_i.QM),te.Y36(_i.rX),te.Y36(_i.zi),te.Y36(_i.Rj),te.Y36(_i.tZ),te.Y36(_i.RC),te.Y36(_i.J$),te.Y36(_i._E),te.Y36(_i.e8),te.Y36(_i.KD),te.Y36(_i.k9),te.Y36(_i.V1),te.Y36(mi.ZO),te.Y36(mi.HJ),te.Y36(mi.dF),te.Y36(mi.QX),te.Y36(mi.Vz),te.Y36(mi.i9),te.Y36(mi.Er),te.Y36(mi.bz),te.Y36(mi.Mn),te.Y36(mi.DR))},it.\u0275cmp=te.Xpm({type:it,selectors:[["app-root"]],decls:8,vars:5,consts:[[3,"menuItems",4,"ngIf","ngIfElse"],["dashBoardHeader",""],["id","page-container"],[3,"menuItems",4,"ngIf"],[3,"i18n"],[3,"menuItems"]],template:function(dt,We){if(1&dt&&(te.YNc(0,Rt,1,1,"app-header",0),te.YNc(1,ut,1,0,"ng-template",null,1,te.W1O),te.TgZ(3,"main",2),te._UZ(4,"router-outlet"),te.qZA(),te.YNc(5,$t,1,1,"app-tabs",3),te._UZ(6,"nguix-nav-indicator",4),te._UZ(7,"nguix-pwa-reminder",4)),2&dt){const pt=te.MAs(2);te.Q6J("ngIf","dashboard"!==We.personaService.name)("ngIfElse",pt),te.xp6(5),te.Q6J("ngIf","dashboard"!==We.personaService.name),te.xp6(1),te.Q6J("i18n",!0),te.xp6(1),te.Q6J("i18n",!0)}},directives:[Oe.O5,fi.lC,Yi.NavIndicatorComponent,Yi.PwaReminderComponent,Pn,ji.Gt,ii],styles:["#page-container[_ngcontent-%COMP%]{min-height:calc(100vh - 65px - 65px);margin-top:65px;margin-bottom:65px}"]}),it})();const Gt={production:!0,name:"Church Theme",version:"0.0.0",firebase:{apiKey:"AIzaSyC189FtZen3RS79TePqiVsIF7AsagwJ5uA",authDomain:"lam-nhan-example-private.firebaseapp.com",projectId:"lam-nhan-example-private",storageBucket:"lam-nhan-example-private.appspot.com",messagingSenderId:"463184417665",appId:"1:463184417665:web:62f8866c462c08e76c4e80",measurementId:"G-8LYMYB8EV0"}},Tn=[{path:"",pathMatch:"full",loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.HomePageModule)},{path:"terms",loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.TermsPageModule)},{path:"privacy",loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.PrivacyPageModule)},{path:"setting",loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.SettingPageModule)},{path:"login",canLoad:[_i._4],canActivate:[_i._4],loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.LoginPageModule)},{path:"login/guard/:guardName",canLoad:[_i._4],canActivate:[_i._4],loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.LoginPageModule)},{path:"register",canLoad:[_i._4],canActivate:[_i._4],loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.RegisterPageModule)},{path:"account",canLoad:[_i._4,_i.a1],canActivate:[_i._4,_i.a1],loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.AccountPageModule)},{path:"member/:username/:route/:itemId",canLoad:[_i._4],canActivate:[_i._4],loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.MemberPageModule)},{path:"member/:username/:route",canLoad:[_i._4],canActivate:[_i._4],loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.MemberPageModule)},{path:"member/:username",canLoad:[_i._4],canActivate:[_i._4],loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.MemberPageModule)},{path:"more",canLoad:[_i._4],canActivate:[_i._4],loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.MorePageModule)},{path:"posts",loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.PostsPageModule)},{path:"post",loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.PostPageModule)},{path:"articles",loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.ArticlesPageModule)},{path:"article",loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.ArticlePageModule)},{path:"videos",loadChildren:()=>Promise.all([X.e(937),X.e(640)]).then(X.bind(X,9548)).then(it=>it.VideosPageModule)},{path:"video/:id",loadChildren:()=>X.e(418).then(X.bind(X,4418)).then(it=>it.VideoPageModule)},{path:"about",loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.AboutPageModule)},{path:"help",loadChildren:()=>Promise.all([X.e(937),X.e(258)]).then(X.bind(X,258)).then(it=>it.HelpPageModule)},{path:"**",loadChildren:()=>Promise.resolve().then(X.bind(X,3971)).then(it=>it.NguixOopsPageModule)}];let ti=(()=>{class it{}return it.\u0275fac=function(dt){return new(dt||it)},it.\u0275mod=te.oAB({type:it}),it.\u0275inj=te.cJS({imports:[[fi.Bz.forRoot(Tn)],fi.Bz]}),it})(),Fn=(()=>{class it{}return it.\u0275fac=function(dt){return new(dt||it)},it.\u0275mod=te.oAB({type:it}),it.\u0275inj=te.cJS({providers:[{provide:ji.zz,useValue:(0,ji.WX)({parts:["front","option","page","post","audio","video","bundle","category","tag","media","user"],plugins:[Ct=>{Ct.categoryPart.contentTypes.push({text:"Articles",value:"article_category",icon:"icon-articles"},{text:"Videos",value:"video_category",icon:"icon-videos"}),Ct.postPart.contentTypes.push({text:"Articles",value:"article",icon:"icon-articles"}),Ct.postPart.formSchema.forEach((dt,We)=>{"categories"===dt.name&&dt.meta&&(Ct.postPart.formSchema[We]=Object.assign(Object.assign({},dt),{meta:Object.assign(Object.assign({},dt.meta),{typeFilter:{default:"default",article:"article_category"}})}))}),Ct.videoPart.formSchema.forEach((dt,We)=>{"categories"===dt.name&&dt.meta&&(Ct.videoPart.formSchema[We]=Object.assign(Object.assign({},dt),{meta:Object.assign(Object.assign({},dt.meta),{typeFilter:{default:"video_category"}})}))})}]})}],imports:[[ji.vs],ji.vs]}),it})(),Ni=(()=>{class it{}return it.\u0275fac=function(dt){return new(dt||it)},it.\u0275mod=te.oAB({type:it,bootstrap:[zt]}),it.\u0275inj=te.cJS({imports:[[bi.hO.initializeApp(Gt.firebase),Fi.register("ngsw-worker.js",{enabled:Gt.production,registrationStrategy:"registerWhenStable:30000"}),Fn,ti,jt.forRoot({name:Gt.name,version:Gt.version,production:Gt.production,firebase:Gt.firebase,translocoConfig:{availableLangs:["en-US"],defaultLang:"en-US",fallbackLang:"en-US",reRenderOnLangChange:!0,prodMode:Gt.production},settingService:{defaultSettings:{theme:"light",locale:"en-US",persona:"default"},listing:{themes:[{text:"THEME.LIGHT",value:"light"}],personas:[{text:"PERSONA.DEFAULT",value:"default"},{text:"PERSONA.DASHBOARD",value:"dashboard"}],locales:[{text:"English",value:"en-US"}]}},metaService:{defaultMetas:{url:"https://church-preview.lamnhan.com/",title:"Church Theme",description:"The Church theme",image:"https://church-preview.lamnhan.com/assets/images/featured.jpg",locale:"en-US"}}})]]}),it})();Gt.production&&(0,te.G48)(),n.q6().bootstrapModule(Ni).catch(it=>console.error(it))},4762:(Se,Ze,X)=>{"use strict";X.d(Ze,{ZT:()=>te,pi:()=>Oe,_T:()=>we,gn:()=>Fe,fM:()=>Ue,mG:()=>Ne,Jh:()=>nt,XA:()=>$e,CR:()=>Qe,ev:()=>_t});var n=function(Ht,Lt){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(on,sn){on.__proto__=sn}||function(on,sn){for(var pn in sn)Object.prototype.hasOwnProperty.call(sn,pn)&&(on[pn]=sn[pn])})(Ht,Lt)};function te(Ht,Lt){if("function"!=typeof Lt&&null!==Lt)throw new TypeError("Class extends value "+String(Lt)+" is not a constructor or null");function on(){this.constructor=Ht}n(Ht,Lt),Ht.prototype=null===Lt?Object.create(Lt):(on.prototype=Lt.prototype,new on)}var Oe=function(){return(Oe=Object.assign||function(Lt){for(var on,sn=1,pn=arguments.length;sn<pn;sn++)for(var wt in on=arguments[sn])Object.prototype.hasOwnProperty.call(on,wt)&&(Lt[wt]=on[wt]);return Lt}).apply(this,arguments)};function we(Ht,Lt){var on={};for(var sn in Ht)Object.prototype.hasOwnProperty.call(Ht,sn)&&Lt.indexOf(sn)<0&&(on[sn]=Ht[sn]);if(null!=Ht&&"function"==typeof Object.getOwnPropertySymbols){var pn=0;for(sn=Object.getOwnPropertySymbols(Ht);pn<sn.length;pn++)Lt.indexOf(sn[pn])<0&&Object.prototype.propertyIsEnumerable.call(Ht,sn[pn])&&(on[sn[pn]]=Ht[sn[pn]])}return on}function Fe(Ht,Lt,on,sn){var Yt,pn=arguments.length,wt=pn<3?Lt:null===sn?sn=Object.getOwnPropertyDescriptor(Lt,on):sn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)wt=Reflect.decorate(Ht,Lt,on,sn);else for(var gn=Ht.length-1;gn>=0;gn--)(Yt=Ht[gn])&&(wt=(pn<3?Yt(wt):pn>3?Yt(Lt,on,wt):Yt(Lt,on))||wt);return pn>3&&wt&&Object.defineProperty(Lt,on,wt),wt}function Ue(Ht,Lt){return function(on,sn){Lt(on,sn,Ht)}}function Ne(Ht,Lt,on,sn){return new(on||(on=Promise))(function(wt,Yt){function gn(In){try{Zn(sn.next(In))}catch(Hn){Yt(Hn)}}function kn(In){try{Zn(sn.throw(In))}catch(Hn){Yt(Hn)}}function Zn(In){In.done?wt(In.value):function(wt){return wt instanceof on?wt:new on(function(Yt){Yt(wt)})}(In.value).then(gn,kn)}Zn((sn=sn.apply(Ht,Lt||[])).next())})}function nt(Ht,Lt){var sn,pn,wt,Yt,on={label:0,sent:function(){if(1&wt[0])throw wt[1];return wt[1]},trys:[],ops:[]};return Yt={next:gn(0),throw:gn(1),return:gn(2)},"function"==typeof Symbol&&(Yt[Symbol.iterator]=function(){return this}),Yt;function gn(Zn){return function(In){return function(Zn){if(sn)throw new TypeError("Generator is already executing.");for(;on;)try{if(sn=1,pn&&(wt=2&Zn[0]?pn.return:Zn[0]?pn.throw||((wt=pn.return)&&wt.call(pn),0):pn.next)&&!(wt=wt.call(pn,Zn[1])).done)return wt;switch(pn=0,wt&&(Zn=[2&Zn[0],wt.value]),Zn[0]){case 0:case 1:wt=Zn;break;case 4:return on.label++,{value:Zn[1],done:!1};case 5:on.label++,pn=Zn[1],Zn=[0];continue;case 7:Zn=on.ops.pop(),on.trys.pop();continue;default:if(!(wt=(wt=on.trys).length>0&&wt[wt.length-1])&&(6===Zn[0]||2===Zn[0])){on=0;continue}if(3===Zn[0]&&(!wt||Zn[1]>wt[0]&&Zn[1]<wt[3])){on.label=Zn[1];break}if(6===Zn[0]&&on.label<wt[1]){on.label=wt[1],wt=Zn;break}if(wt&&on.label<wt[2]){on.label=wt[2],on.ops.push(Zn);break}wt[2]&&on.ops.pop(),on.trys.pop();continue}Zn=Lt.call(Ht,on)}catch(In){Zn=[6,In],pn=0}finally{sn=wt=0}if(5&Zn[0])throw Zn[1];return{value:Zn[0]?Zn[1]:void 0,done:!0}}([Zn,In])}}}function $e(Ht){var Lt="function"==typeof Symbol&&Symbol.iterator,on=Lt&&Ht[Lt],sn=0;if(on)return on.call(Ht);if(Ht&&"number"==typeof Ht.length)return{next:function(){return Ht&&sn>=Ht.length&&(Ht=void 0),{value:Ht&&Ht[sn++],done:!Ht}}};throw new TypeError(Lt?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qe(Ht,Lt){var on="function"==typeof Symbol&&Ht[Symbol.iterator];if(!on)return Ht;var pn,Yt,sn=on.call(Ht),wt=[];try{for(;(void 0===Lt||Lt-- >0)&&!(pn=sn.next()).done;)wt.push(pn.value)}catch(gn){Yt={error:gn}}finally{try{pn&&!pn.done&&(on=sn.return)&&on.call(sn)}finally{if(Yt)throw Yt.error}}return wt}function _t(Ht,Lt,on){if(on||2===arguments.length)for(var wt,sn=0,pn=Lt.length;sn<pn;sn++)(wt||!(sn in Lt))&&(wt||(wt=Array.prototype.slice.call(Lt,0,sn)),wt[sn]=Lt[sn]);return Ht.concat(wt||Array.prototype.slice.call(Lt))}},8239:(Se,Ze,X)=>{"use strict";function n(Oe,we,Fe,Ue,He,Ne,nt){try{var Be=Oe[Ne](nt),qe=Be.value}catch($e){return void Fe($e)}Be.done?we(qe):Promise.resolve(qe).then(Ue,He)}function te(Oe){return function(){var we=this,Fe=arguments;return new Promise(function(Ue,He){var Ne=Oe.apply(we,Fe);function nt(qe){n(Ne,Ue,He,nt,Be,"next",qe)}function Be(qe){n(Ne,Ue,He,nt,Be,"throw",qe)}nt(void 0)})}}X.d(Ze,{Z:()=>te})}},Se=>{Se(Se.s=1378)}]);